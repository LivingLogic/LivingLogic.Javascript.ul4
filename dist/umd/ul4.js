<<<<<<< HEAD
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).ul4={})}(this,function(t){"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,e){return t.__proto__=e,t})(t,e)}function _construct(t,e,r){return(_construct=function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function _construct(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&_setPrototypeOf(i,r.prototype),i}).apply(null,arguments)}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _get(t,e,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(t,e,r){var n=function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(r):i.value}})(t,e,r||t)}function _slicedToArray(t,e){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}(t,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var r=function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}(function(t){!function(e){function safeAdd(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function md5cmn(t,e,r,n,i,o){return safeAdd(function bitRotateLeft(t,e){return t<<e|t>>>32-e}(safeAdd(safeAdd(e,t),safeAdd(n,o)),i),r)}function md5ff(t,e,r,n,i,o,a){return md5cmn(e&r|~e&n,t,e,i,o,a)}function md5gg(t,e,r,n,i,o,a){return md5cmn(e&n|r&~n,t,e,i,o,a)}function md5hh(t,e,r,n,i,o,a){return md5cmn(e^r^n,t,e,i,o,a)}function md5ii(t,e,r,n,i,o,a){return md5cmn(r^(e|~n),t,e,i,o,a)}function binlMD5(t,e){var r,n,i,o,a;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var s=1732584193,u=-271733879,l=-1732584194,_=271733878;for(r=0;r<t.length;r+=16)n=s,i=u,o=l,a=_,s=md5ff(s,u,l,_,t[r],7,-680876936),_=md5ff(_,s,u,l,t[r+1],12,-389564586),l=md5ff(l,_,s,u,t[r+2],17,606105819),u=md5ff(u,l,_,s,t[r+3],22,-1044525330),s=md5ff(s,u,l,_,t[r+4],7,-176418897),_=md5ff(_,s,u,l,t[r+5],12,1200080426),l=md5ff(l,_,s,u,t[r+6],17,-1473231341),u=md5ff(u,l,_,s,t[r+7],22,-45705983),s=md5ff(s,u,l,_,t[r+8],7,1770035416),_=md5ff(_,s,u,l,t[r+9],12,-1958414417),l=md5ff(l,_,s,u,t[r+10],17,-42063),u=md5ff(u,l,_,s,t[r+11],22,-1990404162),s=md5ff(s,u,l,_,t[r+12],7,1804603682),_=md5ff(_,s,u,l,t[r+13],12,-40341101),l=md5ff(l,_,s,u,t[r+14],17,-1502002290),s=md5gg(s,u=md5ff(u,l,_,s,t[r+15],22,1236535329),l,_,t[r+1],5,-165796510),_=md5gg(_,s,u,l,t[r+6],9,-1069501632),l=md5gg(l,_,s,u,t[r+11],14,643717713),u=md5gg(u,l,_,s,t[r],20,-373897302),s=md5gg(s,u,l,_,t[r+5],5,-701558691),_=md5gg(_,s,u,l,t[r+10],9,38016083),l=md5gg(l,_,s,u,t[r+15],14,-660478335),u=md5gg(u,l,_,s,t[r+4],20,-405537848),s=md5gg(s,u,l,_,t[r+9],5,568446438),_=md5gg(_,s,u,l,t[r+14],9,-1019803690),l=md5gg(l,_,s,u,t[r+3],14,-187363961),u=md5gg(u,l,_,s,t[r+8],20,1163531501),s=md5gg(s,u,l,_,t[r+13],5,-1444681467),_=md5gg(_,s,u,l,t[r+2],9,-51403784),l=md5gg(l,_,s,u,t[r+7],14,1735328473),s=md5hh(s,u=md5gg(u,l,_,s,t[r+12],20,-1926607734),l,_,t[r+5],4,-378558),_=md5hh(_,s,u,l,t[r+8],11,-2022574463),l=md5hh(l,_,s,u,t[r+11],16,1839030562),u=md5hh(u,l,_,s,t[r+14],23,-35309556),s=md5hh(s,u,l,_,t[r+1],4,-1530992060),_=md5hh(_,s,u,l,t[r+4],11,1272893353),l=md5hh(l,_,s,u,t[r+7],16,-155497632),u=md5hh(u,l,_,s,t[r+10],23,-1094730640),s=md5hh(s,u,l,_,t[r+13],4,681279174),_=md5hh(_,s,u,l,t[r],11,-358537222),l=md5hh(l,_,s,u,t[r+3],16,-722521979),u=md5hh(u,l,_,s,t[r+6],23,76029189),s=md5hh(s,u,l,_,t[r+9],4,-640364487),_=md5hh(_,s,u,l,t[r+12],11,-421815835),l=md5hh(l,_,s,u,t[r+15],16,530742520),s=md5ii(s,u=md5hh(u,l,_,s,t[r+2],23,-995338651),l,_,t[r],6,-198630844),_=md5ii(_,s,u,l,t[r+7],10,1126891415),l=md5ii(l,_,s,u,t[r+14],15,-1416354905),u=md5ii(u,l,_,s,t[r+5],21,-57434055),s=md5ii(s,u,l,_,t[r+12],6,1700485571),_=md5ii(_,s,u,l,t[r+3],10,-1894986606),l=md5ii(l,_,s,u,t[r+10],15,-1051523),u=md5ii(u,l,_,s,t[r+1],21,-2054922799),s=md5ii(s,u,l,_,t[r+8],6,1873313359),_=md5ii(_,s,u,l,t[r+15],10,-30611744),l=md5ii(l,_,s,u,t[r+6],15,-1560198380),u=md5ii(u,l,_,s,t[r+13],21,1309151649),s=md5ii(s,u,l,_,t[r+4],6,-145523070),_=md5ii(_,s,u,l,t[r+11],10,-1120210379),l=md5ii(l,_,s,u,t[r+2],15,718787259),u=md5ii(u,l,_,s,t[r+9],21,-343485551),s=safeAdd(s,n),u=safeAdd(u,i),l=safeAdd(l,o),_=safeAdd(_,a);return[s,u,l,_]}function binl2rstr(t){var e,r="",n=32*t.length;for(e=0;e<n;e+=8)r+=String.fromCharCode(t[e>>5]>>>e%32&255);return r}function rstr2binl(t){var e,r=[];for(r[(t.length>>2)-1]=void 0,e=0;e<r.length;e+=1)r[e]=0;var n=8*t.length;for(e=0;e<n;e+=8)r[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return r}function rstr2hex(t){var e,r,n="";for(r=0;r<t.length;r+=1)e=t.charCodeAt(r),n+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return n}function str2rstrUTF8(t){return unescape(encodeURIComponent(t))}function rawMD5(t){return function rstrMD5(t){return binl2rstr(binlMD5(rstr2binl(t),8*t.length))}(str2rstrUTF8(t))}function rawHMACMD5(t,e){return function rstrHMACMD5(t,e){var r,n,i=rstr2binl(t),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=binlMD5(i,8*t.length)),r=0;r<16;r+=1)o[r]=909522486^i[r],a[r]=1549556828^i[r];return n=binlMD5(o.concat(rstr2binl(e)),512+8*e.length),binl2rstr(binlMD5(a.concat(n),640))}(str2rstrUTF8(t),str2rstrUTF8(e))}function md5(t,e,r){return e?r?rawHMACMD5(e,t):function hexHMACMD5(t,e){return rstr2hex(rawHMACMD5(t,e))}(e,t):r?rawMD5(t):function hexMD5(t){return rstr2hex(rawMD5(t))}(t)}t.exports?t.exports=md5:e.md5=md5}(e)}),n={},i="function"==typeof Map&&"function"==typeof Map.prototype.forEach,o=(function(){if(i)try{if(1==new Map([[1,2]]).size)return!0}catch(t){}}(),"function"==typeof Set&&"function"==typeof Set.prototype.forEach);!function(){if(o){try{if(2==new Set([1,2]).size)return!0}catch(t){}return!1}}();i?(t._makemap=function _makemap(){for(var t=new Map,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(var i=0,o=r;i<o.length;i++){var a=_slicedToArray(o[i],2),s=a[0],u=a[1];t.set(s,u)}return t},t._setmap=function _setmap(t,e,r){t.__proto__===Map.prototype?t.set(e,r):t[e]=r},t._emptymap=function _emptymap(){return new Map},t._getmap=function _getmap(t,e,r){return t.__proto__===Map.prototype?t.get(e):t[e]}):(t._makemap=function _makemap(){for(var t={},e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(var i=0,o=r;i<o.length;i++){var a=_slicedToArray(o[i],2),s=a[0],u=a[1];t[s]=u}return t},t._setmap=function _setmap(t,e,r){t[e]=r},t._emptymap=function _emptymap(){return{}},t._getmap=function _getmap(t,e,r){return t[e]}),t._emptyset=o?function _emptyset(){return new Set}:function _emptyset(){return new m};var a=function _makeset(){for(var e=t._emptyset(),r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];for(var o=0,a=n;o<a.length;o++){var s=a[o];e.add(s)}return e};function register(t,e){e.prototype.ul4onname=t,n[t]=e}function dumps(t,e){var r=new s(e);return r.dump(t),r.finish()}function _loads(t,e){return new u(t,e).load()}var s=function(){function Encoder(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_classCallCheck(this,Encoder),this.indent=t,this.data=[],this._level=0,this._strings2index={},this._ids2index={},this._backrefs=0}return _createClass(Encoder,[{key:"_line",value:function _line(t){if(null!==this.indent)for(var e=0;e<this._level;++e)this.data.push(this.indent);else this.data.length&&this.data.push(" ");this.data.push(t);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(n.length){var o=this.indent;this.indent=null;var a=!0,s=!1,u=void 0;try{for(var l,_=n[Symbol.iterator]();!(a=(l=_.next()).done);a=!0){var c=l.value;this.dump(c)}}catch(t){s=!0,u=t}finally{try{a||null==_.return||_.return()}finally{if(s)throw u}}this.indent=o}null!==this.indent&&this.data.push("\n")}},{key:"finish",value:function finish(){return this.data.join("")}},{key:"dump",value:function dump(t){if(null===t)this._line("n");else if("boolean"==typeof t)this._line(t?"bT":"bF");else if("number"==typeof t){var e=Math.round(t)==t?"i":"f";this._line(e+t)}else if("string"==typeof t){var r=this._strings2index[t];if(void 0!==r)this._line("^"+r);else{this._strings2index[t]=this._backrefs++;var dump=_str_repr(t).replace("<","\\x3c");this._line("S"+dump)}}else if(_iscolor(t))this._line("c",t.r(),t.g(),t.b(),t.a());else if(_isdate(t))this._line("x",t.year(),t.month(),t.day());else if(_isdatetime(t))this._line("z",t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),1e3*t.getMilliseconds());else if(_istimedelta(t))this._line("t",t.days(),t.seconds(),t.microseconds());else if(_ismonthdelta(t))this._line("m",t.months());else if(t instanceof $t)this._line("r",t.start,t.stop);else if(t.ul4onname&&t.ul4ondump){if(t.__id__){var n=this._ids2index[t.__id__];if(void 0!==n)return void this._line("^"+n);this._ids2index[t.__id__]=this._backrefs++}this._line("O",t.ul4onname),++this._level,t.ul4ondump(this),--this._level,this._line(")")}else if(_islist(t)){this._line("l"),++this._level;var i=!0,o=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;this.dump(l)}}catch(t){o=!0,a=t}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}--this._level,this._line("]")}else if(h(t))this._line("e"),++this._level,t.forEach(function(t,e){this.dump(e),this.dump(t)},this),--this._level,this._line("}");else if(p(t)){for(var _ in this._line("d"),++this._level,t)this.dump(_),this.dump(t[_]);--this._level,this._line("}")}else{if(!_isset(t))throw new B("can't create UL4ON dump of object "+_repr2(t));this._line("y"),++this._level,t.forEach(function(t){this.dump(t)},this),--this._level,this._line("}")}}}]),Encoder}(),u=function(){function Decoder(t,e){_classCallCheck(this,Decoder),this.data=t,this.pos=0,this.backrefs=[],this.registry=void 0===e?null:e,this.stack=[]}return _createClass(Decoder,[{key:"readchar",value:function readchar(){if(this.pos>=this.data.length)throw new B("UL4 decoder at EOF");return this.data.charAt(this.pos++)}},{key:"readcharoreof",value:function readcharoreof(){return this.pos>=this.data.length?null:this.data.charAt(this.pos++)}},{key:"readblackchar",value:function readblackchar(){for(var t=/\s/;;){if(this.pos>=this.data.length)throw new B("UL4 decoder at EOF at position "+this.pos+" with path "+this.stack.join("/"));var e=this.data.charAt(this.pos++);if(!e.match(t))return e}}},{key:"read",value:function read(t){this.pos+t>this.length&&(t=this.length-this.pos);var e=this.data.substring(this.pos,this.pos+t);return this.pos+=t,e}},{key:"backup",value:function backup(){--this.pos}},{key:"readnumber",value:function readnumber(){for(var t=/[-+0123456789.eE]/,e="";;){var r=this.readcharoreof();if(null===r||!r.match(t)){var n=parseFloat(e);if(isNaN(n))throw new B("invalid number, got "+_repr2("value")+" at position "+this.pos+" with path "+this.stack.join("/"));return n}e+=r}}},{key:"_beginfakeloading",value:function _beginfakeloading(){var t=this.backrefs.length;return this.backrefs.push(null),t}},{key:"_endfakeloading",value:function _endfakeloading(t,e){this.backrefs[t]=e}},{key:"_readescape",value:function _readescape(t,e){var r=this.read(e);if(r.length!=e)throw new B("broken escape "+_repr2("\\"+t+r)+" at position "+this.pos+" with path "+this.stack.join("/"));var n=parseInt(r,16);if(isNaN(n))throw new B("broken escape "+_repr2("\\"+t+r)+" at position "+this.pos+" with path "+this.stack.join("/"));return String.fromCharCode(n)}},{key:"load",value:function load(){var e,r=this.readblackchar();switch(r){case"^":return this.backrefs[this.readnumber()];case"n":case"N":return"N"===r&&this.backrefs.push(null),null;case"b":case"B":if("T"===(e=this.readchar()))e=!0;else{if("F"!==e)throw new B("wrong value for boolean, expected 'T' or 'F', got "+_repr2(e)+" at position "+this.pos+" with path "+this.stack.join("/"));e=!1}return"B"===r&&this.backrefs.push(e),e;case"i":case"I":case"f":case"F":return e=this.readnumber(),"I"!==r&&"F"!==r||this.backrefs.push(e),e;case"s":case"S":e=[];for(var o=this.readblackchar();;){var s=this.readchar();if(s==o)break;if("\\"==s){var u=this.readchar();"\\"==u?e.push("\\"):"n"==u?e.push("\n"):"r"==u?e.push("\r"):"t"==u?e.push("\t"):"f"==u?e.push("\f"):"b"==u?e.push("\b"):"a"==u?e.push(""):"'"==u?e.push("'"):'"'==u?e.push('"'):"x"==u?e.push(this._readescape("x",2)):"u"==u?e.push(this._readescape("u",4)):"U"==u?e.push(this._readescape("U",8)):e.push("\\"+u)}else e.push(s)}return e=e.join(""),"S"===r&&this.backrefs.push(e),e;case"c":case"C":return e=new Ce,"C"===r&&this.backrefs.push(e),e._r=this.load(),e._g=this.load(),e._b=this.load(),e._a=this.load(),e;case"x":case"X":var l=this.load(),_=this.load(),c=this.load();return e=new je(l,_,c),"X"===r&&this.backrefs.push(e),e;case"z":case"Z":return(e=new Date).setFullYear(this.load()),e.setDate(1),e.setMonth(this.load()-1),e.setDate(this.load()),e.setHours(this.load()),e.setMinutes(this.load()),e.setSeconds(this.load()),e.setMilliseconds(this.load()/1e3),"Z"===r&&this.backrefs.push(e),e;case"t":case"T":return(e=new Oe)._days=this.load(),e._seconds=this.load(),e._microseconds=this.load(),"T"===r&&this.backrefs.push(e),e;case"r":case"R":return e=new $t,"R"===r&&this.backrefs.push(e),e.start=this.load(),e.stop=this.load(),e;case"m":case"M":return e=new Me,"M"===r&&this.backrefs.push(e),e._months=this.load(),e;case"l":case"L":for(this.stack.push("list"),e=[],"L"===r&&this.backrefs.push(e);"]"!==(r=this.readblackchar());)this.backup(),e.push(this.load());return this.stack.pop(),e;case"d":case"D":case"e":case"E":if(!i&&("e"==r||"E"==r))throw new B("ordered dictionaries are not supported at position "+this.pos+" with path "+this.stack.join("/"));for(e=t._emptymap(),this.stack.push("d"===r||"D"===r?"dict":"odict"),"D"!==r&&"E"!==r||this.backrefs.push(e);"}"!==(r=this.readblackchar());){this.backup();var f=this.load(),h=this.load();t._setmap(e,f,h)}return this.stack.pop(),e;case"y":case"Y":for(this.stack.push("set"),e=a(),"Y"===r&&this.backrefs.push(e);"}"!==(r=this.readblackchar());)this.backup(),e.add(this.load());return this.stack.pop(),e;case"o":case"O":var p;"O"===r&&(p=this._beginfakeloading());var d,v=this.load();if(this.stack.push(v),null!==this.registry?void 0===(d=this.registry[v])&&(d=n[v]):d=n[v],void 0===d)throw new B("can't load object of type "+_repr2(v)+" at position "+this.pos+" with path "+this.stack.join("/"));if(e=new d,"O"===r&&this._endfakeloading(p,e),e.ul4onload(this),")"!==(r=this.readblackchar()))throw new B("object terminator ')' for object of type '"+v+"' expected, got "+_repr2(r)+" at position "+this.pos+" with path "+this.stack.join("/"));return this.stack.pop(),e;default:throw new B("unknown typecode "+_repr2(r)+" at position "+this.pos+" with path "+this.stack.join("/"))}}},{key:"loadcontent",value:function loadcontent(){var t=this;return{next:function next(){var e=t.readblackchar();return t.backup(),")"==e?{done:!0}:{done:!1,value:t.load()}}}}}]),Decoder}(),l=/^[\],:{}\s]*$/,_=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,c=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,f=/(?:^|:|,)(?:\s*\[)+/g;function _bound(t,e){return t<0?0:t>e?e:t}function _internal_call(t,e,r,n,i,o,a,s,u){var l;if(a)if(null===i){if(s.length)throw new I(_repr2(e)+" doesn't support positional arguments!");l=[u]}else l=[i.bindObject(r,s,u)];else{if(null===i)throw new I(_repr2(e)+" doesn't support positional arguments!");l=i.bindArray(r,s,u)}return o&&l.unshift(t),e.apply(n,l)}function _callfunction(t,e,r,n){var i=e._ul4_name||e.name;if(void 0===e._ul4_signature||void 0===e._ul4_needsobject||void 0===e._ul4_needscontext)throw new R(_repr2(e)+" is not callable by UL4");return _internal_call(t,e,i,null,e._ul4_signature,e._ul4_needscontext,e._ul4_needsobject,r,n)}function _callobject(t,e,r,n){if(void 0===e._ul4_callsignature||void 0===e._ul4_callneedsobject||void 0===e._ul4_callneedscontext)throw new R(_repr2(e)+" is not callable by UL4");return _internal_call(t,e.__call__,e.name,e,e._ul4_callsignature,e._ul4_callneedscontext,e._ul4_callneedsobject,r,n)}function _callrender(t,e,r,n){if(void 0===e._ul4_rendersignature||void 0===e._ul4_renderneedsobject||void 0===e._ul4_renderneedscontext)throw new R(_repr2(e)+" is not renderable by UL4");return _internal_call(t,e.__render__,e.name,e,e._ul4_rendersignature,e._ul4_renderneedscontext,e._ul4_renderneedsobject,r,n)}function _call(t,e,r,n){if("function"==typeof e)return _callfunction(t,e,r,n);if(e&&"function"==typeof e.__call__)return _callobject(t,e,r,n);throw new R(_type(e)+" is not callable")}function _unpackvar(t,e){if(_islist(t)){for(var r=[],n=_iter(e),i=0;;++i){var o=n.next();if(o.done){if(i===t.length)break;throw new B("need "+t.length+" value"+(1===t.length?"":"s")+" to unpack, got "+i)}if(!(i<t.length))throw new B("too many values to unpack (expected "+t.length+")");r=r.concat(_unpackvar(t[i],o.value))}return r}return[[t,e]]}function _formatsource(t){var e=[],r=0,n=!1,i=!0,o=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;if("number"==typeof l)r+=l,n=!0;else{if(n){e.push("\n");for(var _=0;_<r;++_)e.push("\t");n=!1}e.push(l)}}}catch(t){o=!0,a=t}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return n&&e.push("\n"),e.join("")}function _sourceprefix(t,e){for(var r=e,n=r,i=40,o="…";i>0;){if(0===r){o="";break}if("\n"===t.charAt(r-1)){o="";break}--i,--r}return o+t.substring(r,n)}function _sourcesuffix(t,e){for(var r=e,n=r,i=40,o="…";i>0;){if(r>=t.length){o="";break}if("\n"===t.charAt(r)){o="";break}--i,++r}return t.substring(n,r)+o}function _lineColFromPos(t,e){for(var r=1,n=1,i=e,o=0;o<i;++o)"\n"===t[o]?(++r,n=1):++n;return[r,n]}function _eq(t,e){var r=["boolean","number"];if(t&&"function"==typeof t.__eq__)return t.__eq__(e);if(e&&"function"==typeof e.__eq__)return e.__eq__(t);if(null===t)return null===e;if(-1!=r.indexOf(_typeof(t)))return-1!=r.indexOf(_typeof(e))&&t==e;if("string"==typeof t)return"string"==typeof e&&t==e;if(_isdatetime(t))return!!_isdatetime(e)&&t.getTime()==e.getTime();if(_islist(t)){if(_islist(e)){if(t===e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;++n)if(!_eq(t[n],e[n]))return!1;return!0}return!1}if(_isobject(t)){if(_isobject(e)){if(t===e)return!0;for(var i in t){if(!e.hasOwnProperty(i))return!1;if(!_eq(t[i],e[i]))return!1}for(var o in e)if(!t.hasOwnProperty(o))return!1;return!0}if(h(e)){for(var a in t){if(!e.has(a))return!1;if(!_eq(t[a],e.get(a)))return!1}var s=!0;return e.forEach(function(e,r){t.hasOwnProperty(r)||(s=!1)},this),s}return!1}if(h(t)){if(_isobject(e)){for(var u in t.forEach(function(r,n){return!!e.hasOwnProperty(n)&&(!!_eq(t.get(n),e[n])&&void 0)},this),e)if(!t.has(u))return!1;return!0}if(h(e)){if(t===e)return!0;if(t.size!=e.size)return!1;var l=!0;return t.forEach(function(r,n){e.has(n)&&_eq(t.get(n),e.get(n))||(l=!1)}),l}return!1}if(_isset(t)){if(_isset(e)){if(t===e)return!0;if(t.size!=e.size)return!1;var _=!0;return t.forEach(function(t){e.has(t)||(_=!1)}),_}return!1}return t===e}function _ne(t,e){return t&&"function"==typeof t.__ne__?t.__ne__(e):e&&"function"==typeof e.__ne__?e.__ne__(t):!_eq(t,e)}function _unorderable(t,e,r){throw new R("unorderable types: "+_type(e)+" "+t+" "+_type(r))}function _cmp(t,e,r){var n=["boolean","number"];if(-1!=n.indexOf(_typeof(e))){if(-1!=n.indexOf(_typeof(r)))return(e>r)-(e<r)}else if("string"==typeof e){if("string"==typeof r)return(e>r)-(e<r)}else if(_isdatetime(e)){if(_isdatetime(r)){var i=e.getTime(),o=r.getTime();return(i>o)-(i<o)}}else if(_islist(e)){if(_islist(r)){if(e===r)return 0;for(var a=0;a<e.length;++a){if(a>=r.length)return 1;var s=_cmp(t,e[a],r[a]);if(s)return s}return r.length>e.length?-1:0}}else if((_isset(e)||_isul4set(e))&&(_isset(r)||_isul4set(r))){for(var u=!1,l=!1,_=_iter(e);;){var c=_.next();if(c.done)break;if(!r.has(c.value)){u=!0;break}}for(var f=_iter(r);;){var h=f.next();if(h.done)break;if(!e.has(h.value)){l=!0;break}}return u?l?null:1:l?-1:0}return _unorderable(t,e,r)}function _lt(t,e){var r=["boolean","number"];if(t&&"function"==typeof t.__lt__)return t.__lt__(e);if(-1!=r.indexOf(_typeof(t))){if(-1!=r.indexOf(_typeof(e)))return t<e}else if("string"==typeof t){if("string"==typeof e)return t<e}else if(_isdatetime(t)){if(_isdatetime(e))return t.getTime()<e.getTime()}else if(_islist(t)){if(_islist(e)){if(t===e)return!1;for(var n=0;n<t.length;++n){if(n>=e.length)return!1;if(!_eq(t[n],e[n]))return _lt(t[n],e[n])}return t.length<e.length}}else if(_isset(t)){if(_isset(e)){if(_isset(e)){for(var i in t)e.has(t[i])||(in1only=!0);for(var o in e)t.has(e[o])||(in2only=!0)}else if(_isul4set(e)){for(var a in t)e.items[t[a]]||(in1only=!0);for(var s in e.items)if(!t.has(s)){in2only=!0;break}}}else if(_isul4set(e)){if(_isset(e)){for(var u in t.items)if(!e.has(u)){in1only=!0;break}for(var l in e)t.items[e[l]]||(in2only=!0)}else if(_isul4set(e)){for(var _ in t.items)if(!e.items[_]){in1only=!0;break}for(var c in e.items)if(!t.items[c]){in2only=!0;break}}}else _unorderable(operator,t,e);return in1only?in2only?null:1:in2only?-1:0}_unorderable("<",t,e)}function _le(t,e){var r=["boolean","number"];if(t&&"function"==typeof t.__le__)return t.__le__(e);if(-1!=r.indexOf(_typeof(t))){if(-1!=r.indexOf(_typeof(e)))return t<=e}else if("string"==typeof t){if("string"==typeof e)return t<=e}else if(_isdatetime(t)){if(_isdatetime(e))return t.getTime()<=e.getTime()}else if(_islist(t)){if(_islist(e)){if(t===e)return!0;for(var n=0;n<t.length;++n){if(n>=e.length)return!1;if(!_eq(t[n],e[n]))return _lt(t[n],e[n])}return t.length<=e.length}}else if(_isset(t)||_isul4set(t)){var i=!1,o=!1;if(_isset(e)){if(_isset(e))t.forEach(function(t){e.has(t)||(i=!0)}),e.forEach(function(e){t.has(e)||(o=!0)});else if(_isul4set(e))for(var a in t.forEach(function(t){e.items[t]||(i=!0)}),e.items)if(!t.has(a)){o=!0;break}}else if(_isul4set(e)){if(_isset(e)){for(var s in t.items)if(!e.has(s)){i=!0;break}e.forEach(function(e){t.items[e]||(o=!0)})}else if(_isul4set(e)){for(var u in t.items)if(!e.items[u]){i=!0;break}for(var l in e.items)if(!t.items[l]){o=!0;break}}}else _unorderable(operator,t,e);return i?o?null:1:o?-1:0}_unorderable("<=",t,e)}function _gt(t,e){var r=["boolean","number"];if(t&&"function"==typeof t.__gt__)return t.__gt__(e);if(-1!=r.indexOf(_typeof(t))){if(-1!=r.indexOf(_typeof(e)))return t>e}else if("string"==typeof t){if("string"==typeof e)return t>e}else if(_isdatetime(t)){if(_isdatetime(e))return t.getTime()>e.getTime()}else if(_islist(t)){if(_islist(e)){if(t===e)return!1;for(var n=0;n<t.length;++n){if(n>=e.length)return!0;if(!_eq(t[n],e[n]))return _gt(t[n],e[n])}return t.length>e.length}}else if(_isset(t)||_isul4set(t)){var i=!1,o=!1;if(_isset(e))_isset(e)?(t.forEach(function(t){e.has(t)||(i=!0)}),e.forEach(function(e){t.has(e)||(o=!0)})):_isul4set(e)&&(t.forEach(function(t){e.items[t]||(i=!0)}),e.forEach(function(e){t.has(e)||(o=!0)}));else if(_isul4set(e)){if(_isset(e)){for(var a in t.items)if(!e.has(a)){i=!0;break}e.forEach(function(e){t.items[e]||(o=!0)})}else if(_isul4set(e)){for(var s in t.items)if(!e.items[s]){i=!0;break}for(var u in e.items)if(!t.items[u]){o=!0;break}}}else _unorderable(operator,t,e);return i?o?null:1:o?-1:0}_unorderable(">",t,e)}function _ge(t,e){var r=["boolean","number"];if(t&&"function"==typeof t.__ge__)return t.__ge__(e);if(-1!=r.indexOf(_typeof(t))){if(-1!=r.indexOf(_typeof(e)))return t>=e}else if("string"==typeof t){if("string"==typeof e)return t>=e}else if(_isdatetime(t)){if(_isdatetime(e))return t.getTime()>=e.getTime()}else if(_islist(t)){if(_islist(e)){if(t===e)return!0;for(var n=0;n<t.length;++n){if(n>=e.length)return!0;if(!_eq(t[n],e[n]))return _gt(t[n],e[n])}return t.length>=e.length}}else if(_isset(t)||_isul4set(t)){var i=!1,o=!1;if(_isset(e)){if(_isset(e))t.forEach(function(t){e.has(t)||(i=!0)}),e.forEach(function(e){t.has(e)||(o=!0)});else if(_isul4set(e))for(var a in t.forEach(function(t){e.items[t]||(i=!0)}),e.items)if(!t.has(a)){o=!0;break}}else if(_isul4set(e)){if(_isset(e)){for(var s in t.items)if(!e.has(s)){i=!0;break}e.forEach(function(e,r){t.items[e]||(o=!0)})}else if(_isul4set(e)){for(var u in t.items)if(!e.items[u]){i=!0;break}for(var l in e.items)if(!t.items[l]){o=!0;break}}}else _unorderable(operator,t,e);return i?o?null:1:o?-1:0}_unorderable(">=",t,e)}function _iter(t){if("string"==typeof t||_islist(t))return{index:0,next:function next(){return this.index<t.length?{value:t[this.index++],done:!1}:{done:!0}}};if(_isiter(t))return t;if(null!==t&&"function"==typeof t.__iter__)return t.__iter__();if(h(t)){var e=[];return t.forEach(function(t,r){e.push(r)}),{index:0,next:function next(){return this.index>=e.length?{done:!0}:{value:e[this.index++],done:!1}}}}if(_isset(t)){var r=[];return t.forEach(function(t){r.push(t)}),{index:0,next:function next(){return this.index>=r.length?{done:!0}:{value:r[this.index++],done:!1}}}}if(_isul4set(t))return _iter(t.items);if(_isobject(t)){var n=[];for(var i in t)n.push(i);return{index:0,next:function next(){return this.index>=n.length?{done:!0}:{value:n[this.index++],done:!1}}}}throw new R(_type(t)+" object is not iterable")}function _str_repr(t,e){var r="",n=!1,i=!1,o=!0,a=!1,s=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var _=u.value;if('"'==_){if(i=!0,n)break}else if("'"==_&&(n=!0,i))break}}catch(t){a=!0,s=t}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}var c=n&&!i?'"':"'",f=!0,h=!1,p=void 0;try{for(var d,v=t[Symbol.iterator]();!(f=(d=v.next()).done);f=!0){var y=d.value;switch(y){case'"':r+=c==y?'\\"':y;break;case"'":r+=c==y?"\\'":y;break;case"\\":r+="\\\\";break;case"\t":r+="\\t";break;case"\n":r+="\\n";break;case"\r":r+="\\r";break;default:var m=y.charCodeAt(0),g=void 0;r+=0===(g=m<32?2:m<127?0:e||/[\u007f-\u00a0\u00ad\u0378-\u0379\u0380-\u0383\u038b\u038d\u03a2\u0530\u0557-\u0558\u0560\u0588\u058b-\u058c\u0590\u05c8-\u05cf\u05eb-\u05ef\u05f5-\u0605\u061c-\u061d\u06dd\u070e-\u070f\u074b-\u074c\u07b2-\u07bf\u07fb-\u07ff\u082e-\u082f\u083f\u085c-\u085d\u085f-\u089f\u08b5-\u08e2\u0984\u098d-\u098e\u0991-\u0992\u09a9\u09b1\u09b3-\u09b5\u09ba-\u09bb\u09c5-\u09c6\u09c9-\u09ca\u09cf-\u09d6\u09d8-\u09db\u09de\u09e4-\u09e5\u09fc-\u0a00\u0a04\u0a0b-\u0a0e\u0a11-\u0a12\u0a29\u0a31\u0a34\u0a37\u0a3a-\u0a3b\u0a3d\u0a43-\u0a46\u0a49-\u0a4a\u0a4e-\u0a50\u0a52-\u0a58\u0a5d\u0a5f-\u0a65\u0a76-\u0a80\u0a84\u0a8e\u0a92\u0aa9\u0ab1\u0ab4\u0aba-\u0abb\u0ac6\u0aca\u0ace-\u0acf\u0ad1-\u0adf\u0ae4-\u0ae5\u0af2-\u0af8\u0afa-\u0b00\u0b04\u0b0d-\u0b0e\u0b11-\u0b12\u0b29\u0b31\u0b34\u0b3a-\u0b3b\u0b45-\u0b46\u0b49-\u0b4a\u0b4e-\u0b55\u0b58-\u0b5b\u0b5e\u0b64-\u0b65\u0b78-\u0b81\u0b84\u0b8b-\u0b8d\u0b91\u0b96-\u0b98\u0b9b\u0b9d\u0ba0-\u0ba2\u0ba5-\u0ba7\u0bab-\u0bad\u0bba-\u0bbd\u0bc3-\u0bc5\u0bc9\u0bce-\u0bcf\u0bd1-\u0bd6\u0bd8-\u0be5\u0bfb-\u0bff\u0c04\u0c0d\u0c11\u0c29\u0c3a-\u0c3c\u0c45\u0c49\u0c4e-\u0c54\u0c57\u0c5b-\u0c5f\u0c64-\u0c65\u0c70-\u0c77\u0c80\u0c84\u0c8d\u0c91\u0ca9\u0cb4\u0cba-\u0cbb\u0cc5\u0cc9\u0cce-\u0cd4\u0cd7-\u0cdd\u0cdf\u0ce4-\u0ce5\u0cf0\u0cf3-\u0d00\u0d04\u0d0d\u0d11\u0d3b-\u0d3c\u0d45\u0d49\u0d4f-\u0d56\u0d58-\u0d5e\u0d64-\u0d65\u0d76-\u0d78\u0d80-\u0d81\u0d84\u0d97-\u0d99\u0db2\u0dbc\u0dbe-\u0dbf\u0dc7-\u0dc9\u0dcb-\u0dce\u0dd5\u0dd7\u0de0-\u0de5\u0df0-\u0df1\u0df5-\u0e00\u0e3b-\u0e3e\u0e5c-\u0e80\u0e83\u0e85-\u0e86\u0e89\u0e8b-\u0e8c\u0e8e-\u0e93\u0e98\u0ea0\u0ea4\u0ea6\u0ea8-\u0ea9\u0eac\u0eba\u0ebe-\u0ebf\u0ec5\u0ec7\u0ece-\u0ecf\u0eda-\u0edb\u0ee0-\u0eff\u0f48\u0f6d-\u0f70\u0f98\u0fbd\u0fcd\u0fdb-\u0fff\u10c6\u10c8-\u10cc\u10ce-\u10cf\u1249\u124e-\u124f\u1257\u1259\u125e-\u125f\u1289\u128e-\u128f\u12b1\u12b6-\u12b7\u12bf\u12c1\u12c6-\u12c7\u12d7\u1311\u1316-\u1317\u135b-\u135c\u137d-\u137f\u139a-\u139f\u13f6-\u13f7\u13fe-\u13ff\u1680\u169d-\u169f\u16f9-\u16ff\u170d\u1715-\u171f\u1737-\u173f\u1754-\u175f\u176d\u1771\u1774-\u177f\u17de-\u17df\u17ea-\u17ef\u17fa-\u17ff\u180e-\u180f\u181a-\u181f\u1878-\u187f\u18ab-\u18af\u18f6-\u18ff\u191f\u192c-\u192f\u193c-\u193f\u1941-\u1943\u196e-\u196f\u1975-\u197f\u19ac-\u19af\u19ca-\u19cf\u19db-\u19dd\u1a1c-\u1a1d\u1a5f\u1a7d-\u1a7e\u1a8a-\u1a8f\u1a9a-\u1a9f\u1aae-\u1aaf\u1abf-\u1aff\u1b4c-\u1b4f\u1b7d-\u1b7f\u1bf4-\u1bfb\u1c38-\u1c3a\u1c4a-\u1c4c\u1c80-\u1cbf\u1cc8-\u1ccf\u1cf7\u1cfa-\u1cff\u1df6-\u1dfb\u1f16-\u1f17\u1f1e-\u1f1f\u1f46-\u1f47\u1f4e-\u1f4f\u1f58\u1f5a\u1f5c\u1f5e\u1f7e-\u1f7f\u1fb5\u1fc5\u1fd4-\u1fd5\u1fdc\u1ff0-\u1ff1\u1ff5\u1fff-\u200f\u2028-\u202f\u205f-\u206f\u2072-\u2073\u208f\u209d-\u209f\u20bf-\u20cf\u20f1-\u20ff\u218c-\u218f\u23fb-\u23ff\u2427-\u243f\u244b-\u245f\u2b74-\u2b75\u2b96-\u2b97\u2bba-\u2bbc\u2bc9\u2bd2-\u2beb\u2bf0-\u2bff\u2c2f\u2c5f\u2cf4-\u2cf8\u2d26\u2d28-\u2d2c\u2d2e-\u2d2f\u2d68-\u2d6e\u2d71-\u2d7e\u2d97-\u2d9f\u2da7\u2daf\u2db7\u2dbf\u2dc7\u2dcf\u2dd7\u2ddf\u2e43-\u2e7f\u2e9a\u2ef4-\u2eff\u2fd6-\u2fef\u2ffc-\u3000\u3040\u3097-\u3098\u3100-\u3104\u312e-\u3130\u318f\u31bb-\u31bf\u31e4-\u31ef\u321f\u32ff\u4db6-\u4dbf\u9fd6-\u9fff\ua48d-\ua48f\ua4c7-\ua4cf\ua62c-\ua63f\ua6f8-\ua6ff\ua7ae-\ua7af\ua7b8-\ua7f6\ua82c-\ua82f\ua83a-\ua83f\ua878-\ua87f\ua8c5-\ua8cd\ua8da-\ua8df\ua8fe-\ua8ff\ua954-\ua95e\ua97d-\ua97f\ua9ce\ua9da-\ua9dd\ua9ff\uaa37-\uaa3f\uaa4e-\uaa4f\uaa5a-\uaa5b\uaac3-\uaada\uaaf7-\uab00\uab07-\uab08\uab0f-\uab10\uab17-\uab1f\uab27\uab2f\uab66-\uab6f\uabee-\uabef\uabfa-\uabff\ud7a4-\ud7af\ud7c7-\ud7ca\ud7fc-\uf8ff\ufa6e-\ufa6f\ufada-\ufaff\ufb07-\ufb12\ufb18-\ufb1c\ufb37\ufb3d\ufb3f\ufb42\ufb45\ufbc2-\ufbd2\ufd40-\ufd4f\ufd90-\ufd91\ufdc8-\ufdef\ufdfe-\ufdff\ufe1a-\ufe1f\ufe53\ufe67\ufe6c-\ufe6f\ufe75\ufefd-\uff00\uffbf-\uffc1\uffc8-\uffc9\uffd0-\uffd1\uffd8-\uffd9\uffdd-\uffdf\uffe7\uffef-\ufffb\ufffe-\uffff]/.test(y)?m<=255?2:m<=65535?4:8:0)?y:2===g?"\\x"+_lpad(m.toString(16),"0",2):4===g?"\\u"+_lpad(m.toString(16),"0",4):"\\U"+_lpad(m.toString(16),"0",8)}}}catch(t){h=!0,p=t}finally{try{f||null==v.return||v.return()}finally{if(h)throw p}}return c+r+c}function _map_repr(t,e){var r=[];r.push("{");var n=0;return t.forEach(function(t,i){n++&&r.push(", "),r.push(_repr_internal(i,e)),r.push(": "),r.push(_repr_internal(t,e))}),r.push("}"),r.join("")}function _list_repr(t,e){var r=[];r.push("[");var n=!0,i=!0,o=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;n?n=!1:r.push(", "),r.push(_repr_internal(l,e))}}catch(t){o=!0,a=t}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return r.push("]"),r.join("")}function _set_repr(t,e){var r=[];if(r.push("{"),t.size){var n=0;t.forEach(function(t){n++&&r.push(", "),r.push(_repr_internal(t,e))})}else r.push("/");return r.push("}"),r.join("")}function _object_repr(t,e){var r=[];r.push("{");var n=0;for(var i in t)t.hasOwnProperty(i)&&(n++&&r.push(", "),r.push(_repr_internal(i,e)),r.push(": "),r.push(_repr_internal(t[i],e)));return r.push("}"),r.join("")}function _repr_internal(t,e){return null===t?"None":void 0===t?"<undefined>":!1===t?"False":!0===t?"True":"string"==typeof t?_str_repr(t,e):"number"==typeof t?""+t:"function"==typeof t?t._ul4_name||t.name?"<function "+(t._ul4_name||t.name)+">":"<anonymous function>":_isdate(t)?function _date_repr(t,e){var r=t._date.getFullYear(),n=t._date.getMonth()+1,i=t._date.getDate();return"@("+r+"-"+_lpad(n.toString(),"0",2)+"-"+_lpad(i.toString(),"0",2)+")"}(t):_isdatetime(t)?function _datetime_repr(t,e){var r=t.getFullYear(),n=t.getMonth()+1,i=t.getDate(),o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),u=t.getMilliseconds(),l="@("+r+"-"+_lpad(n.toString(),"0",2)+"-"+_lpad(i.toString(),"0",2)+"T";return(o||a||s||u)&&(l+=_lpad(o.toString(),"0",2)+":"+_lpad(a.toString(),"0",2),(s||u)&&(l+=":"+_lpad(s.toString(),"0",2),u&&(l+="."+_lpad(u.toString(),"0",3)+"000"))),l+=")"}(t):"object"===_typeof(t)&&"function"==typeof t.__repr__?t.__repr__():_islist(t)?_list_repr(t,e):h(t)?_map_repr(t,e):_isset(t)?_set_repr(t,e):_isobject(t)?_object_repr(t,e):"?"}function _repr2(t){return _repr_internal(t,!1)}function _ascii(t){return _repr_internal(t,!0)}function _str(t){return void 0===t?"":null===t?"":!1===t?"False":!0===t?"True":"string"==typeof t?t:"number"==typeof t?t.toString():_isdate(t)?function _date_str(t){var e=t._date.getFullYear(),r=t._date.getMonth()+1,n=t._date.getDate();return e+"-"+_lpad(r.toString(),"0",2)+"-"+_lpad(n.toString(),"0",2)}(t):_isdatetime(t)?function _datetime_str(t){var e=t.getFullYear(),r=t.getMonth()+1,n=t.getDate(),i=t.getHours(),o=t.getMinutes(),a=t.getSeconds(),s=t.getMilliseconds(),u=e+"-"+_lpad(r.toString(),"0",2)+"-"+_lpad(n.toString(),"0",2)+" "+_lpad(i.toString(),"0",2)+":"+_lpad(o.toString(),"0",2);return(a||s)&&(u+=":"+_lpad(a.toString(),"0",2),s&&(u+="."+_lpad(s.toString(),"0",3)+"000")),u}(t):_islist(t)?_list_repr(t):_isset(t)?_set_repr(t):h(t)?_map_repr(t):"object"===_typeof(t)&&"function"==typeof t.__str__?t.__str__():"object"===_typeof(t)&&"function"==typeof t.__repr__?t.__repr__():_isobject(t)?_object_repr(t):_repr2(t)}function _bool(t){if(null==t||!1===t||0===t||""===t)return!1;if("object"===_typeof(t)&&"function"==typeof t.__bool__)return t.__bool__();if(_islist(t))return 0!==t.length;if(h(t)||_isset(t))return 0!=t.size;if(_isobject(t)){for(var e in t)if(t.hasOwnProperty(e))return!0;return!1}return!0}function _int(t,e){var r;if(null!==e){if("string"!=typeof t||!_isint(e))throw new R("int() requires a string and an integer");if("NaN"==(r=parseInt(t,e)).toString())throw new R("invalid literal for int()");return r}if("string"==typeof t){if("NaN"==(r=parseInt(t)).toString())throw new R("invalid literal for int()");return r}if("number"==typeof t)return Math.floor(t);if(!0===t)return 1;if(!1===t)return 0;throw new R("int() argument must be a string or a number")}function _float(t){if("string"==typeof t)return parseFloat(t);if("number"==typeof t)return t;if(!0===t)return 1;if(!1===t)return 0;throw new R("float() argument must be a string or a number")}function _list(t){for(var e=_iter(t),r=[];;){var n=e.next();if(n.done)return r;r.push(n.value)}}function _set(e){for(var r=_iter(e),n=t._emptyset();;){var i=r.next();if(i.done)return n;n.add(i.value)}}function _len(t){if("string"==typeof t||_islist(t))return t.length;if(h(t)||_isset(t))return t.size;if(_isobject(t)){var e=0;for(var r in t)++e;return e}throw new R("object of type '"+_type(t)+"' has no len()")}function _type(t){return null===t?"none":!1===t||!0===t?"bool":void 0===t?"undefined":"number"==typeof t?Math.round(t)==t?"int":"float":"function"==typeof t?"function":"function"==typeof t.ul4type?t.ul4type():g.get(t).ul4type(t)}function _mod(t,e){var r=Math.floor(t/e),n=t-r*e;return 0!==n&&(e<0&&n>0||e>0&&n<0)&&(n+=e,--r),t-r*e}function _getattr(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=g.get(t);try{return n.getattr(t,e)}catch(e){if(e instanceof L&&e.obj===t)return r;throw e}}function _hasattr(t,e){return g.get(t).hasattr(t,e)}function _dir(t){return g.get(t).dir()}function _any(t){if("string"==typeof t){var e=!0,r=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){if("\0"!==i.value)return!0}}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}return!1}for(var a=_iter(t);;){var s=a.next();if(s.done)return!1;if(_bool(s.value))return!0}}function _all(t){if("string"==typeof t){var e=!0,r=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){if("\0"===i.value)return!1}}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}return!0}for(var a=_iter(t);;){var s=a.next();if(s.done)return!0;if(!_bool(s.value))return!1}}function _isundefined(t){return void 0===t}function _isdefined(t){return void 0!==t}function _isnone(t){return null===t}function _isbool(t){return"boolean"==typeof t}function _isint(t){return"number"==typeof t&&Math.round(t)==t}function _isfloat(t){return"number"==typeof t&&Math.round(t)!=t}function _isstr(t){return"string"==typeof t}function _isdatetime(t){return"[object Date]"==Object.prototype.toString.call(t)}function _isdate(t){return t instanceof je}function _iscolor(t){return t instanceof Ce}function _istimedelta(t){return t instanceof Oe}function _ismonthdelta(t){return t instanceof Me}function _istemplate(t){return t instanceof Ae||t instanceof xe}function _isfunction(t){return"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&(t instanceof Ae||t instanceof xe)}function _islist(t){return"[object Array]"===Object.prototype.toString.call(t)}function _isset(t){return"[object Set]"===Object.prototype.toString.call(t)}function _isexception(t){return t instanceof Exception}function _isul4set(t){return t instanceof m}function _isanyset(t){return _isset(t)||_isul4set(t)}function _isiter(t){return null!==t&&"object"===_typeof(t)&&"function"==typeof t.next}function _isobject(t){return"[object Object]"===Object.prototype.toString.call(t)&&void 0===t.__type__&&!(t instanceof v)}var h=i?function _ismap(t){return null!==t&&"object"===_typeof(t)&&"object"===_typeof(t.__proto__)&&t.__proto__===Map.prototype}:function _ismap(t){return!1},p=i?function _isdict(t){return _isobject(t)||h(t)}:function _isdict(t){return _isobject(t)};function _str_repeat(t,e){for(var r="";e>0;--e)r+=t;return r}function _list_repeat(t,e){for(var r=[];e>0;--e){var n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;r.push(u)}}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}}return r}function _asjson(t){if(null===t)return"null";if(void 0===t)return"undefined";if(!1===t)return"false";if(!0===t)return"true";if("string"==typeof t)return function _str_json(t){var e="",r=!0,n=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;switch(s){case"\r":e+="\\r";break;case"\n":e+="\\n";break;case"\t":e+="\\t";break;case"\\":e+="\\\\";break;case'"':e+='\\"';break;case"<":e+="\\u003c";break;default:var u=s.charCodeAt(0);e+=u>=32&&u<128?s:"\\u"+_lpad(u.toString(16),"0",4)}}}catch(t){n=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return'"'+e+'"'}(t);if("number"==typeof t)return""+t;if(_islist(t)){var e=[];e.push("[");var r=!0,n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;r?r=!1:e.push(", "),e.push(_asjson(u))}}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return e.push("]"),e.join("")}if(h(t)){var l=[];l.push("{");var _=!0;return t.forEach(function(t,e){_?_=!1:l.push(", "),l.push(_asjson(e)),l.push(": "),l.push(_asjson(t))}),l.push("}"),l.join("")}if(_isobject(t)){var c=[];c.push("{");var f=!0;for(var p in t)f?f=!1:c.push(", "),c.push(_asjson(p)),c.push(": "),c.push(_asjson(t[p]));return c.push("}"),c.join("")}if(_isdate(t))return"new ul4.Date_("+t._date.getFullYear()+", "+(t._date.getMonth()+1)+", "+t._date.getDate()+")";if(_isdatetime(t))return"new Date("+t.getFullYear()+", "+t.getMonth()+", "+t.getDate()+", "+t.getHours()+", "+t.getMinutes()+", "+t.getSeconds()+", "+t.getMilliseconds()+")";if(_istimedelta(t))return"new ul4.TimeDelta("+t._days+", "+t._seconds+", "+t._microseconds+")";if(_ismonthdelta(t))return"new ul4.MonthDelta("+t._months+")";if(_iscolor(t))return"new ul4.Color("+t._r+", "+t._g+", "+t._b+", "+t._a+")";if(_istemplate(t))return"ul4.Template.loads("+_repr2(t.dumps())+")";throw new R("asjson() requires a serializable object")}function _fromjson(t){if(t=b.strip(t),JSON&&JSON.parse)return JSON.parse(t);if(l.test(t.replace(_,"@").replace(c,"]").replace(f,"")))return new Function("return "+t)();throw new R("invalid JSON")}function _asul4on(t){return dumps(t)}function _fromul4on(t){return _loads(t)}function _format_datetime(t,e,r){var n={de:{ms:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],ml:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],ws:["So","Mo","Di","Mi","Do","Fr","Sa"],wl:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],xf:"%d.%m.%Y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},en:{ms:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ml:["January","February","March","April","May","June","July","August","September","October","November","December"],ws:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wl:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],xf:"%m/%d/%Y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %I:%M:%S %p"},fr:{ms:["janv.","févr.","mars","avril","mai","juin","juil.","août","sept.","oct.","nov.","déc."],ml:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],ws:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wl:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],xf:"%d/%m/%Y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},es:{ms:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],ml:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],ws:["dom","lun","mar","mié","jue","vie","sáb"],wl:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],xf:"%d/%m/%y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},it:{ms:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],ml:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],ws:["dom","lun","mar","mer","gio","ven","sab"],wl:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],xf:"%d/%m/%Y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},da:{ms:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],ml:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"],ws:["søn","man","tir","ons","tor","fre","lør"],wl:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],xf:"%d-%m-%Y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},sv:{ms:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],ml:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],ws:["sön","mån","tis","ons","tor","fre","lör"],wl:["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"],xf:"%Y-%m-%d",Xf:"%H.%M.%S",cf:"%a %d %b %Y %H.%M.%S"},nl:{ms:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],ml:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],ws:["zo","ma","di","wo","do","vr","za"],wl:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],xf:"%d-%m-%y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},pt:{ms:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],ml:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],ws:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],wl:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],xf:"%d-%m-%Y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},cs:{ms:["led","úno","bře","dub","kvě","čen","čec","srp","zář","říj","lis","pro"],ml:["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec"],ws:["Ne","Po","Út","St","Čt","Pá","So"],wl:["Neděle","Pondělí","Úterý","Středa","Čtvrtek","Pátek","Sobota"],xf:"%d.%m.%Y",Xf:"%H:%M:%S",cf:"%a %d. %B %Y, %H:%M:%S"},sk:{ms:["jan","feb","mar","apr","máj","jún","júl","aug","sep","okt","nov","dec"],ml:["január","február","marec","apríl","máj","jún","júl","august","september","október","november","december"],ws:["Ne","Po","Ut","St","Št","Pi","So"],wl:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"],xf:"%d.%m.%Y",Xf:"%H:%M:%S",cf:"%a %d. %B %Y, %H:%M:%S"},pl:{ms:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru"],ml:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],ws:["nie","pon","wto","śro","czw","pią","sob"],wl:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],xf:"%d.%m.%Y",Xf:"%H:%M:%S",cf:"%a, %d %b %Y, %H:%M:%S"},hr:{ms:["Sij","Vel","Ožu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],ml:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],ws:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],wl:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"],xf:"%d.%m.%Y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},sr:{ms:["јан","феб","мар","апр","мај","јун","јул","авг","сеп","окт","нов","дец"],ml:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],ws:["нед","пон","уто","сре","чет","пет","суб"],wl:["недеља","понедељак","уторак","среда","четвртак","петак","субота"],xf:"%d.%m.%Y.",Xf:"%H:%M:%S",cf:"%A, %d. %B %Y. %H:%M:%S"},ro:{ms:["ian","feb","mar","apr","mai","iun","iul","aug","sep","oct","nov","dec"],ml:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],ws:["Du","Lu","Ma","Mi","Jo","Vi","Sb"],wl:["duminică","luni","marţi","miercuri","joi","vineri","sâmbătă"],xf:"%d.%m.%Y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},hu:{ms:["jan","febr","márc","ápr","máj","jún","júl","aug","szept","okt","nov","dec"],ml:["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"],ws:["v","h","k","sze","cs","p","szo"],wl:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"],xf:"%Y-%m-%d",Xf:"%H.%M.%S",cf:"%Y. %b. %d., %A, %H.%M.%S"},tr:{ms:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],ml:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],ws:["Paz","Pzt","Sal","Çrş","Prş","Cum","Cts"],wl:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],xf:"%d-%m-%Y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},ru:{ms:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],ml:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],ws:["Вск","Пнд","Втр","Срд","Чтв","Птн","Сбт"],wl:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],xf:"%d.%m.%Y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},zh:{ms:[" 1月"," 2月"," 3月"," 4月"," 5月"," 6月"," 7月"," 8月"," 9月","10月","11月","12月"],ml:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],ws:["日","一","二","三","四","五","六"],wl:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],xf:"%Y年%b%d日",Xf:"%H时%M分%S秒",cf:"%Y年%b%d日 %A %H时%M分%S秒"},ko:{ms:[" 1월"," 2월"," 3월"," 4월"," 5월"," 6월"," 7월"," 8월"," 9월","10월","11월","12월"],ml:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],ws:["일","월","화","수","목","금","토"],wl:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],xf:"%Y년 %B %d일",Xf:"%H시 %M분 %S초",cf:"%Y년 %B %d일 (%a) %p %I시 %M분 %S초"},ja:{ms:[" 1月"," 2月"," 3月"," 4月"," 5月"," 6月"," 7月"," 8月"," 9月","10月","11月","12月"],ml:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],ws:["日","月","火","水","木","金","土"],wl:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],xf:"%Y年%B%d日",Xf:"%H時%M分%S秒",cf:"%Y年%B%d日 %H時%M分%S秒"}}[r],i=[],o=!1,a=!0,s=!1,u=void 0;try{for(var l,_=e[Symbol.iterator]();!(a=(l=_.next()).done);a=!0){var c=l.value;if(o){switch(c){case"a":c=n.ws[t.getDay()];break;case"A":c=n.wl[t.getDay()];break;case"b":c=n.ms[t.getMonth()];break;case"B":c=n.ml[t.getMonth()];break;case"c":c=_format(t,n.cf,r);break;case"d":c=_lpad(t.getDate(),"0",2);break;case"f":c=_lpad(t.getMilliseconds(),"0",3)+"000";break;case"H":c=_lpad(t.getHours(),"0",2);break;case"I":c=_lpad((t.getHours()-1)%12+1,"0",2);break;case"j":c=_lpad(x.yearday(t),"0",3);break;case"m":c=_lpad(t.getMonth()+1,"0",2);break;case"M":c=_lpad(t.getMinutes(),"0",2);break;case"p":c=t.getHours()<12?"AM":"PM";break;case"S":c=_lpad(t.getSeconds(),"0",2);break;case"U":c=_lpad(_week4format(t,6),"0",2);break;case"w":c=t.getDay();break;case"W":c=_lpad(_week4format(t,0),"0",2);break;case"x":c=_format(t,n.xf,r);break;case"X":c=_format(t,n.Xf,r);break;case"y":c=(t.getFullYear()%100).toString();break;case"Y":c=t.getFullYear().toString();break;case"z":case"Z":c=""}i.push(c),o=!1}else"%"==c?o=!0:i.push(c)}}catch(t){s=!0,u=t}finally{try{a||null==_.return||_.return()}finally{if(s)throw u}}return i.join("")}function _format_int(t,e,r){var n=e,i=" ",o=">",a="-",s=!1,u=0,l="d";if(/[bcdoxXn]$/.test(n)&&(l=n.substring(n.length-1),n=n.substring(0,n.length-1)),/\d+$/.test(n)){var _=/\d+$/.exec(n);n=n.replace(/\d+$/,""),/^0/.test(_)&&(o="=",i="0"),u=parseInt(_)}if(/#$/.test(n)&&(s=!0,n=n.substring(0,n.length-1)),/[+ -]$/.test(n)){if("c"==l)throw new B("sign not allowed for integer format type 'c'");a=n.substring(n.length-1),n=n.substring(0,n.length-1)}if(n.length>=3)throw new B("illegal integer format string "+_repr2(e));if(2==n.length){if(!/[<>=^]$/.test(n))throw new B("illegal integer format string "+_repr2(e));o=n[1],i=n[0]}else if(1==n.length){if(!/^[<>=^]$/.test(n))throw new B("illegal integer format string "+_repr2(e));o=n}var c,f=t<0;switch(f&&(t=-t),l){case"b":c=t.toString(2);break;case"c":if(f||t>65535)throw new B("value out of bounds for c format");c=String.fromCharCode(t);break;case"d":c=t.toString();break;case"o":c=t.toString(8);break;case"x":c=t.toString(16);break;case"X":c=t.toString(16).toUpperCase();break;case"n":c=t.toString()}if("="===o)(f||"-"!==a)&&--u,!s||"b"!==l&&"o"!==l&&"x"!==l&&"X"!==l||(u-=2),c.length<u&&(c=_str_repeat(i,u-c.length)+c),!s||"b"!==l&&"o"!==l&&"x"!==l&&"X"!==l||(c="0"+l+c),f?c="-"+c:"-"!=a&&(c=a+c);else if(!s||"b"!=l&&"o"!=l&&"x"!=l&&"X"!=l||(c="0"+l+c),f?c="-"+c:"-"!=a&&(c=a+c),c.length<u)if("<"==o)c+=_str_repeat(i,u-c.length);else if(">"==o)c=_str_repeat(i,u-c.length)+c;else{var h=u-c.length,p=Math.floor(h/2),d=h-p;c=_str_repeat(i,p)+c+_str_repeat(i,d)}return c}function _format(t,e,r){if(null==r)r="en";else{var n={de:null,en:null,fr:null,es:null,it:null,da:null,sv:null,nl:null,pt:null,cs:null,sk:null,pl:null,hr:null,sr:null,ro:null,hu:null,tr:null,ru:null,zh:null,ko:null,ja:null};void 0===n[r=r.toLowerCase()]&&void 0===n[r=r.split(/_/)[0]]&&(r="en")}return _isdate(t)?_format_datetime(t._date,e,r):_isdatetime(t)?_format_datetime(t,e,r):_isint(t)?_format_int(t,e):!0===t?_format_int(1,e):!1===t?_format_int(0,e):void 0}function _lpad(t,e,r){for("number"==typeof t&&(t=t.toString());t.length<r;)t=e+t;return t}var d=1,v=function(){function Proto(){_classCallCheck(this,Proto),this.__id__=d++}return _createClass(Proto,[{key:"ul4type",value:function ul4type(){return this.constructor.name}},{key:"__eq__",value:function __eq__(t){return this===t}},{key:"__ne__",value:function __ne__(t){return!this.__eq__(t)}},{key:"__bool__",value:function __bool__(){return!0}}]),Proto}(),y=function(e){function Signature(){var t;_classCallCheck(this,Signature),(t=_possibleConstructorReturn(this,_getPrototypeOf(Signature).call(this))).args=[],t.argNames={},t.remargs=null,t.remkwargs=null;for(var e=!1,r=null,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];for(var a=0,s=i;a<s.length;a++){var u=s[a];e?(t.args.push({name:r,defaultValue:u}),t.argNames[r]=!0,e=!1):"="===u.substr(u.length-1)?(r=u.substr(0,u.length-1),e=!0):"**"===u.substr(0,2)?t.remkwargs=u.substr(2):"*"===u.substr(0,1)?t.remargs=u.substr(1):(t.args.push({name:u}),t.argNames[u]=!0)}return t}return _inherits(Signature,v),_createClass(Signature,[{key:"bindArray",value:function bindArray(e,r,n){var i=[],o=null!==e?e+"() ":"",a=0,s=!0,u=!1,l=void 0;try{for(var _,c=this.args[Symbol.iterator]();!(s=(_=c.next()).done);s=!0){var f=_.value;if(a<r.length){if(n.hasOwnProperty(f.name))throw new I(o+"argument "+_repr2(f.name)+" (position "+a+") specified multiple times");i.push(r[a])}else if(n.hasOwnProperty(f.name))i.push(n[f.name]);else{if(!f.hasOwnProperty("defaultValue"))throw new I("required "+o+"argument "+_repr2(f.name)+" (position "+a+") missing");i.push(f.defaultValue)}++a}}catch(t){u=!0,l=t}finally{try{s||null==c.return||c.return()}finally{if(u)throw l}}if(null===this.remargs){if(r.length>this.args.length)throw new I((null===e?"expected":e+"() expects")+" at most "+this.args.length+" positional argument"+(1!=this.args.length?"s":"")+", "+r.length+" given")}else i.push(r.slice(this.args.length));if(null===this.remkwargs){for(var h in n)if(!this.argNames[h])throw new I(null===e?"an argument named "+_repr2(h)+" isn't supported":e+"() doesn't support an argument named "+_repr2(h))}else{var p=t._emptymap();for(var d in n)this.argNames[d]||t._setmap(p,d,n[d]);i.push(p)}return i}},{key:"bindObject",value:function bindObject(t,e,r){e=this.bindArray(t,e,r);var n,i={};for(n=0;n<this.args.length;++n)i[this.args[n].name]=e[n];return null!==this.remargs&&(i[this.remargs]=e[n++]),null!==this.remkwargs&&(i[this.remkwargs]=e[n++]),i}},{key:"__repr__",value:function __repr__(){return"<Signature "+this.toString()+">"}},{key:"__str__",value:function __str__(){return this.toString()}},{key:"toString",value:function toString(){var t=[],e=!0,r=!1,n=void 0;try{for(var i,o=this.args[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;a.hasOwnProperty("defaultValue")?t.push(a.name+"="+_repr2(a.defaultValue)):t.push(a.name)}}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}return null!==this.remargs&&t.push("*"+this.remargs),null!==this.remkwargs&&t.push("**"+this.remkwargs),"("+t.join(", ")+")"}}]),Signature}(),m=function(){function _Set(){_classCallCheck(this,_Set),this.items={},this.add.apply(this,arguments)}return _createClass(_Set,[{key:"add",value:function add(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=0,i=e;n<i.length;n++){var o=i[n];this.items[o]=!0}}},{key:"clear",value:function clear(){this.items={}}},{key:"__getattr__",value:function __getattr__(t){var e=this;switch(t){case"add":return expose(function add(t){e.add.apply(e,_toConsumableArray(t))},["*items"]);default:throw new L(this,t)}}},{key:"__contains__",value:function __contains__(t){return this.items[t]||!1}},{key:"has",value:function has(t){return this.items[t]||!1}},{key:"__bool__",value:function __bool__(){for(var t in this.items)if(this.items.hasOwnProperty(t))return!0;return!1}},{key:"__repr__",value:function __repr__(){var t=[];t.push("{");var e=0;for(var r in this.items)this.items.hasOwnProperty(r)&&(e++&&t.push(", "),t.push(_repr2(r)));return e||t.push("/"),t.push("}"),t.join("")}},{key:"__eq__",value:function __eq__(t){if(_isset(t)){var e=0;for(var r in this.items){if(!t.has(r))return!1;++e}return t.size==e}if(_isul4set(t)){var n=0;for(var i in this.items){if(!t[i])return!1;++n}for(var o in t.items)--n;return 0==n}return!1}},{key:"__le__",value:function __le__(t){if(_isset(t)){for(var e in this.items)if(!t.has(e))return!1;return!0}if(_isul4set(t)){for(var r in this.items)if(!t.items[r])return!1;return!0}_unorderable("<",this,t)}},{key:"__ge__",value:function __ge__(t){if(_isset(t))return t.forEach(function(t){if(!this.items[t])return!1},this),!0;if(_isul4set(t)){for(var e in t.items)if(!this.items[e])return!1;return!0}_unorderable("<=",this,t)}}]),_Set}();function expose(t,e,r){(r=r||{}).name&&(t._ul4_name=r.name),_islist(e)&&(e=_construct(y,_toConsumableArray(e))),t._ul4_signature=e,t._ul4_needsobject=r.needsobject||!1,t._ul4_needscontext=r.needscontext||!1}function _extend(t,e){return Object.assign(Object.create(t),e)}m.prototype.__type__="set";var g={attrs:t._emptyset(),ul4type:function ul4type(){return"Protocol"},dir:function dir(){return this.attrs},get:function get(t){return _isstr(t)?b:_islist(t)?S:_isdate(t)?T:_isset(t)?A:h(t)?k:_isdatetime(t)?x:_isobject(t)?w:g},getattr:function getattr(t,e){if(null==t)throw new L(t,e);if("function"==typeof t.__getattr__)return t.__getattr__(e);if(this.attrs.has(e)){var r=this[e],n=function realattr(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return r.apply(this,[t].concat(n))};return n._ul4_name=r._ul4_name||r.name,n._ul4_signature=r._ul4_signature,n._ul4_needsobject=r._ul4_needsobject,n._ul4_needscontext=r._ul4_needscontext,n}throw new L(t,e)},hasattr:function hasattr(t,e){if(null==t)return!1;if("function"!=typeof t.__getattr__)return this.attrs.has(e);try{return t.__getattr__(e),!0}catch(t){if(t instanceof L&&t.obj===object)return!1;throw t}}},b=_extend(g,{attrs:a("split","rsplit","splitlines","strip","lstrip","rstrip","upper","lower","capitalize","startswith","endswith","replace","count","find","rfind","join"),ul4type:function ul4type(t){return"str"},count:function count(t,e){return _count(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},find:function find(t,e){return _find(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},rfind:function rfind(t,e){return _rfind(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},replace:function replace(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null===n&&(n=t.length);for(var i=[];t.length;){var o=t.indexOf(e);if(-1===o||!n--){i.push(t);break}i.push(t.substr(0,o)),i.push(r),t=t.substr(o+e.length)}return i.join("")},strip:function strip(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"!=typeof(e=e||" \r\n\t"))throw new R("strip() requires a string argument");for(;t&&e.indexOf(t[0])>=0;)t=t.substr(1);for(;t&&e.indexOf(t[t.length-1])>=0;)t=t.substr(0,t.length-1);return t},lstrip:function lstrip(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"!=typeof(e=e||" \r\n\t"))throw new R("lstrip() requires a string argument");for(;t&&e.indexOf(t[0])>=0;)t=t.substr(1);return t},rstrip:function rstrip(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"!=typeof(e=e||" \r\n\t"))throw new R("rstrip() requires a string argument");for(;t&&e.indexOf(t[t.length-1])>=0;)t=t.substr(0,t.length-1);return t},split:function split(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null!==e&&"string"!=typeof e)throw new R("split() requires a string");if(null===r){var n=t.split(null!==e?e:/[ \n\r\t]+/);return null===e&&(n.length&&!n[0].length&&n.splice(0,1),n.length&&!n[n.length-1].length&&n.splice(-1)),n}if(null!==e){for(var i=[];t.length;){var o=t.indexOf(e);if(-1===o||!r--){i.push(t);break}i.push(t.substr(0,o)),t=t.substr(o+e.length)}return i}for(var a=[];t.length;){t=b.lstrip(t,null);var s=void 0;(s=r--?t.split(/[ \n\r\t]+/,1)[0]:t).length&&a.push(s),t=t.substr(s.length)}return a},rsplit:function rsplit(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null!==e&&"string"!=typeof e)throw new R("rsplit() requires a string as second argument");if(null===r){var n=t.split(null!==e?e:/[ \n\r\t]+/);return null===e&&(n.length&&!n[0].length&&n.splice(0,1),n.length&&!n[n.length-1].length&&n.splice(-1)),n}if(null!==e){for(var i=[];t.length;){var o=t.lastIndexOf(e);if(-1===o||!r--){i.unshift(t);break}i.unshift(t.substr(o+e.length)),t=t.substr(0,o)}return i}for(var a=[];t.length;){t=b.rstrip(t);var s=void 0;(s=r--?(s=t.split(/[ \n\r\t]+/))[s.length-1]:t).length&&a.unshift(s),t=t.substr(0,t.length-s.length)}return a},splitlines:function splitlines(t){var e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,i=function lookingAtLineEnd(){var e=t[n];return"\n"===e||"\v"==e||"\f"==e||""==e||""==e||""==e||""==e||"\u2028"==e||"\u2029"==e?1:"\r"===e?n==a-1?1:"\n"===t[n+1]?2:1:0},o=[],a=t.length;for(n=0,e=0;;){if(n>=a)return e!=n&&o.push(t.substring(e)),o;var s=i();if(s){var u=n+(r?s:0);o.push(t.substring(e,u)),e=n+=s}else++n}},lower:function lower(t){return t.toLowerCase()},upper:function upper(t){return t.toUpperCase()},capitalize:function capitalize(t){return t.length&&(t=t[0].toUpperCase()+t.slice(1).toLowerCase()),t},join:function join(t,e){for(var r=[],n=_iter(e);;){var i=n.next();if(i.done)break;r.push(i.value)}return r.join(t)},startswith:function startswith(t,e){if("string"==typeof e)return t.substr(0,e.length)===e;if(_islist(e)){var r=!0,n=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;if(t.substr(0,s.length)===s)return!0}}catch(t){n=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return!1}throw new R("startswith() argument must be string")},endswith:function endswith(t,e){if("string"==typeof e)return t.substr(t.length-e.length)===e;if(_islist(e)){var r=!0,n=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;if(t.substr(t.length-s.length)===s)return!0}}catch(t){n=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return!1}throw new R("endswith() argument must be string or list of strings")}});expose(b.count,["sub","start=",null,"end=",null]),expose(b.find,["sub","start=",null,"end=",null]),expose(b.rfind,["sub","start=",null,"end=",null]),expose(b.replace,["old","new","count=",null]),expose(b.strip,["chars=",null]),expose(b.lstrip,["chars=",null]),expose(b.rstrip,["chars=",null]),expose(b.split,["sep=",null,"count=",null]),expose(b.rsplit,["sep=",null,"count=",null]),expose(b.splitlines,["keepends=",!1]),expose(b.lower,[]),expose(b.upper,[]),expose(b.capitalize,[]),expose(b.join,["iterable"]),expose(b.startswith,["prefix"]),expose(b.endswith,["suffix"]);var S=_extend(g,{attrs:a("append","insert","pop","count","find","rfind"),ul4type:function ul4type(t){return"list"},append:function append(t,e){var r=!0,n=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;t.push(s)}}catch(t){n=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return null},insert:function insert(t,e,r){e<0&&(e+=t.length);var n=!0,i=!1,o=void 0;try{for(var a,s=r[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;t.splice(e++,0,u)}}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return null},pop:function pop(t,e){e<0&&(e+=t.length);var r=t[e];return t.splice(e,1),r},count:function count(t,e){return _count(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},find:function find(t,e){return _find(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},rfind:function rfind(t,e){return _rfind(t,e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}});expose(S.append,["*items"]),expose(S.insert,["pos","*items"]),expose(S.pop,["pos=",-1]),expose(S.count,["sub","start=",null,"end=",null]),expose(S.find,["sub","start=",null,"end=",null]),expose(S.rfind,["sub","start=",null,"end=",null]);var k=_extend(g,{attrs:a("get","items","values","update","clear","pop"),ul4type:function ul4type(t){return"dict"},getattr:function getattr(t,e){if(this.attrs.has(e)){var r=this[e],n=function realattr(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return r.apply(this,[t].concat(n))};return n._ul4_name=r._ul4_name||r.name,n._ul4_signature=r._ul4_signature,n._ul4_needsobject=r._ul4_needsobject,n._ul4_needscontext=r._ul4_needscontext,n}return t.get(e)},get:function get(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return t.has(e)?t.get(e):r},items:function items(t){var e=[];return t.forEach(function(t,r){e.push([r,t])}),e},values:function values(t){var e=[];return t.forEach(function(t,r){e.push(t)}),e},update:function update(t,e,r){return _update(t,e,r)},clear:function clear(t){return t.clear(),null},pop:function pop(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object;if(!t.has(e)){if(r===Object)throw new F(t,e);return r}var n=t.get(e);return t.delete(e),n}});expose(k.get,["key","default=",null]),expose(k.items,[]),expose(k.values,[]),expose(k.update,["*other","**kwargs"]),expose(k.clear,[]),expose(k.pop,["key","default=",Object]);var A=_extend(g,{attrs:a("add","clear"),ul4type:function ul4type(t){return"set"},add:function add(t,e){var r=!0,n=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;t.add(s)}}catch(t){n=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}},clear:function clear(t){return t.clear(),null}});expose(A.add,["*items"]),expose(A.clear,[]);var T=_extend(g,{attrs:a("weekday","week","calendar","day","month","year","mimeformat","isoformat","yearday"),ul4type:function ul4type(t){return"date"},weekday:function weekday(t){return x.weekday(t._date)},calendar:function calendar(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return x.calendar(t._date,e,r)},week:function week(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return x.calendar(t._date,e,r)[1]},day:function day(t){return t._date.getDate()},month:function month(t){return t._date.getMonth()+1},year:function year(t){return t._date.getFullYear()},mimeformat:function mimeformat(t){var e=t._date;return["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][x.weekday(e)]+", "+_lpad(e.getDate(),"0",2)+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+" "+e.getFullYear()},isoformat:function isoformat(t){var e=t._date;return e.getFullYear()+"-"+_lpad((e.getMonth()+1).toString(),"0",2)+"-"+_lpad(e.getDate().toString(),"0",2)},yearday:function yearday(t){return x.yearday(t._date)}});expose(T.weekday,[]),expose(T.calendar,["firstweekday=",0,"mindaysinfirstweek=",4]),expose(T.week,["firstweekday=",0,"mindaysinfirstweek=",4]),expose(T.day,[]),expose(T.month,[]),expose(T.year,[]),expose(T.mimeformat,[]),expose(T.isoformat,[]),expose(T.yearday,[]);var x=_extend(g,{attrs:a("weekday","week","calendar","day","month","year","hour","minute","second","microsecond","mimeformat","isoformat","yearday"),ul4type:function ul4type(t){return"datetime"},weekday:function weekday(t){var e=t.getDay();return e?e-1:6},calendar:function calendar(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;e=_mod(e,7),r<1?r=1:r>7&&(r=7);for(var n=1;n>=-1;--n){var i=t.getFullYear()+n,o=new Date(i,0,r),a=_mod(x.weekday(o)-e,7),s=o.getFullYear(),u=o.getMonth(),l=o.getDate()-a,_=new Date(s,u,l);if(t.getTime()>=_.getTime()){var c=Rt.prototype._do(t,_);return[i,Math.floor(c.days()/7)+1,x.weekday(t)]}}},week:function week(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return x.calendar(t,e,r)[1]},day:function day(t){return t.getDate()},month:function month(t){return t.getMonth()+1},year:function year(t){return t.getFullYear()},hour:function hour(t){return t.getHours()},minute:function minute(t){return t.getMinutes()},second:function second(t){return t.getSeconds()},microsecond:function microsecond(t){return 1e3*t.getMilliseconds()},mimeformat:function mimeformat(t){return["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][x.weekday(t)]+", "+_lpad(t.getDate(),"0",2)+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+" "+t.getFullYear()+" "+_lpad(t.getHours(),"0",2)+":"+_lpad(t.getMinutes(),"0",2)+":"+_lpad(t.getSeconds(),"0",2)+" GMT"},isoformat:function isoformat(t){var e=t.getFullYear(),r=t.getMonth()+1,n=t.getDate(),i=t.getHours(),o=t.getMinutes(),a=t.getSeconds(),s=t.getMilliseconds(),u=e+"-"+_lpad(r.toString(),"0",2)+"-"+_lpad(n.toString(),"0",2)+"T"+_lpad(i.toString(),"0",2)+":"+_lpad(o.toString(),"0",2)+":"+_lpad(a.toString(),"0",2);return s&&(u+="."+_lpad(s.toString(),"0",3)+"000"),u},yearday:function yearday(t){var e=_isleap(t)?1:0,r=t.getDate();switch(t.getMonth()){case 0:return r;case 1:return 31+r;case 2:return 59+e+r;case 3:return 59+e+31+r;case 4:return 59+e+31+30+r;case 5:return 59+e+31+30+31+r;case 6:return 59+e+31+30+31+30+r;case 7:return 59+e+31+30+31+30+31+r;case 8:return 59+e+31+30+31+30+31+31+r;case 9:return 59+e+31+30+31+30+31+31+30+r;case 10:return 59+e+31+30+31+30+31+31+30+31+r;case 11:return 59+e+31+30+31+30+31+31+30+31+30+r}}});expose(x.weekday,[]),expose(x.calendar,["firstweekday=",0,"mindaysinfirstweek=",4]),expose(x.week,["firstweekday=",0,"mindaysinfirstweek=",4]),expose(x.day,[]),expose(x.month,[]),expose(x.year,[]),expose(x.hour,[]),expose(x.minute,[]),expose(x.second,[]),expose(x.microsecond,[]),expose(x.mimeformat,[]),expose(x.isoformat,[]),expose(x.yearday,[]);var w=_extend(g,{attrs:a("get","items","values","update","clear"),ul4type:function ul4type(t){return"dict"},getattr:function getattr(t,e){var r;if("function"!=typeof(r=t&&"function"==typeof t.__getattr__?t.__getattr__(e):t[e]))return r;var n=function realresult(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return r.apply(t,n)};return n._ul4_name=r._ul4_name||r.name,n._ul4_signature=r._ul4_signature,n._ul4_needsobject=r._ul4_needsobject,n._ul4_needscontext=r._ul4_needscontext,n},get:function get(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=t[e];return void 0===n?r:n},items:function items(t){var e=[];for(var r in t)e.push([r,t[r]]);return e},values:function values(t){var e=[];for(var r in t)e.push(t[r]);return e},clear:function clear(t){for(var e in t)delete t[e]}});expose(w.get,["key","default=",null]),expose(w.items,[]),expose(w.values,[]),expose(w.clear,[]);var C=function(){function Context(t,e){_classCallCheck(this,Context),this.vars=t||{},this.globals=_extend(we,e),this.indents=[],this.escapes=[],this._output=[]}return _createClass(Context,[{key:"inheritvars",value:function inheritvars(){var t=Object.create(this);return t.vars=Object.create(this.vars),t}},{key:"withindent",value:function withindent(t){var e=Object.create(this);return null!==t&&(e.indents=this.indents.slice(),e.indents.push(t)),e}},{key:"replaceoutput",value:function replaceoutput(){var t=Object.create(this);return t._output=[],t}},{key:"replacevars",value:function replacevars(t){var e=Object.create(this);return e.vars=t,e}},{key:"output",value:function output(t){var e=!0,r=!1,n=void 0;try{for(var i,o=this.escapes[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){t=(0,i.value)(t)}}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}this._output.push(t)}},{key:"getoutput",value:function getoutput(){return this._output.join("")}},{key:"get",value:function get(t){var e=this.vars[t];return void 0===e&&(e=this.globals[t]),e}},{key:"set",value:function set(t,e){this.vars[t]=e}}]),Context}();function Exception(t,e,r){var n=new Error(t,e,r);return Object.setPrototypeOf?Object.setPrototypeOf(n,Object.getPrototypeOf(this)):n.__proto=this,n.__id__=d++,n.context=null,n}Exception.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(Exception,Error):Exception.__proto__=Error,Exception.prototype.__getattr__=function __getattr__(t){switch(t){case"context":return this.context;default:throw new L(this,t)}};var j=function(t){function InternalException(){return _classCallCheck(this,InternalException),_possibleConstructorReturn(this,_getPrototypeOf(InternalException).apply(this,arguments))}return _inherits(InternalException,Exception),InternalException}(),O=function(t){function ReturnException(t){var e;return _classCallCheck(this,ReturnException),(e=_possibleConstructorReturn(this,_getPrototypeOf(ReturnException).call(this,"return"))).result=t,e}return _inherits(ReturnException,j),ReturnException}(),M=function(t){function BreakException(){return _classCallCheck(this,BreakException),_possibleConstructorReturn(this,_getPrototypeOf(BreakException).call(this,"break"))}return _inherits(BreakException,j),BreakException}(),E=function(t){function ContinueException(){return _classCallCheck(this,ContinueException),_possibleConstructorReturn(this,_getPrototypeOf(ContinueException).call(this,"continue"))}return _inherits(ContinueException,j),ContinueException}(),P=function(t){function SyntaxError(){return _classCallCheck(this,SyntaxError),_possibleConstructorReturn(this,_getPrototypeOf(SyntaxError).apply(this,arguments))}return _inherits(SyntaxError,Exception),SyntaxError}(),D=function(t){function LValueRequiredError(){return _classCallCheck(this,LValueRequiredError),_possibleConstructorReturn(this,_getPrototypeOf(LValueRequiredError).call(this,"lvalue required"))}return _inherits(LValueRequiredError,P),LValueRequiredError}(),R=function(t){function TypeError(){return _classCallCheck(this,TypeError),_possibleConstructorReturn(this,_getPrototypeOf(TypeError).apply(this,arguments))}return _inherits(TypeError,Exception),TypeError}(),B=function(t){function ValueError(){return _classCallCheck(this,ValueError),_possibleConstructorReturn(this,_getPrototypeOf(ValueError).apply(this,arguments))}return _inherits(ValueError,Exception),ValueError}(),I=function(t){function ArgumentError(){return _classCallCheck(this,ArgumentError),_possibleConstructorReturn(this,_getPrototypeOf(ArgumentError).apply(this,arguments))}return _inherits(ArgumentError,Exception),ArgumentError}(),q=function(t){function NotSubscriptableError(t){var e;return _classCallCheck(this,NotSubscriptableError),(e=_possibleConstructorReturn(this,_getPrototypeOf(NotSubscriptableError).call(this,"Object of type "+_type(t)+" is not subscriptable"))).obj=t,e}return _inherits(NotSubscriptableError,Exception),_createClass(NotSubscriptableError,[{key:"toString",value:function toString(){return"Object of type "+_type(this.obj)+" is not subscriptable"}}]),NotSubscriptableError}(),V=function(t){function ZeroDivisionError(){return _classCallCheck(this,ZeroDivisionError),_possibleConstructorReturn(this,_getPrototypeOf(ZeroDivisionError).call(this,"division by zero"))}return _inherits(ZeroDivisionError,Exception),ZeroDivisionError}(),N=function(t){function IndexError(t,e){var r;return _classCallCheck(this,IndexError),(r=_possibleConstructorReturn(this,_getPrototypeOf(IndexError).call(this,"index "+_repr2(e)+" out of range"))).obj=t,r.index=e,r}return _inherits(IndexError,Exception),_createClass(IndexError,[{key:"toString",value:function toString(){return"index "+this.index+" out of range for "+_type(this.obj)}}]),IndexError}(),L=function(t){function AttributeError(t,e){var r;return _classCallCheck(this,AttributeError),(r=_possibleConstructorReturn(this,_getPrototypeOf(AttributeError).call(this,"object of type "+_type(t)+" has no attribute "+_repr2(e)))).obj=t,r.attrname=e,r}return _inherits(AttributeError,Exception),AttributeError}(),F=function(t){function KeyError(t,e){var r;return _classCallCheck(this,KeyError),(r=_possibleConstructorReturn(this,_getPrototypeOf(KeyError).call(this,"key "+_repr2(e)+" not found in object of type "+_type(t)))).obj=t,r.key=e,r}return _inherits(KeyError,Exception),KeyError}(),Y=function(t){function NotImplementedError(){return _classCallCheck(this,NotImplementedError),_possibleConstructorReturn(this,_getPrototypeOf(NotImplementedError).apply(this,arguments))}return _inherits(NotImplementedError,Exception),NotImplementedError}(),U=function(t){function LocationError(t){var e;return _classCallCheck(this,LocationError),(e=_possibleConstructorReturn(this,_getPrototypeOf(LocationError).call(this,"nested exception in "+_repr2(t)))).location=t,e}return _inherits(LocationError,Exception),_createClass(LocationError,[{key:"_templateprefix",value:function _templateprefix(){var t=this.location.template,e=[];null!==t.parenttemplate?e.push("in local template "):e.push("in template ");for(var r=!0;null!=t;)r?r=!1:e.push(" in "),e.push(t.name?_repr2(t.name):"(unnamed)"),t=t.parenttemplate;return e.join("")}},{key:"toString",value:function toString(){this.location.template;var t=this._templateprefix(),e=this.location.startsourceprefix,r=this.location.startsource,n=this.location.startsourcesuffix,i=(e=_repr2(e).slice(1,-1))+(r=_repr2(r).slice(1,-1))+(n=_repr2(n).slice(1,-1)),o=_str_repeat(" ",e.length)+_str_repeat("~",r.length);return t+": "+("offset "+this.location.pos.start+":"+this.location.pos.stop+"; line "+this.location.startline+"; col "+this.location.startcol)+"\n"+i+"\n"+o}},{key:"__getattr__",value:function __getattr__(t){switch(t){case"context":return this.context;case"location":return this.location;default:throw new L(this,t)}}}]),LocationError}(),z=function(t){function AST(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return _classCallCheck(this,AST),(r=_possibleConstructorReturn(this,_getPrototypeOf(AST).call(this))).template=t,r.startpos=e,r._startline=null,r._startcol=null,r.stoppos=n,r._stopline=null,r._stopcol=null,r}return _inherits(AST,v),_createClass(AST,[{key:"__getattr__",value:function __getattr__(t){if("type"===t||"startpos"===t||"startline"===t||"startcol"===t||"startsource"===t||"startsourceprefix"===t||"startsourcesuffix"===t||"pos"===t||"source"===t||"sourceprefix"===t||"sourcesuffix"===t||"fullsource"===t)return this[t];if(this._ul4onattrs.indexOf(t)>=0)return this[t];throw new L(this,t)}},{key:"__setitem__",value:function __setitem__(t,e){throw new R("object is immutable")}},{key:"__str__",value:function __str__(){var t=[];return this._str(t),_formatsource(t)}},{key:"__repr__",value:function __repr__(){var t=[];return this._repr(t),_formatsource(t)}},{key:"_decorate_exception",value:function _decorate_exception(t){for(;void 0!==t.context&&null!==t.context;)t=t.context;t.context=new U(this)}},{key:"_handle_eval",value:function _handle_eval(t){try{return this._eval(t)}catch(t){throw t instanceof j||t instanceof U||this._decorate_exception(t),t}}},{key:"_handle_eval_set",value:function _handle_eval_set(t,e){try{return this._eval_set(t,e)}catch(t){throw t instanceof U||this._decorate_exception(t),t}}},{key:"_eval_set",value:function _eval_set(t,e){throw new D}},{key:"_handle_eval_modify",value:function _handle_eval_modify(t,e,r){try{return this._eval_modify(t,e,r)}catch(t){throw t instanceof U||this._decorate_exception(t),t}}},{key:"_eval_modify",value:function _eval_modify(t,e,r){throw new D}},{key:"_repr",value:function _repr(t){}},{key:"_str",value:function _str(t){t.push(this.source.replace(/\r?\n/g," "))}},{key:"ul4ondump",value:function ul4ondump(t){var e=!0,r=!1,n=void 0;try{for(var i,o=this._ul4onattrs[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;t.dump(this[a])}}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}}},{key:"ul4onload",value:function ul4onload(t){var e=!0,r=!1,n=void 0;try{for(var i,o=this._ul4onattrs[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){this[i.value]=t.load()}}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}}},{key:"startline",get:function get(){if(null===this._startline){var t=_slicedToArray(_lineColFromPos(this.template._source,this.startpos.start),2);this._startline=t[0],this._startcol=t[1]}return this._startline}},{key:"startcol",get:function get(){if(null===this._startcol){var t=_slicedToArray(_lineColFromPos(this.template._source,this.startpos.start),2);this._startline=t[0],this._startcol=t[1]}return this._startcol}},{key:"startsource",get:function get(){return this.startpos.of(this.template._source)}},{key:"startsourceprefix",get:function get(){return _sourceprefix(this.template._source,this.startpos.start)}},{key:"startsourcesuffix",get:function get(){return _sourcesuffix(this.template._source,this.startpos.stop)}},{key:"fullsource",get:function get(){return this.template._source}},{key:"pos",get:function get(){return null===this.stoppos?this.startpos:new $t(this.startpos.start,this.stoppos.stop)}},{key:"source",get:function get(){return this.pos.of(this.template._source)}},{key:"sourceprefix",get:function get(){return _sourceprefix(this.template._source,this.pos.start)}},{key:"sourcesuffix",get:function get(){return _sourcesuffix(this.template._source,this.pos.stop)}},{key:"stopline",get:function get(){if(null===this._stopline){var t=_slicedToArray(_lineColFromPos(this.template._source,this.stoppos.stop),2);this._stopline=t[0],this._stopcol=t[1]}return this._stopline}},{key:"stopcol",get:function get(){if(null===this._stopcol){var t=_slicedToArray(_lineColFromPos(this.template._source,this.stoppos.stop),2);this._stopline=t[0],this._stopcol=t[1]}return this._stopcol}},{key:"stopsource",get:function get(){return null!=this.stoppos?this.stoppos.of(this.template._source):null}},{key:"stopsourceprefix",get:function get(){return null!=this.stoppos?_sourceprefix(this.template._source,this.stoppos.start):null}},{key:"stopsourcesuffix",get:function get(){return null!=this.stoppos?_sourcesuffix(this.template._source,this.stoppos.stop):null}}]),AST}();z.prototype._ul4onattrs=["template","startpos"];var H=function(t){function TextAST(t,e){return _classCallCheck(this,TextAST),_possibleConstructorReturn(this,_getPrototypeOf(TextAST).call(this,t,e))}return _inherits(TextAST,z),_createClass(TextAST,[{key:"_eval",value:function _eval(t){t.output(this.text)}},{key:"_str",value:function _str(t){t.push("text "),t.push(_repr2(this.text))}},{key:"_repr",value:function _repr(t){t.push("<TextAST "),t.push(_repr2(this.text)),t.push(">")}},{key:"text",get:function get(){return this.source}}]),TextAST}(),X=function(t){function IndentAST(t,e,r){var n;return _classCallCheck(this,IndentAST),(n=_possibleConstructorReturn(this,_getPrototypeOf(IndentAST).call(this,t,e)))._text=r,n}return _inherits(IndentAST,H),_createClass(IndentAST,[{key:"_eval",value:function _eval(t){var e=!0,r=!1,n=void 0;try{for(var i,o=t.indents[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;t.output(a)}}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}t.output(this.text)}},{key:"ul4ondump",value:function ul4ondump(t){_get(_getPrototypeOf(IndentAST.prototype),"ul4ondump",this).call(this,t),this._text===this.source?t.dump(null):t.dump(this._text)}},{key:"ul4onload",value:function ul4onload(t){_get(_getPrototypeOf(IndentAST.prototype),"ul4onload",this).call(this,t),this._text=t.load()}},{key:"_str",value:function _str(t){t.push("indent "),t.push(_repr2(this.text))}},{key:"_repr",value:function _repr(t){t.push("<IndentAST "),t.push(_repr2(this.text)),t.push(">")}},{key:"text",get:function get(){return void 0!==this.template?null===this._text?this.source:this._text:null}}]),IndentAST}(),J=function(t){function LineEndAST(){return _classCallCheck(this,LineEndAST),_possibleConstructorReturn(this,_getPrototypeOf(LineEndAST).apply(this,arguments))}return _inherits(LineEndAST,H),_createClass(LineEndAST,[{key:"_str",value:function _str(t){t.push("lineend "),t.push(_repr2(this.text))}},{key:"_repr",value:function _repr(t){t.push("<LineEndAST "),t.push(_repr2(this.text)),t.push(">")}}]),LineEndAST}(),G=function(t){function CodeAST(){return _classCallCheck(this,CodeAST),_possibleConstructorReturn(this,_getPrototypeOf(CodeAST).apply(this,arguments))}return _inherits(CodeAST,z),CodeAST}(),K=function(t){function ConstAST(t,e,r){var n;return _classCallCheck(this,ConstAST),(n=_possibleConstructorReturn(this,_getPrototypeOf(ConstAST).call(this,t,e))).value=r,n}return _inherits(ConstAST,G),_createClass(ConstAST,[{key:"_repr",value:function _repr(t){t.push("<ConstAST value="),t.push(_repr2(this.value)),t.push(">")}},{key:"_eval",value:function _eval(t){return this.value}}]),ConstAST}();K.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["value"]);var W=function(t){function ItemArgBase(){return _classCallCheck(this,ItemArgBase),_possibleConstructorReturn(this,_getPrototypeOf(ItemArgBase).apply(this,arguments))}return _inherits(ItemArgBase,G),_createClass(ItemArgBase,[{key:"_handle_eval_list",value:function _handle_eval_list(t,e){try{return this._eval_list(t,e)}catch(t){throw t instanceof j||t instanceof U||this._decorate_exception(t),t}}},{key:"_handle_eval_set",value:function _handle_eval_set(t,e){try{return this._eval_set(t,e)}catch(t){throw t instanceof j||t instanceof U||this._decorate_exception(t),t}}},{key:"_handle_eval_dict",value:function _handle_eval_dict(t,e){try{return this._eval_dict(t,e)}catch(t){throw t instanceof j||t instanceof U||this._decorate_exception(t),t}}},{key:"_handle_eval_call",value:function _handle_eval_call(t,e,r){try{return this._eval_call(t,e,r)}catch(t){throw t instanceof j||t instanceof U||this._decorate_exception(t),t}}}]),ItemArgBase}(),Q=function(t){function SeqItemAST(t,e,r){var n;return _classCallCheck(this,SeqItemAST),(n=_possibleConstructorReturn(this,_getPrototypeOf(SeqItemAST).call(this,t,e))).value=r,n}return _inherits(SeqItemAST,W),_createClass(SeqItemAST,[{key:"_repr",value:function _repr(t){t.push("<SeqItemAST value="),t.push(_repr2(this.value)),t.push(">")}},{key:"_eval_list",value:function _eval_list(t,e){var r=this.value._handle_eval(t);e.push(r)}},{key:"_eval_set",value:function _eval_set(t,e){var r=this.value._handle_eval(t);e.add(r)}}]),SeqItemAST}();Q.prototype._ul4onattrs=W.prototype._ul4onattrs.concat(["value"]);var $=function(t){function UnpackSeqItemAST(t,e,r){var n;return _classCallCheck(this,UnpackSeqItemAST),(n=_possibleConstructorReturn(this,_getPrototypeOf(UnpackSeqItemAST).call(this,t,e))).value=r,n}return _inherits(UnpackSeqItemAST,W),_createClass(UnpackSeqItemAST,[{key:"_repr",value:function _repr(t){t.push("<UnpackSeqItemAST value="),t.push(_repr2(this.value)),t.push(">")}},{key:"_eval_list",value:function _eval_list(t,e){for(var r=_iter(this.value._handle_eval(t));;){var n=r.next();if(n.done)break;e.push(n.value)}}},{key:"_eval_set",value:function _eval_set(t,e){for(var r=_iter(this.value._handle_eval(t));;){var n=r.next();if(n.done)break;e.add(n.value)}}}]),UnpackSeqItemAST}();$.prototype._ul4onattrs=W.prototype._ul4onattrs.concat(["value"]);var Z=function(e){function DictItemAST(t,e,r,n){var i;return _classCallCheck(this,DictItemAST),(i=_possibleConstructorReturn(this,_getPrototypeOf(DictItemAST).call(this,t,e))).key=r,i.value=n,i}return _inherits(DictItemAST,W),_createClass(DictItemAST,[{key:"_repr",value:function _repr(t){t.push("<DictItemAST key="),t.push(_repr2(this.key)),t.push(" value="),t.push(_repr2(this.value)),t.push(">")}},{key:"_eval_dict",value:function _eval_dict(e,r){var n=this.key._handle_eval(e),i=this.value._handle_eval(e);t._setmap(r,n,i)}}]),DictItemAST}();Z.prototype._ul4onattrs=W.prototype._ul4onattrs.concat(["key","value"]);var tt=function(e){function UnpackDictItemAST(t,e,r){var n;return _classCallCheck(this,UnpackDictItemAST),(n=_possibleConstructorReturn(this,_getPrototypeOf(UnpackDictItemAST).call(this,t,e))).item=r,n}return _inherits(UnpackDictItemAST,W),_createClass(UnpackDictItemAST,[{key:"_repr",value:function _repr(t){t.push("<UnpackDictItemAST item="),t.push(_repr2(this.item)),t.push(">")}},{key:"_eval_dict",value:function _eval_dict(e,r){var n=this.item._handle_eval(e);if(_islist(n)){var i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;if(!_islist(l)||2!=l.length)throw new I("** requires a list of (key, value) pairs");t._setmap(r,l[0],l[1])}}catch(t){o=!0,a=t}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}else if(h(n))n.forEach(function(e,n){t._setmap(r,n,e)});else if(_isobject(n))for(var _ in n)t._setmap(r,_,n[_])}}]),UnpackDictItemAST}();tt.prototype._ul4onattrs=W.prototype._ul4onattrs.concat(["item"]);var et=function(t){function PosArgAST(t,e,r){var n;return _classCallCheck(this,PosArgAST),(n=_possibleConstructorReturn(this,_getPrototypeOf(PosArgAST).call(this,t,e))).value=r,n}return _inherits(PosArgAST,W),_createClass(PosArgAST,[{key:"_repr",value:function _repr(t){t.push("<PosArgAST value="),this.value._repr(t),t.push(">")}},{key:"_eval_call",value:function _eval_call(t,e,r){var n=this.value._handle_eval(t);e.push(n)}}]),PosArgAST}();et.prototype._ul4onattrs=W.prototype._ul4onattrs.concat(["value"]);var rt=function(t){function KeywordArgAST(t,e,r,n){var i;return _classCallCheck(this,KeywordArgAST),(i=_possibleConstructorReturn(this,_getPrototypeOf(KeywordArgAST).call(this,t,e))).name=r,i.value=n,i}return _inherits(KeywordArgAST,W),_createClass(KeywordArgAST,[{key:"_repr",value:function _repr(t){t.push("<KeywordArgAST name="),t.push(_repr2(this.name)),t.push(" value="),this.value._repr(t),t.push(">")}},{key:"_eval_call",value:function _eval_call(t,e,r){if(r.hasOwnProperty(this.name))throw new I("duplicate keyword argument "+this.name);var n=this.value._handle_eval(t);r[this.name]=n}}]),KeywordArgAST}();rt.prototype._ul4onattrs=W.prototype._ul4onattrs.concat(["name","value"]);var nt=function(t){function UnpackListArgAST(t,e,r){var n;return _classCallCheck(this,UnpackListArgAST),(n=_possibleConstructorReturn(this,_getPrototypeOf(UnpackListArgAST).call(this,t,e))).item=r,n}return _inherits(UnpackListArgAST,W),_createClass(UnpackListArgAST,[{key:"_repr",value:function _repr(t){t.push("<UnpackListArgAST item="),this.item._repr(t),t.push(">")}},{key:"_eval_call",value:function _eval_call(t,e,r){var n=this.item._handle_eval(t);e.push.apply(e,_toConsumableArray(n))}}]),UnpackListArgAST}();nt.prototype._ul4onattrs=W.prototype._ul4onattrs.concat(["item"]);var it=function(t){function UnpackDictArgAST(t,e,r){var n;return _classCallCheck(this,UnpackDictArgAST),(n=_possibleConstructorReturn(this,_getPrototypeOf(UnpackDictArgAST).call(this,t,e))).item=r,n}return _inherits(UnpackDictArgAST,W),_createClass(UnpackDictArgAST,[{key:"_repr",value:function _repr(t){t.push("<UnpackDictArgAST item="),this.item._repr(t),t.push(">")}},{key:"_eval_call",value:function _eval_call(t,e,r){var n=this.item._handle_eval(t);if(_islist(n)){var i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;if(!_islist(l)||2!=l.length)throw new I("** requires a list of (key, value) pairs");var _=_slicedToArray(l,2),c=_[0],f=_[1];if(r.hasOwnProperty(c))throw new I("duplicate keyword argument "+c);r[c]=f}}catch(t){o=!0,a=t}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}else if(h(n))n.forEach(function(t,e){if(r.hasOwnProperty(e))throw new I("duplicate keyword argument "+e);r[e]=t});else if(_isobject(n))for(var p in n){if(r.hasOwnProperty(p))throw new I("duplicate keyword argument "+p);r[p]=n[p]}}}]),UnpackDictArgAST}();it.prototype._ul4onattrs=W.prototype._ul4onattrs.concat(["item"]);var ot=function(t){function ListAST(t,e){var r;return _classCallCheck(this,ListAST),(r=_possibleConstructorReturn(this,_getPrototypeOf(ListAST).call(this,t,e))).items=[],r}return _inherits(ListAST,G),_createClass(ListAST,[{key:"_repr",value:function _repr(t){t.push("<ListAST");var e=!0,r=!1,n=void 0;try{for(var i,o=this.items[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;t.push(" "),a._repr(t)}}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}t.push(">")}},{key:"_eval",value:function _eval(t){var e=[],r=!0,n=!1,i=void 0;try{for(var o,a=this.items[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){o.value._handle_eval_list(t,e)}}catch(t){n=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return e}}]),ListAST}();ot.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["items"]);var at=function(t){function ListCompAST(t,e,r,n,i,o){var a;return _classCallCheck(this,ListCompAST),(a=_possibleConstructorReturn(this,_getPrototypeOf(ListCompAST).call(this,t,e))).item=r,a.varname=n,a.container=i,a.condition=o,a}return _inherits(ListCompAST,G),_createClass(ListCompAST,[{key:"_repr",value:function _repr(t){t.push("<ListCompAST"),t.push(" item="),this.item._repr(t),t.push(" varname="),t.push(_repr2(this.varname)),t.push(" container="),this.container._repr(t),null!==this.condition&&(t.push(" condition="),this.condition._repr(t)),t.push(">")}},{key:"_eval",value:function _eval(t){for(var e=this.container._handle_eval(t),r=t.inheritvars(),n=[],i=_iter(e);;){var o=i.next();if(o.done)break;var a=_unpackvar(this.varname,o.value),s=!0,u=!1,l=void 0;try{for(var _,c=a[Symbol.iterator]();!(s=(_=c.next()).done);s=!0){var f=_slicedToArray(_.value,2),h=f[0],p=f[1];h._handle_eval_set(r,p)}}catch(t){u=!0,l=t}finally{try{s||null==c.return||c.return()}finally{if(u)throw l}}(null===this.condition||_bool(this.condition._handle_eval(r)))&&n.push(this.item._handle_eval(r))}return n}}]),ListCompAST}();at.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["item","varname","container","condition"]);var st=function(e){function SetAST(t,e){var r;return _classCallCheck(this,SetAST),(r=_possibleConstructorReturn(this,_getPrototypeOf(SetAST).call(this,t,e))).items=[],r}return _inherits(SetAST,G),_createClass(SetAST,[{key:"_repr",value:function _repr(t){t.push("<SetAST");var e=!0,r=!1,n=void 0;try{for(var i,o=this.items[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;t.push(" "),a._repr(t)}}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}t.push(">")}},{key:"_eval",value:function _eval(e){var r=t._emptyset(),n=!0,i=!1,o=void 0;try{for(var a,s=this.items[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){a.value._handle_eval_set(e,r)}}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}]),SetAST}();st.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["items"]);var ut=function(e){function SetCompAST(t,e,r,n,i,o){var a;return _classCallCheck(this,SetCompAST),(a=_possibleConstructorReturn(this,_getPrototypeOf(SetCompAST).call(this,t,e))).item=r,a.varname=n,a.container=i,a.condition=o,a}return _inherits(SetCompAST,G),_createClass(SetCompAST,[{key:"__getattr__",value:function __getattr__(t){switch(t){case"item":return this.item;case"varname":return this.varname;case"container":return this.container;case"condition":return this.condition;default:return _get(_getPrototypeOf(SetCompAST.prototype),"__getattr__",this).call(this,t)}}},{key:"_repr",value:function _repr(t){t.push("<SetCompAST"),t.push(" item="),this.item._repr(t),t.push(" varname="),this.varname._repr(t),t.push(" container="),this.container._repr(t),null!==this.condition&&(t.push(" condition="),this.condition._repr(t)),t.push(">")}},{key:"_eval",value:function _eval(e){for(var r=this.container._handle_eval(e),n=e.inheritvars(),i=t._emptyset(),o=_iter(r);;){var a=o.next();if(a.done)break;var s=_unpackvar(this.varname,a.value),u=!0,l=!1,_=void 0;try{for(var c,f=s[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var h=_slicedToArray(c.value,2),p=h[0],d=h[1];p._handle_eval_set(n,d)}}catch(t){l=!0,_=t}finally{try{u||null==f.return||f.return()}finally{if(l)throw _}}(null===this.condition||_bool(this.condition._handle_eval(n)))&&i.add(this.item._handle_eval(n))}return i}}]),SetCompAST}();ut.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["item","varname","container","condition"]);var lt=function(e){function DictAST(t,e){var r;return _classCallCheck(this,DictAST),(r=_possibleConstructorReturn(this,_getPrototypeOf(DictAST).call(this,t,e))).items=[],r}return _inherits(DictAST,G),_createClass(DictAST,[{key:"__getattr__",value:function __getattr__(t){switch(t){case"items":return this.items;default:return _get(_getPrototypeOf(DictAST.prototype),"__getattr__",this).call(this,t)}}},{key:"_repr",value:function _repr(t){t.push("<DictAST");var e=!0,r=!1,n=void 0;try{for(var i,o=this.items[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;t.push(" "),a._repr(t)}}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}t.push(">")}},{key:"_eval",value:function _eval(e){var r=t._emptymap(),n=!0,i=!1,o=void 0;try{for(var a,s=this.items[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){a.value._handle_eval_dict(e,r)}}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}]),DictAST}();lt.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["items"]);var _t=function(e){function DictCompAST(t,e,r,n,i,o,a){var s;return _classCallCheck(this,DictCompAST),(s=_possibleConstructorReturn(this,_getPrototypeOf(DictCompAST).call(this,t,e))).key=r,s.value=n,s.varname=i,s.container=o,s.condition=a,s}return _inherits(DictCompAST,G),_createClass(DictCompAST,[{key:"_repr",value:function _repr(t){t.push("<DictCompAST"),t.push(" key="),this.key._repr(t),t.push(" value="),this.value._repr(t),t.push(" varname="),this.varname._repr(t),t.push(" container="),this.container._repr(t),null!==this.condition&&(t.push(" condition="),this.condition._repr(t)),t.push(">")}},{key:"_eval",value:function _eval(e){for(var r=this.container._handle_eval(e),n=e.inheritvars(),i=t._emptymap(),o=_iter(r);;){var a=o.next();if(a.done)break;var s=_unpackvar(this.varname,a.value),u=!0,l=!1,_=void 0;try{for(var c,f=s[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var h=_slicedToArray(c.value,2),p=h[0],d=h[1];p._handle_eval_set(n,d)}}catch(t){l=!0,_=t}finally{try{u||null==f.return||f.return()}finally{if(l)throw _}}if(null===this.condition||_bool(this.condition._handle_eval(n))){var v=this.key._handle_eval(n),y=this.value._handle_eval(n);t._setmap(i,v,y)}}return i}}]),DictCompAST}();_t.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["key","value","varname","container","condition"]);var ct=function(t){function GenExprAST(t,e,r,n,i,o){var a;return _classCallCheck(this,GenExprAST),(a=_possibleConstructorReturn(this,_getPrototypeOf(GenExprAST).call(this,t,e))).item=r,a.varname=n,a.container=i,a.condition=o,a}return _inherits(GenExprAST,G),_createClass(GenExprAST,[{key:"_repr",value:function _repr(t){t.push("<GenExprAST"),t.push(" item="),this.item._repr(t),t.push(" varname="),this.varname._repr(t),t.push(" container="),this.container._repr(t),null!==this.condition&&(t.push(" condition="),this.condition._repr(t)),t.push(">")}},{key:"_eval",value:function _eval(t){var e=_iter(this.container._handle_eval(t)),r=t.inheritvars(),n=this;return{next:function next(){for(;;){var t=e.next();if(t.done)return t;var i=_unpackvar(n.varname,t.value),o=!0,a=!1,s=void 0;try{for(var u,l=i[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var _=_slicedToArray(u.value,2),c=_[0],f=_[1];c._handle_eval_set(r,f)}}catch(t){a=!0,s=t}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}if(null===n.condition||_bool(n.condition._handle_eval(r)))return{value:n.item._handle_eval(r),done:!1}}}}}}]),GenExprAST}();ct.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["item","varname","container","condition"]);var ft=function(t){function VarAST(t,e,r){var n;return _classCallCheck(this,VarAST),(n=_possibleConstructorReturn(this,_getPrototypeOf(VarAST).call(this,t,e))).name=r,n}return _inherits(VarAST,G),_createClass(VarAST,[{key:"_repr",value:function _repr(t){t.push("<VarAST name="),t.push(_repr2(this.name)),t.push(">")}},{key:"_eval",value:function _eval(t){return this._get(t,this.name)}},{key:"_eval_set",value:function _eval_set(t,e){this._set(t,this.name,e)}},{key:"_eval_modify",value:function _eval_modify(t,e,r){this._modify(t,e,this.name,r)}},{key:"_get",value:function _get(t,e){return t.get(e)}},{key:"_set",value:function _set(t,e,r){t.set(e,r)}},{key:"_modify",value:function _modify(t,e,r,n){var i=e._ido(t.get(r),n);t.set(r,i)}}]),VarAST}();ft.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["name"]);var ht=function(t){function UnaryAST(t,e,r){var n;return _classCallCheck(this,UnaryAST),(n=_possibleConstructorReturn(this,_getPrototypeOf(UnaryAST).call(this,t,e))).obj=r,n}return _inherits(UnaryAST,G),_createClass(UnaryAST,[{key:"_repr",value:function _repr(t){t.push("<"),t.push(this.constructor.name),t.push(" obj="),this.obj._repr(t),t.push(">")}},{key:"_eval",value:function _eval(t){var e=this.obj._handle_eval(t);return this._do(e)}}]),UnaryAST}();ht.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["obj"]);var pt=function(t){function NegAST(){return _classCallCheck(this,NegAST),_possibleConstructorReturn(this,_getPrototypeOf(NegAST).apply(this,arguments))}return _inherits(NegAST,ht),_createClass(NegAST,[{key:"_do",value:function _do(t){return null!==t&&"function"==typeof t.__neg__?t.__neg__():-t}}]),NegAST}(),dt=function(t){function BitNotAST(){return _classCallCheck(this,BitNotAST),_possibleConstructorReturn(this,_getPrototypeOf(BitNotAST).apply(this,arguments))}return _inherits(BitNotAST,ht),_createClass(BitNotAST,[{key:"_do",value:function _do(t){return-t-1}}]),BitNotAST}(),vt=function(t){function NotAST(){return _classCallCheck(this,NotAST),_possibleConstructorReturn(this,_getPrototypeOf(NotAST).apply(this,arguments))}return _inherits(NotAST,ht),_createClass(NotAST,[{key:"_do",value:function _do(t){return!_bool(t)}}]),NotAST}(),yt=function(t){function IfAST(t,e,r,n,i){var o;return _classCallCheck(this,IfAST),(o=_possibleConstructorReturn(this,_getPrototypeOf(IfAST).call(this,t,e))).objif=r,o.objcond=n,o.objelse=i,o}return _inherits(IfAST,G),_createClass(IfAST,[{key:"_repr",value:function _repr(t){t.push("<"),t.push(this.constructor.name),t.push(1),t.push("objif="),this.objif._repr(t),t.push(0),t.push("objcond="),this.objcond._repr(t),t.push(0),t.push("objelse="),this.objelse._repr(t),t.push(-1),t.push(">")}},{key:"_eval",value:function _eval(t){return _bool(this.objcond._handle_eval(t))?this.objif._handle_eval(t):this.objelse._handle_eval(t)}}]),IfAST}();yt.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["objif","objcond","objelse"]);var mt=function(t){function ReturnAST(){return _classCallCheck(this,ReturnAST),_possibleConstructorReturn(this,_getPrototypeOf(ReturnAST).apply(this,arguments))}return _inherits(ReturnAST,ht),_createClass(ReturnAST,[{key:"_eval",value:function _eval(t){var e=this.obj._handle_eval(t);throw new O(e)}},{key:"_str",value:function _str(t){t.push("return "),this.obj._str(t)}}]),ReturnAST}(),gt=function(t){function PrintAST(){return _classCallCheck(this,PrintAST),_possibleConstructorReturn(this,_getPrototypeOf(PrintAST).apply(this,arguments))}return _inherits(PrintAST,ht),_createClass(PrintAST,[{key:"_eval",value:function _eval(t){var e=_str(this.obj._handle_eval(t));t.output(e)}},{key:"_str",value:function _str(t){t.push("print "),this.obj._str(t)}}]),PrintAST}(),bt=function(t){function PrintXAST(){return _classCallCheck(this,PrintXAST),_possibleConstructorReturn(this,_getPrototypeOf(PrintXAST).apply(this,arguments))}return _inherits(PrintXAST,ht),_createClass(PrintXAST,[{key:"_eval",value:function _eval(t){var e=_xmlescape(this.obj._handle_eval(t));t.output(e)}},{key:"_str",value:function _str(t){t.push("printx "),this.obj._str(t)}}]),PrintXAST}(),St=function(t){function BinaryAST(t,e,r,n){var i;return _classCallCheck(this,BinaryAST),(i=_possibleConstructorReturn(this,_getPrototypeOf(BinaryAST).call(this,t,e))).obj1=r,i.obj2=n,i}return _inherits(BinaryAST,G),_createClass(BinaryAST,[{key:"_repr",value:function _repr(t){t.push("<"),t.push(this.constructor.name),t.push(" obj1="),this.obj1._repr(t),t.push(" obj2="),this.obj2._repr(t),t.push(">")}},{key:"_eval",value:function _eval(t){var e=this.obj1._handle_eval(t),r=this.obj2._handle_eval(t);return this._do(e,r)}}]),BinaryAST}();St.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["obj1","obj2"]);var kt=function(t){function ItemAST(){return _classCallCheck(this,ItemAST),_possibleConstructorReturn(this,_getPrototypeOf(ItemAST).apply(this,arguments))}return _inherits(ItemAST,St),_createClass(ItemAST,[{key:"_do",value:function _do(t,e){return this._get(t,e)}},{key:"_eval_set",value:function _eval_set(t,e){var r=this.obj1._handle_eval(t),n=this.obj2._handle_eval(t);this._set(r,n,e)}},{key:"_eval_modify",value:function _eval_modify(t,e,r){var n=this.obj1._handle_eval(t),i=this.obj2._handle_eval(t);this._modify(e,n,i,r)}},{key:"_get",value:function _get(t,e){if("string"==typeof t||_islist(t)){if(e instanceof $t){var r=e.start,n=e.stop;return null==r&&(r=0),null==n&&(n=t.length),t.slice(r,n)}var i=e;if(e<0&&(e+=t.length),e<0||e>=t.length)throw new N(t,i);return t[e]}if(t&&"function"==typeof t.__getitem__)return t.__getitem__(e);if(h(t))return t.get(e);throw new R(_type(t)+" object is not subscriptable")}},{key:"_set",value:function _set(t,e,r){if(_islist(t))if(e instanceof $t){var n=e.start,i=e.stop;null===n?n=0:n<0&&(n+=t.length),n<0?n=0:n>t.length&&(n=t.length),null===i?i=t.length:i<0&&(i+=t.length),i<0?i=0:i>t.length&&(i=t.length),i<n&&(i=n),t.splice(n,i-n);for(var o=_iter(r);;){var a=o.next();if(a.done)break;t.splice(n++,0,a.value)}}else{var s=e;if(e<0&&(e+=t.length),e<0||e>=t.length)throw new N(t,s);t[e]=r}else if(t&&"function"==typeof t.__setitem__)t.__setitem__(e,r);else if(h(t))t.set(e,r);else{if(!_isobject(t))throw new q(t);t[e]=r}}},{key:"_modify",value:function _modify(t,e,r,n){this._set(e,r,t._ido(this._get(e,r),n))}}]),ItemAST}(),At=function(t){function IsAST(){return _classCallCheck(this,IsAST),_possibleConstructorReturn(this,_getPrototypeOf(IsAST).apply(this,arguments))}return _inherits(IsAST,St),_createClass(IsAST,[{key:"_do",value:function _do(t,e){return t===e}}]),IsAST}(),Tt=function(t){function IsNotAST(){return _classCallCheck(this,IsNotAST),_possibleConstructorReturn(this,_getPrototypeOf(IsNotAST).apply(this,arguments))}return _inherits(IsNotAST,St),_createClass(IsNotAST,[{key:"_do",value:function _do(t,e){return t!==e}}]),IsNotAST}(),xt=function(t){function EQAST(){return _classCallCheck(this,EQAST),_possibleConstructorReturn(this,_getPrototypeOf(EQAST).apply(this,arguments))}return _inherits(EQAST,St),_createClass(EQAST,[{key:"_do",value:function _do(t,e){return _eq(t,e)}}]),EQAST}(),wt=function(t){function NEAST(){return _classCallCheck(this,NEAST),_possibleConstructorReturn(this,_getPrototypeOf(NEAST).apply(this,arguments))}return _inherits(NEAST,St),_createClass(NEAST,[{key:"_do",value:function _do(t,e){return _ne(t,e)}}]),NEAST}(),Ct=function(t){function LTAST(){return _classCallCheck(this,LTAST),_possibleConstructorReturn(this,_getPrototypeOf(LTAST).apply(this,arguments))}return _inherits(LTAST,St),_createClass(LTAST,[{key:"_do",value:function _do(t,e){return _lt(t,e)}}]),LTAST}(),jt=function(t){function LEAST(){return _classCallCheck(this,LEAST),_possibleConstructorReturn(this,_getPrototypeOf(LEAST).apply(this,arguments))}return _inherits(LEAST,St),_createClass(LEAST,[{key:"_do",value:function _do(t,e){return _le(t,e)}}]),LEAST}(),Ot=function(t){function GTAST(){return _classCallCheck(this,GTAST),_possibleConstructorReturn(this,_getPrototypeOf(GTAST).apply(this,arguments))}return _inherits(GTAST,St),_createClass(GTAST,[{key:"_do",value:function _do(t,e){return _gt(t,e)}}]),GTAST}(),Mt=function(t){function GEAST(){return _classCallCheck(this,GEAST),_possibleConstructorReturn(this,_getPrototypeOf(GEAST).apply(this,arguments))}return _inherits(GEAST,St),_createClass(GEAST,[{key:"_do",value:function _do(t,e){return _ge(t,e)}}]),GEAST}(),Et=function(t){function ContainsAST(){return _classCallCheck(this,ContainsAST),_possibleConstructorReturn(this,_getPrototypeOf(ContainsAST).apply(this,arguments))}return _inherits(ContainsAST,St),_createClass(ContainsAST,[{key:"_do",value:function _do(t,e){if("string"==typeof t&&"string"==typeof e)return-1!==e.indexOf(t);if(_islist(e))return-1!==e.indexOf(t);if(e&&"function"==typeof e.__contains__)return e.__contains__(t);if(h(e)||_isset(e))return e.has(t);if(_isobject(e)){for(var r in e)if(r===t)return!0;return!1}if(_iscolor(e))return e._r===t||e._g===t||e._b===t||e._a===t;throw new R(_type(e)+" object is not iterable")}}]),ContainsAST}(),Pt=function(t){function NotContainsAST(){return _classCallCheck(this,NotContainsAST),_possibleConstructorReturn(this,_getPrototypeOf(NotContainsAST).apply(this,arguments))}return _inherits(NotContainsAST,St),_createClass(NotContainsAST,[{key:"_do",value:function _do(t,e){return!Et.prototype._do(t,e)}}]),NotContainsAST}(),Dt=function(t){function AddAST(){return _classCallCheck(this,AddAST),_possibleConstructorReturn(this,_getPrototypeOf(AddAST).apply(this,arguments))}return _inherits(AddAST,St),_createClass(AddAST,[{key:"_do",value:function _do(t,e){if(t&&"function"==typeof t.__add__)return t.__add__(e);if(e&&"function"==typeof e.__radd__)return e.__radd__(t);if(null===t||null===e)throw new R(_type(this.obj1)+" + "+_type(this.obj2)+" is not supported");return _islist(t)&&_islist(e)?[].concat(_toConsumableArray(t),_toConsumableArray(e)):t+e}},{key:"_ido",value:function _ido(t,e){return _islist(t)&&_islist(e)?(S.append(t,e),t):this._do(t,e)}}]),AddAST}(),Rt=function(t){function SubAST(){return _classCallCheck(this,SubAST),_possibleConstructorReturn(this,_getPrototypeOf(SubAST).apply(this,arguments))}return _inherits(SubAST,St),_createClass(SubAST,[{key:"_do",value:function _do(t,e){if(t&&"function"==typeof t.__sub__)return t.__sub__(e);if(e&&"function"==typeof e.__rsub__)return e.__rsub__(t);if(_isdate(t)&&_isdate(e))return this._date_sub(t,e);if(_isdatetime(t)&&_isdatetime(e))return this._datetime_sub(t,e);if(null===t||null===e)throw new R(_type(this.obj1)+" - "+_type(this.obj2)+" is not supported");return t-e}},{key:"_date_sub",value:function _date_sub(t,e){return this._datetime_sub(t._date,e._date)}},{key:"_datetime_sub",value:function _datetime_sub(t,e){var r=e>t;if(r){var n=t;t=e,e=n}for(var i=t.getFullYear(),o=x.yearday(t),a=e.getFullYear(),s=x.yearday(e),u=0;i>a;)u+=T.yearday(_date(a,12,31)),++a;u+=o-s;var l=t.getHours(),_=t.getMinutes(),c=t.getSeconds(),f=e.getHours(),h=e.getMinutes(),p=c-e.getSeconds()+60*(_-h+60*(l-f)),d=t.getMilliseconds()-e.getMilliseconds();return r&&(u=-u,p=-p,d=-d),new Oe(u,p,1e3*d)}},{key:"_ido",value:function _ido(t,e){return this._do(t,e)}}]),SubAST}(),Bt=function(t){function MulAST(){return _classCallCheck(this,MulAST),_possibleConstructorReturn(this,_getPrototypeOf(MulAST).apply(this,arguments))}return _inherits(MulAST,St),_createClass(MulAST,[{key:"_do",value:function _do(t,e){if(t&&"function"==typeof t.__mul__)return t.__mul__(e);if(e&&"function"==typeof e.__rmul__)return e.__rmul__(t);if(null===t||null===e)throw new R(_type(t)+" * "+_type(e)+" not supported");if(_isint(t)||_isbool(t)){if("string"==typeof e){if(t<0)throw new B("repetition counter must be positive");return _str_repeat(e,t)}if(_islist(e)){if(t<0)throw new B("repetition counter must be positive");return _list_repeat(e,t)}}else if(_isint(e)||_isbool(e)){if("string"==typeof t){if(e<0)throw new B("repetition counter must be positive");return _str_repeat(t,e)}if(_islist(t)){if(e<0)throw new B("repetition counter must be positive");return _list_repeat(t,e)}}return t*e}},{key:"_ido",value:function _ido(t,e){if(_islist(t)&&_isint(e)){if(e>0)for(var r=0,n=t.length*e;t.length<n;)t.push(t[r++]);else t.splice(0,t.length);return t}return this._do(t,e)}}]),MulAST}(),It=function(t){function FloorDivAST(){return _classCallCheck(this,FloorDivAST),_possibleConstructorReturn(this,_getPrototypeOf(FloorDivAST).apply(this,arguments))}return _inherits(FloorDivAST,St),_createClass(FloorDivAST,[{key:"_do",value:function _do(t,e){if(t&&"function"==typeof t.__floordiv__)return t.__floordiv__(e);if(e&&"function"==typeof e.__rfloordiv__)return e.__rfloordiv__(t);if(null===t||null===e)throw new R(_type(t)+" // "+_type(e)+" not supported");if("number"==typeof t&&"number"==typeof e&&0===e)throw new V;return Math.floor(t/e)}},{key:"_ido",value:function _ido(t,e){return this._do(t,e)}}]),FloorDivAST}(),qt=function(t){function TrueDivAST(){return _classCallCheck(this,TrueDivAST),_possibleConstructorReturn(this,_getPrototypeOf(TrueDivAST).apply(this,arguments))}return _inherits(TrueDivAST,St),_createClass(TrueDivAST,[{key:"_do",value:function _do(t,e){if(t&&"function"==typeof t.__truediv__)return t.__truediv__(e);if(e&&"function"==typeof e.__rtruediv__)return e.__rtruediv__(t);if(null===t||null===e)throw new R(_type(t)+" / "+_type(e)+" not supported");if("number"==typeof t&&"number"==typeof e&&0===e)throw new V;return t/e}},{key:"_ido",value:function _ido(t,e){return this._do(t,e)}}]),TrueDivAST}(),Vt=function(t){function ModAST(){return _classCallCheck(this,ModAST),_possibleConstructorReturn(this,_getPrototypeOf(ModAST).apply(this,arguments))}return _inherits(ModAST,St),_createClass(ModAST,[{key:"_do",value:function _do(t,e){return _mod(t,e)}},{key:"_ido",value:function _ido(t,e){return this._do(t,e)}}]),ModAST}(),Nt=function(t){function ShiftLeftAST(){return _classCallCheck(this,ShiftLeftAST),_possibleConstructorReturn(this,_getPrototypeOf(ShiftLeftAST).apply(this,arguments))}return _inherits(ShiftLeftAST,St),_createClass(ShiftLeftAST,[{key:"_do",value:function _do(t,e){if(!1===e?e=0:!0===e&&(e=1),e<0)return Lt.prototype._do(t,-e);for(!1===t?t=0:!0===t&&(t=1);e--;)t*=2;return t}},{key:"_ido",value:function _ido(t,e){return this._do(t,e)}}]),ShiftLeftAST}(),Lt=function(t){function ShiftRightAST(){return _classCallCheck(this,ShiftRightAST),_possibleConstructorReturn(this,_getPrototypeOf(ShiftRightAST).apply(this,arguments))}return _inherits(ShiftRightAST,St),_createClass(ShiftRightAST,[{key:"_do",value:function _do(t,e){if(!1===e?e=0:!0===e&&(e=1),e<0)return Nt.prototype._do(t,-e);for(!1===t?t=0:!0===t&&(t=1);e--;)t/=2;return Math.floor(t)}},{key:"_ido",value:function _ido(t,e){return this._do(t,e)}}]),ShiftRightAST}(),Ft=function(t){function BitAndAST(){return _classCallCheck(this,BitAndAST),_possibleConstructorReturn(this,_getPrototypeOf(BitAndAST).apply(this,arguments))}return _inherits(BitAndAST,St),_createClass(BitAndAST,[{key:"_do",value:function _do(t,e){return!1===e?e=0:!0===e&&(e=1),t&e}},{key:"_ido",value:function _ido(t,e){return this._do(t,e)}}]),BitAndAST}(),Yt=function(t){function BitXOrAST(){return _classCallCheck(this,BitXOrAST),_possibleConstructorReturn(this,_getPrototypeOf(BitXOrAST).apply(this,arguments))}return _inherits(BitXOrAST,St),_createClass(BitXOrAST,[{key:"_do",value:function _do(t,e){return!1===e?e=0:!0===e&&(e=1),t^e}},{key:"_ido",value:function _ido(t,e){return this._do(t,e)}}]),BitXOrAST}(),Ut=function(t){function BitOrAST(){return _classCallCheck(this,BitOrAST),_possibleConstructorReturn(this,_getPrototypeOf(BitOrAST).apply(this,arguments))}return _inherits(BitOrAST,St),_createClass(BitOrAST,[{key:"_do",value:function _do(t,e){return!1===e?e=0:!0===e&&(e=1),t|e}},{key:"_ido",value:function _ido(t,e){return this._do(t,e)}}]),BitOrAST}(),zt=function(t){function AndAST(){return _classCallCheck(this,AndAST),_possibleConstructorReturn(this,_getPrototypeOf(AndAST).apply(this,arguments))}return _inherits(AndAST,St),_createClass(AndAST,[{key:"_eval",value:function _eval(t){var e=this.obj1._handle_eval(t);return _bool(e)?this.obj2._handle_eval(t):e}}]),AndAST}(),Ht=function(t){function OrAST(){return _classCallCheck(this,OrAST),_possibleConstructorReturn(this,_getPrototypeOf(OrAST).apply(this,arguments))}return _inherits(OrAST,St),_createClass(OrAST,[{key:"_eval",value:function _eval(t){var e=this.obj1._handle_eval(t);return _bool(e)?e:this.obj2._handle_eval(t)}}]),OrAST}(),Xt=function(t){function AttrAST(t,e,r,n){var i;return _classCallCheck(this,AttrAST),(i=_possibleConstructorReturn(this,_getPrototypeOf(AttrAST).call(this,t,e))).obj=r,i.attrname=n,i}return _inherits(AttrAST,G),_createClass(AttrAST,[{key:"_repr",value:function _repr(t){t.push("<AttrAST"),t.push(" obj="),this.obj._repr(t),t.push(" attrname="),t.push(_repr2(this.attrname)),t.push(">")}},{key:"_eval",value:function _eval(t){var e=this.obj._handle_eval(t);return this._get(e,this.attrname)}},{key:"_eval_set",value:function _eval_set(t,e){var r=this.obj._handle_eval(t);this._set(r,this.attrname,e)}},{key:"_eval_modify",value:function _eval_modify(t,e,r){var n=this.obj._handle_eval(t);this._modify(e,n,this.attrname,r)}},{key:"_get",value:function _get(t,e){var r=g.get(t);try{return r.getattr(t,e)}catch(e){if(e instanceof L&&e.obj===t)return;throw e}}},{key:"_set",value:function _set(t,e,r){if("object"===_typeof(t)&&"function"==typeof t.__setattr__)t.__setattr__(e,r);else if(h(t))t.set(e,r);else{if(!_isobject(t))throw new R(_type(t)+" object has no writable attributes");t[e]=r}}},{key:"_modify",value:function _modify(t,e,r,n){var i=this._get(e,r),o=t._ido(i,n);this._set(e,r,o)}}]),AttrAST}();Xt.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["obj","attrname"]);var Jt=function(t){function CallAST(t,e,r,n){var i;return _classCallCheck(this,CallAST),(i=_possibleConstructorReturn(this,_getPrototypeOf(CallAST).call(this,t,e))).obj=r,i.args=n,i}return _inherits(CallAST,G),_createClass(CallAST,[{key:"_repr",value:function _repr(t){t.push("<CallAST"),t.push(" obj="),this.obj._repr(t);var e=!0,r=!1,n=void 0;try{for(var i,o=this.args[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;t.push(" "),a._repr(t)}}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}t.push(">")}},{key:"_makeargs",value:function _makeargs(t){var e=[],r={},n=!0,i=!1,o=void 0;try{for(var a,s=this.args[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){a.value._handle_eval_call(t,e,r)}}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return{args:e,kwargs:r}}},{key:"_handle_eval",value:function _handle_eval(t){try{return this._eval(t)}catch(t){throw this._decorate_exception(t),t}}},{key:"_eval",value:function _eval(t){var e=this.obj._handle_eval(t),r=this._makeargs(t);return _call(t,e,r.args,r.kwargs)}}]),CallAST}();Jt.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["obj","args"]);var Gt=function(t){function RenderAST(t,e,r,n){var i;return _classCallCheck(this,RenderAST),(i=_possibleConstructorReturn(this,_getPrototypeOf(RenderAST).call(this,t,e,r,n))).indent=null,i}return _inherits(RenderAST,Jt),_createClass(RenderAST,[{key:"_repr",value:function _repr(t){t.push("<"),t.push(this._reprname),t.push("<RenderAST"),t.push(" indent="),t.push(_repr2(this.indent)),t.push(" obj="),this.obj._repr(t),t.push(0);var e=!0,r=!1,n=void 0;try{for(var i,o=this.args[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;t.push(" "),a._repr(t),t.push(0)}}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}t.push(-1),t.push(">")}},{key:"_str",value:function _str(t){t.push("render "),t.push(this.tag.code.replace(/\r?\n/g," ")),null!==this.indent&&(t.push(" with indent "),t.push(_repr2(this.indent.text)))}},{key:"_handle_eval",value:function _handle_eval(t){var e=t.withindent(null!==this.indent?this.indent.text:null),r=this.obj._handle_eval(e),n=this._makeargs(e);this._handle_additional_arguments(e,n);try{return _callrender(e,r,n.args,n.kwargs)}catch(t){throw this._decorate_exception(t),t}}},{key:"_handle_additional_arguments",value:function _handle_additional_arguments(t,e){}}]),RenderAST}();Gt.prototype._ul4onattrs=Jt.prototype._ul4onattrs.concat(["indent"]),Gt.prototype._reprname="RenderAST";var Kt=function(t){function RenderXAST(){return _classCallCheck(this,RenderXAST),_possibleConstructorReturn(this,_getPrototypeOf(RenderXAST).apply(this,arguments))}return _inherits(RenderXAST,Gt),_createClass(RenderXAST,[{key:"_handle_eval",value:function _handle_eval(t){t.escapes.push(_xmlescape);var e=null;try{e=_get(_getPrototypeOf(RenderXAST.prototype),"_handle_eval",this).call(this,t)}finally{t.escapes.splice(t.escapes.length-1,1)}return e}}]),RenderXAST}(),Wt=function(t){function RenderBlockAST(){return _classCallCheck(this,RenderBlockAST),_possibleConstructorReturn(this,_getPrototypeOf(RenderBlockAST).apply(this,arguments))}return _inherits(RenderBlockAST,Gt),_createClass(RenderBlockAST,[{key:"_handle_additional_arguments",value:function _handle_additional_arguments(t,e){if(e.kwargs.hasOwnProperty("content"))throw new I("duplicate keyword argument content");var r=new xe(this.content,this.content.signature,t.vars);e.kwargs.content=r}},{key:"__getattr__",value:function __getattr__(t){return"stoppos"===t||"stopsource"===t||"stopsourceprefix"===t||"stopsourcesuffix"===t?this[t]:_get(_getPrototypeOf(RenderBlockAST.prototype),"__getattr__",this).call(this,t)}}]),RenderBlockAST}();Wt.prototype._ul4onattrs=Gt.prototype._ul4onattrs.concat(["stoppos","content"]);var Qt=function(t){function RenderBlocksAST(){return _classCallCheck(this,RenderBlocksAST),_possibleConstructorReturn(this,_getPrototypeOf(RenderBlocksAST).apply(this,arguments))}return _inherits(RenderBlocksAST,Gt),_createClass(RenderBlocksAST,[{key:"_handle_additional_arguments",value:function _handle_additional_arguments(t,e){var r=t.inheritvars();for(var n in he.prototype._eval.call(this,r),r.vars)if(r.vars.hasOwnProperty(n)){if(n in e.kwargs)throw new I("duplicate keyword argument "+n);e.kwargs[n]=r.get(n)}}},{key:"__getattr__",value:function __getattr__(t){return"stoppos"===t||"stopsource"===t||"stopsourceprefix"===t||"stopsourcesuffix"===t?this[t]:_get(_getPrototypeOf(RenderBlocksAST.prototype),"__getattr__",this).call(this,t)}}]),RenderBlocksAST}();Qt.prototype._ul4onattrs=Gt.prototype._ul4onattrs.concat(["stoppos","content"]);var $t=function(t){function slice(t,e){var r;return _classCallCheck(this,slice),(r=_possibleConstructorReturn(this,_getPrototypeOf(slice).call(this))).start=t,r.stop=e,r}return _inherits(slice,v),_createClass(slice,[{key:"of",value:function of(t){var e=this.start||0,r=null===this.stop?t.length:this.stop;return t.slice(e,r)}},{key:"__repr__",value:function __repr__(){return"slice("+_repr2(this.start)+", "+_repr2(this.stop)+", None)"}},{key:"__getattr__",value:function __getattr__(t){switch(t){case"start":return this.start;case"stop":return this.stop;default:throw new L(this,t)}}}]),slice}(),Zt=function(t){function SliceAST(t,e,r,n){var i;return _classCallCheck(this,SliceAST),(i=_possibleConstructorReturn(this,_getPrototypeOf(SliceAST).call(this,t,e))).index1=r,i.index2=n,i}return _inherits(SliceAST,G),_createClass(SliceAST,[{key:"_repr",value:function _repr(t){t.push("<SliceAST"),null!==this.index1&&(t.push(" index1="),this.index1._repr(t)),null!==this.index2&&(t.push(" index2="),this.index2._repr(t)),t.push(">")}},{key:"_eval",value:function _eval(t){var e=null!==this.index1?this.index1._handle_eval(t):null,r=null!==this.index2?this.index2._handle_eval(t):null;return new $t(e,r)}}]),SliceAST}();Zt.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["index1","index2"]);var te=function(t){function SetVarAST(t,e,r,n){var i;return _classCallCheck(this,SetVarAST),(i=_possibleConstructorReturn(this,_getPrototypeOf(SetVarAST).call(this,t,e))).lvalue=r,i.value=n,i}return _inherits(SetVarAST,G),_createClass(SetVarAST,[{key:"_repr",value:function _repr(t){t.push("<"),t.push(this.constructor.name),t.push(" lvalue="),t.push(_repr2(this.lvalue)),t.push(" value="),this.value._repr(t),t.push(">")}},{key:"_eval",value:function _eval(t){var e=this.value._handle_eval(t),r=_unpackvar(this.lvalue,e),n=!0,i=!1,o=void 0;try{for(var a,s=r[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=_slicedToArray(a.value,2),l=u[0],_=u[1];l._handle_eval_set(t,_)}}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}}}]),SetVarAST}();te.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["lvalue","value"]);var ee=function(t){function ModifyVarAST(){return _classCallCheck(this,ModifyVarAST),_possibleConstructorReturn(this,_getPrototypeOf(ModifyVarAST).apply(this,arguments))}return _inherits(ModifyVarAST,te),_createClass(ModifyVarAST,[{key:"_eval",value:function _eval(t){var e=this.value._handle_eval(t),r=_unpackvar(this.lvalue,e),n=!0,i=!1,o=void 0;try{for(var a,s=r[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=_slicedToArray(a.value,2),l=u[0],_=u[1];l._handle_eval_modify(t,this._operator,_)}}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}}}]),ModifyVarAST}(),re=function(t){function AddVarAST(){return _classCallCheck(this,AddVarAST),_possibleConstructorReturn(this,_getPrototypeOf(AddVarAST).apply(this,arguments))}return _inherits(AddVarAST,ee),AddVarAST}();re.prototype._operator=Dt.prototype;var ne=function(t){function SubVarAST(){return _classCallCheck(this,SubVarAST),_possibleConstructorReturn(this,_getPrototypeOf(SubVarAST).apply(this,arguments))}return _inherits(SubVarAST,ee),SubVarAST}();ne.prototype._operator=Rt.prototype;var ie=function(t){function MulVarAST(){return _classCallCheck(this,MulVarAST),_possibleConstructorReturn(this,_getPrototypeOf(MulVarAST).apply(this,arguments))}return _inherits(MulVarAST,ee),MulVarAST}();ie.prototype._operator=Bt.prototype;var oe=function(t){function TrueDivVarAST(){return _classCallCheck(this,TrueDivVarAST),_possibleConstructorReturn(this,_getPrototypeOf(TrueDivVarAST).apply(this,arguments))}return _inherits(TrueDivVarAST,ee),TrueDivVarAST}();oe.prototype._operator=qt.prototype;var ae=function(t){function FloorDivVarAST(){return _classCallCheck(this,FloorDivVarAST),_possibleConstructorReturn(this,_getPrototypeOf(FloorDivVarAST).apply(this,arguments))}return _inherits(FloorDivVarAST,ee),FloorDivVarAST}();ae.prototype._operator=It.prototype;var se=function(t){function ModVarAST(){return _classCallCheck(this,ModVarAST),_possibleConstructorReturn(this,_getPrototypeOf(ModVarAST).apply(this,arguments))}return _inherits(ModVarAST,ee),ModVarAST}();se.prototype._operator=Vt.prototype;var ue=function(t){function ShiftLeftVarAST(){return _classCallCheck(this,ShiftLeftVarAST),_possibleConstructorReturn(this,_getPrototypeOf(ShiftLeftVarAST).apply(this,arguments))}return _inherits(ShiftLeftVarAST,ee),ShiftLeftVarAST}();ue.prototype._operator=Nt.prototype;var le=function(t){function ShiftRightVarAST(){return _classCallCheck(this,ShiftRightVarAST),_possibleConstructorReturn(this,_getPrototypeOf(ShiftRightVarAST).apply(this,arguments))}return _inherits(ShiftRightVarAST,ee),ShiftRightVarAST}();le.prototype._operator=Lt.prototype;var _e=function(t){function BitAndVarAST(){return _classCallCheck(this,BitAndVarAST),_possibleConstructorReturn(this,_getPrototypeOf(BitAndVarAST).apply(this,arguments))}return _inherits(BitAndVarAST,ee),BitAndVarAST}();_e.prototype._operator=Ft.prototype;var ce=function(t){function BitXOrVarAST(){return _classCallCheck(this,BitXOrVarAST),_possibleConstructorReturn(this,_getPrototypeOf(BitXOrVarAST).apply(this,arguments))}return _inherits(BitXOrVarAST,ee),BitXOrVarAST}();ce.prototype._operator=Yt.prototype;var fe=function(t){function BitOrVarAST(){return _classCallCheck(this,BitOrVarAST),_possibleConstructorReturn(this,_getPrototypeOf(BitOrVarAST).apply(this,arguments))}return _inherits(BitOrVarAST,ee),BitOrVarAST}();fe.prototype._operator=Ut.prototype;var he=function(t){function BlockAST(t,e,r){var n;return _classCallCheck(this,BlockAST),(n=_possibleConstructorReturn(this,_getPrototypeOf(BlockAST).call(this,t,e,r))).content=[],n}return _inherits(BlockAST,G),_createClass(BlockAST,[{key:"_eval",value:function _eval(t){var e=!0,r=!1,n=void 0;try{for(var i,o=this.content[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){i.value._handle_eval(t)}}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}}},{key:"_str",value:function _str(t){if(this.content.length){var e=!0,r=!1,n=void 0;try{for(var i,o=this.content[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){i.value._str(t),t.push(0)}}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}}else t.push("pass"),t.push(0)}},{key:"__getattr__",value:function __getattr__(t){return"stoppos"===t||"stopsource"===t||"stopsourceprefix"===t||"stopsourcesuffix"===t?this[t]:_get(_getPrototypeOf(BlockAST.prototype),"__getattr__",this).call(this,t)}}]),BlockAST}();he.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["stoppos","content"]);var pe=function(t){function ForBlockAST(t,e,r,n){var i;return _classCallCheck(this,ForBlockAST),(i=_possibleConstructorReturn(this,_getPrototypeOf(ForBlockAST).call(this,t,e))).varname=r,i.container=n,i}return _inherits(ForBlockAST,he),_createClass(ForBlockAST,[{key:"_repr",value:function _repr(t){t.push("<ForBlockAST"),t.push(" varname="),t.push(_repr2(this.varname)),t.push(" container="),this.container._repr(t),t.push(">")}},{key:"_str_varname",value:function _str_varname(t,e){if(_islist(e)){t.push("(");var r=truel,n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;r?r=!1:t.push(", "),this._str_varname(t,u)}}catch(t){i=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}1==e.length&&t.push(","),t.push(")")}else e._str(t)}},{key:"_eval",value:function _eval(t){for(var e=_iter(this.container._handle_eval(t));;){var r=e.next();if(r.done)break;var n=_unpackvar(this.varname,r.value),i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=_slicedToArray(s.value,2),_=l[0],c=l[1];_._handle_eval_set(t,c)}}catch(t){o=!0,a=t}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}try{_get(_getPrototypeOf(ForBlockAST.prototype),"_eval",this).call(this,t)}catch(t){if(t instanceof M)break;if(!(t instanceof E))throw t}}}},{key:"_str",value:function _str(t){t.push("for "),this._str_varname(t,this.varname),t.push(" in "),this.container._str(t),t.push(":"),t.push(1),he.prototype._str.call(this,t),t.push(-1)}}]),ForBlockAST}();pe.prototype._ul4onattrs=he.prototype._ul4onattrs.concat(["varname","container"]);var de=function(t){function WhileBlockAST(t,e,r){var n;return _classCallCheck(this,WhileBlockAST),(n=_possibleConstructorReturn(this,_getPrototypeOf(WhileBlockAST).call(this,t,e))).condition=r,n}return _inherits(WhileBlockAST,he),_createClass(WhileBlockAST,[{key:"_repr",value:function _repr(t){t.push("<WhileAST"),t.push(" condition="),this.condition._repr(t),t.push(">")}},{key:"_str",value:function _str(t){t.push("while "),this.condition._repr(t),t.push(":"),t.push(1),he.prototype._str.call(this,t),t.push(-1)}},{key:"_eval",value:function _eval(t){for(;;){if(!_bool(this.condition._handle_eval(t)))break;try{_get(_getPrototypeOf(WhileBlockAST.prototype),"_eval",this).call(this,t)}catch(t){if(t instanceof M)break;if(!(t instanceof E))throw t}}}}]),WhileBlockAST}();de.prototype._ul4onattrs=he.prototype._ul4onattrs.concat(["condition"]);var ve=function(t){function BreakAST(){return _classCallCheck(this,BreakAST),_possibleConstructorReturn(this,_getPrototypeOf(BreakAST).apply(this,arguments))}return _inherits(BreakAST,G),_createClass(BreakAST,[{key:"_eval",value:function _eval(t){throw new M}},{key:"_str",value:function _str(t){t.push("break"),t.push(0)}},{key:"_repr",value:function _repr(t){t.push("<BreakAST>")}}]),BreakAST}(),ye=function(t){function ContinueAST(){return _classCallCheck(this,ContinueAST),_possibleConstructorReturn(this,_getPrototypeOf(ContinueAST).apply(this,arguments))}return _inherits(ContinueAST,G),_createClass(ContinueAST,[{key:"_eval",value:function _eval(t){throw new E}},{key:"_str",value:function _str(t){t.push("continue"),t.push(0)}},{key:"_repr",value:function _repr(t){t.push("<ContinueAST>")}}]),ContinueAST}(),me=function(t){function CondBlockAST(){return _classCallCheck(this,CondBlockAST),_possibleConstructorReturn(this,_getPrototypeOf(CondBlockAST).apply(this,arguments))}return _inherits(CondBlockAST,he),_createClass(CondBlockAST,[{key:"_eval",value:function _eval(t){var e=!0,r=!1,n=void 0;try{for(var i,o=this.content[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;if(a._execute(t)){a._handle_eval(t);break}}}catch(t){r=!0,n=t}finally{try{e||null==o.return||o.return()}finally{if(r)throw n}}}}]),CondBlockAST}(),ge=function(t){function ConditionalBlockAST(t,e,r){var n;return _classCallCheck(this,ConditionalBlockAST),(n=_possibleConstructorReturn(this,_getPrototypeOf(ConditionalBlockAST).call(this,t,e))).condition=r,n}return _inherits(ConditionalBlockAST,he),_createClass(ConditionalBlockAST,[{key:"_repr",value:function _repr(t){t.push("<"),t.push(this.constructor.name),t.push(" condition="),this.condition._repr(t),t.push(">")}},{key:"_str",value:function _str(t){t.push(this._strname),t.push(" "),this.condition._str(t),t.push(":"),t.push(1),he.prototype._str.call(this,t),t.push(-1)}},{key:"_execute",value:function _execute(t){return _bool(this.condition._handle_eval(t))}}]),ConditionalBlockAST}();ge.prototype._ul4onattrs=he.prototype._ul4onattrs.concat(["condition"]);var be=function(t){function IfBlockAST(){return _classCallCheck(this,IfBlockAST),_possibleConstructorReturn(this,_getPrototypeOf(IfBlockAST).apply(this,arguments))}return _inherits(IfBlockAST,ge),IfBlockAST}();be.prototype._strname="if";var Se=function(t){function ElIfBlockAST(){return _classCallCheck(this,ElIfBlockAST),_possibleConstructorReturn(this,_getPrototypeOf(ElIfBlockAST).apply(this,arguments))}return _inherits(ElIfBlockAST,ge),ElIfBlockAST}();Se.prototype._strname="else if";var ke=function(t){function ElseBlockAST(){return _classCallCheck(this,ElseBlockAST),_possibleConstructorReturn(this,_getPrototypeOf(ElseBlockAST).apply(this,arguments))}return _inherits(ElseBlockAST,he),_createClass(ElseBlockAST,[{key:"_repr",value:function _repr(t){t.push("<ElseAST"),t.push(">")}},{key:"_str",value:function _str(t){t.push("else:"),t.push(1),he.prototype._str.call(this,t),t.push(-1)}},{key:"_execute",value:function _execute(t){return!0}}]),ElseBlockAST}(),Ae=function(t){function Template(t,e,r,n,i,o,a,s){var u;return _classCallCheck(this,Template),(u=_possibleConstructorReturn(this,_getPrototypeOf(Template).call(this,t,e)))._source=r,u.name=n,u.whitespace=i,u.startdelim=o,u.enddelim=a,u.docpos=null,u.signature=s,u._asts=null,u._ul4_callsignature=s,u._ul4_rendersignature=s,u.parenttemplate=null,u}return _inherits(Template,he),_createClass(Template,[{key:"__getattr__",value:function __getattr__(t){var e=this;switch(t){case"content":return this.content;case"source":return this.source;case"name":return this.name;case"whitespace":return this.whitespace;case"startdelim":return this.startdelim;case"enddelim":return this.enddelim;case"doc":return this.doc();case"signature":return this.signature;case"parenttemplate":return this.parenttemplate;case"render":var r=function render(t,r){e._renderbound(t,r)};return expose(r,this.signature,{needscontext:!0,needsobject:!0}),r;case"renders":var n=function renders(t,r){return e._rendersbound(t,r)};return expose(n,this.signature,{needscontext:!0,needsobject:!0}),n;default:return _get(_getPrototypeOf(Template.prototype),"__getattr__",this).call(this,t)}}},{key:"ul4ondump",value:function ul4ondump(t){var e;if(t.dump("49"),t.dump(this.name),t.dump(this._source),t.dump(this.whitespace),t.dump(this.startdelim),t.dump(this.enddelim),t.dump(this.docpos),t.dump(this.parenttemplate),null===this.signature||this.signature instanceof Te)e=this.signature;else{e=[];var r=!0,n=!1,i=void 0;try{for(var o,a=this.signature.args[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;void 0===s.defaultValue?e.push(s.name):e.push(s.name+"=",s.defaultValue)}}catch(t){n=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}null!==this.signature.remargs&&e.push("*"+this.signature.remargs),null!==this.signature.remkwargs&&e.push("**"+this.signature.remkwargs)}t.dump(e),_get(_getPrototypeOf(Template.prototype),"ul4ondump",this).call(this,t)}},{key:"ul4onload",value:function ul4onload(t){var e,r=t.load();if(null===r)throw new B("UL4ON doesn't support templates in 'source' format in Javascript implementation");if("49"!==r)throw new B("invalid version, expected 49, got "+r);this.name=t.load(),this._source=t.load(),this.whitespace=t.load(),this.startdelim=t.load(),this.enddelim=t.load(),this.docpos=t.load(),this.parenttemplate=t.load(),_islist(e=t.load())&&(e=_construct(y,_toConsumableArray(e))),this.signature=e,this._ul4_callsignature=e,this._ul4_rendersignature=e,_get(_getPrototypeOf(Template.prototype),"ul4onload",this).call(this,t)}},{key:"loads",value:function loads(t){return _loads(t)}},{key:"_eval",value:function _eval(t){var e=null;null!==this.signature&&(e=this.signature._handle_eval(t));var r=new xe(this,e,t.vars);t.set(this.name,r)}},{key:"_repr",value:function _repr(t){t.push("<Template"),null!==this.name&&(t.push(" name="),t.push(_repr2(this.name))),t.push(" whitespace="),t.push(_repr2(this.whitespace)),"<?"!==this.startdelim&&(t.push(" startdelim="),t.push(_repr2(this.startdelim))),"?>"!==this.enddelim&&(t.push(" enddelim="),t.push(_repr2(this.enddelim))),t.push(">")}},{key:"_str",value:function _str(t){t.push("def "),t.push(this.name?this.name:"unnamed"),t.push(":"),t.push(1),he.prototype._str.call(this,t),t.push(-1)}},{key:"_renderbound",value:function _renderbound(t,e){var r=t.replacevars(e);try{he.prototype._eval.call(this,r)}catch(t){if(!(t instanceof O))throw t}}},{key:"__render__",value:function __render__(t,e){this._renderbound(t,e)}},{key:"render",value:function render(t,e){this._renderbound(t,e)}},{key:"_rendersbound",value:function _rendersbound(t,e){var r=t.replaceoutput();return this._renderbound(r,e),r.getoutput()}},{key:"renders",value:function renders(t,e){var r=new C({},e);return t=t||{},null!==this.signature&&(t=this.signature.bindObject(this.name,[],t)),this._rendersbound(r,t)}},{key:"doc",value:function doc(){return null!=this.docpos?this.docpos.of(this._source):null}},{key:"_callbound",value:function _callbound(t,e){var r=t.replacevars(e);try{he.prototype._eval.call(this,r)}catch(t){if(t instanceof O)return t.result;throw t}return null}},{key:"call",value:function call(t,e){var r=new C({},e);return t=t||{},null!==this.signature&&(t=this.signature.bindObject(this.name,[],t)),this._callbound(r,t)}},{key:"__call__",value:function __call__(t,e){return this._callbound(t,e)}},{key:"ul4type",value:function ul4type(){return"template"}}]),Template}();Ae.prototype._ul4_callneedsobject=!0,Ae.prototype._ul4_callneedscontext=!0,Ae.prototype._ul4_renderneedsobject=!0,Ae.prototype._ul4_renderneedscontext=!0;var Te=function(t){function SignatureAST(t,e){var r;return _classCallCheck(this,SignatureAST),(r=_possibleConstructorReturn(this,_getPrototypeOf(SignatureAST).call(this,t,e))).params=[],r}return _inherits(SignatureAST,G),_createClass(SignatureAST,[{key:"ul4ondump",value:function ul4ondump(t){_get(_getPrototypeOf(SignatureAST.prototype),"ul4ondump",this).call(this,t);var e=[],r=!0,n=!1,i=void 0;try{for(var o,a=this.params[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;null===s[1]?e.push(s[0]):e.push(s)}}catch(t){n=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}t.dump(e)}},{key:"ul4onload",value:function ul4onload(t){_get(_getPrototypeOf(SignatureAST.prototype),"ul4onload",this).call(this,t);var e=t.load();this.params=[];var r=!0,n=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;"string"==typeof s?this.params.push([s,null]):this.params.push(s)}}catch(t){n=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}}},{key:"_eval",value:function _eval(t){var e=[],r=!0,n=!1,i=void 0;try{for(var o,a=this.params[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;null===s[1]?e.push(s[0]):(e.push(s[0]+"="),e.push(s[1]._handle_eval(t)))}}catch(t){n=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return _construct(y,e)}},{key:"_repr",value:function _repr(t){t.push("<"),t.push(this.constructor.name),t.push(" params="),this.params._repr(t),t.push(">")}}]),SignatureAST}(),xe=function(t){function TemplateClosure(t,e,r){var n;return _classCallCheck(this,TemplateClosure),(n=_possibleConstructorReturn(this,_getPrototypeOf(TemplateClosure).call(this))).template=t,n.signature=e,n.vars=r,n._ul4_callsignature=e,n._ul4_rendersignature=e,n.name=t.name,n.tag=t.tag,n.endtag=t.endtag,n._source=t._source,n.startdelim=t.startdelim,n.enddelim=t.enddelim,n.docpos=t.docpos,n.content=t.content,n}return _inherits(TemplateClosure,v),_createClass(TemplateClosure,[{key:"__render__",value:function __render__(t,e){this.template._renderbound(t,_extend(this.vars,e))}},{key:"render",value:function render(t,e){this.template._renderbound(t,_extend(this.vars,e))}},{key:"__call__",value:function __call__(t,e){return this.template._callbound(t,_extend(this.vars,e))}},{key:"_renderbound",value:function _renderbound(t,e){this.template._renderbound(t,_extend(this.vars,e))}},{key:"_rendersbound",value:function _rendersbound(t,e){return this.template._rendersbound(t,_extend(this.vars,e))}},{key:"__getattr__",value:function __getattr__(t){var e=this;switch(t){case"render":var r=function render(t,r){e._renderbound(t,r)};return expose(r,this.signature,{needscontext:!0,needsobject:!0}),r;case"renders":var n=function renders(t,r){return e._rendersbound(t,r)};return expose(n,this.signature,{needscontext:!0,needsobject:!0}),n;case"signature":return this.signature;default:return this.template.__getattr__(t)}}},{key:"ul4type",value:function ul4type(){return"template"}}]),TemplateClosure}();function _rgb(t,e,r,n){return new Ce(255*t,255*e,255*r,255*n)}function _xmlescape(t){return t=(t=(t=(t=(t=(t=_str(t)).replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/'/g,"&#39;")).replace(/"/g,"&quot;")}function _csv(t){return null===t?"":("string"!=typeof t&&(t=_repr2(t)),-1===t.indexOf(",")&&-1===t.indexOf('"')&&-1===t.indexOf("\n")||(t='"'+t.replace(/"/g,'""')+'"'),t)}function _chr(t){if("number"!=typeof t)throw new R("chr() requires an int");return String.fromCharCode(t)}function _ord(t){if("string"!=typeof t||1!=t.length)throw new R("ord() requires a string of length 1");return t.charCodeAt(0)}function _hex(t){if("number"!=typeof t)throw new R("hex() requires an int");return t<0?"-0x"+t.toString(16).substr(1):"0x"+t.toString(16)}function _oct(t){if("number"!=typeof t)throw new R("oct() requires an int");return t<0?"-0o"+t.toString(8).substr(1):"0o"+t.toString(8)}function _bin(t){if("number"!=typeof t)throw new R("bin() requires an int");return t<0?"-0b"+t.toString(2).substr(1):"0b"+t.toString(2)}function _min(t){if(0==t.length)throw new I("min() requires at least 1 argument, 0 given");1==t.length&&(t=t[0]);for(var e,r=_iter(t),n=!0;;){var i=r.next();if(i.done){if(n)throw new B("min() argument is an empty sequence!");return e}(n||i.value<e)&&(e=i.value),n=!1}}function _max(t){if(0==t.length)throw new I("max() requires at least 1 argument, 0 given");1==t.length&&(t=t[0]);for(var e,r=_iter(t),n=!0;;){var i=r.next();if(i.done){if(n)throw new B("max() argument is an empty sequence!");return e}(n||i.value>e)&&(e=i.value),n=!1}}function _sum(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=_iter(t);;){var n=r.next();if(n.done)break;e+=n.value}return e}function _first(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=_iter(t).next();return r.done?e:r.value}function _last(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=_iter(t);;){var n=r.next();if(n.done)break;e=n.value}return e}function _sorted(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null===r){var i=n?function cmp(t,e){return-_cmp("<=>",t,e)}:function cmp(t,e){return _cmp("<=>",t,e)},o=_list(e);return o.sort(i),o}for(var a=[],s=0,u=_iter(e);;++s){var l=u.next();if(l.done)break;var _=_call(t,r,[l.value],{});a.push([_,n?-s:s,l.value])}a.sort(function _cmp2(t,e){var r=_cmp("<=>",t[0],e[0]);return r?n?-r:r:(r=_cmp("<=>",t[1],e[1]),n?-r:r)});for(var c=[],f=0,h=a;f<h.length;f++){var p=h[f];c.push(p[2])}return c}function _range(t){var e,r,n,i,o;if(t.length<1)throw new I("required range() argument missing");if(t.length>3)throw new I("range() expects at most 3 positional arguments, "+t.length+" given");if(1==t.length?(e=0,r=t[0],n=1):2==t.length?(e=t[0],r=t[1],n=1):3==t.length&&(e=t[0],r=t[1],n=t[2]),0===n)throw new B("range() requires a step argument != 0");n>0?(i=e,o=r):(i=r,o=e);var a=i<o?Math.floor((o-i-1)/Math.abs(n))+1:0;return{index:0,next:function next(){return this.index>=a?{done:!0}:{value:e+this.index++*n,done:!1}}}}function _slice(t){var e,r,n,i;if(t.length<2)throw new I("required slice() argument missing");if(t.length>4)throw new I("slice() expects at most 4 positional arguments, "+t.length+" given");if(2==t.length?(e=t[0],r=0,n=t[1],i=1):3==t.length?(e=t[0],r=null!==t[1]?t[1]:0,n=t[2],i=1):4==t.length&&(e=t[0],r=null!==t[1]?t[1]:0,n=t[2],i=null!==t[3]?t[3]:1),r<0)throw new B("slice() requires a start argument >= 0");if(n<0)throw new B("slice() requires a stop argument >= 0");if(i<=0)throw new B("slice() requires a step argument > 0");var o=r,a=0,s=_iter(e);return{next:function next(){for(var t;a<o;){if((t=s.next()).done)return t;++a}return null!==n&&a>=n?{done:!0}:(t=s.next()).done?t:(++a,o+=i,null!==n&&o>n&&(o=n),t)}}}function _urlquote(t){return encodeURIComponent(t)}function _urlunquote(t){return decodeURIComponent(t)}function _reversed(t){return"string"==typeof t||_islist(t)||(t=_list(t)),{index:t.length-1,next:function next(){return this.index>=0?{value:t[this.index--],done:!1}:{done:!0}}}}function _random(){return Math.random()}function _randrange(t){var e,r,n;if(t.length<1)throw new I("required randrange() argument missing");if(t.length>3)throw new I("randrange() expects at most 3 positional arguments, "+t.length+" given");1==t.length?(e=0,r=t[0],n=1):2==t.length?(e=t[0],r=t[1],n=1):3==t.length&&(e=t[0],r=t[1],n=t[2]);var i,o=r-e,a=Math.random();if(n>0)i=Math.floor((o+n-1)/n);else{if(!(n<0))throw new B("randrange() requires a step argument != 0");i=Math.floor((o+n+1)/n)}return e+n*Math.floor(a*i)}function _randchoice(t){var e=_iscolor(t);if("string"!=typeof t&&!_islist(t)&&!e)throw new R("randchoice() requires a string or list");return e&&(t=_list(t)),t[Math.floor(Math.random()*t.length)]}function _round(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e){var r=Math.pow(10,e);return Math.round(t*r)/r}return Math.round(t)}function _md5(t){return r(t)}function _scrypt(t,e){throw new Y("scrypt() is not implemented")}function _enumerate(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{iter:_iter(t),index:e,next:function next(){var t=this.iter.next();return t.done?t:{value:[this.index++,t.value],done:!1}}}}function _isfirst(t){var e=_iter(t),r=!0;return{next:function next(){var t=e.next(),n=t.done?t:{value:[r,t.value],done:!1};return r=!1,n}}}function _islast(t){var e=_iter(t),r=e.next();return{next:function next(){if(r.done)return r;var t=e.next(),n={value:[t.done,r.value],done:!1};return r=t,n}}}function _isfirstlast(t){var e=_iter(t),r=!0,n=e.next();return{next:function next(){if(n.done)return n;var t=e.next(),i={value:[r,t.done,n.value],done:!1};return n=t,r=!1,i}}}function _enumfl(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=_iter(t),n=e,i=!0,o=r.next();return{next:function next(){if(o.done)return o;var t=r.next(),e={value:[n++,i,t.done,o.value],done:!1};return o=t,i=!1,e}}}function _zip(t){if(t.length){var e=[],r=!0,n=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;e.push(_iter(s))}}catch(t){n=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return{next:function next(){var t=[],r=!0,n=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value.next();if(s.done)return s;t.push(s.value)}}catch(t){n=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return{value:t,done:!1}}}}return{next:function next(){return{done:!0}}}}function _abs(t){return null!==t&&"function"==typeof t.__abs__?t.__abs__():Math.abs(t)}function _date(t,e,r){return new je(t,e,r)}function _datetime(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;return new Date(t,e-1,r,n,i,o,a/1e3)}function _timedelta(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Oe(t,e,r)}function _monthdelta(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Me(t)}function _hls(t,e,r,n){var i,o,a=function _v(t,e,r){return(r%=1)<1/6?t+(e-t)*r*6:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t};return void 0===n&&(n=1),0===r?_rgb(e,e,e,n):_rgb(a(i=2*e-(o=e<=.5?e*(1+r):e+r-e*r),o,t+1/3),a(i,o,t),a(i,o,t-1/3),n)}function _hsv(t,e,r,n){if(0===e)return _rgb(r,r,r,n);var i=Math.floor(6*t),o=6*t-i,a=r*(1-e),s=r*(1-e*o),u=r*(1-e*(1-o));switch(i%6){case 0:return _rgb(r,u,a,n);case 1:return _rgb(s,r,a,n);case 2:return _rgb(a,r,u,n);case 3:return _rgb(a,s,r,n);case 4:return _rgb(u,a,r,n);case 5:return _rgb(r,a,s,n)}}function now(){return new Date}function utcnow(){var t=new Date;return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())}function today(){var t=new Date;return new je(t.getFullYear(),t.getMonth()+1,t.getDate())}xe.prototype._ul4_callneedsobject=!0,xe.prototype._ul4_callneedscontext=!0,xe.prototype._ul4_renderneedsobject=!0,xe.prototype._ul4_renderneedscontext=!0;var we={repr:_repr2,ascii:_ascii,str:_str,int:_int,float:_float,list:_list,set:_set,bool:_bool,len:_len,type:_type,format:_format,any:_any,all:_all,zip:_zip,getattr:_getattr,hasattr:_hasattr,dir:_dir,isundefined:_isundefined,isdefined:_isdefined,isnone:_isnone,isbool:_isbool,isint:_isint,isfloat:_isfloat,isstr:_isstr,isdate:_isdate,isdatetime:_isdatetime,iscolor:_iscolor,istimedelta:_istimedelta,ismonthdelta:_ismonthdelta,istemplate:_istemplate,isfunction:_isfunction,islist:_islist,isset:_isanyset,isdict:p,isexception:_isexception,asjson:_asjson,fromjson:_fromjson,asul4on:_asul4on,fromul4on:_fromul4on,now:now,utcnow:utcnow,today:today,enumerate:_enumerate,isfirst:_isfirst,islast:_islast,isfirstlast:_isfirstlast,enumfl:_enumfl,abs:_abs,date:_date,datetime:_datetime,timedelta:_timedelta,monthdelta:_monthdelta,rgb:_rgb,hls:_hls,hsv:_hsv,xmlescape:_xmlescape,csv:_csv,chr:_chr,ord:_ord,hex:_hex,oct:_oct,bin:_bin,min:_min,max:_max,sum:_sum,first:_first,last:_last,sorted:_sorted,range:_range,slice:_slice,urlquote:_urlquote,urlunquote:_urlunquote,reversed:_reversed,random:_random,randrange:_randrange,randchoice:_randchoice,round:_round,md5:_md5,scrypt:_scrypt};function _count(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(r<0&&(r+=t.length),null===r&&(r=0),n<0&&(n+=t.length),null===n&&(n=t.length),_isstr(t)&&!e.length){if(n<0||r>t.length||r>n)return 0;var i=n-r+1;return i>t.length+1&&(i=t.length+1),i}r=_bound(r,t.length),n=_bound(n,t.length);var o=0;if(_islist(t)){for(var a=r;a<n;++a)_eq(t[a],e)&&++o;return o}for(var s=r;-1!=(s=t.indexOf(e,s))&&!(s+e.length>n);)++o,s+=e.length;return o}function _find(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r<0&&(r+=t.length),null===r&&(r=0),n<0&&(n+=t.length),null===n&&(n=t.length),r=_bound(r,t.length),n=_bound(n,t.length),0===r&&n===t.length||(t="string"==typeof t?t.substring(r,n):t.slice(r,n));var i=t.indexOf(e);return-1!==i&&(i+=r),i}function _rfind(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r<0&&(r+=t.length),null===r&&(r=0),n<0&&(n+=t.length),null===n&&(n=t.length),r=_bound(r,t.length),n=_bound(n,t.length),0===r&&n===t.length||(t="string"==typeof t?t.substring(r,n):t.slice(r,n));var i=t.lastIndexOf(e);return-1!==i&&(i+=r),i}function _week4format(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===e?e=0:e%=7;var r=x.yearday(t)+6,n=new Date(t.getFullYear(),0,1).getDay();for(--n<0&&(n=6);n!=e;)--r,7==++n&&(n=0);return Math.floor(r/7)}function _isleap(t){return 1===new Date(t.getFullYear(),1,29).getMonth()}function _update(e,r,n){if(!p(e))throw new R("update() requires a dict");var i=!0,o=!1,a=void 0;try{for(var s,u=r[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;if(h(l))l.forEach(function(r,n){t._setmap(e,n,r)});else if(_isobject(l))for(var _ in l)t._setmap(e,_,l[_]);else{if(!_islist(l))throw new R("update() requires a dict or a list of (key, value) pairs");var c=!0,f=!1,d=void 0;try{for(var v,y=l[Symbol.iterator]();!(c=(v=y.next()).done);c=!0){var m=v.value;if(!_islist(m)||2!=m.length)throw new R("update() requires a dict or a list of (key, value) pairs");t._setmap(e,m[0],m[1])}}catch(t){f=!0,d=t}finally{try{c||null==y.return||y.return()}finally{if(f)throw d}}}}}catch(t){o=!0,a=t}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return n.forEach(function(r,n){t._setmap(e,n,r)}),null}expose(_repr2,["obj"],{name:"repr"}),expose(_ascii,["obj"],{name:"ascii"}),expose(_str,["obj=",""],{name:"str"}),expose(_int,["obj=",0,"base=",null],{name:"int"}),expose(_float,["obj=",0],{name:"float"}),expose(_list,["iterable=",[]],{name:"list"}),expose(_set,["iterable=",[]],{name:"set"}),expose(_bool,["obj=",!1],{name:"bool"}),expose(_len,["sequence"],{name:"len"}),expose(_type,["obj"],{name:"type"}),expose(_format,["obj","fmt","lang=",null],{name:"format"}),expose(_any,["iterable"],{name:"any"}),expose(_all,["iterable"],{name:"all"}),expose(_zip,["*iterables"],{name:"zip"}),expose(_getattr,["obj","attrname","default=",null],{name:"getattr"}),expose(_hasattr,["obj","attrname"],{name:"hasattr"}),expose(_dir,["obj"],{name:"dir"}),expose(_isundefined,["obj"],{name:"isundefined"}),expose(_isdefined,["obj"],{name:"isdefined"}),expose(_isnone,["obj"],{name:"isnone"}),expose(_isbool,["obj"],{name:"isbool"}),expose(_isint,["obj"],{name:"isint"}),expose(_isfloat,["obj"],{name:"isfloat"}),expose(_isstr,["obj"],{name:"isstr"}),expose(_isdate,["obj"],{name:"isdate"}),expose(_isdatetime,["obj"],{name:"isdatetime"}),expose(_iscolor,["obj"],{name:"iscolor"}),expose(_istimedelta,["obj"],{name:"istimedelta"}),expose(_ismonthdelta,["obj"],{name:"ismonthdelta"}),expose(_istemplate,["obj"],{name:"istemplate"}),expose(_isfunction,["obj"],{name:"isfunction"}),expose(_islist,["obj"],{name:"islist"}),expose(_isanyset,["obj"],{name:"isset"}),expose(p,["obj"],{name:"isdict"}),expose(_isexception,["obj"],{name:"isexception"}),expose(_asjson,["obj"],{name:"asjson"}),expose(_fromjson,["string"],{name:"fromjson"}),expose(_asul4on,["obj"],{name:"asul4on"}),expose(_fromul4on,["string"],{name:"fromul4on"}),expose(now,[]),expose(utcnow,[]),expose(today,[]),expose(_enumerate,["iterable","start=",0],{name:"enumerate"}),expose(_isfirst,["iterable"],{name:"isfirst"}),expose(_islast,["iterable"],{name:"islast"}),expose(_isfirstlast,["iterable"],{name:"isfirstlast"}),expose(_enumfl,["iterable","start=",0],{name:"enumfl"}),expose(_abs,["number"],{name:"abs"}),expose(_date,["year","month","day"],{name:"date"}),expose(_datetime,["year","month","day","hour=",0,"minute=",0,"second=",0,"microsecond=",0],{name:"datetime"}),expose(_timedelta,["days=",0,"seconds=",0,"microseconds=",0],{name:"timedelta"}),expose(_monthdelta,["months=",0],{name:"monthdelta"}),expose(_rgb,["r","g","b","a=",1],{name:"rgb"}),expose(_hls,["h","l","s","a=",1],{name:"hls"}),expose(_hsv,["h","s","v","a=",1],{name:"hsv"}),expose(_xmlescape,["obj"],{name:"xmlescape"}),expose(_csv,["obj"],{name:"csv"}),expose(_chr,["i"],{name:"chr"}),expose(_ord,["c"],{name:"ord"}),expose(_hex,["number"],{name:"hex"}),expose(_oct,["number"],{name:"oct"}),expose(_bin,["number"],{name:"bin"}),expose(_min,["*obj"],{name:"min"}),expose(_max,["*obj"],{name:"max"}),expose(_sum,["iterable","start=",0],{name:"sum"}),expose(_first,["iterable","default=",null],{name:"first"}),expose(_last,["iterable","default=",null],{name:"last"}),expose(_sorted,["iterable","key=",null,"reverse=",!1],{name:"sorted",needscontext:!0}),expose(_range,["*args"],{name:"range"}),expose(_slice,["*args"],{name:"slice"}),expose(_urlquote,["string"],{name:"urlquote"}),expose(_urlunquote,["string"],{name:"urlunquote"}),expose(_reversed,["sequence"],{name:"reversed"}),expose(_random,[],{name:"random"}),expose(_randrange,["*args"],{name:"randrange"}),expose(_randchoice,["sequence"],{name:"randchoice"}),expose(_round,["x","digit=",0],{name:"round"}),expose(_md5,["string"],{name:"md5"}),expose(_scrypt,["string","salt"],{name:"scrypt"});var Ce=function(t){function Color(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255;return _classCallCheck(this,Color),(t=_possibleConstructorReturn(this,_getPrototypeOf(Color).call(this)))._r=e,t._g=r,t._b=n,t._a=i,t}return _inherits(Color,v),_createClass(Color,[{key:"__repr__",value:function __repr__(){var t=_lpad(this._r.toString(16),"0",2),e=_lpad(this._g.toString(16),"0",2),r=_lpad(this._b.toString(16),"0",2),n=_lpad(this._a.toString(16),"0",2);return 255!==this._a?t[0]===t[1]&&e[0]===e[1]&&r[0]===r[1]&&n[0]===n[1]?"#"+t[0]+e[0]+r[0]+n[0]:"#"+t+e+r+n:t[0]===t[1]&&e[0]===e[1]&&r[0]===r[1]?"#"+t[0]+e[0]+r[0]:"#"+t+e+r}},{key:"__str__",value:function __str__(){if(255!==this._a)return"rgba("+this._r+", "+this._g+", "+this._b+", "+this._a/255+")";var t=_lpad(this._r.toString(16),"0",2),e=_lpad(this._g.toString(16),"0",2),r=_lpad(this._b.toString(16),"0",2);return t[0]===t[1]&&e[0]===e[1]&&r[0]===r[1]?"#"+t[0]+e[0]+r[0]:"#"+t+e+r}},{key:"__iter__",value:function __iter__(){return{obj:this,index:0,next:function next(){return 0==this.index?(++this.index,{value:this.obj._r,done:!1}):1==this.index?(++this.index,{value:this.obj._g,done:!1}):2==this.index?(++this.index,{value:this.obj._b,done:!1}):3==this.index?(++this.index,{value:this.obj._a,done:!1}):{done:!0}}}}},{key:"__getattr__",value:function __getattr__(t){var e=this;switch(t){case"r":var n=function r(){return e._r};return expose(n,[]),n;case"g":var i=function g(){return e._g};return expose(i,[]),i;case"b":var o=function b(){return e._b};return expose(o,[]),o;case"a":var s=function a(){return e._a};return expose(s,[]),s;case"lum":var u=function lum(){return e.lum()};return expose(u,[]),u;case"hls":var l=function hls(){return e.hls()};return expose(l,[]),l;case"hlsa":var _=function hlsa(){return e.hlsa()};return expose(_,[]),_;case"hsv":var c=function hsv(){return e.hsv()};return expose(c,[]),c;case"hsva":var f=function hsva(){return e.hsva()};return expose(f,[]),f;case"witha":var h=function witha(t){return e.witha(t)};return expose(h,["a"]),h;case"withlum":var p=function withlum(t){return e.withlum(t)};return expose(p,["lum"]),p;case"abslum":var d=function abslum(t){return e.abslum(t)};return expose(d,["lum"]),d;case"rellum":var v=function rellum(t){return e.rellum(t)};return expose(v,["lum"]),v;default:throw new L(this,t)}}},{key:"__getitem__",value:function __getitem__(t){var e=t;switch(t<0&&(t+=4),t){case 0:return this._r;case 1:return this._g;case 2:return this._b;case 3:return this._a;default:throw new N(this,e)}}},{key:"__eq__",value:function __eq__(t){return t instanceof Color&&(this._r==t._r&&this._g==t._g&&this._b==t._b&&this._a==t._a)}},{key:"r",value:function r(){return this._r}},{key:"g",value:function g(){return this._g}},{key:"b",value:function b(){return this._b}},{key:"a",value:function a(){return this._a}},{key:"lum",value:function lum(){return this.hls()[1]}},{key:"hls",value:function hls(){var t,e,r,n,i=this._r/255,o=this._g/255,a=this._b/255,s=Math.max(i,o,a),u=Math.min(i,o,a);return t=(u+s)/2,u==s?[0,t,0]:(e=(s-i)/(s-u),r=(s-o)/(s-u),n=(s-a)/(s-u),[(i==s?n-r:o==s?2+e-n:4+r-e)/6%1,t,t<=.5?(s-u)/(s+u):(s-u)/(2-s-u)])}},{key:"hlsa",value:function hlsa(){return this.hls().concat(this._a/255)}},{key:"hsv",value:function hsv(){var t=this._r/255,e=this._g/255,r=this._b/255,n=Math.max(t,e,r),i=Math.min(t,e,r);if(i==n)return[0,0,n];var o=(n-t)/(n-i),a=(n-e)/(n-i),s=(n-r)/(n-i);return[(t==n?s-a:e==n?2+o-s:4+a-o)/6%1,(n-i)/n,n]}},{key:"hsva",value:function hsva(){return this.hsv().concat(this._a/255)}},{key:"witha",value:function witha(t){if("number"!=typeof t)throw new R("witha() requires a number");return new Color(this._r,this._g,this._b,t)}},{key:"withlum",value:function withlum(t){if("number"!=typeof t)throw new R("witha() requires a number");var e=this.hlsa();return _hls(e[0],t,e[2],e[3])}},{key:"ul4type",value:function ul4type(){return"color"}}]),Color}();expose(Ce.prototype.r,[]),expose(Ce.prototype.g,[]),expose(Ce.prototype.b,[]),expose(Ce.prototype.a,[]),expose(Ce.prototype.lum,[]),expose(Ce.prototype.hls,[]),expose(Ce.prototype.hlsa,[]),expose(Ce.prototype.hsv,[]),expose(Ce.prototype.hsva,[]),expose(Ce.prototype.witha,["a"]),expose(Ce.prototype.withlum,["lum"]);for(var je=function(t){function Date_(t,e,r){var n;return _classCallCheck(this,Date_),(n=_possibleConstructorReturn(this,_getPrototypeOf(Date_).call(this)))._date=new Date(t,e-1,r),n}return _inherits(Date_,v),_createClass(Date_,[{key:"__repr__",value:function __repr__(){return"@("+this.__str__()+")"}},{key:"__str__",value:function __str__(){return _lpad(this._date.getFullYear(),"0",4)+"-"+_lpad(this._date.getMonth()+1,"0",2)+"-"+_lpad(this._date.getDate(),"0",2)}},{key:"__eq__",value:function __eq__(t){return t instanceof Date_&&this._date.getTime()===t._date.getTime()}},{key:"__lt__",value:function __lt__(t){if(t instanceof Date_)return this._date<t._date;_unorderable("<",this,t)}},{key:"__le__",value:function __le__(t){if(t instanceof Date_)return this._date<=t._date;_unorderable("<=",this,t)}},{key:"__gt__",value:function __gt__(t){if(t instanceof Date_)return this._date>t._date;_unorderable(">",this,t)}},{key:"__ge__",value:function __ge__(t){if(t instanceof Date_)return this._date>=t._date;_unorderable(">=",this,t)}},{key:"year",value:function year(){return this._date.getFullYear()}},{key:"month",value:function month(){return this._date.getMonth()+1}},{key:"day",value:function day(){return this._date.getDate()}},{key:"ul4type",value:function ul4type(){return"date"}}]),Date_}(),Oe=function(t){function TimeDelta(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck(this,TimeDelta),t=_possibleConstructorReturn(this,_getPrototypeOf(TimeDelta).call(this));var i=Math.floor(1e6*(86400*e+r)+n);n=Vt.prototype._do(i,1e6);var o=Math.floor(i/1e6);return r=Vt.prototype._do(o,86400),e=Math.floor(o/86400),r<0&&(r+=86400,--e),t._microseconds=n,t._seconds=r,t._days=e,t}return _inherits(TimeDelta,v),_createClass(TimeDelta,[{key:"__repr__",value:function __repr__(){var t=[],e=!0;return t.push("timedelta("),this._days&&(t.push("days="+this._days),e=!1),this._seconds&&(e||t.push(", "),t.push("seconds="+this._seconds),e=!1),this._microseconds&&(e||t.push(", "),t.push("microseconds="+this._microseconds)),t.push(")"),t.join("")}},{key:"__str__",value:function __str__(){var t=[];this._days&&(t.push(this._days+" day"),-1!==this._days&&1!==this._days&&t.push("s"),t.push(", "));var e=this._seconds%60,r=Math.floor(this._seconds/60),n=Math.floor(r/60);return r%=60,t.push(""+n),t.push(":"),t.push(_lpad(r.toString(),"0",2)),t.push(":"),t.push(_lpad(e.toString(),"0",2)),this._microseconds&&(t.push("."),t.push(_lpad(this._microseconds.toString(),"0",6))),t.join("")}},{key:"__bool__",value:function __bool__(){return 0!==this._days||0!==this._seconds||0!==this._microseconds}},{key:"__abs__",value:function __abs__(){return this._days<0?new TimeDelta(-this._days,-this._seconds,-this._microseconds):this}},{key:"__eq__",value:function __eq__(t){return t instanceof TimeDelta&&(this._days===t._days&&this._seconds===t._seconds&&this._microseconds===t._microseconds)}},{key:"__lt__",value:function __lt__(t){if(t instanceof TimeDelta)return this._days!=t._days?this._days<t._days:this._seconds!=t._seconds?this._seconds<t._seconds:this._microseconds<t._microseconds;_unorderable("<",this,t)}},{key:"__le__",value:function __le__(t){if(t instanceof TimeDelta)return this._days!=t._days?this._days<t._days:this._seconds!=t._seconds?this._seconds<t._seconds:this._microseconds<=t._microseconds;_unorderable("<=",this,t)}},{key:"__gt__",value:function __gt__(t){if(t instanceof TimeDelta)return this._days!=t._days?this._days>t._days:this._seconds!=t._seconds?this._seconds>t._seconds:this._microseconds>t._microseconds;_unorderable(">",this,t)}},{key:"__ge__",value:function __ge__(t){if(t instanceof TimeDelta)return this._days!=t._days?this._days>t._days:this._seconds!=t._seconds?this._seconds>t._seconds:this._microseconds>=t._microseconds;_unorderable(">=",this,t)}},{key:"__neg__",value:function __neg__(){return new TimeDelta(-this._days,-this._seconds,-this._microseconds)}},{key:"_adddate",value:function _adddate(t,e){var r=t._date.getFullYear(),n=t._date.getMonth(),i=t._date.getDate()+e;return new Date(r,n,i)}},{key:"_adddatetime",value:function _adddatetime(t,e,r,n){var i=t.getFullYear(),o=t.getMonth(),a=t.getDate()+e,s=t.getHours(),u=t.getMinutes(),l=t.getSeconds()+r,_=t.getMilliseconds()+n/1e3;return new Date(i,o,a,s,u,l,_)}},{key:"__add__",value:function __add__(t){if(t instanceof TimeDelta)return new TimeDelta(this._days+t._days,this._seconds+t._seconds,this._microseconds+t._microseconds);if(_isdate(t))return this._adddate(t,this._days);if(_isdatetime(t))return this._adddatetime(t,this._days,this._seconds,this._microseconds);throw new R(_type(this)+" + "+_type(t)+" not supported")}},{key:"__radd__",value:function __radd__(t){if(_isdate(t))return this._adddate(t,this._days);if(_isdatetime(t))return this._adddatetime(t,this._days,this._seconds,this._microseconds);throw new R(_type(this)+" + "+_type(t)+" not supported")}},{key:"__sub__",value:function __sub__(t){if(t instanceof TimeDelta)return new TimeDelta(this._days-t._days,this._seconds-t._seconds,this._microseconds-t._microseconds);throw new R(_type(this)+" - "+_type(t)+" not supported")}},{key:"__rsub__",value:function __rsub__(t){if(_isdate(t))return this._adddate(t,-this._days);if(_isdatetime(t))return this._adddatetime(t,-this._days,-this._seconds,-this._microseconds);throw new R(_type(this)+" - "+_type(t)+" not supported")}},{key:"__mul__",value:function __mul__(t){if("number"==typeof t)return new TimeDelta(this._days*t,this._seconds*t,this._microseconds*t);throw new R(_type(this)+" * "+_type(t)+" not supported")}},{key:"__rmul__",value:function __rmul__(t){if("number"==typeof t)return new TimeDelta(this._days*t,this._seconds*t,this._microseconds*t);throw new R(_type(this)+" * "+_type(t)+" not supported")}},{key:"__truediv__",value:function __truediv__(t){if("number"==typeof t)return new TimeDelta(this._days/t,this._seconds/t,this._microseconds/t);if(t instanceof TimeDelta){var e=this._days,r=t._days,n=this._seconds||t._seconds,i=this._microseconds||t._microseconds;return(n||i)&&(e=86400*e+this._seconds,r=86400*r+t._seconds,i&&(e=1e6*e+this._microseconds,r=1e6*r+t._microseconds)),e/r}throw new R(_type(this)+" / "+_type(t)+" not supported")}},{key:"__getattr__",value:function __getattr__(t){var e=this;switch(t){case"days":var r=function days(){return e._days};return expose(r,[]),r;case"seconds":var n=function seconds(){return e._seconds};return expose(n,[]),n;case"microseconds":var i=function microseconds(){return e._microseconds};return expose(i,[]),i;default:throw new L(this,t)}}},{key:"days",value:function days(){return this._days}},{key:"seconds",value:function seconds(){return this._seconds}},{key:"microseconds",value:function microseconds(){return this._microseconds}},{key:"ul4type",value:function ul4type(){return"timedelta"}}]),TimeDelta}(),Me=function(t){function MonthDelta(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return _classCallCheck(this,MonthDelta),(t=_possibleConstructorReturn(this,_getPrototypeOf(MonthDelta).call(this)))._months=e,t}return _inherits(MonthDelta,v),_createClass(MonthDelta,[{key:"__repr__",value:function __repr__(){return this._months?"monthdelta("+this._months+")":"monthdelta()"}},{key:"__str__",value:function __str__(){return this._months?-1!==this._months&&1!==this._months?this._months+" months":this._months+" month":"0 months"}},{key:"toString",value:function toString(){return this.__str__()}},{key:"__bool__",value:function __bool__(){return 0!==this._months}},{key:"__abs__",value:function __abs__(){return this._months<0?new MonthDelta(-this._months):this}},{key:"__eq__",value:function __eq__(t){return t instanceof MonthDelta&&this._months===t._months}},{key:"__lt__",value:function __lt__(t){if(t instanceof MonthDelta)return this._months<t._months;_unorderable("<",this,t)}},{key:"__le__",value:function __le__(t){if(t instanceof MonthDelta)return this._months<=t._months;_unorderable("<=",this,t)}},{key:"__gt__",value:function __gt__(t){if(t instanceof MonthDelta)return this._months>t._months;_unorderable(">",this,t)}},{key:"__ge__",value:function __ge__(t){if(t instanceof MonthDelta)return this._months>=t._months;_unorderable(">=",this,t)}},{key:"__neg__",value:function __neg__(){return new MonthDelta(-this._months)}},{key:"_adddate",value:function _adddate(t,e){var r=this._adddatetime(t._date,e);return new je(r.getFullYear(),r.getMonth()+1,r.getDate())}},{key:"_adddatetime",value:function _adddatetime(t,e){for(var r=t.getFullYear(),n=t.getMonth()+e,i=t.getDate(),o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),u=t.getMilliseconds();;){var l=new Date(r,n,1,o,a,s,u).getMonth(),_=new Date(r,n,i,o,a,s,u);if(_.getMonth()===l)return _;--i}}},{key:"__add__",value:function __add__(t){if(_ismonthdelta(t))return new MonthDelta(this._months+t._months);if(_isdate(t))return this._adddate(t,this._months);if(_isdatetime(t))return this._adddatetime(t,this._months);throw new I(_type(this)+" + "+_type(t)+" not supported")}},{key:"__radd__",value:function __radd__(t){if(_isdate(t))return this._adddate(t,this._months);if(_isdatetime(t))return this._adddatetime(t,this._months);throw new I(_type(this)+" + "+_type(t)+" not supported")}},{key:"__sub__",value:function __sub__(t){if(_ismonthdelta(t))return new MonthDelta(this._months-t._months);throw new I(_type(this)+" - "+_type(t)+" not supported")}},{key:"__rsub__",value:function __rsub__(t){if(_isdate(t))return this._adddate(t,-this._months);if(_isdatetime(t))return this._adddatetime(t,-this._months);throw new I(_type(this)+" - "+_type(t)+" not supported")}},{key:"__mul__",value:function __mul__(t){if("number"==typeof t)return new MonthDelta(this._months*Math.floor(t));throw new I(_type(this)+" * "+_type(t)+" not supported")}},{key:"__rmul__",value:function __rmul__(t){if("number"==typeof t)return new MonthDelta(this._months*Math.floor(t));throw new I(_type(this)+" * "+_type(t)+" not supported")}},{key:"__floordiv__",value:function __floordiv__(t){if("number"==typeof t)return new MonthDelta(Math.floor(this._months/t));if(_ismonthdelta(t))return Math.floor(this._months/t._months);throw new I(_type(this)+" // "+_type(t)+" not supported")}},{key:"__truediv__",value:function __truediv__(t){if(_ismonthdelta(t))return this._months/t._months;throw new I(_type(this)+" / "+_type(t)+" not supported")}},{key:"__getattr__",value:function __getattr__(t){var e=this;switch(t){case"months":var r=function months(){return e._months};return expose(r,[]),r;default:throw new L(this,t)}}},{key:"months",value:function months(){return this._months}},{key:"ul4type",value:function ul4type(){return"monthdelta"}}]),MonthDelta}(),Ee=0,Pe=[[H,"text"],[X,"indent"],[J,"lineend"],[K,"const"],[Q,"seqitem"],[$,"unpackseqitem"],[Z,"dictitem"],[tt,"unpackdictitem"],[et,"posarg"],[rt,"keywordarg"],[nt,"unpacklistarg"],[it,"unpackdictarg"],[ot,"list"],[at,"listcomp"],[lt,"dict"],[_t,"dictcomp"],[st,"set"],[ut,"setcomp"],[ct,"genexpr"],[ft,"var"],[vt,"not"],[pt,"neg"],[dt,"bitnot"],[yt,"if"],[mt,"return"],[gt,"print"],[bt,"printx"],[kt,"item"],[At,"is"],[Tt,"isnot"],[xt,"eq"],[wt,"ne"],[Ct,"lt"],[jt,"le"],[Ot,"gt"],[Mt,"ge"],[Pt,"notcontains"],[Et,"contains"],[Dt,"add"],[Rt,"sub"],[Bt,"mul"],[It,"floordiv"],[qt,"truediv"],[Vt,"mod"],[Nt,"shiftleft"],[Lt,"shiftright"],[Ft,"bitand"],[Yt,"bitxor"],[Ut,"bitor"],[zt,"and"],[Ht,"or"],[Zt,"slice"],[Xt,"attr"],[Jt,"call"],[Gt,"render"],[Kt,"renderx"],[Wt,"renderblock"],[Qt,"renderblocks"],[te,"setvar"],[re,"addvar"],[ne,"subvar"],[ie,"mulvar"],[oe,"truedivvar"],[ae,"floordivvar"],[se,"modvar"],[ue,"shiftleftvar"],[le,"shiftrightvar"],[_e,"bitandvar"],[ce,"bitxorvar"],[fe,"bitorvar"],[pe,"forblock"],[de,"whileblock"],[ve,"break"],[ye,"continue"],[me,"condblock"],[be,"ifblock"],[Se,"elifblock"],[ke,"elseblock"],[Te,"signature"],[Ae,"template"]];Ee<Pe.length;Ee++){var De=_slicedToArray(Pe[Ee],2),Re=De[0],Be=De[1];Re.prototype.type=Be,register("de.livinglogic.ul4."+Be,Re)}t.AST=z,t.AddAST=Dt,t.AddVarAST=re,t.AndAST=zt,t.ArgumentError=I,t.AttrAST=Xt,t.AttributeError=L,t.BinaryAST=St,t.BitAndAST=Ft,t.BitAndVarAST=_e,t.BitNotAST=dt,t.BitOrAST=Ut,t.BitOrVarAST=fe,t.BitXOrAST=Yt,t.BitXOrVarAST=ce,t.BlockAST=he,t.BreakAST=ve,t.BreakException=M,t.CallAST=Jt,t.CodeAST=G,t.Color=Ce,t.CondBlockAST=me,t.ConditionalBlockAST=ge,t.ConstAST=K,t.ContainsAST=Et,t.Context=C,t.ContinueAST=ye,t.ContinueException=E,t.DateProtocol=T,t.DateTimeProtocol=x,t.Date_=je,t.Decoder=u,t.DictAST=lt,t.DictCompAST=_t,t.DictItemAST=Z,t.EQAST=xt,t.ElIfBlockAST=Se,t.ElseBlockAST=ke,t.Encoder=s,t.Exception=Exception,t.FloorDivAST=It,t.FloorDivVarAST=ae,t.ForBlockAST=pe,t.GEAST=Mt,t.GTAST=Ot,t.GenExprAST=ct,t.IfAST=yt,t.IfBlockAST=be,t.IndentAST=X,t.IndexError=N,t.InternalException=j,t.IsAST=At,t.IsNotAST=Tt,t.ItemAST=kt,t.ItemArgBase=W,t.KeyError=F,t.KeywordArgAST=rt,t.LEAST=jt,t.LTAST=Ct,t.LValueRequiredError=D,t.LineEndAST=J,t.ListAST=ot,t.ListCompAST=at,t.ListProtocol=S,t.LocationError=U,t.MapProtocol=k,t.ModAST=Vt,t.ModVarAST=se,t.ModifyVarAST=ee,t.MonthDelta=Me,t.MulAST=Bt,t.MulVarAST=ie,t.NEAST=wt,t.NegAST=pt,t.NotAST=vt,t.NotContainsAST=Pt,t.NotImplementedError=Y,t.NotSubscriptableError=q,t.ObjectProtocol=w,t.OrAST=Ht,t.PosArgAST=et,t.PrintAST=gt,t.PrintXAST=bt,t.Proto=v,t.Protocol=g,t.RenderAST=Gt,t.RenderBlockAST=Wt,t.RenderBlocksAST=Qt,t.RenderXAST=Kt,t.ReturnAST=mt,t.ReturnException=O,t.SeqItemAST=Q,t.SetAST=st,t.SetCompAST=ut,t.SetProtocol=A,t.SetVarAST=te,t.ShiftLeftAST=Nt,t.ShiftLeftVarAST=ue,t.ShiftRightAST=Lt,t.ShiftRightVarAST=le,t.Signature=y,t.SignatureAST=Te,t.SliceAST=Zt,t.StrProtocol=b,t.SubAST=Rt,t.SubVarAST=ne,t.SyntaxError=P,t.Template=Ae,t.TemplateClosure=xe,t.TextAST=H,t.TimeDelta=Oe,t.TrueDivAST=qt,t.TrueDivVarAST=oe,t.TypeError=R,t.UnaryAST=ht,t.UnpackDictArgAST=it,t.UnpackDictItemAST=tt,t.UnpackListArgAST=nt,t.UnpackSeqItemAST=$,t.ValueError=B,t.VarAST=ft,t.WhileBlockAST=de,t.ZeroDivisionError=V,t._Set=m,t._abs=_abs,t._all=_all,t._any=_any,t._ascii=_ascii,t._asjson=_asjson,t._asul4on=_asul4on,t._bin=_bin,t._bool=_bool,t._bound=_bound,t._call=_call,t._callfunction=_callfunction,t._callobject=_callobject,t._callrender=_callrender,t._chr=_chr,t._cmp=_cmp,t._count=_count,t._csv=_csv,t._date=_date,t._datetime=_datetime,t._dir=_dir,t._enumerate=_enumerate,t._enumfl=_enumfl,t._eq=_eq,t._extend=_extend,t._find=_find,t._first=_first,t._float=_float,t._format=_format,t._formatsource=_formatsource,t._fromjson=_fromjson,t._fromul4on=_fromul4on,t._ge=_ge,t._get=function _get$1(t,e,r){if(h(t))return t.has(e)?t.get(e):r;if(_isobject(t)){var n=t[e];return void 0===n?r:n}throw new R("get() requires a dict")},t._getattr=_getattr,t._gt=_gt,t._hasattr=_hasattr,t._havemap=i,t._hex=_hex,t._hls=_hls,t._hsv=_hsv,t._int=_int,t._internal_call=_internal_call,t._isanyset=_isanyset,t._isbool=_isbool,t._iscolor=_iscolor,t._isdate=_isdate,t._isdatetime=_isdatetime,t._isdefined=_isdefined,t._isdict=p,t._isexception=_isexception,t._isfirst=_isfirst,t._isfirstlast=_isfirstlast,t._isfloat=_isfloat,t._isfunction=_isfunction,t._isint=_isint,t._isiter=_isiter,t._islast=_islast,t._isleap=_isleap,t._islist=_islist,t._ismap=h,t._ismonthdelta=_ismonthdelta,t._isnone=_isnone,t._isobject=_isobject,t._isset=_isset,t._isstr=_isstr,t._istemplate=_istemplate,t._istimedelta=_istimedelta,t._isul4set=_isul4set,t._isundefined=_isundefined,t._iter=_iter,t._last=_last,t._le=_le,t._len=_len,t._list=_list,t._list_repeat=_list_repeat,t._lpad=_lpad,t._lt=_lt,t._makeset=a,t._map2object=function _map2object(t){if(h(t)){var e={};return t.forEach(function(t,r){if("string"!=typeof r)throw new R("keys must be strings");e[r]=t}),e}return t},t._max=_max,t._md5=_md5,t._min=_min,t._mod=_mod,t._monthdelta=_monthdelta,t._ne=_ne,t._oct=_oct,t._ord=_ord,t._randchoice=_randchoice,t._random=_random,t._randrange=_randrange,t._range=_range,t._repr=_repr2,t._reversed=_reversed,t._rfind=_rfind,t._rgb=_rgb,t._round=_round,t._rpad=function _rpad(t,e,r){for("number"==typeof t&&(t=t.toString());t.length<r;)t+=e;return t},t._scrypt=_scrypt,t._set=_set,t._slice=_slice,t._sorted=_sorted,t._stacktrace=function _stacktrace(t){var e=(t instanceof Exception?t.constructor.name+": ":"")+t.toString();return t.context&&(e=_stacktrace(t.context)+"\n\n"+e),e},t._str=_str,t._str_repeat=_str_repeat,t._sum=_sum,t._timedelta=_timedelta,t._type=_type,t._unorderable=_unorderable,t._unpackvar=_unpackvar,t._update=_update,t._urlquote=_urlquote,t._urlunquote=_urlunquote,t._week4format=_week4format,t._xmlescape=_xmlescape,t._zip=_zip,t.api_version="49",t.dumps=dumps,t.expose=expose,t.functions=we,t.loads=_loads,t.now=now,t.register=register,t.slice=$t,t.today=today,t.utcnow=utcnow,t.version="1.4.0",Object.defineProperty(t,"__esModule",{value:!0})});
=======
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).ul4={})}(this,function(e){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _construct(e,t,r){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function _construct(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&_setPrototypeOf(a,r.prototype),a}).apply(null,arguments)}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _createSuper(e){return function(){var t,r=_getPrototypeOf(e);if(_isNativeReflectConstruct()){var n=_getPrototypeOf(this).constructor;t=Reflect.construct(r,arguments,n)}else t=r.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _get(e,t,r){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,r){var n=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,t)||_unsupportedIterableToArray(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_unsupportedIterableToArray(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _createForOfIteratorHelper(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=_unsupportedIterableToArray(e))){var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a,i=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw a}}}}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var r=function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e){!function(t){function safeAdd(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function md5cmn(e,t,r,n,a,i){return safeAdd(function bitRotateLeft(e,t){return e<<t|e>>>32-t}(safeAdd(safeAdd(t,e),safeAdd(n,i)),a),r)}function md5ff(e,t,r,n,a,i,o){return md5cmn(t&r|~t&n,e,t,a,i,o)}function md5gg(e,t,r,n,a,i,o){return md5cmn(t&n|r&~n,e,t,a,i,o)}function md5hh(e,t,r,n,a,i,o){return md5cmn(t^r^n,e,t,a,i,o)}function md5ii(e,t,r,n,a,i,o){return md5cmn(r^(t|~n),e,t,a,i,o)}function binlMD5(e,t){var r,n,a,i,o;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var s=1732584193,u=-271733879,l=-1732584194,_=271733878;for(r=0;r<e.length;r+=16)n=s,a=u,i=l,o=_,s=md5ff(s,u,l,_,e[r],7,-680876936),_=md5ff(_,s,u,l,e[r+1],12,-389564586),l=md5ff(l,_,s,u,e[r+2],17,606105819),u=md5ff(u,l,_,s,e[r+3],22,-1044525330),s=md5ff(s,u,l,_,e[r+4],7,-176418897),_=md5ff(_,s,u,l,e[r+5],12,1200080426),l=md5ff(l,_,s,u,e[r+6],17,-1473231341),u=md5ff(u,l,_,s,e[r+7],22,-45705983),s=md5ff(s,u,l,_,e[r+8],7,1770035416),_=md5ff(_,s,u,l,e[r+9],12,-1958414417),l=md5ff(l,_,s,u,e[r+10],17,-42063),u=md5ff(u,l,_,s,e[r+11],22,-1990404162),s=md5ff(s,u,l,_,e[r+12],7,1804603682),_=md5ff(_,s,u,l,e[r+13],12,-40341101),l=md5ff(l,_,s,u,e[r+14],17,-1502002290),s=md5gg(s,u=md5ff(u,l,_,s,e[r+15],22,1236535329),l,_,e[r+1],5,-165796510),_=md5gg(_,s,u,l,e[r+6],9,-1069501632),l=md5gg(l,_,s,u,e[r+11],14,643717713),u=md5gg(u,l,_,s,e[r],20,-373897302),s=md5gg(s,u,l,_,e[r+5],5,-701558691),_=md5gg(_,s,u,l,e[r+10],9,38016083),l=md5gg(l,_,s,u,e[r+15],14,-660478335),u=md5gg(u,l,_,s,e[r+4],20,-405537848),s=md5gg(s,u,l,_,e[r+9],5,568446438),_=md5gg(_,s,u,l,e[r+14],9,-1019803690),l=md5gg(l,_,s,u,e[r+3],14,-187363961),u=md5gg(u,l,_,s,e[r+8],20,1163531501),s=md5gg(s,u,l,_,e[r+13],5,-1444681467),_=md5gg(_,s,u,l,e[r+2],9,-51403784),l=md5gg(l,_,s,u,e[r+7],14,1735328473),s=md5hh(s,u=md5gg(u,l,_,s,e[r+12],20,-1926607734),l,_,e[r+5],4,-378558),_=md5hh(_,s,u,l,e[r+8],11,-2022574463),l=md5hh(l,_,s,u,e[r+11],16,1839030562),u=md5hh(u,l,_,s,e[r+14],23,-35309556),s=md5hh(s,u,l,_,e[r+1],4,-1530992060),_=md5hh(_,s,u,l,e[r+4],11,1272893353),l=md5hh(l,_,s,u,e[r+7],16,-155497632),u=md5hh(u,l,_,s,e[r+10],23,-1094730640),s=md5hh(s,u,l,_,e[r+13],4,681279174),_=md5hh(_,s,u,l,e[r],11,-358537222),l=md5hh(l,_,s,u,e[r+3],16,-722521979),u=md5hh(u,l,_,s,e[r+6],23,76029189),s=md5hh(s,u,l,_,e[r+9],4,-640364487),_=md5hh(_,s,u,l,e[r+12],11,-421815835),l=md5hh(l,_,s,u,e[r+15],16,530742520),s=md5ii(s,u=md5hh(u,l,_,s,e[r+2],23,-995338651),l,_,e[r],6,-198630844),_=md5ii(_,s,u,l,e[r+7],10,1126891415),l=md5ii(l,_,s,u,e[r+14],15,-1416354905),u=md5ii(u,l,_,s,e[r+5],21,-57434055),s=md5ii(s,u,l,_,e[r+12],6,1700485571),_=md5ii(_,s,u,l,e[r+3],10,-1894986606),l=md5ii(l,_,s,u,e[r+10],15,-1051523),u=md5ii(u,l,_,s,e[r+1],21,-2054922799),s=md5ii(s,u,l,_,e[r+8],6,1873313359),_=md5ii(_,s,u,l,e[r+15],10,-30611744),l=md5ii(l,_,s,u,e[r+6],15,-1560198380),u=md5ii(u,l,_,s,e[r+13],21,1309151649),s=md5ii(s,u,l,_,e[r+4],6,-145523070),_=md5ii(_,s,u,l,e[r+11],10,-1120210379),l=md5ii(l,_,s,u,e[r+2],15,718787259),u=md5ii(u,l,_,s,e[r+9],21,-343485551),s=safeAdd(s,n),u=safeAdd(u,a),l=safeAdd(l,i),_=safeAdd(_,o);return[s,u,l,_]}function binl2rstr(e){var t,r="",n=32*e.length;for(t=0;t<n;t+=8)r+=String.fromCharCode(e[t>>5]>>>t%32&255);return r}function rstr2binl(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return r}function rstr2hex(e){var t,r,n="";for(r=0;r<e.length;r+=1)t=e.charCodeAt(r),n+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return n}function str2rstrUTF8(e){return unescape(encodeURIComponent(e))}function rawMD5(e){return function rstrMD5(e){return binl2rstr(binlMD5(rstr2binl(e),8*e.length))}(str2rstrUTF8(e))}function rawHMACMD5(e,t){return function rstrHMACMD5(e,t){var r,n,a=rstr2binl(e),i=[],o=[];for(i[15]=o[15]=void 0,a.length>16&&(a=binlMD5(a,8*e.length)),r=0;r<16;r+=1)i[r]=909522486^a[r],o[r]=1549556828^a[r];return n=binlMD5(i.concat(rstr2binl(t)),512+8*t.length),binl2rstr(binlMD5(o.concat(n),640))}(str2rstrUTF8(e),str2rstrUTF8(t))}function md5(e,t,r){return t?r?rawHMACMD5(t,e):function hexHMACMD5(e,t){return rstr2hex(rawHMACMD5(e,t))}(t,e):r?rawMD5(e):function hexMD5(e){return rstr2hex(rawMD5(e))}(e)}e.exports?e.exports=md5:t.md5=md5}(t)}),n={},a="function"==typeof Map&&"function"==typeof Map.prototype.forEach,i=(function(){if(a)try{if(1==new Map([[1,2]]).size)return!0}catch(e){}}(),"function"==typeof Set&&"function"==typeof Set.prototype.forEach);!function(){if(i){try{if(2==new Set([1,2]).size)return!0}catch(e){}return!1}}();a?(e._makemap=function _makemap(){for(var e=new Map,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var a=0,i=r;a<i.length;a++){var o=_slicedToArray(i[a],2),s=o[0],u=o[1];e.set(s,u)}return e},e._setmap=function _setmap(e,t,r){e.__proto__===Map.prototype?e.set(t,r):e[t]=r},e._emptymap=function _emptymap(){return new Map},e._getmap=function _getmap(e,t,r){return e.__proto__===Map.prototype?e.get(t):e[t]}):(e._makemap=function _makemap(){for(var e={},t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var a=0,i=r;a<i.length;a++){var o=_slicedToArray(i[a],2),s=o[0],u=o[1];e[s]=u}return e},e._setmap=function _setmap(e,t,r){e[t]=r},e._emptymap=function _emptymap(){return{}},e._getmap=function _getmap(e,t,r){return e[t]}),e._emptyset=i?function _emptyset(){return new Set}:function _emptyset(){return new y};var o=function _makeset(){for(var t=e._emptyset(),r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];for(var i=0,o=n;i<o.length;i++){var s=o[i];t.add(s)}return t};function register(e,t){t.prototype.ul4onname=e,n[e]=t}function dumps(e,t){var r=new s(t);return r.dump(e),r.finish()}function _loads(e,t){return new u(e,t).load()}var s=function(){function Encoder(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_classCallCheck(this,Encoder),this.indent=e,this.data=[],this._level=0,this._strings2index={},this._ids2index={},this._backrefs=0}return _createClass(Encoder,[{key:"_line",value:function _line(e){if(null!==this.indent)for(var t=0;t<this._level;++t)this.data.push(this.indent);else this.data.length&&this.data.push(" ");this.data.push(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];if(n.length){var i=this.indent;this.indent=null;var o,s=_createForOfIteratorHelper(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.dump(u)}}catch(e){s.e(e)}finally{s.f()}this.indent=i}null!==this.indent&&this.data.push("\n")}},{key:"finish",value:function finish(){return this.data.join("")}},{key:"dump",value:function dump(e){if(null===e)this._line("n");else if("boolean"==typeof e)this._line(e?"bT":"bF");else if("number"==typeof e){var t=Math.round(e)==e?"i":"f";this._line(t+e)}else if("string"==typeof e){var r=this._strings2index[e];if(void 0!==r)this._line("^"+r);else{this._strings2index[e]=this._backrefs++;var dump=_str_repr(e).replace("<","\\x3c");this._line("S"+dump)}}else if(_iscolor(e))this._line("c",e.r(),e.g(),e.b(),e.a());else if(_isdate(e))this._line("x",e.year(),e.month(),e.day());else if(_isdatetime(e))this._line("z",e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),1e3*e.getMilliseconds());else if(_istimedelta(e))this._line("t",e.days(),e.seconds(),e.microseconds());else if(_ismonthdelta(e))this._line("m",e.months());else if(e instanceof Ke)this._line("r",e.start,e.stop);else if(e.ul4onname&&e.ul4ondump){if(e.__id__){var n=this._ids2index[e.__id__];if(void 0!==n)return void this._line("^"+n);this._ids2index[e.__id__]=this._backrefs++}this._line("O",e.ul4onname),++this._level,e.ul4ondump(this),--this._level,this._line(")")}else if(_islist(e)){this._line("l"),++this._level;var a,i=_createForOfIteratorHelper(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;this.dump(o)}}catch(e){i.e(e)}finally{i.f()}--this._level,this._line("]")}else if(h(e))this._line("e"),++this._level,e.forEach(function(e,t){this.dump(t),this.dump(e)},this),--this._level,this._line("}");else if(p(e)){for(var s in this._line("d"),++this._level,e)this.dump(s),this.dump(e[s]);--this._level,this._line("}")}else{if(!_isset(e))throw new F("can't create UL4ON dump of object "+_repr2(e));this._line("y"),++this._level,e.forEach(function(e){this.dump(e)},this),--this._level,this._line("}")}}}]),Encoder}(),u=function(){function Decoder(e,t){_classCallCheck(this,Decoder),this.data=e,this.pos=0,this.backrefs=[],this.registry=void 0===t?null:t,this.stack=[]}return _createClass(Decoder,[{key:"readchar",value:function readchar(){if(this.pos>=this.data.length)throw new F("UL4 decoder at EOF");return this.data.charAt(this.pos++)}},{key:"readcharoreof",value:function readcharoreof(){return this.pos>=this.data.length?null:this.data.charAt(this.pos++)}},{key:"readblackchar",value:function readblackchar(){for(var e=/\s/;;){if(this.pos>=this.data.length)throw new F("UL4 decoder at EOF at position "+this.pos+" with path "+this.stack.join("/"));var t=this.data.charAt(this.pos++);if(!t.match(e))return t}}},{key:"read",value:function read(e){this.pos+e>this.length&&(e=this.length-this.pos);var t=this.data.substring(this.pos,this.pos+e);return this.pos+=e,t}},{key:"backup",value:function backup(){--this.pos}},{key:"readnumber",value:function readnumber(){for(var e=/[-+0123456789.eE]/,t="";;){var r=this.readcharoreof();if(null===r||!r.match(e)){var n=parseFloat(t);if(isNaN(n))throw new F("invalid number, got "+_repr2("value")+" at position "+this.pos+" with path "+this.stack.join("/"));return n}t+=r}}},{key:"_beginfakeloading",value:function _beginfakeloading(){var e=this.backrefs.length;return this.backrefs.push(null),e}},{key:"_endfakeloading",value:function _endfakeloading(e,t){this.backrefs[e]=t}},{key:"_readescape",value:function _readescape(e,t){var r=this.read(t);if(r.length!=t)throw new F("broken escape "+_repr2("\\"+e+r)+" at position "+this.pos+" with path "+this.stack.join("/"));var n=parseInt(r,16);if(isNaN(n))throw new F("broken escape "+_repr2("\\"+e+r)+" at position "+this.pos+" with path "+this.stack.join("/"));return String.fromCharCode(n)}},{key:"load",value:function load(){var t,r=this.readblackchar();switch(r){case"^":return this.backrefs[this.readnumber()];case"n":case"N":return"N"===r&&this.backrefs.push(null),null;case"b":case"B":if("T"===(t=this.readchar()))t=!0;else{if("F"!==t)throw new F("wrong value for boolean, expected 'T' or 'F', got "+_repr2(t)+" at position "+this.pos+" with path "+this.stack.join("/"));t=!1}return"B"===r&&this.backrefs.push(t),t;case"i":case"I":case"f":case"F":return t=this.readnumber(),"I"!==r&&"F"!==r||this.backrefs.push(t),t;case"s":case"S":t=[];for(var i=this.readblackchar();;){var s=this.readchar();if(s==i)break;if("\\"==s){var u=this.readchar();"\\"==u?t.push("\\"):"n"==u?t.push("\n"):"r"==u?t.push("\r"):"t"==u?t.push("\t"):"f"==u?t.push("\f"):"b"==u?t.push("\b"):"a"==u?t.push(""):"'"==u?t.push("'"):'"'==u?t.push('"'):"x"==u?t.push(this._readescape("x",2)):"u"==u?t.push(this._readescape("u",4)):"U"==u?t.push(this._readescape("U",8)):t.push("\\"+u)}else t.push(s)}return t=t.join(""),"S"===r&&this.backrefs.push(t),t;case"c":case"C":return t=new wt,"C"===r&&this.backrefs.push(t),t._r=this.load(),t._g=this.load(),t._b=this.load(),t._a=this.load(),t;case"x":case"X":var l=this.load(),_=this.load(),c=this.load();return t=new xt(l,_,c),"X"===r&&this.backrefs.push(t),t;case"z":case"Z":return(t=new Date).setFullYear(this.load()),t.setDate(1),t.setMonth(this.load()-1),t.setDate(this.load()),t.setHours(this.load()),t.setMinutes(this.load()),t.setSeconds(this.load()),t.setMilliseconds(this.load()/1e3),"Z"===r&&this.backrefs.push(t),t;case"t":case"T":return(t=new Ct)._days=this.load(),t._seconds=this.load(),t._microseconds=this.load(),"T"===r&&this.backrefs.push(t),t;case"r":case"R":return t=new Ke,"R"===r&&this.backrefs.push(t),t.start=this.load(),t.stop=this.load(),t;case"m":case"M":return t=new jt,"M"===r&&this.backrefs.push(t),t._months=this.load(),t;case"l":case"L":for(this.stack.push("list"),t=[],"L"===r&&this.backrefs.push(t);"]"!==(r=this.readblackchar());)this.backup(),t.push(this.load());return this.stack.pop(),t;case"d":case"D":case"e":case"E":if(!a&&("e"==r||"E"==r))throw new F("ordered dictionaries are not supported at position "+this.pos+" with path "+this.stack.join("/"));for(t=e._emptymap(),this.stack.push("d"===r||"D"===r?"dict":"odict"),"D"!==r&&"E"!==r||this.backrefs.push(t);"}"!==(r=this.readblackchar());){this.backup();var f=this.load(),h=this.load();e._setmap(t,f,h)}return this.stack.pop(),t;case"y":case"Y":for(this.stack.push("set"),t=o(),"Y"===r&&this.backrefs.push(t);"}"!==(r=this.readblackchar());)this.backup(),t.add(this.load());return this.stack.pop(),t;case"o":case"O":var p;"O"===r&&(p=this._beginfakeloading());var d,v=this.load();if(this.stack.push(v),null!==this.registry?void 0===(d=this.registry[v])&&(d=n[v]):d=n[v],void 0===d)throw new F("can't load object of type "+_repr2(v)+" at position "+this.pos+" with path "+this.stack.join("/"));if(t=new d,"O"===r&&this._endfakeloading(p,t),t.ul4onload(this),")"!==(r=this.readblackchar()))throw new F("object terminator ')' for object of type '"+v+"' expected, got "+_repr2(r)+" at position "+this.pos+" with path "+this.stack.join("/"));return this.stack.pop(),t;default:throw new F("unknown typecode "+_repr2(r)+" at position "+this.pos+" with path "+this.stack.join("/"))}}},{key:"loadcontent",value:function loadcontent(){var e=this;return{next:function next(){var t=e.readblackchar();return e.backup(),")"==t?{done:!0}:{done:!1,value:e.load()}}}}}]),Decoder}(),l=/^[\],:{}\s]*$/,_=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,c=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,f=/(?:^|:|,)(?:\s*\[)+/g;function _bound(e,t){return e<0?0:e>t?t:e}function _internal_call(e,t,r,n,a,i,o,s,u){var l;if(o)if(null===a){if(s.length)throw new H(_repr2(t)+" doesn't support positional arguments!");l=[u]}else l=[a.bindObject(r,s,u)];else{if(null===a)throw new H(_repr2(t)+" doesn't support positional arguments!");l=a.bindArray(r,s,u)}return i&&l.unshift(e),t.apply(n,l)}function _callfunction(e,t,r,n){var a=t._ul4_name||t.name;if(void 0===t._ul4_signature||void 0===t._ul4_needsobject||void 0===t._ul4_needscontext)throw new B(_repr2(t)+" is not callable by UL4");return _internal_call(e,t,a,null,t._ul4_signature,t._ul4_needscontext,t._ul4_needsobject,r,n)}function _callobject(e,t,r,n){if(void 0===t._ul4_callsignature||void 0===t._ul4_callneedsobject||void 0===t._ul4_callneedscontext)throw new B(_repr2(t)+" is not callable by UL4");return _internal_call(e,t.__call__,t.name,t,t._ul4_callsignature,t._ul4_callneedscontext,t._ul4_callneedsobject,r,n)}function _callrender(e,t,r,n){if(void 0===t._ul4_rendersignature||void 0===t._ul4_renderneedsobject||void 0===t._ul4_renderneedscontext)throw new B(_repr2(t)+" is not renderable by UL4");return _internal_call(e,t.__render__,t.name,t,t._ul4_rendersignature,t._ul4_renderneedscontext,t._ul4_renderneedsobject,r,n)}function _call(e,t,r,n){if("function"==typeof t)return _callfunction(e,t,r,n);if(t&&"function"==typeof t.__call__)return _callobject(e,t,r,n);throw new B(_type(t)+" is not callable")}function _unpackvar(e,t){if(_islist(e)){for(var r=[],n=_iter(t),a=0;;++a){var i=n.next();if(i.done){if(a===e.length)break;throw new F("need "+e.length+" value"+(1===e.length?"":"s")+" to unpack, got "+a)}if(!(a<e.length))throw new F("too many values to unpack (expected "+e.length+")");r=r.concat(_unpackvar(e[a],i.value))}return r}return[[e,t]]}function _formatsource(e){var t,r=[],n=0,a=!1,i=_createForOfIteratorHelper(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;if("number"==typeof o)n+=o,a=!0;else{if(a){r.push("\n");for(var s=0;s<n;++s)r.push("\t");a=!1}r.push(o)}}}catch(e){i.e(e)}finally{i.f()}return a&&r.push("\n"),r.join("")}function _eq(e,t){var r=["boolean","number"];if(e&&"function"==typeof e.__eq__)return e.__eq__(t);if(t&&"function"==typeof t.__eq__)return t.__eq__(e);if(null===e)return null===t;if(-1!=r.indexOf(_typeof(e)))return-1!=r.indexOf(_typeof(t))&&e==t;if("string"==typeof e)return"string"==typeof t&&e==t;if(_isdatetime(e))return!!_isdatetime(t)&&e.getTime()==t.getTime();if(_islist(e)){if(_islist(t)){if(e===t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(!_eq(e[n],t[n]))return!1;return!0}return!1}if(_isobject(e)){if(_isobject(t)){if(e===t)return!0;for(var a in e){if(!t.hasOwnProperty(a))return!1;if(!_eq(e[a],t[a]))return!1}for(var i in t)if(!e.hasOwnProperty(i))return!1;return!0}if(h(t)){for(var o in e){if(!t.has(o))return!1;if(!_eq(e[o],t.get(o)))return!1}var s=!0;return t.forEach(function(t,r){e.hasOwnProperty(r)||(s=!1)},this),s}return!1}if(h(e)){if(_isobject(t)){for(var u in e.forEach(function(r,n){return!!t.hasOwnProperty(n)&&(!!_eq(e.get(n),t[n])&&void 0)},this),t)if(!e.has(u))return!1;return!0}if(h(t)){if(e===t)return!0;if(e.size!=t.size)return!1;var l=!0;return e.forEach(function(r,n){t.has(n)&&_eq(e.get(n),t.get(n))||(l=!1)}),l}return!1}if(_isset(e)){if(_isset(t)){if(e===t)return!0;if(e.size!=t.size)return!1;var _=!0;return e.forEach(function(e){t.has(e)||(_=!1)}),_}return!1}return e===t}function _ne(e,t){return e&&"function"==typeof e.__ne__?e.__ne__(t):t&&"function"==typeof t.__ne__?t.__ne__(e):!_eq(e,t)}function _unorderable(e,t,r){throw new B("unorderable types: "+_type(t)+" "+e+" "+_type(r))}function _cmp(e,t,r){var n=["boolean","number"];if(-1!=n.indexOf(_typeof(t))){if(-1!=n.indexOf(_typeof(r)))return(t>r)-(t<r)}else if("string"==typeof t){if("string"==typeof r)return(t>r)-(t<r)}else if(_isdatetime(t)){if(_isdatetime(r)){var a=t.getTime(),i=r.getTime();return(a>i)-(a<i)}}else if(_islist(t)){if(_islist(r)){if(t===r)return 0;for(var o=0;o<t.length;++o){if(o>=r.length)return 1;var s=_cmp(e,t[o],r[o]);if(s)return s}return r.length>t.length?-1:0}}else if((_isset(t)||_isul4set(t))&&(_isset(r)||_isul4set(r))){for(var u=!1,l=!1,_=_iter(t);;){var c=_.next();if(c.done)break;if(!r.has(c.value)){u=!0;break}}for(var f=_iter(r);;){var h=f.next();if(h.done)break;if(!t.has(h.value)){l=!0;break}}return u?l?null:1:l?-1:0}return _unorderable(e,t,r)}function _lt(e,t){var r=["boolean","number"];if(e&&"function"==typeof e.__lt__)return e.__lt__(t);if(-1!=r.indexOf(_typeof(e))){if(-1!=r.indexOf(_typeof(t)))return e<t}else if("string"==typeof e){if("string"==typeof t)return e<t}else if(_isdatetime(e)){if(_isdatetime(t))return e.getTime()<t.getTime()}else if(_islist(e)){if(_islist(t)){if(e===t)return!1;for(var n=0;n<e.length;++n){if(n>=t.length)return!1;if(!_eq(e[n],t[n]))return _lt(e[n],t[n])}return e.length<t.length}}else if(_isset(e)){if(_isset(t)){if(_isset(t)){for(var a in e)t.has(e[a])||(in1only=!0);for(var i in t)e.has(t[i])||(in2only=!0)}else if(_isul4set(t)){for(var o in e)t.items[e[o]]||(in1only=!0);for(var s in t.items)if(!e.has(s)){in2only=!0;break}}}else if(_isul4set(t)){if(_isset(t)){for(var u in e.items)if(!t.has(u)){in1only=!0;break}for(var l in t)e.items[t[l]]||(in2only=!0)}else if(_isul4set(t)){for(var _ in e.items)if(!t.items[_]){in1only=!0;break}for(var c in t.items)if(!e.items[c]){in2only=!0;break}}}else _unorderable(operator,e,t);return in1only?in2only?null:1:in2only?-1:0}_unorderable("<",e,t)}function _le(e,t){var r=["boolean","number"];if(e&&"function"==typeof e.__le__)return e.__le__(t);if(-1!=r.indexOf(_typeof(e))){if(-1!=r.indexOf(_typeof(t)))return e<=t}else if("string"==typeof e){if("string"==typeof t)return e<=t}else if(_isdatetime(e)){if(_isdatetime(t))return e.getTime()<=t.getTime()}else if(_islist(e)){if(_islist(t)){if(e===t)return!0;for(var n=0;n<e.length;++n){if(n>=t.length)return!1;if(!_eq(e[n],t[n]))return _lt(e[n],t[n])}return e.length<=t.length}}else if(_isset(e)||_isul4set(e)){var a=!1,i=!1;if(_isset(t)){if(_isset(t))e.forEach(function(e){t.has(e)||(a=!0)}),t.forEach(function(t){e.has(t)||(i=!0)});else if(_isul4set(t))for(var o in e.forEach(function(e){t.items[e]||(a=!0)}),t.items)if(!e.has(o)){i=!0;break}}else if(_isul4set(t)){if(_isset(t)){for(var s in e.items)if(!t.has(s)){a=!0;break}t.forEach(function(t){e.items[t]||(i=!0)})}else if(_isul4set(t)){for(var u in e.items)if(!t.items[u]){a=!0;break}for(var l in t.items)if(!e.items[l]){i=!0;break}}}else _unorderable(operator,e,t);return a?i?null:1:i?-1:0}_unorderable("<=",e,t)}function _gt(e,t){var r=["boolean","number"];if(e&&"function"==typeof e.__gt__)return e.__gt__(t);if(-1!=r.indexOf(_typeof(e))){if(-1!=r.indexOf(_typeof(t)))return e>t}else if("string"==typeof e){if("string"==typeof t)return e>t}else if(_isdatetime(e)){if(_isdatetime(t))return e.getTime()>t.getTime()}else if(_islist(e)){if(_islist(t)){if(e===t)return!1;for(var n=0;n<e.length;++n){if(n>=t.length)return!0;if(!_eq(e[n],t[n]))return _gt(e[n],t[n])}return e.length>t.length}}else if(_isset(e)||_isul4set(e)){var a=!1,i=!1;if(_isset(t))_isset(t)?(e.forEach(function(e){t.has(e)||(a=!0)}),t.forEach(function(t){e.has(t)||(i=!0)})):_isul4set(t)&&(e.forEach(function(e){t.items[e]||(a=!0)}),t.forEach(function(t){e.has(t)||(i=!0)}));else if(_isul4set(t)){if(_isset(t)){for(var o in e.items)if(!t.has(o)){a=!0;break}t.forEach(function(t){e.items[t]||(i=!0)})}else if(_isul4set(t)){for(var s in e.items)if(!t.items[s]){a=!0;break}for(var u in t.items)if(!e.items[u]){i=!0;break}}}else _unorderable(operator,e,t);return a?i?null:1:i?-1:0}_unorderable(">",e,t)}function _ge(e,t){var r=["boolean","number"];if(e&&"function"==typeof e.__ge__)return e.__ge__(t);if(-1!=r.indexOf(_typeof(e))){if(-1!=r.indexOf(_typeof(t)))return e>=t}else if("string"==typeof e){if("string"==typeof t)return e>=t}else if(_isdatetime(e)){if(_isdatetime(t))return e.getTime()>=t.getTime()}else if(_islist(e)){if(_islist(t)){if(e===t)return!0;for(var n=0;n<e.length;++n){if(n>=t.length)return!0;if(!_eq(e[n],t[n]))return _gt(e[n],t[n])}return e.length>=t.length}}else if(_isset(e)||_isul4set(e)){var a=!1,i=!1;if(_isset(t)){if(_isset(t))e.forEach(function(e){t.has(e)||(a=!0)}),t.forEach(function(t){e.has(t)||(i=!0)});else if(_isul4set(t))for(var o in e.forEach(function(e){t.items[e]||(a=!0)}),t.items)if(!e.has(o)){i=!0;break}}else if(_isul4set(t)){if(_isset(t)){for(var s in e.items)if(!t.has(s)){a=!0;break}t.forEach(function(t,r){e.items[t]||(i=!0)})}else if(_isul4set(t)){for(var u in e.items)if(!t.items[u]){a=!0;break}for(var l in t.items)if(!e.items[l]){i=!0;break}}}else _unorderable(operator,e,t);return a?i?null:1:i?-1:0}_unorderable(">=",e,t)}function _iter(e){if("string"==typeof e||_islist(e))return{index:0,next:function next(){return this.index<e.length?{value:e[this.index++],done:!1}:{done:!0}}};if(_isiter(e))return e;if(null!==e&&"function"==typeof e.__iter__)return e.__iter__();if(h(e)){var t=[];return e.forEach(function(e,r){t.push(r)}),{index:0,next:function next(){return this.index>=t.length?{done:!0}:{value:t[this.index++],done:!1}}}}if(_isset(e)){var r=[];return e.forEach(function(e){r.push(e)}),{index:0,next:function next(){return this.index>=r.length?{done:!0}:{value:r[this.index++],done:!1}}}}if(_isul4set(e))return _iter(e.items);if(_isobject(e)){var n=[];for(var a in e)n.push(a);return{index:0,next:function next(){return this.index>=n.length?{done:!0}:{value:n[this.index++],done:!1}}}}throw new B(_type(e)+" object is not iterable")}function _str_repr(e,t){var r,n="",a=!1,i=!1,o=_createForOfIteratorHelper(e);try{for(o.s();!(r=o.n()).done;){var s=r.value;if('"'==s){if(i=!0,a)break}else if("'"==s&&(a=!0,i))break}}catch(e){o.e(e)}finally{o.f()}var u,l=a&&!i?'"':"'",_=_createForOfIteratorHelper(e);try{for(_.s();!(u=_.n()).done;){var c=u.value;switch(c){case'"':n+=l==c?'\\"':c;break;case"'":n+=l==c?"\\'":c;break;case"\\":n+="\\\\";break;case"\t":n+="\\t";break;case"\n":n+="\\n";break;case"\r":n+="\\r";break;default:var f=c.charCodeAt(0),h=void 0;n+=0===(h=f<32?2:f<127?0:t||/[\u007f-\u00a0\u00ad\u0378-\u0379\u0380-\u0383\u038b\u038d\u03a2\u0530\u0557-\u0558\u0560\u0588\u058b-\u058c\u0590\u05c8-\u05cf\u05eb-\u05ef\u05f5-\u0605\u061c-\u061d\u06dd\u070e-\u070f\u074b-\u074c\u07b2-\u07bf\u07fb-\u07ff\u082e-\u082f\u083f\u085c-\u085d\u085f-\u089f\u08b5-\u08e2\u0984\u098d-\u098e\u0991-\u0992\u09a9\u09b1\u09b3-\u09b5\u09ba-\u09bb\u09c5-\u09c6\u09c9-\u09ca\u09cf-\u09d6\u09d8-\u09db\u09de\u09e4-\u09e5\u09fc-\u0a00\u0a04\u0a0b-\u0a0e\u0a11-\u0a12\u0a29\u0a31\u0a34\u0a37\u0a3a-\u0a3b\u0a3d\u0a43-\u0a46\u0a49-\u0a4a\u0a4e-\u0a50\u0a52-\u0a58\u0a5d\u0a5f-\u0a65\u0a76-\u0a80\u0a84\u0a8e\u0a92\u0aa9\u0ab1\u0ab4\u0aba-\u0abb\u0ac6\u0aca\u0ace-\u0acf\u0ad1-\u0adf\u0ae4-\u0ae5\u0af2-\u0af8\u0afa-\u0b00\u0b04\u0b0d-\u0b0e\u0b11-\u0b12\u0b29\u0b31\u0b34\u0b3a-\u0b3b\u0b45-\u0b46\u0b49-\u0b4a\u0b4e-\u0b55\u0b58-\u0b5b\u0b5e\u0b64-\u0b65\u0b78-\u0b81\u0b84\u0b8b-\u0b8d\u0b91\u0b96-\u0b98\u0b9b\u0b9d\u0ba0-\u0ba2\u0ba5-\u0ba7\u0bab-\u0bad\u0bba-\u0bbd\u0bc3-\u0bc5\u0bc9\u0bce-\u0bcf\u0bd1-\u0bd6\u0bd8-\u0be5\u0bfb-\u0bff\u0c04\u0c0d\u0c11\u0c29\u0c3a-\u0c3c\u0c45\u0c49\u0c4e-\u0c54\u0c57\u0c5b-\u0c5f\u0c64-\u0c65\u0c70-\u0c77\u0c80\u0c84\u0c8d\u0c91\u0ca9\u0cb4\u0cba-\u0cbb\u0cc5\u0cc9\u0cce-\u0cd4\u0cd7-\u0cdd\u0cdf\u0ce4-\u0ce5\u0cf0\u0cf3-\u0d00\u0d04\u0d0d\u0d11\u0d3b-\u0d3c\u0d45\u0d49\u0d4f-\u0d56\u0d58-\u0d5e\u0d64-\u0d65\u0d76-\u0d78\u0d80-\u0d81\u0d84\u0d97-\u0d99\u0db2\u0dbc\u0dbe-\u0dbf\u0dc7-\u0dc9\u0dcb-\u0dce\u0dd5\u0dd7\u0de0-\u0de5\u0df0-\u0df1\u0df5-\u0e00\u0e3b-\u0e3e\u0e5c-\u0e80\u0e83\u0e85-\u0e86\u0e89\u0e8b-\u0e8c\u0e8e-\u0e93\u0e98\u0ea0\u0ea4\u0ea6\u0ea8-\u0ea9\u0eac\u0eba\u0ebe-\u0ebf\u0ec5\u0ec7\u0ece-\u0ecf\u0eda-\u0edb\u0ee0-\u0eff\u0f48\u0f6d-\u0f70\u0f98\u0fbd\u0fcd\u0fdb-\u0fff\u10c6\u10c8-\u10cc\u10ce-\u10cf\u1249\u124e-\u124f\u1257\u1259\u125e-\u125f\u1289\u128e-\u128f\u12b1\u12b6-\u12b7\u12bf\u12c1\u12c6-\u12c7\u12d7\u1311\u1316-\u1317\u135b-\u135c\u137d-\u137f\u139a-\u139f\u13f6-\u13f7\u13fe-\u13ff\u1680\u169d-\u169f\u16f9-\u16ff\u170d\u1715-\u171f\u1737-\u173f\u1754-\u175f\u176d\u1771\u1774-\u177f\u17de-\u17df\u17ea-\u17ef\u17fa-\u17ff\u180e-\u180f\u181a-\u181f\u1878-\u187f\u18ab-\u18af\u18f6-\u18ff\u191f\u192c-\u192f\u193c-\u193f\u1941-\u1943\u196e-\u196f\u1975-\u197f\u19ac-\u19af\u19ca-\u19cf\u19db-\u19dd\u1a1c-\u1a1d\u1a5f\u1a7d-\u1a7e\u1a8a-\u1a8f\u1a9a-\u1a9f\u1aae-\u1aaf\u1abf-\u1aff\u1b4c-\u1b4f\u1b7d-\u1b7f\u1bf4-\u1bfb\u1c38-\u1c3a\u1c4a-\u1c4c\u1c80-\u1cbf\u1cc8-\u1ccf\u1cf7\u1cfa-\u1cff\u1df6-\u1dfb\u1f16-\u1f17\u1f1e-\u1f1f\u1f46-\u1f47\u1f4e-\u1f4f\u1f58\u1f5a\u1f5c\u1f5e\u1f7e-\u1f7f\u1fb5\u1fc5\u1fd4-\u1fd5\u1fdc\u1ff0-\u1ff1\u1ff5\u1fff-\u200f\u2028-\u202f\u205f-\u206f\u2072-\u2073\u208f\u209d-\u209f\u20bf-\u20cf\u20f1-\u20ff\u218c-\u218f\u23fb-\u23ff\u2427-\u243f\u244b-\u245f\u2b74-\u2b75\u2b96-\u2b97\u2bba-\u2bbc\u2bc9\u2bd2-\u2beb\u2bf0-\u2bff\u2c2f\u2c5f\u2cf4-\u2cf8\u2d26\u2d28-\u2d2c\u2d2e-\u2d2f\u2d68-\u2d6e\u2d71-\u2d7e\u2d97-\u2d9f\u2da7\u2daf\u2db7\u2dbf\u2dc7\u2dcf\u2dd7\u2ddf\u2e43-\u2e7f\u2e9a\u2ef4-\u2eff\u2fd6-\u2fef\u2ffc-\u3000\u3040\u3097-\u3098\u3100-\u3104\u312e-\u3130\u318f\u31bb-\u31bf\u31e4-\u31ef\u321f\u32ff\u4db6-\u4dbf\u9fd6-\u9fff\ua48d-\ua48f\ua4c7-\ua4cf\ua62c-\ua63f\ua6f8-\ua6ff\ua7ae-\ua7af\ua7b8-\ua7f6\ua82c-\ua82f\ua83a-\ua83f\ua878-\ua87f\ua8c5-\ua8cd\ua8da-\ua8df\ua8fe-\ua8ff\ua954-\ua95e\ua97d-\ua97f\ua9ce\ua9da-\ua9dd\ua9ff\uaa37-\uaa3f\uaa4e-\uaa4f\uaa5a-\uaa5b\uaac3-\uaada\uaaf7-\uab00\uab07-\uab08\uab0f-\uab10\uab17-\uab1f\uab27\uab2f\uab66-\uab6f\uabee-\uabef\uabfa-\uabff\ud7a4-\ud7af\ud7c7-\ud7ca\ud7fc-\uf8ff\ufa6e-\ufa6f\ufada-\ufaff\ufb07-\ufb12\ufb18-\ufb1c\ufb37\ufb3d\ufb3f\ufb42\ufb45\ufbc2-\ufbd2\ufd40-\ufd4f\ufd90-\ufd91\ufdc8-\ufdef\ufdfe-\ufdff\ufe1a-\ufe1f\ufe53\ufe67\ufe6c-\ufe6f\ufe75\ufefd-\uff00\uffbf-\uffc1\uffc8-\uffc9\uffd0-\uffd1\uffd8-\uffd9\uffdd-\uffdf\uffe7\uffef-\ufffb\ufffe-\uffff]/.test(c)?f<=255?2:f<=65535?4:8:0)?c:2===h?"\\x"+_lpad(f.toString(16),"0",2):4===h?"\\u"+_lpad(f.toString(16),"0",4):"\\U"+_lpad(f.toString(16),"0",8)}}}catch(e){_.e(e)}finally{_.f()}return l+n+l}function _map_repr(e,t){var r=[];r.push("{");var n=0;return e.forEach(function(e,a){n++&&r.push(", "),r.push(_repr_internal(a,t)),r.push(": "),r.push(_repr_internal(e,t))}),r.push("}"),r.join("")}function _list_repr(e,t){var r=[];r.push("[");var n,a=!0,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;a?a=!1:r.push(", "),r.push(_repr_internal(o,t))}}catch(e){i.e(e)}finally{i.f()}return r.push("]"),r.join("")}function _set_repr(e,t){var r=[];if(r.push("{"),e.size){var n=0;e.forEach(function(e){n++&&r.push(", "),r.push(_repr_internal(e,t))})}else r.push("/");return r.push("}"),r.join("")}function _object_repr(e,t){var r=[];r.push("{");var n=0;for(var a in e)e.hasOwnProperty(a)&&(n++&&r.push(", "),r.push(_repr_internal(a,t)),r.push(": "),r.push(_repr_internal(e[a],t)));return r.push("}"),r.join("")}function _repr_internal(e,t){return null===e?"None":!1===e?"False":!0===e?"True":"string"==typeof e?_str_repr(e,t):"number"==typeof e?""+e:"function"==typeof e?e._ul4_name||e.name?"<function "+(e._ul4_name||e.name)+">":"<anonymous function>":_isdate(e)?function _date_repr(e,t){var r=e._date.getFullYear(),n=e._date.getMonth()+1,a=e._date.getDate();return"@("+r+"-"+_lpad(n.toString(),"0",2)+"-"+_lpad(a.toString(),"0",2)+")"}(e):_isdatetime(e)?function _datetime_repr(e,t){var r=e.getFullYear(),n=e.getMonth()+1,a=e.getDate(),i=e.getHours(),o=e.getMinutes(),s=e.getSeconds(),u=e.getMilliseconds(),l="@("+r+"-"+_lpad(n.toString(),"0",2)+"-"+_lpad(a.toString(),"0",2)+"T";return(i||o||s||u)&&(l+=_lpad(i.toString(),"0",2)+":"+_lpad(o.toString(),"0",2),(s||u)&&(l+=":"+_lpad(s.toString(),"0",2),u&&(l+="."+_lpad(u.toString(),"0",3)+"000"))),l+=")"}(e):void 0===e?"<undefined>":"object"===_typeof(e)&&"function"==typeof e.__repr__?e.__repr__():_islist(e)?_list_repr(e,t):h(e)?_map_repr(e,t):_isset(e)?_set_repr(e,t):_isobject(e)?_object_repr(e,t):"?"}function _repr2(e){return _repr_internal(e,!1)}function _ascii(e){return _repr_internal(e,!0)}function _str(e){return void 0===e?"":null===e?"":!1===e?"False":!0===e?"True":"string"==typeof e?e:"number"==typeof e?e.toString():_isdate(e)?function _date_str(e){var t=e._date.getFullYear(),r=e._date.getMonth()+1,n=e._date.getDate();return t+"-"+_lpad(r.toString(),"0",2)+"-"+_lpad(n.toString(),"0",2)}(e):_isdatetime(e)?function _datetime_str(e){var t=e.getFullYear(),r=e.getMonth()+1,n=e.getDate(),a=e.getHours(),i=e.getMinutes(),o=e.getSeconds(),s=e.getMilliseconds(),u=t+"-"+_lpad(r.toString(),"0",2)+"-"+_lpad(n.toString(),"0",2)+" "+_lpad(a.toString(),"0",2)+":"+_lpad(i.toString(),"0",2);return(o||s)&&(u+=":"+_lpad(o.toString(),"0",2),s&&(u+="."+_lpad(s.toString(),"0",3)+"000")),u}(e):_islist(e)?_list_repr(e):_isset(e)?_set_repr(e):h(e)?_map_repr(e):"object"===_typeof(e)&&"function"==typeof e.__str__?e.__str__():"object"===_typeof(e)&&"function"==typeof e.__repr__?e.__repr__():_isobject(e)?_object_repr(e):"?"}function _bool(e){if(null==e||!1===e||0===e||""===e)return!1;if(_typeof(e),"function"==typeof e.__bool__)return e.__bool__();if(_islist(e))return 0!==e.length;if(h(e)||_isset(e))return 0!=e.size;if(_isobject(e)){for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}return!0}function _int(e,t){var r;if(null!==t){if("string"!=typeof e||!_isint(t))throw new B("int() requires a string and an integer");if("NaN"==(r=parseInt(e,t)).toString())throw new B("invalid literal for int()");return r}if("string"==typeof e){if("NaN"==(r=parseInt(e)).toString())throw new B("invalid literal for int()");return r}if("number"==typeof e)return Math.floor(e);if(!0===e)return 1;if(!1===e)return 0;throw new B("int() argument must be a string or a number")}function _float(e){if("string"==typeof e)return parseFloat(e);if("number"==typeof e)return e;if(!0===e)return 1;if(!1===e)return 0;throw new B("float() argument must be a string or a number")}function _list(e){for(var t=_iter(e),r=[];;){var n=t.next();if(n.done)return r;r.push(n.value)}}function _set(t){for(var r=_iter(t),n=e._emptyset();;){var a=r.next();if(a.done)return n;n.add(a.value)}}function _len(e){if("string"==typeof e||_islist(e))return e.length;if(h(e)||_isset(e))return e.size;if(_isobject(e)){var t=0;for(var r in e)++t;return t}throw new B("object of type '"+_type(e)+"' has no len()")}function _type(e){return null===e?"none":!1===e||!0===e?"bool":void 0===e?"undefined":"number"==typeof e?Math.round(e)==e?"int":"float":"function"==typeof e?"function":"function"==typeof e.ul4type?e.ul4type():g.get(e).ul4type(e)}function _mod(e,t){var r=Math.floor(e/t),n=e-r*t;return 0!==n&&(t<0&&n>0||t>0&&n<0)&&(n+=t,--r),e-r*t}function _getattr(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=g.get(e);try{return n.getattr(e,t)}catch(t){if(t instanceof L&&t.obj===e)return r;throw t}}function _hasattr(e,t){return g.get(e).hasattr(e,t)}function _dir(e){return g.get(e).dir()}function _any(e){if("string"==typeof e){var t,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){if("\0"!==t.value)return!0}}catch(e){r.e(e)}finally{r.f()}return!1}for(var n=_iter(e);;){var a=n.next();if(a.done)return!1;if(_bool(a.value))return!0}}function _all(e){if("string"==typeof e){var t,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){if("\0"===t.value)return!1}}catch(e){r.e(e)}finally{r.f()}return!0}for(var n=_iter(e);;){var a=n.next();if(a.done)return!0;if(!_bool(a.value))return!1}}function _isundefined(e){return void 0===e}function _isdefined(e){return void 0!==e}function _isnone(e){return null===e}function _isbool(e){return"boolean"==typeof e}function _isint(e){return"number"==typeof e&&Math.round(e)==e}function _isfloat(e){return"number"==typeof e&&Math.round(e)!=e}function _isstr(e){return"string"==typeof e}function _isdatetime(e){return"[object Date]"==Object.prototype.toString.call(e)}function _isdate(e){return e instanceof xt}function _iscolor(e){return e instanceof wt}function _istimedelta(e){return e instanceof Ct}function _ismonthdelta(e){return e instanceof jt}function _istemplate(e){return e instanceof St||e instanceof At}function _isfunction(e){return"function"==typeof e||"[object Object]"==Object.prototype.toString.call(e)&&(e instanceof St||e instanceof At)}function _islist(e){return"[object Array]"==Object.prototype.toString.call(e)}function _isset(e){return"[object Set]"==Object.prototype.toString.call(e)}function _isexception(e){return e instanceof Exception}function _isul4set(e){return e instanceof y}function _isanyset(e){return _isset(e)||_isul4set(e)}function _isiter(e){return null!==e&&"object"===_typeof(e)&&"function"==typeof e.next}function _isobject(e){return"[object Object]"==Object.prototype.toString.call(e)&&void 0===e.__type__&&!(e instanceof v)}var h=a?function _ismap(e){return null!==e&&"object"===_typeof(e)&&"object"===_typeof(e.__proto__)&&e.__proto__===Map.prototype}:function _ismap(e){return!1},p=a?function _isdict(e){return _isobject(e)||h(e)}:function _isdict(e){return _isobject(e)};function _str_repeat(e,t){for(var r="";t>0;--t)r+=e;return r}function _list_repeat(e,t){for(var r=[];t>0;--t){var n,a=_createForOfIteratorHelper(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;r.push(i)}}catch(e){a.e(e)}finally{a.f()}}return r}function _asjson(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!1===e)return"false";if(!0===e)return"true";if("string"==typeof e)return function _str_json(e){var t,r="",n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;switch(a){case"\r":r+="\\r";break;case"\n":r+="\\n";break;case"\t":r+="\\t";break;case"\\":r+="\\\\";break;case'"':r+='\\"';break;case"<":r+="\\u003c";break;default:var i=a.charCodeAt(0);r+=i>=32&&i<128?a:"\\u"+_lpad(i.toString(16),"0",4)}}}catch(e){n.e(e)}finally{n.f()}return'"'+r+'"'}(e);if("number"==typeof e)return""+e;if(_islist(e)){var t=[];t.push("[");var r,n=!0,a=_createForOfIteratorHelper(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;n?n=!1:t.push(", "),t.push(_asjson(i))}}catch(e){a.e(e)}finally{a.f()}return t.push("]"),t.join("")}if(h(e)){var o=[];o.push("{");var s=!0;return e.forEach(function(e,t){s?s=!1:o.push(", "),o.push(_asjson(t)),o.push(": "),o.push(_asjson(e))}),o.push("}"),o.join("")}if(_isobject(e)){var u=[];u.push("{");var l=!0;for(var _ in e)l?l=!1:u.push(", "),u.push(_asjson(_)),u.push(": "),u.push(_asjson(e[_]));return u.push("}"),u.join("")}if(_isdate(e))return"new ul4.Date_("+e._date.getFullYear()+", "+(e._date.getMonth()+1)+", "+e._date.getDate()+")";if(_isdatetime(e))return"new Date("+e.getFullYear()+", "+e.getMonth()+", "+e.getDate()+", "+e.getHours()+", "+e.getMinutes()+", "+e.getSeconds()+", "+e.getMilliseconds()+")";if(_istimedelta(e))return"new ul4.TimeDelta("+e._days+", "+e._seconds+", "+e._microseconds+")";if(_ismonthdelta(e))return"new ul4.MonthDelta("+e._months+")";if(_iscolor(e))return"new ul4.Color("+e._r+", "+e._g+", "+e._b+", "+e._a+")";if(_istemplate(e))return"ul4.Template.loads("+_repr2(e.dumps())+")";throw new B("asjson() requires a serializable object")}function _fromjson(e){if(e=b.strip(e),JSON&&JSON.parse)return JSON.parse(e);if(l.test(e.replace(_,"@").replace(c,"]").replace(f,"")))return new Function("return "+e)();throw new B("invalid JSON")}function _asul4on(e){return dumps(e)}function _fromul4on(e){return _loads(e)}function _format_datetime(e,t,r){var n,a={de:{ms:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],ml:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],ws:["So","Mo","Di","Mi","Do","Fr","Sa"],wl:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],xf:"%d.%m.%Y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},en:{ms:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ml:["January","February","March","April","May","June","July","August","September","October","November","December"],ws:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wl:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],xf:"%m/%d/%Y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %I:%M:%S %p"},fr:{ms:["janv.","févr.","mars","avril","mai","juin","juil.","août","sept.","oct.","nov.","déc."],ml:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],ws:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wl:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],xf:"%d/%m/%Y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},es:{ms:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],ml:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],ws:["dom","lun","mar","mié","jue","vie","sáb"],wl:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],xf:"%d/%m/%y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},it:{ms:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],ml:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],ws:["dom","lun","mar","mer","gio","ven","sab"],wl:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],xf:"%d/%m/%Y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},da:{ms:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],ml:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"],ws:["søn","man","tir","ons","tor","fre","lør"],wl:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],xf:"%d-%m-%Y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},sv:{ms:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],ml:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],ws:["sön","mån","tis","ons","tor","fre","lör"],wl:["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"],xf:"%Y-%m-%d",Xf:"%H.%M.%S",cf:"%a %d %b %Y %H.%M.%S"},nl:{ms:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],ml:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],ws:["zo","ma","di","wo","do","vr","za"],wl:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],xf:"%d-%m-%y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},pt:{ms:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],ml:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],ws:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],wl:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],xf:"%d-%m-%Y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},cs:{ms:["led","úno","bře","dub","kvě","čen","čec","srp","zář","říj","lis","pro"],ml:["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec"],ws:["Ne","Po","Út","St","Čt","Pá","So"],wl:["Neděle","Pondělí","Úterý","Středa","Čtvrtek","Pátek","Sobota"],xf:"%d.%m.%Y",Xf:"%H:%M:%S",cf:"%a %d. %B %Y, %H:%M:%S"},sk:{ms:["jan","feb","mar","apr","máj","jún","júl","aug","sep","okt","nov","dec"],ml:["január","február","marec","apríl","máj","jún","júl","august","september","október","november","december"],ws:["Ne","Po","Ut","St","Št","Pi","So"],wl:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"],xf:"%d.%m.%Y",Xf:"%H:%M:%S",cf:"%a %d. %B %Y, %H:%M:%S"},pl:{ms:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru"],ml:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],ws:["nie","pon","wto","śro","czw","pią","sob"],wl:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],xf:"%d.%m.%Y",Xf:"%H:%M:%S",cf:"%a, %d %b %Y, %H:%M:%S"},hr:{ms:["Sij","Vel","Ožu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],ml:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],ws:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"],wl:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"],xf:"%d.%m.%Y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},sr:{ms:["јан","феб","мар","апр","мај","јун","јул","авг","сеп","окт","нов","дец"],ml:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],ws:["нед","пон","уто","сре","чет","пет","суб"],wl:["недеља","понедељак","уторак","среда","четвртак","петак","субота"],xf:"%d.%m.%Y.",Xf:"%H:%M:%S",cf:"%A, %d. %B %Y. %H:%M:%S"},ro:{ms:["ian","feb","mar","apr","mai","iun","iul","aug","sep","oct","nov","dec"],ml:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],ws:["Du","Lu","Ma","Mi","Jo","Vi","Sb"],wl:["duminică","luni","marţi","miercuri","joi","vineri","sâmbătă"],xf:"%d.%m.%Y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},hu:{ms:["jan","febr","márc","ápr","máj","jún","júl","aug","szept","okt","nov","dec"],ml:["január","február","március","április","május","június","július","augusztus","szeptember","október","november","december"],ws:["v","h","k","sze","cs","p","szo"],wl:["vasárnap","hétfő","kedd","szerda","csütörtök","péntek","szombat"],xf:"%Y-%m-%d",Xf:"%H.%M.%S",cf:"%Y. %b. %d., %A, %H.%M.%S"},tr:{ms:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],ml:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],ws:["Paz","Pzt","Sal","Çrş","Prş","Cum","Cts"],wl:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],xf:"%d-%m-%Y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},ru:{ms:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],ml:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],ws:["Вск","Пнд","Втр","Срд","Чтв","Птн","Сбт"],wl:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],xf:"%d.%m.%Y",Xf:"%H:%M:%S",cf:"%a %d %b %Y %H:%M:%S"},zh:{ms:[" 1月"," 2月"," 3月"," 4月"," 5月"," 6月"," 7月"," 8月"," 9月","10月","11月","12月"],ml:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],ws:["日","一","二","三","四","五","六"],wl:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],xf:"%Y年%b%d日",Xf:"%H时%M分%S秒",cf:"%Y年%b%d日 %A %H时%M分%S秒"},ko:{ms:[" 1월"," 2월"," 3월"," 4월"," 5월"," 6월"," 7월"," 8월"," 9월","10월","11월","12월"],ml:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],ws:["일","월","화","수","목","금","토"],wl:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],xf:"%Y년 %B %d일",Xf:"%H시 %M분 %S초",cf:"%Y년 %B %d일 (%a) %p %I시 %M분 %S초"},ja:{ms:[" 1月"," 2月"," 3月"," 4月"," 5月"," 6月"," 7月"," 8月"," 9月","10月","11月","12月"],ml:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],ws:["日","月","火","水","木","金","土"],wl:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],xf:"%Y年%B%d日",Xf:"%H時%M分%S秒",cf:"%Y年%B%d日 %H時%M分%S秒"}}[r],i=[],o=!1,s=_createForOfIteratorHelper(t);try{for(s.s();!(n=s.n()).done;){var u=n.value;if(o){switch(u){case"a":u=a.ws[e.getDay()];break;case"A":u=a.wl[e.getDay()];break;case"b":u=a.ms[e.getMonth()];break;case"B":u=a.ml[e.getMonth()];break;case"c":u=_format(e,a.cf,r);break;case"d":u=_lpad(e.getDate(),"0",2);break;case"f":u=_lpad(e.getMilliseconds(),"0",3)+"000";break;case"H":u=_lpad(e.getHours(),"0",2);break;case"I":u=_lpad((e.getHours()-1)%12+1,"0",2);break;case"j":u=_lpad(w.yearday(e),"0",3);break;case"m":u=_lpad(e.getMonth()+1,"0",2);break;case"M":u=_lpad(e.getMinutes(),"0",2);break;case"p":u=e.getHours()<12?"AM":"PM";break;case"S":u=_lpad(e.getSeconds(),"0",2);break;case"U":u=_lpad(_week4format(e,6),"0",2);break;case"w":u=e.getDay();break;case"W":u=_lpad(_week4format(e,0),"0",2);break;case"x":u=_format(e,a.xf,r);break;case"X":u=_format(e,a.Xf,r);break;case"y":u=(e.getFullYear()%100).toString();break;case"Y":u=e.getFullYear().toString();break;case"z":case"Z":u=""}i.push(u),o=!1}else"%"==u?o=!0:i.push(u)}}catch(e){s.e(e)}finally{s.f()}return i.join("")}function _format_int(e,t,r){var n=t,a=" ",i=">",o="-",s=!1,u=0,l="d";if(/[bcdoxXn]$/.test(n)&&(l=n.substring(n.length-1),n=n.substring(0,n.length-1)),/\d+$/.test(n)){var _=/\d+$/.exec(n);n=n.replace(/\d+$/,""),/^0/.test(_)&&(i="=",a="0"),u=parseInt(_)}if(/#$/.test(n)&&(s=!0,n=n.substring(0,n.length-1)),/[+ -]$/.test(n)){if("c"==l)throw new F("sign not allowed for integer format type 'c'");o=n.substring(n.length-1),n=n.substring(0,n.length-1)}if(n.length>=3)throw new F("illegal integer format string "+_repr2(t));if(2==n.length){if(!/[<>=^]$/.test(n))throw new F("illegal integer format string "+_repr2(t));i=n[1],a=n[0]}else if(1==n.length){if(!/^[<>=^]$/.test(n))throw new F("illegal integer format string "+_repr2(t));i=n}var c,f=e<0;switch(f&&(e=-e),l){case"b":c=e.toString(2);break;case"c":if(f||e>65535)throw new F("value out of bounds for c format");c=String.fromCharCode(e);break;case"d":c=e.toString();break;case"o":c=e.toString(8);break;case"x":c=e.toString(16);break;case"X":c=e.toString(16).toUpperCase();break;case"n":c=e.toString()}if("="===i)(f||"-"!==o)&&--u,!s||"b"!==l&&"o"!==l&&"x"!==l&&"X"!==l||(u-=2),c.length<u&&(c=_str_repeat(a,u-c.length)+c),!s||"b"!==l&&"o"!==l&&"x"!==l&&"X"!==l||(c="0"+l+c),f?c="-"+c:"-"!=o&&(c=o+c);else if(!s||"b"!=l&&"o"!=l&&"x"!=l&&"X"!=l||(c="0"+l+c),f?c="-"+c:"-"!=o&&(c=o+c),c.length<u)if("<"==i)c+=_str_repeat(a,u-c.length);else if(">"==i)c=_str_repeat(a,u-c.length)+c;else{var h=u-c.length,p=Math.floor(h/2),d=h-p;c=_str_repeat(a,p)+c+_str_repeat(a,d)}return c}function _format(e,t,r){if(null==r)r="en";else{var n={de:null,en:null,fr:null,es:null,it:null,da:null,sv:null,nl:null,pt:null,cs:null,sk:null,pl:null,hr:null,sr:null,ro:null,hu:null,tr:null,ru:null,zh:null,ko:null,ja:null};void 0===n[r=r.toLowerCase()]&&void 0===n[r=r.split(/_/)[0]]&&(r="en")}return _isdate(e)?_format_datetime(e._date,t,r):_isdatetime(e)?_format_datetime(e,t,r):_isint(e)?_format_int(e,t):!0===e?_format_int(1,t):!1===e?_format_int(0,t):void 0}function _lpad(e,t,r){for("number"==typeof e&&(e=e.toString());e.length<r;)e=t+e;return e}var d=1,v=function(){function Proto(){_classCallCheck(this,Proto),this.__id__=d++}return _createClass(Proto,[{key:"ul4type",value:function ul4type(){return this.constructor.name}},{key:"__eq__",value:function __eq__(e){return this===e}},{key:"__ne__",value:function __ne__(e){return!this.__eq__(e)}},{key:"__bool__",value:function __bool__(){return!0}}]),Proto}(),m=function(t){_inherits(Signature,v);var r=_createSuper(Signature);function Signature(){var e;_classCallCheck(this,Signature),(e=r.call(this)).args=[],e.argNames={},e.remargs=null,e.remkwargs=null;for(var t=!1,n=null,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];for(var s=0,u=i;s<u.length;s++){var l=u[s];t?(e.args.push({name:n,defaultValue:l}),e.argNames[n]=!0,t=!1):"="===l.substr(l.length-1)?(n=l.substr(0,l.length-1),t=!0):"**"===l.substr(0,2)?e.remkwargs=l.substr(2):"*"===l.substr(0,1)?e.remargs=l.substr(1):(e.args.push({name:l}),e.argNames[l]=!0)}return e}return _createClass(Signature,[{key:"bindArray",value:function bindArray(t,r,n){var a,i=[],o=null!==t?t+"() ":"",s=0,u=_createForOfIteratorHelper(this.args);try{for(u.s();!(a=u.n()).done;){var l=a.value;if(s<r.length){if(n.hasOwnProperty(l.name))throw new H(o+"argument "+_repr2(l.name)+" (position "+s+") specified multiple times");i.push(r[s])}else if(n.hasOwnProperty(l.name))i.push(n[l.name]);else{if(!l.hasOwnProperty("defaultValue"))throw new H("required "+o+"argument "+_repr2(l.name)+" (position "+s+") missing");i.push(l.defaultValue)}++s}}catch(e){u.e(e)}finally{u.f()}if(null===this.remargs){if(r.length>this.args.length)throw new H((null===t?"expected":t+"() expects")+" at most "+this.args.length+" positional argument"+(1!=this.args.length?"s":"")+", "+r.length+" given")}else i.push(r.slice(this.args.length));if(null===this.remkwargs){for(var _ in n)if(!this.argNames[_])throw new H(null===t?"an argument named "+_repr2(_)+" isn't supported":t+"() doesn't support an argument named "+_repr2(_))}else{var c=e._emptymap();for(var f in n)this.argNames[f]||e._setmap(c,f,n[f]);i.push(c)}return i}},{key:"bindObject",value:function bindObject(e,t,r){t=this.bindArray(e,t,r);var n,a={};for(n=0;n<this.args.length;++n)a[this.args[n].name]=t[n];return null!==this.remargs&&(a[this.remargs]=t[n++]),null!==this.remkwargs&&(a[this.remkwargs]=t[n++]),a}},{key:"__repr__",value:function __repr__(){return"<Signature "+this.toString()+">"}},{key:"__str__",value:function __str__(){return this.toString()}},{key:"toString",value:function toString(){var e,t=[],r=_createForOfIteratorHelper(this.args);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.hasOwnProperty("defaultValue")?t.push(n.name+"="+_repr2(n.defaultValue)):t.push(n.name)}}catch(e){r.e(e)}finally{r.f()}return null!==this.remargs&&t.push("*"+this.remargs),null!==this.remkwargs&&t.push("**"+this.remkwargs),"("+t.join(", ")+")"}}]),Signature}(),y=function(){function _Set(){_classCallCheck(this,_Set),this.items={},this.add.apply(this,arguments)}return _createClass(_Set,[{key:"add",value:function add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0,a=t;n<a.length;n++){var i=a[n];this.items[i]=!0}}},{key:"clear",value:function clear(){this.items={}}},{key:"__getattr__",value:function __getattr__(e){var t=this;switch(e){case"add":return expose(function add(e){t.add.apply(t,_toConsumableArray(e))},["*items"]);default:throw new L(this,e)}}},{key:"__contains__",value:function __contains__(e){return this.items[e]||!1}},{key:"has",value:function has(e){return this.items[e]||!1}},{key:"__bool__",value:function __bool__(){for(var e in this.items)if(this.items.hasOwnProperty(e))return!0;return!1}},{key:"__repr__",value:function __repr__(){var e=[];e.push("{");var t=0;for(var r in this.items)this.items.hasOwnProperty(r)&&(t++&&e.push(", "),e.push(_repr2(r)));return t||e.push("/"),e.push("}"),e.join("")}},{key:"__eq__",value:function __eq__(e){if(_isset(e)){var t=0;for(var r in this.items){if(!e.has(r))return!1;++t}return e.size==t}if(_isul4set(e)){var n=0;for(var a in this.items){if(!e[a])return!1;++n}for(var i in e.items)--n;return 0==n}return!1}},{key:"__le__",value:function __le__(e){if(_isset(e)){for(var t in this.items)if(!e.has(t))return!1;return!0}if(_isul4set(e)){for(var r in this.items)if(!e.items[r])return!1;return!0}_unorderable("<",this,e)}},{key:"__ge__",value:function __ge__(e){if(_isset(e))return e.forEach(function(e){if(!this.items[e])return!1},this),!0;if(_isul4set(e)){for(var t in e.items)if(!this.items[t])return!1;return!0}_unorderable("<=",this,e)}}]),_Set}();function expose(e,t,r){(r=r||{}).name&&(e._ul4_name=r.name),_islist(t)&&(t=_construct(m,_toConsumableArray(t))),e._ul4_signature=t,e._ul4_needsobject=r.needsobject||!1,e._ul4_needscontext=r.needscontext||!1}function _extend(e,t){return Object.assign(Object.create(e),t)}y.prototype.__type__="set";var g={attrs:e._emptyset(),ul4type:function ul4type(){return"Protocol"},dir:function dir(){return this.attrs},get:function get(e){return _isstr(e)?b:_islist(e)?S:_isdate(e)?T:_isset(e)?A:h(e)?k:_isdatetime(e)?w:_isobject(e)?x:g},getattr:function getattr(e,t){if(null==e)throw new L(e,t);if("function"==typeof e.__getattr__)return e.__getattr__(t);if(this.attrs.has(t)){var r=this[t],n=function realattr(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r.apply(this,[e].concat(n))};return n._ul4_name=r._ul4_name||r.name,n._ul4_signature=r._ul4_signature,n._ul4_needsobject=r._ul4_needsobject,n._ul4_needscontext=r._ul4_needscontext,n}throw new L(e,t)},hasattr:function hasattr(e,t){if(null==e)return!1;if("function"!=typeof e.__getattr__)return this.attrs.has(t);try{return e.__getattr__(t),!0}catch(e){if(e instanceof L&&e.obj===object)return!1;throw e}}},b=_extend(g,{attrs:o("split","rsplit","splitlines","strip","lstrip","rstrip","upper","lower","capitalize","startswith","endswith","replace","count","find","rfind","join"),ul4type:function ul4type(e){return"str"},count:function count(e,t){return _count(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},find:function find(e,t){return _find(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},rfind:function rfind(e,t){return _rfind(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},replace:function replace(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null===n&&(n=e.length);for(var a=[];e.length;){var i=e.indexOf(t);if(-1===i||!n--){a.push(e);break}a.push(e.substr(0,i)),a.push(r),e=e.substr(i+t.length)}return a.join("")},strip:function strip(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"!=typeof(t=t||" \r\n\t"))throw new B("strip() requires a string argument");for(;e&&t.indexOf(e[0])>=0;)e=e.substr(1);for(;e&&t.indexOf(e[e.length-1])>=0;)e=e.substr(0,e.length-1);return e},lstrip:function lstrip(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"!=typeof(t=t||" \r\n\t"))throw new B("lstrip() requires a string argument");for(;e&&t.indexOf(e[0])>=0;)e=e.substr(1);return e},rstrip:function rstrip(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"!=typeof(t=t||" \r\n\t"))throw new B("rstrip() requires a string argument");for(;e&&t.indexOf(e[e.length-1])>=0;)e=e.substr(0,e.length-1);return e},split:function split(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null!==t&&"string"!=typeof t)throw new B("split() requires a string");if(null===r){var n=e.split(null!==t?t:/[ \n\r\t]+/);return null===t&&(n.length&&!n[0].length&&n.splice(0,1),n.length&&!n[n.length-1].length&&n.splice(-1)),n}if(null!==t){for(var a=[];e.length;){var i=e.indexOf(t);if(-1===i||!r--){a.push(e);break}a.push(e.substr(0,i)),e=e.substr(i+t.length)}return a}for(var o=[];e.length;){e=b.lstrip(e,null);var s=void 0;(s=r--?e.split(/[ \n\r\t]+/,1)[0]:e).length&&o.push(s),e=e.substr(s.length)}return o},rsplit:function rsplit(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null!==t&&"string"!=typeof t)throw new B("rsplit() requires a string as second argument");if(null===r){var n=e.split(null!==t?t:/[ \n\r\t]+/);return null===t&&(n.length&&!n[0].length&&n.splice(0,1),n.length&&!n[n.length-1].length&&n.splice(-1)),n}if(null!==t){for(var a=[];e.length;){var i=e.lastIndexOf(t);if(-1===i||!r--){a.unshift(e);break}a.unshift(e.substr(i+t.length)),e=e.substr(0,i)}return a}for(var o=[];e.length;){e=b.rstrip(e);var s=void 0;(s=r--?(s=e.split(/[ \n\r\t]+/))[s.length-1]:e).length&&o.unshift(s),e=e.substr(0,e.length-s.length)}return o},splitlines:function splitlines(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,a=function lookingAtLineEnd(){var t=e[n];return"\n"===t||"\v"==t||"\f"==t||""==t||""==t||""==t||""==t||"\u2028"==t||"\u2029"==t?1:"\r"===t?n==o-1?1:"\n"===e[n+1]?2:1:0},i=[],o=e.length;for(n=0,t=0;;){if(n>=o)return t!=n&&i.push(e.substring(t)),i;var s=a();if(s){var u=n+(r?s:0);i.push(e.substring(t,u)),t=n+=s}else++n}},lower:function lower(e){return e.toLowerCase()},upper:function upper(e){return e.toUpperCase()},capitalize:function capitalize(e){return e.length&&(e=e[0].toUpperCase()+e.slice(1).toLowerCase()),e},join:function join(e,t){for(var r=[],n=_iter(t);;){var a=n.next();if(a.done)break;r.push(a.value)}return r.join(e)},startswith:function startswith(e,t){if("string"==typeof t)return e.substr(0,t.length)===t;if(_islist(t)){var r,n=_createForOfIteratorHelper(t);try{for(n.s();!(r=n.n()).done;){var a=r.value;if(e.substr(0,a.length)===a)return!0}}catch(e){n.e(e)}finally{n.f()}return!1}throw new B("startswith() argument must be string")},endswith:function endswith(e,t){if("string"==typeof t)return e.substr(e.length-t.length)===t;if(_islist(t)){var r,n=_createForOfIteratorHelper(t);try{for(n.s();!(r=n.n()).done;){var a=r.value;if(e.substr(e.length-a.length)===a)return!0}}catch(e){n.e(e)}finally{n.f()}return!1}throw new B("endswith() argument must be string or list of strings")}});expose(b.count,["sub","start=",null,"end=",null]),expose(b.find,["sub","start=",null,"end=",null]),expose(b.rfind,["sub","start=",null,"end=",null]),expose(b.replace,["old","new","count=",null]),expose(b.strip,["chars=",null]),expose(b.lstrip,["chars=",null]),expose(b.rstrip,["chars=",null]),expose(b.split,["sep=",null,"count=",null]),expose(b.rsplit,["sep=",null,"count=",null]),expose(b.splitlines,["keepends=",!1]),expose(b.lower,[]),expose(b.upper,[]),expose(b.capitalize,[]),expose(b.join,["iterable"]),expose(b.startswith,["prefix"]),expose(b.endswith,["suffix"]);var S=_extend(g,{attrs:o("append","insert","pop","count","find","rfind"),ul4type:function ul4type(e){return"list"},append:function append(e,t){var r,n=_createForOfIteratorHelper(t);try{for(n.s();!(r=n.n()).done;){var a=r.value;e.push(a)}}catch(e){n.e(e)}finally{n.f()}return null},insert:function insert(e,t,r){t<0&&(t+=e.length);var n,a=_createForOfIteratorHelper(r);try{for(a.s();!(n=a.n()).done;){var i=n.value;e.splice(t++,0,i)}}catch(e){a.e(e)}finally{a.f()}return null},pop:function pop(e,t){t<0&&(t+=e.length);var r=e[t];return e.splice(t,1),r},count:function count(e,t){return _count(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},find:function find(e,t){return _find(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)},rfind:function rfind(e,t){return _rfind(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}});expose(S.append,["*items"]),expose(S.insert,["pos","*items"]),expose(S.pop,["pos=",-1]),expose(S.count,["sub","start=",null,"end=",null]),expose(S.find,["sub","start=",null,"end=",null]),expose(S.rfind,["sub","start=",null,"end=",null]);var k=_extend(g,{attrs:o("get","items","values","update","clear"),ul4type:function ul4type(e){return"dict"},getattr:function getattr(e,t){if(this.attrs.has(t)){var r=this[t],n=function realattr(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r.apply(this,[e].concat(n))};return n._ul4_name=r._ul4_name||r.name,n._ul4_signature=r._ul4_signature,n._ul4_needsobject=r._ul4_needsobject,n._ul4_needscontext=r._ul4_needscontext,n}return e.get(t)},get:function get(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e.has(t)?e.get(t):r},items:function items(e){var t=[];return e.forEach(function(e,r){t.push([r,e])}),t},values:function values(e){var t=[];return e.forEach(function(e,r){t.push(e)}),t},update:function update(e,t,r){return _update(e,t,r)},clear:function clear(e){return e.clear(),null}});expose(k.get,["key","default=",null]),expose(k.items,[]),expose(k.values,[]),expose(k.update,["*other","**kwargs"]),expose(k.clear,[]);var A=_extend(g,{attrs:o("add","clear"),ul4type:function ul4type(e){return"set"},add:function add(e,t){var r,n=_createForOfIteratorHelper(t);try{for(n.s();!(r=n.n()).done;){var a=r.value;e.add(a)}}catch(e){n.e(e)}finally{n.f()}},clear:function clear(e){return e.clear(),null}});expose(A.add,["*items"]),expose(A.clear,[]);var T=_extend(g,{attrs:o("weekday","week","calendar","day","month","year","mimeformat","isoformat","yearday"),ul4type:function ul4type(e){return"date"},weekday:function weekday(e){return w.weekday(e._date)},calendar:function calendar(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return w.calendar(e._date,t,r)},week:function week(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return w.calendar(e._date,t,r)[1]},day:function day(e){return e._date.getDate()},month:function month(e){return e._date.getMonth()+1},year:function year(e){return e._date.getFullYear()},mimeformat:function mimeformat(e){var t=e._date;return["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][w.weekday(t)]+", "+_lpad(t.getDate(),"0",2)+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+" "+t.getFullYear()},isoformat:function isoformat(e){var t=e._date;return t.getFullYear()+"-"+_lpad((t.getMonth()+1).toString(),"0",2)+"-"+_lpad(t.getDate().toString(),"0",2)},yearday:function yearday(e){return w.yearday(e._date)}});expose(T.weekday,[]),expose(T.calendar,["firstweekday=",0,"mindaysinfirstweek=",4]),expose(T.week,["firstweekday=",0,"mindaysinfirstweek=",4]),expose(T.day,[]),expose(T.month,[]),expose(T.year,[]),expose(T.mimeformat,[]),expose(T.isoformat,[]),expose(T.yearday,[]);var w=_extend(g,{attrs:o("weekday","week","calendar","day","month","year","hour","minute","second","microsecond","mimeformat","isoformat","yearday"),ul4type:function ul4type(e){return"datetime"},weekday:function weekday(e){var t=e.getDay();return t?t-1:6},calendar:function calendar(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;t=_mod(t,7),r<1?r=1:r>7&&(r=7);for(var n=1;n>=-1;--n){var a=e.getFullYear()+n,i=new Date(a,0,r),o=_mod(w.weekday(i)-t,7),s=i.getFullYear(),u=i.getMonth(),l=i.getDate()-o,_=new Date(s,u,l);if(e.getTime()>=_.getTime()){var c=De.prototype._do(e,_);return[a,Math.floor(c.days()/7)+1,w.weekday(e)]}}},week:function week(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return w.calendar(e,t,r)[1]},day:function day(e){return e.getDate()},month:function month(e){return e.getMonth()+1},year:function year(e){return e.getFullYear()},hour:function hour(e){return e.getHours()},minute:function minute(e){return e.getMinutes()},second:function second(e){return e.getSeconds()},microsecond:function microsecond(e){return 1e3*e.getMilliseconds()},mimeformat:function mimeformat(e){return["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][w.weekday(e)]+", "+_lpad(e.getDate(),"0",2)+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]+" "+e.getFullYear()+" "+_lpad(e.getHours(),"0",2)+":"+_lpad(e.getMinutes(),"0",2)+":"+_lpad(e.getSeconds(),"0",2)+" GMT"},isoformat:function isoformat(e){var t=e.getFullYear(),r=e.getMonth()+1,n=e.getDate(),a=e.getHours(),i=e.getMinutes(),o=e.getSeconds(),s=e.getMilliseconds(),u=t+"-"+_lpad(r.toString(),"0",2)+"-"+_lpad(n.toString(),"0",2)+"T"+_lpad(a.toString(),"0",2)+":"+_lpad(i.toString(),"0",2)+":"+_lpad(o.toString(),"0",2);return s&&(u+="."+_lpad(s.toString(),"0",3)+"000"),u},yearday:function yearday(e){var t=_isleap(e)?1:0,r=e.getDate();switch(e.getMonth()){case 0:return r;case 1:return 31+r;case 2:return 59+t+r;case 3:return 59+t+31+r;case 4:return 59+t+31+30+r;case 5:return 59+t+31+30+31+r;case 6:return 59+t+31+30+31+30+r;case 7:return 59+t+31+30+31+30+31+r;case 8:return 59+t+31+30+31+30+31+31+r;case 9:return 59+t+31+30+31+30+31+31+30+r;case 10:return 59+t+31+30+31+30+31+31+30+31+r;case 11:return 59+t+31+30+31+30+31+31+30+31+30+r}}});expose(w.weekday,[]),expose(w.calendar,["firstweekday=",0,"mindaysinfirstweek=",4]),expose(w.week,["firstweekday=",0,"mindaysinfirstweek=",4]),expose(w.day,[]),expose(w.month,[]),expose(w.year,[]),expose(w.hour,[]),expose(w.minute,[]),expose(w.second,[]),expose(w.microsecond,[]),expose(w.mimeformat,[]),expose(w.isoformat,[]),expose(w.yearday,[]);var x=_extend(g,{attrs:o("get","items","values","update","clear"),ul4type:function ul4type(e){return"dict"},getattr:function getattr(e,t){var r;if("function"!=typeof(r=e&&"function"==typeof e.__getattr__?e.__getattr__(t):e[t]))return r;var n=function realresult(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r.apply(e,n)};return n._ul4_name=r._ul4_name||r.name,n._ul4_signature=r._ul4_signature,n._ul4_needsobject=r._ul4_needsobject,n._ul4_needscontext=r._ul4_needscontext,n},get:function get(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e[t];return void 0===n?r:n},items:function items(e){var t=[];for(var r in e)t.push([r,e[r]]);return t},values:function values(e){var t=[];for(var r in e)t.push(e[r]);return t},clear:function clear(e){for(var t in e)delete e[t]}});expose(x.get,["key","default=",null]),expose(x.items,[]),expose(x.values,[]),expose(x.clear,[]);var C=function(){function Context(e){_classCallCheck(this,Context),null==e&&(e={}),this.vars=e,this.indents=[],this.escapes=[],this._output=[]}return _createClass(Context,[{key:"inheritvars",value:function inheritvars(){var e=Object.create(this);return e.vars=Object.create(this.vars),e}},{key:"withindent",value:function withindent(e){var t=Object.create(this);return null!==e&&(t.indents=this.indents.slice(),t.indents.push(e)),t}},{key:"replaceoutput",value:function replaceoutput(){var e=Object.create(this);return e._output=[],e}},{key:"clone",value:function clone(e){return Object.create(this)}},{key:"output",value:function output(e){var t,r=_createForOfIteratorHelper(this.escapes);try{for(r.s();!(t=r.n()).done;){e=(0,t.value)(e)}}catch(e){r.e(e)}finally{r.f()}this._output.push(e)}},{key:"getoutput",value:function getoutput(){return this._output.join("")}},{key:"get",value:function get(e){return this.vars[e]}},{key:"set",value:function set(e,t){this.vars[e]=t}}]),Context}();function Exception(e,t,r){var n=new Error(e,t,r);return Object.setPrototypeOf?Object.setPrototypeOf(n,Object.getPrototypeOf(this)):n.__proto=this,n.__id__=d++,n.context=null,n}Exception.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(Exception,Error):Exception.__proto__=Error,Exception.prototype.__getattr__=function __getattr__(e){switch(e){case"context":return this.context;default:throw new L(this,e)}};var j=function(e){_inherits(InternalException,Exception);var t=_createSuper(InternalException);function InternalException(){return _classCallCheck(this,InternalException),t.apply(this,arguments)}return InternalException}(),M=function(e){_inherits(ReturnException,j);var t=_createSuper(ReturnException);function ReturnException(e){var r;return _classCallCheck(this,ReturnException),(r=t.call(this,"return")).result=e,r}return ReturnException}(),O=function(e){_inherits(BreakException,j);var t=_createSuper(BreakException);function BreakException(){return _classCallCheck(this,BreakException),t.call(this,"break")}return BreakException}(),E=function(e){_inherits(ContinueException,j);var t=_createSuper(ContinueException);function ContinueException(){return _classCallCheck(this,ContinueException),t.call(this,"continue")}return ContinueException}(),D=function(e){_inherits(SyntaxError,Exception);var t=_createSuper(SyntaxError);function SyntaxError(){return _classCallCheck(this,SyntaxError),t.apply(this,arguments)}return SyntaxError}(),I=function(e){_inherits(LValueRequiredError,D);var t=_createSuper(LValueRequiredError);function LValueRequiredError(){return _classCallCheck(this,LValueRequiredError),t.call(this,"lvalue required")}return LValueRequiredError}(),B=function(e){_inherits(TypeError,Exception);var t=_createSuper(TypeError);function TypeError(){return _classCallCheck(this,TypeError),t.apply(this,arguments)}return TypeError}(),F=function(e){_inherits(ValueError,Exception);var t=_createSuper(ValueError);function ValueError(){return _classCallCheck(this,ValueError),t.apply(this,arguments)}return ValueError}(),H=function(e){_inherits(ArgumentError,Exception);var t=_createSuper(ArgumentError);function ArgumentError(){return _classCallCheck(this,ArgumentError),t.apply(this,arguments)}return ArgumentError}(),P=function(e){_inherits(NotSubscriptableError,Exception);var t=_createSuper(NotSubscriptableError);function NotSubscriptableError(e){var r;return _classCallCheck(this,NotSubscriptableError),(r=t.call(this,"Object of type "+_type(e)+" is not subscriptable")).obj=e,r}return _createClass(NotSubscriptableError,[{key:"toString",value:function toString(){return"Object of type "+_type(this.obj)+" is not subscriptable"}}]),NotSubscriptableError}(),V=function(e){_inherits(ZeroDivisionError,Exception);var t=_createSuper(ZeroDivisionError);function ZeroDivisionError(){return _classCallCheck(this,ZeroDivisionError),t.call(this,"division by zero")}return ZeroDivisionError}(),q=function(e){_inherits(IndexError,Exception);var t=_createSuper(IndexError);function IndexError(e,r){var n;return _classCallCheck(this,IndexError),(n=t.call(this,"index "+_repr2(r)+" out of range")).obj=e,n.index=r,n}return _createClass(IndexError,[{key:"toString",value:function toString(){return"index "+this.index+" out of range for "+_type(this.obj)}}]),IndexError}(),L=function(e){_inherits(AttributeError,Exception);var t=_createSuper(AttributeError);function AttributeError(e,r){var n;return _classCallCheck(this,AttributeError),(n=t.call(this,"object of type "+_type(e)+" has no attribute "+_repr2(r))).obj=e,n.attrname=r,n}return AttributeError}(),N=function(e){_inherits(LocationError,Exception);var t=_createSuper(LocationError);function LocationError(e){var r;return _classCallCheck(this,LocationError),(r=t.call(this,"nested exception in "+_repr2(e))).location=e,r}return _createClass(LocationError,[{key:"_templateprefix",value:function _templateprefix(){var e=this.location.template,t=[];null!==e.parenttemplate?t.push("in local template "):t.push("in template ");for(var r=!0;null!=e;)r?r=!1:t.push(" in "),t.push(e.name?_repr2(e.name):"(unnamed)"),e=e.parenttemplate;return t.join("")}},{key:"toString",value:function toString(){this.location.template;var e=this._templateprefix(),t=this.location.sourceprefix,r=this.location.source,n=this.location.sourcesuffix,a=(t=_repr2(t).slice(1,-1))+(r=_repr2(r).slice(1,-1))+(n=_repr2(n).slice(1,-1)),i=_str_repeat(" ",t.length)+_str_repeat("~",r.length);return e+": "+("offset "+this.location.pos.start+":"+this.location.pos.stop+"; line "+this.location.line+"; col "+this.location.col)+"\n"+a+"\n"+i}},{key:"__getattr__",value:function __getattr__(e){switch(e){case"context":return this.context;case"location":return this.location;default:throw new L(this,e)}}}]),LocationError}(),R=function(e){_inherits(AST,v);var t=_createSuper(AST);function AST(e,r){var n;return _classCallCheck(this,AST),(n=t.call(this)).template=e,n.pos=r,n._line=null,n._col=null,n}return _createClass(AST,[{key:"_calculateLineCol",value:function _calculateLineCol(){this._line=1,this._col=1;for(var e=this.pos.start,t=0;t<e;++t)"\n"===this.template.source[t]?(++this._line,this._col=1):++this._col}},{key:"__getattr__",value:function __getattr__(e){if("type"===e||"fullsource"===e||"source"===e||"sourceprefix"===e||"sourcesuffix"===e||"line"===e||"col"===e)return this[e];if(this._ul4onattrs.indexOf(e)>=0)return this[e];throw new L(this,e)}},{key:"__setitem__",value:function __setitem__(e,t){throw new B("object is immutable")}},{key:"__str__",value:function __str__(){var e=[];return this._str(e),_formatsource(e)}},{key:"__repr__",value:function __repr__(){var e=[];return this._repr(e),_formatsource(e)}},{key:"_decorate_exception",value:function _decorate_exception(e){for(;void 0!==e.context&&null!==e.context;)e=e.context;e.context=new N(this)}},{key:"_handle_eval",value:function _handle_eval(e){try{return this._eval(e)}catch(e){throw e instanceof j||e instanceof N||this._decorate_exception(e),e}}},{key:"_handle_eval_set",value:function _handle_eval_set(e,t){try{return this._eval_set(e,t)}catch(e){throw e instanceof N||this._decorate_exception(e),e}}},{key:"_eval_set",value:function _eval_set(e,t){throw new I}},{key:"_handle_eval_modify",value:function _handle_eval_modify(e,t,r){try{return this._eval_modify(e,t,r)}catch(e){throw e instanceof N||this._decorate_exception(e),e}}},{key:"_eval_modify",value:function _eval_modify(e,t,r){throw new I}},{key:"_repr",value:function _repr(e){}},{key:"_str",value:function _str(e){e.push(this.source.replace(/\r?\n/g," "))}},{key:"ul4ondump",value:function ul4ondump(e){var t,r=_createForOfIteratorHelper(this._ul4onattrs);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.dump(this[n])}}catch(e){r.e(e)}finally{r.f()}}},{key:"ul4onload",value:function ul4onload(e){var t,r=_createForOfIteratorHelper(this._ul4onattrs);try{for(r.s();!(t=r.n()).done;){this[t.value]=e.load()}}catch(e){r.e(e)}finally{r.f()}}},{key:"fullsource",get:function get(){return this.template._source}},{key:"source",get:function get(){return this.pos.of(this.template._source)}},{key:"sourceprefix",get:function get(){for(var e=this.pos.start,t=e,r=this.fullsource,n=40,a="…";n>0;){if(0===e){a="";break}if("\n"===r.charAt(e-1)){a="";break}--n,--e}return a+r.substring(e,t)}},{key:"sourcesuffix",get:function get(){for(var e=this.pos.stop,t=e,r=this.fullsource,n=40,a="…";n>0;){if(e>=r.length){a="";break}if("\n"===r.charAt(e)){a="";break}--n,++e}return r.substring(t,e)+a}},{key:"line",get:function get(){return null===this._line&&this._calculateLineCol(),this._line}},{key:"col",get:function get(){return null===this._col&&this._calculateLineCol(),this._col}}]),AST}();R.prototype._ul4onattrs=["template","pos"];var Y=function(e){_inherits(TextAST,R);var t=_createSuper(TextAST);function TextAST(e,r){return _classCallCheck(this,TextAST),t.call(this,e,r)}return _createClass(TextAST,[{key:"_eval",value:function _eval(e){e.output(this.text)}},{key:"_str",value:function _str(e){e.push("text "),e.push(_repr2(this.text))}},{key:"_repr",value:function _repr(e){e.push("<TextAST "),e.push(_repr2(this.text)),e.push(">")}},{key:"text",get:function get(){return this.source}}]),TextAST}(),U=function(e){_inherits(IndentAST,Y);var t=_createSuper(IndentAST);function IndentAST(e,r,n){var a;return _classCallCheck(this,IndentAST),(a=t.call(this,e,r))._text=n,a}return _createClass(IndentAST,[{key:"_eval",value:function _eval(e){var t,r=_createForOfIteratorHelper(e.indents);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.output(n)}}catch(e){r.e(e)}finally{r.f()}e.output(this.text)}},{key:"ul4ondump",value:function ul4ondump(e){_get(_getPrototypeOf(IndentAST.prototype),"ul4ondump",this).call(this,e),this._text===this.source?e.dump(null):e.dump(this._text)}},{key:"ul4onload",value:function ul4onload(e){_get(_getPrototypeOf(IndentAST.prototype),"ul4onload",this).call(this,e),this._text=e.load()}},{key:"_str",value:function _str(e){e.push("indent "),e.push(_repr2(this.text))}},{key:"_repr",value:function _repr(e){e.push("<IndentAST "),e.push(_repr2(this.text)),e.push(">")}},{key:"text",get:function get(){return void 0!==this.template?null===this._text?this.source:this._text:null}}]),IndentAST}(),z=function(e){_inherits(LineEndAST,Y);var t=_createSuper(LineEndAST);function LineEndAST(){return _classCallCheck(this,LineEndAST),t.apply(this,arguments)}return _createClass(LineEndAST,[{key:"_str",value:function _str(e){e.push("lineend "),e.push(_repr2(this.text))}},{key:"_repr",value:function _repr(e){e.push("<LineEndAST "),e.push(_repr2(this.text)),e.push(">")}}]),LineEndAST}(),X=function(e){_inherits(CodeAST,R);var t=_createSuper(CodeAST);function CodeAST(){return _classCallCheck(this,CodeAST),t.apply(this,arguments)}return CodeAST}(),J=function(e){_inherits(ConstAST,X);var t=_createSuper(ConstAST);function ConstAST(e,r,n){var a;return _classCallCheck(this,ConstAST),(a=t.call(this,e,r)).value=n,a}return _createClass(ConstAST,[{key:"_repr",value:function _repr(e){e.push("<ConstAST value="),e.push(_repr2(this.value)),e.push(">")}},{key:"_eval",value:function _eval(e){return this.value}}]),ConstAST}();J.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["value"]);var G=function(e){_inherits(ItemArgBase,X);var t=_createSuper(ItemArgBase);function ItemArgBase(){return _classCallCheck(this,ItemArgBase),t.apply(this,arguments)}return _createClass(ItemArgBase,[{key:"_handle_eval_list",value:function _handle_eval_list(e,t){try{return this._eval_list(e,t)}catch(e){throw e instanceof j||e instanceof N||this._decorate_exception(e),e}}},{key:"_handle_eval_set",value:function _handle_eval_set(e,t){try{return this._eval_set(e,t)}catch(e){throw e instanceof j||e instanceof N||this._decorate_exception(e),e}}},{key:"_handle_eval_dict",value:function _handle_eval_dict(e,t){try{return this._eval_dict(e,t)}catch(e){throw e instanceof j||e instanceof N||this._decorate_exception(e),e}}},{key:"_handle_eval_call",value:function _handle_eval_call(e,t,r){try{return this._eval_call(e,t,r)}catch(e){throw e instanceof j||e instanceof N||this._decorate_exception(e),e}}}]),ItemArgBase}(),W=function(e){_inherits(SeqItemAST,G);var t=_createSuper(SeqItemAST);function SeqItemAST(e,r,n){var a;return _classCallCheck(this,SeqItemAST),(a=t.call(this,e,r)).value=n,a}return _createClass(SeqItemAST,[{key:"_repr",value:function _repr(e){e.push("<SeqItemAST value="),e.push(_repr2(this.value)),e.push(">")}},{key:"_eval_list",value:function _eval_list(e,t){var r=this.value._handle_eval(e);t.push(r)}},{key:"_eval_set",value:function _eval_set(e,t){var r=this.value._handle_eval(e);t.add(r)}}]),SeqItemAST}();W.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["value"]);var K=function(e){_inherits(UnpackSeqItemAST,G);var t=_createSuper(UnpackSeqItemAST);function UnpackSeqItemAST(e,r,n){var a;return _classCallCheck(this,UnpackSeqItemAST),(a=t.call(this,e,r)).value=n,a}return _createClass(UnpackSeqItemAST,[{key:"_repr",value:function _repr(e){e.push("<UnpackSeqItemAST value="),e.push(_repr2(this.value)),e.push(">")}},{key:"_eval_list",value:function _eval_list(e,t){for(var r=_iter(this.value._handle_eval(e));;){var n=r.next();if(n.done)break;t.push(n.value)}}},{key:"_eval_set",value:function _eval_set(e,t){for(var r=_iter(this.value._handle_eval(e));;){var n=r.next();if(n.done)break;t.add(n.value)}}}]),UnpackSeqItemAST}();K.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["value"]);var Q=function(t){_inherits(DictItemAST,G);var r=_createSuper(DictItemAST);function DictItemAST(e,t,n,a){var i;return _classCallCheck(this,DictItemAST),(i=r.call(this,e,t)).key=n,i.value=a,i}return _createClass(DictItemAST,[{key:"_repr",value:function _repr(e){e.push("<DictItemAST key="),e.push(_repr2(this.key)),e.push(" value="),e.push(_repr2(this.value)),e.push(">")}},{key:"_eval_dict",value:function _eval_dict(t,r){var n=this.key._handle_eval(t),a=this.value._handle_eval(t);e._setmap(r,n,a)}}]),DictItemAST}();Q.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["key","value"]);var $=function(t){_inherits(UnpackDictItemAST,G);var r=_createSuper(UnpackDictItemAST);function UnpackDictItemAST(e,t,n){var a;return _classCallCheck(this,UnpackDictItemAST),(a=r.call(this,e,t)).item=n,a}return _createClass(UnpackDictItemAST,[{key:"_repr",value:function _repr(e){e.push("<UnpackDictItemAST item="),e.push(_repr2(this.item)),e.push(">")}},{key:"_eval_dict",value:function _eval_dict(t,r){var n=this.item._handle_eval(t);if(_islist(n)){var a,i=_createForOfIteratorHelper(n);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(!_islist(o)||2!=o.length)throw new H("** requires a list of (key, value) pairs");e._setmap(r,o[0],o[1])}}catch(e){i.e(e)}finally{i.f()}}else if(h(n))n.forEach(function(t,n){e._setmap(r,n,t)});else if(_isobject(n))for(var s in n)e._setmap(r,s,n[s])}}]),UnpackDictItemAST}();$.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["item"]);var Z=function(e){_inherits(PosArgAST,G);var t=_createSuper(PosArgAST);function PosArgAST(e,r,n){var a;return _classCallCheck(this,PosArgAST),(a=t.call(this,e,r)).value=n,a}return _createClass(PosArgAST,[{key:"_repr",value:function _repr(e){e.push("<PosArgAST value="),this.value._repr(e),e.push(">")}},{key:"_eval_call",value:function _eval_call(e,t,r){var n=this.value._handle_eval(e);t.push(n)}}]),PosArgAST}();Z.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["value"]);var ee=function(e){_inherits(KeywordArgAST,G);var t=_createSuper(KeywordArgAST);function KeywordArgAST(e,r,n,a){var i;return _classCallCheck(this,KeywordArgAST),(i=t.call(this,e,r)).name=n,i.value=a,i}return _createClass(KeywordArgAST,[{key:"_repr",value:function _repr(e){e.push("<KeywordArgAST name="),e.push(_repr2(this.name)),e.push(" value="),this.value._repr(e),e.push(">")}},{key:"_eval_call",value:function _eval_call(e,t,r){if(r.hasOwnProperty(this.name))throw new H("duplicate keyword argument "+this.name);var n=this.value._handle_eval(e);r[this.name]=n}}]),KeywordArgAST}();ee.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["name","value"]);var te=function(e){_inherits(UnpackListArgAST,G);var t=_createSuper(UnpackListArgAST);function UnpackListArgAST(e,r,n){var a;return _classCallCheck(this,UnpackListArgAST),(a=t.call(this,e,r)).item=n,a}return _createClass(UnpackListArgAST,[{key:"_repr",value:function _repr(e){e.push("<UnpackListArgAST item="),this.item._repr(e),e.push(">")}},{key:"_eval_call",value:function _eval_call(e,t,r){var n=this.item._handle_eval(e);t.push.apply(t,_toConsumableArray(n))}}]),UnpackListArgAST}();te.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["item"]);var re=function(e){_inherits(UnpackDictArgAST,G);var t=_createSuper(UnpackDictArgAST);function UnpackDictArgAST(e,r,n){var a;return _classCallCheck(this,UnpackDictArgAST),(a=t.call(this,e,r)).item=n,a}return _createClass(UnpackDictArgAST,[{key:"_repr",value:function _repr(e){e.push("<UnpackDictArgAST item="),this.item._repr(e),e.push(">")}},{key:"_eval_call",value:function _eval_call(e,t,r){var n=this.item._handle_eval(e);if(_islist(n)){var a,i=_createForOfIteratorHelper(n);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(!_islist(o)||2!=o.length)throw new H("** requires a list of (key, value) pairs");var s=_slicedToArray(o,2),u=s[0],l=s[1];if(r.hasOwnProperty(u))throw new H("duplicate keyword argument "+u);r[u]=l}}catch(e){i.e(e)}finally{i.f()}}else if(h(n))n.forEach(function(e,t){if(r.hasOwnProperty(t))throw new H("duplicate keyword argument "+t);r[t]=e});else if(_isobject(n))for(var _ in n){if(r.hasOwnProperty(_))throw new H("duplicate keyword argument "+_);r[_]=n[_]}}}]),UnpackDictArgAST}();re.prototype._ul4onattrs=G.prototype._ul4onattrs.concat(["item"]);var ne=function(e){_inherits(ListAST,X);var t=_createSuper(ListAST);function ListAST(e,r){var n;return _classCallCheck(this,ListAST),(n=t.call(this,e,r)).items=[],n}return _createClass(ListAST,[{key:"_repr",value:function _repr(e){e.push("<ListAST");var t,r=_createForOfIteratorHelper(this.items);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push(" "),n._repr(e)}}catch(e){r.e(e)}finally{r.f()}e.push(">")}},{key:"_eval",value:function _eval(e){var t,r=[],n=_createForOfIteratorHelper(this.items);try{for(n.s();!(t=n.n()).done;){t.value._handle_eval_list(e,r)}}catch(e){n.e(e)}finally{n.f()}return r}}]),ListAST}();ne.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["items"]);var ae=function(e){_inherits(ListCompAST,X);var t=_createSuper(ListCompAST);function ListCompAST(e,r,n,a,i,o){var s;return _classCallCheck(this,ListCompAST),(s=t.call(this,e,r)).item=n,s.varname=a,s.container=i,s.condition=o,s}return _createClass(ListCompAST,[{key:"_repr",value:function _repr(e){e.push("<ListCompAST"),e.push(" item="),this.item._repr(e),e.push(" varname="),e.push(_repr2(this.varname)),e.push(" container="),this.container._repr(e),null!==this.condition&&(e.push(" condition="),this.condition._repr(e)),e.push(">")}},{key:"_eval",value:function _eval(e){for(var t=this.container._handle_eval(e),r=e.inheritvars(),n=[],a=_iter(t);;){var i=a.next();if(i.done)break;var o,s=_createForOfIteratorHelper(_unpackvar(this.varname,i.value));try{for(s.s();!(o=s.n()).done;){var u=_slicedToArray(o.value,2),l=u[0],_=u[1];l._handle_eval_set(r,_)}}catch(e){s.e(e)}finally{s.f()}(null===this.condition||_bool(this.condition._handle_eval(r)))&&n.push(this.item._handle_eval(r))}return n}}]),ListCompAST}();ae.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["item","varname","container","condition"]);var ie=function(t){_inherits(SetAST,X);var r=_createSuper(SetAST);function SetAST(e,t){var n;return _classCallCheck(this,SetAST),(n=r.call(this,e,t)).items=[],n}return _createClass(SetAST,[{key:"_repr",value:function _repr(e){e.push("<SetAST");var t,r=_createForOfIteratorHelper(this.items);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push(" "),n._repr(e)}}catch(e){r.e(e)}finally{r.f()}e.push(">")}},{key:"_eval",value:function _eval(t){var r,n=e._emptyset(),a=_createForOfIteratorHelper(this.items);try{for(a.s();!(r=a.n()).done;){r.value._handle_eval_set(t,n)}}catch(e){a.e(e)}finally{a.f()}return n}}]),SetAST}();ie.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["items"]);var oe=function(t){_inherits(SetCompAST,X);var r=_createSuper(SetCompAST);function SetCompAST(e,t,n,a,i,o){var s;return _classCallCheck(this,SetCompAST),(s=r.call(this,e,t)).item=n,s.varname=a,s.container=i,s.condition=o,s}return _createClass(SetCompAST,[{key:"__getattr__",value:function __getattr__(e){switch(e){case"item":return this.item;case"varname":return this.varname;case"container":return this.container;case"condition":return this.condition;default:return _get(_getPrototypeOf(SetCompAST.prototype),"__getattr__",this).call(this,e)}}},{key:"_repr",value:function _repr(e){e.push("<SetCompAST"),e.push(" item="),this.item._repr(e),e.push(" varname="),this.varname._repr(e),e.push(" container="),this.container._repr(e),null!==this.condition&&(e.push(" condition="),this.condition._repr(e)),e.push(">")}},{key:"_eval",value:function _eval(t){for(var r=this.container._handle_eval(t),n=t.inheritvars(),a=e._emptyset(),i=_iter(r);;){var o=i.next();if(o.done)break;var s,u=_createForOfIteratorHelper(_unpackvar(this.varname,o.value));try{for(u.s();!(s=u.n()).done;){var l=_slicedToArray(s.value,2),_=l[0],c=l[1];_._handle_eval_set(n,c)}}catch(e){u.e(e)}finally{u.f()}(null===this.condition||_bool(this.condition._handle_eval(n)))&&a.add(this.item._handle_eval(n))}return a}}]),SetCompAST}();oe.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["item","varname","container","condition"]);var se=function(t){_inherits(DictAST,X);var r=_createSuper(DictAST);function DictAST(e,t){var n;return _classCallCheck(this,DictAST),(n=r.call(this,e,t)).items=[],n}return _createClass(DictAST,[{key:"__getattr__",value:function __getattr__(e){switch(e){case"items":return this.items;default:return _get(_getPrototypeOf(DictAST.prototype),"__getattr__",this).call(this,e)}}},{key:"_repr",value:function _repr(e){e.push("<DictAST");var t,r=_createForOfIteratorHelper(this.items);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push(" "),n._repr(e)}}catch(e){r.e(e)}finally{r.f()}e.push(">")}},{key:"_eval",value:function _eval(t){var r,n=e._emptymap(),a=_createForOfIteratorHelper(this.items);try{for(a.s();!(r=a.n()).done;){r.value._handle_eval_dict(t,n)}}catch(e){a.e(e)}finally{a.f()}return n}}]),DictAST}();se.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["items"]);var ue=function(t){_inherits(DictCompAST,X);var r=_createSuper(DictCompAST);function DictCompAST(e,t,n,a,i,o,s){var u;return _classCallCheck(this,DictCompAST),(u=r.call(this,e,t)).key=n,u.value=a,u.varname=i,u.container=o,u.condition=s,u}return _createClass(DictCompAST,[{key:"_repr",value:function _repr(e){e.push("<DictCompAST"),e.push(" key="),this.key._repr(e),e.push(" value="),this.value._repr(e),e.push(" varname="),this.varname._repr(e),e.push(" container="),this.container._repr(e),null!==this.condition&&(e.push(" condition="),this.condition._repr(e)),e.push(">")}},{key:"_eval",value:function _eval(t){for(var r=this.container._handle_eval(t),n=t.inheritvars(),a=e._emptymap(),i=_iter(r);;){var o=i.next();if(o.done)break;var s,u=_createForOfIteratorHelper(_unpackvar(this.varname,o.value));try{for(u.s();!(s=u.n()).done;){var l=_slicedToArray(s.value,2),_=l[0],c=l[1];_._handle_eval_set(n,c)}}catch(e){u.e(e)}finally{u.f()}if(null===this.condition||_bool(this.condition._handle_eval(n))){var f=this.key._handle_eval(n),h=this.value._handle_eval(n);e._setmap(a,f,h)}}return a}}]),DictCompAST}();ue.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["key","value","varname","container","condition"]);var le=function(e){_inherits(GenExprAST,X);var t=_createSuper(GenExprAST);function GenExprAST(e,r,n,a,i,o){var s;return _classCallCheck(this,GenExprAST),(s=t.call(this,e,r)).item=n,s.varname=a,s.container=i,s.condition=o,s}return _createClass(GenExprAST,[{key:"_repr",value:function _repr(e){e.push("<GenExprAST"),e.push(" item="),this.item._repr(e),e.push(" varname="),this.varname._repr(e),e.push(" container="),this.container._repr(e),null!==this.condition&&(e.push(" condition="),this.condition._repr(e)),e.push(">")}},{key:"_eval",value:function _eval(e){var t=_iter(this.container._handle_eval(e)),r=e.inheritvars(),n=this;return{next:function next(){for(;;){var e=t.next();if(e.done)return e;var a,i=_createForOfIteratorHelper(_unpackvar(n.varname,e.value));try{for(i.s();!(a=i.n()).done;){var o=_slicedToArray(a.value,2),s=o[0],u=o[1];s._handle_eval_set(r,u)}}catch(e){i.e(e)}finally{i.f()}if(null===n.condition||_bool(n.condition._handle_eval(r)))return{value:n.item._handle_eval(r),done:!1}}}}}}]),GenExprAST}();le.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["item","varname","container","condition"]);var _e=function(e){_inherits(VarAST,X);var t=_createSuper(VarAST);function VarAST(e,r,n){var a;return _classCallCheck(this,VarAST),(a=t.call(this,e,r)).name=n,a}return _createClass(VarAST,[{key:"_repr",value:function _repr(e){e.push("<VarAST name="),e.push(_repr2(this.name)),e.push(">")}},{key:"_eval",value:function _eval(e){return this._get(e,this.name)}},{key:"_eval_set",value:function _eval_set(e,t){this._set(e,this.name,t)}},{key:"_eval_modify",value:function _eval_modify(e,t,r){this._modify(e,t,this.name,r)}},{key:"_get",value:function _get(e,t){var r=e.get(t);return void 0===r&&(r=Tt[t]),r}},{key:"_set",value:function _set(e,t,r){e.set(t,r)}},{key:"_modify",value:function _modify(e,t,r,n){var a=t._ido(e.get(r),n);e.set(r,a)}}]),VarAST}();_e.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["name"]);var ce=function(e){_inherits(UnaryAST,X);var t=_createSuper(UnaryAST);function UnaryAST(e,r,n){var a;return _classCallCheck(this,UnaryAST),(a=t.call(this,e,r)).obj=n,a}return _createClass(UnaryAST,[{key:"_repr",value:function _repr(e){e.push("<"),e.push(this.constructor.name),e.push(" obj="),this.obj._repr(e),e.push(">")}},{key:"_eval",value:function _eval(e){var t=this.obj._handle_eval(e);return this._do(t)}}]),UnaryAST}();ce.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["obj"]);var fe=function(e){_inherits(NegAST,ce);var t=_createSuper(NegAST);function NegAST(){return _classCallCheck(this,NegAST),t.apply(this,arguments)}return _createClass(NegAST,[{key:"_do",value:function _do(e){return null!==e&&"function"==typeof e.__neg__?e.__neg__():-e}}]),NegAST}(),he=function(e){_inherits(BitNotAST,ce);var t=_createSuper(BitNotAST);function BitNotAST(){return _classCallCheck(this,BitNotAST),t.apply(this,arguments)}return _createClass(BitNotAST,[{key:"_do",value:function _do(e){return-e-1}}]),BitNotAST}(),pe=function(e){_inherits(NotAST,ce);var t=_createSuper(NotAST);function NotAST(){return _classCallCheck(this,NotAST),t.apply(this,arguments)}return _createClass(NotAST,[{key:"_do",value:function _do(e){return!_bool(e)}}]),NotAST}(),de=function(e){_inherits(IfAST,X);var t=_createSuper(IfAST);function IfAST(e,r,n,a,i){var o;return _classCallCheck(this,IfAST),(o=t.call(this,e,r)).objif=n,o.objcond=a,o.objelse=i,o}return _createClass(IfAST,[{key:"_repr",value:function _repr(e){e.push("<"),e.push(this.constructor.name),e.push(1),e.push("objif="),this.objif._repr(e),e.push(0),e.push("objcond="),this.objcond._repr(e),e.push(0),e.push("objelse="),this.objelse._repr(e),e.push(-1),e.push(">")}},{key:"_eval",value:function _eval(e){return _bool(this.objcond._handle_eval(e))?this.objif._handle_eval(e):this.objelse._handle_eval(e)}}]),IfAST}();de.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["objif","objcond","objelse"]);var ve=function(e){_inherits(ReturnAST,ce);var t=_createSuper(ReturnAST);function ReturnAST(){return _classCallCheck(this,ReturnAST),t.apply(this,arguments)}return _createClass(ReturnAST,[{key:"_eval",value:function _eval(e){var t=this.obj._handle_eval(e);throw new M(t)}},{key:"_str",value:function _str(e){e.push("return "),this.obj._str(e)}}]),ReturnAST}(),me=function(e){_inherits(PrintAST,ce);var t=_createSuper(PrintAST);function PrintAST(){return _classCallCheck(this,PrintAST),t.apply(this,arguments)}return _createClass(PrintAST,[{key:"_eval",value:function _eval(e){var t=_str(this.obj._handle_eval(e));e.output(t)}},{key:"_str",value:function _str(e){e.push("print "),this.obj._str(e)}}]),PrintAST}(),ye=function(e){_inherits(PrintXAST,ce);var t=_createSuper(PrintXAST);function PrintXAST(){return _classCallCheck(this,PrintXAST),t.apply(this,arguments)}return _createClass(PrintXAST,[{key:"_eval",value:function _eval(e){var t=_xmlescape(this.obj._handle_eval(e));e.output(t)}},{key:"_str",value:function _str(e){e.push("printx "),this.obj._str(e)}}]),PrintXAST}(),ge=function(e){_inherits(BinaryAST,X);var t=_createSuper(BinaryAST);function BinaryAST(e,r,n,a){var i;return _classCallCheck(this,BinaryAST),(i=t.call(this,e,r)).obj1=n,i.obj2=a,i}return _createClass(BinaryAST,[{key:"_repr",value:function _repr(e){e.push("<"),e.push(this.constructor.name),e.push(" obj1="),this.obj1._repr(e),e.push(" obj2="),this.obj2._repr(e),e.push(">")}},{key:"_eval",value:function _eval(e){var t=this.obj1._handle_eval(e),r=this.obj2._handle_eval(e);return this._do(t,r)}}]),BinaryAST}();ge.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["obj1","obj2"]);var be=function(e){_inherits(ItemAST,ge);var t=_createSuper(ItemAST);function ItemAST(){return _classCallCheck(this,ItemAST),t.apply(this,arguments)}return _createClass(ItemAST,[{key:"_do",value:function _do(e,t){return this._get(e,t)}},{key:"_eval_set",value:function _eval_set(e,t){var r=this.obj1._handle_eval(e),n=this.obj2._handle_eval(e);this._set(r,n,t)}},{key:"_eval_modify",value:function _eval_modify(e,t,r){var n=this.obj1._handle_eval(e),a=this.obj2._handle_eval(e);this._modify(t,n,a,r)}},{key:"_get",value:function _get(e,t){if("string"==typeof e||_islist(e)){if(t instanceof Ke){var r=t.start,n=t.stop;return null==r&&(r=0),null==n&&(n=e.length),e.slice(r,n)}var a=t;if(t<0&&(t+=e.length),t<0||t>=e.length)throw new q(e,a);return e[t]}if(e&&"function"==typeof e.__getitem__)return e.__getitem__(t);if(h(e))return e.get(t);throw new B(_type(e)+" object is not subscriptable")}},{key:"_set",value:function _set(e,t,r){if(_islist(e))if(t instanceof Ke){var n=t.start,a=t.stop;null===n?n=0:n<0&&(n+=e.length),n<0?n=0:n>e.length&&(n=e.length),null===a?a=e.length:a<0&&(a+=e.length),a<0?a=0:a>e.length&&(a=e.length),a<n&&(a=n),e.splice(n,a-n);for(var i=_iter(r);;){var o=i.next();if(o.done)break;e.splice(n++,0,o.value)}}else{var s=t;if(t<0&&(t+=e.length),t<0||t>=e.length)throw new q(e,s);e[t]=r}else if(e&&"function"==typeof e.__setitem__)e.__setitem__(t,r);else if(h(e))e.set(t,r);else{if(!_isobject(e))throw new P(e);e[t]=r}}},{key:"_modify",value:function _modify(e,t,r,n){this._set(t,r,e._ido(this._get(t,r),n))}}]),ItemAST}(),Se=function(e){_inherits(IsAST,ge);var t=_createSuper(IsAST);function IsAST(){return _classCallCheck(this,IsAST),t.apply(this,arguments)}return _createClass(IsAST,[{key:"_do",value:function _do(e,t){return e===t}}]),IsAST}(),ke=function(e){_inherits(IsNotAST,ge);var t=_createSuper(IsNotAST);function IsNotAST(){return _classCallCheck(this,IsNotAST),t.apply(this,arguments)}return _createClass(IsNotAST,[{key:"_do",value:function _do(e,t){return e!==t}}]),IsNotAST}(),Ae=function(e){_inherits(EQAST,ge);var t=_createSuper(EQAST);function EQAST(){return _classCallCheck(this,EQAST),t.apply(this,arguments)}return _createClass(EQAST,[{key:"_do",value:function _do(e,t){return _eq(e,t)}}]),EQAST}(),Te=function(e){_inherits(NEAST,ge);var t=_createSuper(NEAST);function NEAST(){return _classCallCheck(this,NEAST),t.apply(this,arguments)}return _createClass(NEAST,[{key:"_do",value:function _do(e,t){return _ne(e,t)}}]),NEAST}(),we=function(e){_inherits(LTAST,ge);var t=_createSuper(LTAST);function LTAST(){return _classCallCheck(this,LTAST),t.apply(this,arguments)}return _createClass(LTAST,[{key:"_do",value:function _do(e,t){return _lt(e,t)}}]),LTAST}(),xe=function(e){_inherits(LEAST,ge);var t=_createSuper(LEAST);function LEAST(){return _classCallCheck(this,LEAST),t.apply(this,arguments)}return _createClass(LEAST,[{key:"_do",value:function _do(e,t){return _le(e,t)}}]),LEAST}(),Ce=function(e){_inherits(GTAST,ge);var t=_createSuper(GTAST);function GTAST(){return _classCallCheck(this,GTAST),t.apply(this,arguments)}return _createClass(GTAST,[{key:"_do",value:function _do(e,t){return _gt(e,t)}}]),GTAST}(),je=function(e){_inherits(GEAST,ge);var t=_createSuper(GEAST);function GEAST(){return _classCallCheck(this,GEAST),t.apply(this,arguments)}return _createClass(GEAST,[{key:"_do",value:function _do(e,t){return _ge(e,t)}}]),GEAST}(),Me=function(e){_inherits(ContainsAST,ge);var t=_createSuper(ContainsAST);function ContainsAST(){return _classCallCheck(this,ContainsAST),t.apply(this,arguments)}return _createClass(ContainsAST,[{key:"_do",value:function _do(e,t){if("string"==typeof e&&"string"==typeof t)return-1!==t.indexOf(e);if(_islist(t))return-1!==t.indexOf(e);if(t&&"function"==typeof t.__contains__)return t.__contains__(e);if(h(t)||_isset(t))return t.has(e);if(_isobject(t)){for(var r in t)if(r===e)return!0;return!1}if(_iscolor(t))return t._r===e||t._g===e||t._b===e||t._a===e;throw new B(_type(t)+" object is not iterable")}}]),ContainsAST}(),Oe=function(e){_inherits(NotContainsAST,ge);var t=_createSuper(NotContainsAST);function NotContainsAST(){return _classCallCheck(this,NotContainsAST),t.apply(this,arguments)}return _createClass(NotContainsAST,[{key:"_do",value:function _do(e,t){return!Me.prototype._do(e,t)}}]),NotContainsAST}(),Ee=function(e){_inherits(AddAST,ge);var t=_createSuper(AddAST);function AddAST(){return _classCallCheck(this,AddAST),t.apply(this,arguments)}return _createClass(AddAST,[{key:"_do",value:function _do(e,t){if(e&&"function"==typeof e.__add__)return e.__add__(t);if(t&&"function"==typeof t.__radd__)return t.__radd__(e);if(null===e||null===t)throw new B(_type(this.obj1)+" + "+_type(this.obj2)+" is not supported");return _islist(e)&&_islist(t)?[].concat(_toConsumableArray(e),_toConsumableArray(t)):e+t}},{key:"_ido",value:function _ido(e,t){return _islist(e)&&_islist(t)?(S.append(e,t),e):this._do(e,t)}}]),AddAST}(),De=function(e){_inherits(SubAST,ge);var t=_createSuper(SubAST);function SubAST(){return _classCallCheck(this,SubAST),t.apply(this,arguments)}return _createClass(SubAST,[{key:"_do",value:function _do(e,t){if(e&&"function"==typeof e.__sub__)return e.__sub__(t);if(t&&"function"==typeof t.__rsub__)return t.__rsub__(e);if(_isdate(e)&&_isdate(t))return this._date_sub(e,t);if(_isdatetime(e)&&_isdatetime(t))return this._datetime_sub(e,t);if(null===e||null===t)throw new B(_type(this.obj1)+" - "+_type(this.obj2)+" is not supported");return e-t}},{key:"_date_sub",value:function _date_sub(e,t){return this._datetime_sub(e._date,t._date)}},{key:"_datetime_sub",value:function _datetime_sub(e,t){var r=t>e;if(r){var n=e;e=t,t=n}for(var a=e.getFullYear(),i=w.yearday(e),o=t.getFullYear(),s=w.yearday(t),u=0;a>o;)u+=T.yearday(_date(o,12,31)),++o;u+=i-s;var l=e.getHours(),_=e.getMinutes(),c=e.getSeconds(),f=t.getHours(),h=t.getMinutes(),p=c-t.getSeconds()+60*(_-h+60*(l-f)),d=e.getMilliseconds()-t.getMilliseconds();return r&&(u=-u,p=-p,d=-d),new Ct(u,p,1e3*d)}},{key:"_ido",value:function _ido(e,t){return this._do(e,t)}}]),SubAST}(),Ie=function(e){_inherits(MulAST,ge);var t=_createSuper(MulAST);function MulAST(){return _classCallCheck(this,MulAST),t.apply(this,arguments)}return _createClass(MulAST,[{key:"_do",value:function _do(e,t){if(e&&"function"==typeof e.__mul__)return e.__mul__(t);if(t&&"function"==typeof t.__rmul__)return t.__rmul__(e);if(null===e||null===t)throw new B(_type(e)+" * "+_type(t)+" not supported");if(_isint(e)||_isbool(e)){if("string"==typeof t){if(e<0)throw new F("repetition counter must be positive");return _str_repeat(t,e)}if(_islist(t)){if(e<0)throw new F("repetition counter must be positive");return _list_repeat(t,e)}}else if(_isint(t)||_isbool(t)){if("string"==typeof e){if(t<0)throw new F("repetition counter must be positive");return _str_repeat(e,t)}if(_islist(e)){if(t<0)throw new F("repetition counter must be positive");return _list_repeat(e,t)}}return e*t}},{key:"_ido",value:function _ido(e,t){if(_islist(e)&&_isint(t)){if(t>0)for(var r=0,n=e.length*t;e.length<n;)e.push(e[r++]);else e.splice(0,e.length);return e}return this._do(e,t)}}]),MulAST}(),Be=function(e){_inherits(FloorDivAST,ge);var t=_createSuper(FloorDivAST);function FloorDivAST(){return _classCallCheck(this,FloorDivAST),t.apply(this,arguments)}return _createClass(FloorDivAST,[{key:"_do",value:function _do(e,t){if(e&&"function"==typeof e.__floordiv__)return e.__floordiv__(t);if(t&&"function"==typeof t.__rfloordiv__)return t.__rfloordiv__(e);if(null===e||null===t)throw new B(_type(e)+" // "+_type(t)+" not supported");if("number"==typeof e&&"number"==typeof t&&0===t)throw new V;return Math.floor(e/t)}},{key:"_ido",value:function _ido(e,t){return this._do(e,t)}}]),FloorDivAST}(),Fe=function(e){_inherits(TrueDivAST,ge);var t=_createSuper(TrueDivAST);function TrueDivAST(){return _classCallCheck(this,TrueDivAST),t.apply(this,arguments)}return _createClass(TrueDivAST,[{key:"_do",value:function _do(e,t){if(e&&"function"==typeof e.__truediv__)return e.__truediv__(t);if(t&&"function"==typeof t.__rtruediv__)return t.__rtruediv__(e);if(null===e||null===t)throw new B(_type(e)+" / "+_type(t)+" not supported");if("number"==typeof e&&"number"==typeof t&&0===t)throw new V;return e/t}},{key:"_ido",value:function _ido(e,t){return this._do(e,t)}}]),TrueDivAST}(),He=function(e){_inherits(ModAST,ge);var t=_createSuper(ModAST);function ModAST(){return _classCallCheck(this,ModAST),t.apply(this,arguments)}return _createClass(ModAST,[{key:"_do",value:function _do(e,t){return _mod(e,t)}},{key:"_ido",value:function _ido(e,t){return this._do(e,t)}}]),ModAST}(),Pe=function(e){_inherits(ShiftLeftAST,ge);var t=_createSuper(ShiftLeftAST);function ShiftLeftAST(){return _classCallCheck(this,ShiftLeftAST),t.apply(this,arguments)}return _createClass(ShiftLeftAST,[{key:"_do",value:function _do(e,t){if(!1===t?t=0:!0===t&&(t=1),t<0)return Ve.prototype._do(e,-t);for(!1===e?e=0:!0===e&&(e=1);t--;)e*=2;return e}},{key:"_ido",value:function _ido(e,t){return this._do(e,t)}}]),ShiftLeftAST}(),Ve=function(e){_inherits(ShiftRightAST,ge);var t=_createSuper(ShiftRightAST);function ShiftRightAST(){return _classCallCheck(this,ShiftRightAST),t.apply(this,arguments)}return _createClass(ShiftRightAST,[{key:"_do",value:function _do(e,t){if(!1===t?t=0:!0===t&&(t=1),t<0)return Pe.prototype._do(e,-t);for(!1===e?e=0:!0===e&&(e=1);t--;)e/=2;return Math.floor(e)}},{key:"_ido",value:function _ido(e,t){return this._do(e,t)}}]),ShiftRightAST}(),qe=function(e){_inherits(BitAndAST,ge);var t=_createSuper(BitAndAST);function BitAndAST(){return _classCallCheck(this,BitAndAST),t.apply(this,arguments)}return _createClass(BitAndAST,[{key:"_do",value:function _do(e,t){return!1===t?t=0:!0===t&&(t=1),e&t}},{key:"_ido",value:function _ido(e,t){return this._do(e,t)}}]),BitAndAST}(),Le=function(e){_inherits(BitXOrAST,ge);var t=_createSuper(BitXOrAST);function BitXOrAST(){return _classCallCheck(this,BitXOrAST),t.apply(this,arguments)}return _createClass(BitXOrAST,[{key:"_do",value:function _do(e,t){return!1===t?t=0:!0===t&&(t=1),e^t}},{key:"_ido",value:function _ido(e,t){return this._do(e,t)}}]),BitXOrAST}(),Ne=function(e){_inherits(BitOrAST,ge);var t=_createSuper(BitOrAST);function BitOrAST(){return _classCallCheck(this,BitOrAST),t.apply(this,arguments)}return _createClass(BitOrAST,[{key:"_do",value:function _do(e,t){return!1===t?t=0:!0===t&&(t=1),e|t}},{key:"_ido",value:function _ido(e,t){return this._do(e,t)}}]),BitOrAST}(),Re=function(e){_inherits(AndAST,ge);var t=_createSuper(AndAST);function AndAST(){return _classCallCheck(this,AndAST),t.apply(this,arguments)}return _createClass(AndAST,[{key:"_eval",value:function _eval(e){var t=this.obj1._handle_eval(e);return _bool(t)?this.obj2._handle_eval(e):t}}]),AndAST}(),Ye=function(e){_inherits(OrAST,ge);var t=_createSuper(OrAST);function OrAST(){return _classCallCheck(this,OrAST),t.apply(this,arguments)}return _createClass(OrAST,[{key:"_eval",value:function _eval(e){var t=this.obj1._handle_eval(e);return _bool(t)?t:this.obj2._handle_eval(e)}}]),OrAST}(),Ue=function(e){_inherits(AttrAST,X);var t=_createSuper(AttrAST);function AttrAST(e,r,n,a){var i;return _classCallCheck(this,AttrAST),(i=t.call(this,e,r)).obj=n,i.attrname=a,i}return _createClass(AttrAST,[{key:"_repr",value:function _repr(e){e.push("<AttrAST"),e.push(" obj="),this.obj._repr(e),e.push(" attrname="),e.push(_repr2(this.attrname)),e.push(">")}},{key:"_eval",value:function _eval(e){var t=this.obj._handle_eval(e);return this._get(t,this.attrname)}},{key:"_eval_set",value:function _eval_set(e,t){var r=this.obj._handle_eval(e);this._set(r,this.attrname,t)}},{key:"_eval_modify",value:function _eval_modify(e,t,r){var n=this.obj._handle_eval(e);this._modify(t,n,this.attrname,r)}},{key:"_get",value:function _get(e,t){var r=g.get(e);try{return r.getattr(e,t)}catch(t){if(t instanceof L&&t.obj===e)return;throw t}}},{key:"_set",value:function _set(e,t,r){if("object"===_typeof(e)&&"function"==typeof e.__setattr__)e.__setattr__(t,r);else if(h(e))e.set(t,r);else{if(!_isobject(e))throw new B(_type(e)+" object has no writable attributes");e[t]=r}}},{key:"_modify",value:function _modify(e,t,r,n){var a=this._get(t,r),i=e._ido(a,n);this._set(t,r,i)}}]),AttrAST}();Ue.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["obj","attrname"]);var ze=function(e){_inherits(CallAST,X);var t=_createSuper(CallAST);function CallAST(e,r,n,a){var i;return _classCallCheck(this,CallAST),(i=t.call(this,e,r)).obj=n,i.args=a,i}return _createClass(CallAST,[{key:"_repr",value:function _repr(e){e.push("<CallAST"),e.push(" obj="),this.obj._repr(e);var t,r=_createForOfIteratorHelper(this.args);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push(" "),n._repr(e)}}catch(e){r.e(e)}finally{r.f()}e.push(">")}},{key:"_makeargs",value:function _makeargs(e){var t,r=[],n={},a=_createForOfIteratorHelper(this.args);try{for(a.s();!(t=a.n()).done;){t.value._handle_eval_call(e,r,n)}}catch(e){a.e(e)}finally{a.f()}return{args:r,kwargs:n}}},{key:"_handle_eval",value:function _handle_eval(e){try{return this._eval(e)}catch(e){throw this._decorate_exception(e),e}}},{key:"_eval",value:function _eval(e){var t=this.obj._handle_eval(e),r=this._makeargs(e);return _call(e,t,r.args,r.kwargs)}}]),CallAST}();ze.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["obj","args"]);var Xe=function(e){_inherits(RenderAST,ze);var t=_createSuper(RenderAST);function RenderAST(e,r,n,a){var i;return _classCallCheck(this,RenderAST),(i=t.call(this,e,r,n,a)).indent=null,i}return _createClass(RenderAST,[{key:"_repr",value:function _repr(e){e.push("<"),e.push(this._reprname),e.push("<RenderAST"),e.push(" indent="),e.push(_repr2(this.indent)),e.push(" obj="),this.obj._repr(e),e.push(0);var t,r=_createForOfIteratorHelper(this.args);try{for(r.s();!(t=r.n()).done;){var n=t.value;e.push(" "),n._repr(e),e.push(0)}}catch(e){r.e(e)}finally{r.f()}e.push(-1),e.push(">")}},{key:"_str",value:function _str(e){e.push("render "),e.push(this.tag.code.replace(/\r?\n/g," ")),null!==this.indent&&(e.push(" with indent "),e.push(_repr2(this.indent.text)))}},{key:"_handle_eval",value:function _handle_eval(e){var t=e.withindent(null!==this.indent?this.indent.text:null),r=this.obj._handle_eval(t),n=this._makeargs(t);this._handle_additional_arguments(t,n);try{return _callrender(t,r,n.args,n.kwargs)}catch(e){throw this._decorate_exception(e),e}}},{key:"_handle_additional_arguments",value:function _handle_additional_arguments(e,t){}}]),RenderAST}();Xe.prototype._ul4onattrs=ze.prototype._ul4onattrs.concat(["indent"]),Xe.prototype._reprname="RenderAST";var Je=function(e){_inherits(RenderXAST,Xe);var t=_createSuper(RenderXAST);function RenderXAST(){return _classCallCheck(this,RenderXAST),t.apply(this,arguments)}return _createClass(RenderXAST,[{key:"_handle_eval",value:function _handle_eval(e){e.escapes.push(_xmlescape);var t=null;try{t=_get(_getPrototypeOf(RenderXAST.prototype),"_handle_eval",this).call(this,e)}finally{e.escapes.splice(e.escapes.length-1,1)}return t}}]),RenderXAST}(),Ge=function(e){_inherits(RenderBlockAST,Xe);var t=_createSuper(RenderBlockAST);function RenderBlockAST(){return _classCallCheck(this,RenderBlockAST),t.apply(this,arguments)}return _createClass(RenderBlockAST,[{key:"_handle_additional_arguments",value:function _handle_additional_arguments(e,t){if(t.kwargs.hasOwnProperty("content"))throw new H("duplicate keyword argument content");var r=new At(this.content,this.content.signature,e.vars);t.kwargs.content=r}}]),RenderBlockAST}();Ge.prototype._ul4onattrs=Xe.prototype._ul4onattrs.concat(["content"]);var We=function(e){_inherits(RenderBlocksAST,Xe);var t=_createSuper(RenderBlocksAST);function RenderBlocksAST(){return _classCallCheck(this,RenderBlocksAST),t.apply(this,arguments)}return _createClass(RenderBlocksAST,[{key:"_handle_additional_arguments",value:function _handle_additional_arguments(e,t){var r=e.inheritvars();for(var n in ct.prototype._eval.call(this,r),r.vars)if(r.vars.hasOwnProperty(n)){if(n in t.kwargs)throw new H("duplicate keyword argument "+n);t.kwargs[n]=r.get(n)}}}]),RenderBlocksAST}();We.prototype._ul4onattrs=Xe.prototype._ul4onattrs.concat(["content"]);var Ke=function(e){_inherits(slice,v);var t=_createSuper(slice);function slice(e,r){var n;return _classCallCheck(this,slice),(n=t.call(this)).start=e,n.stop=r,n}return _createClass(slice,[{key:"of",value:function of(e){var t=this.start||0,r=null===this.stop?e.length:this.stop;return e.slice(t,r)}},{key:"__repr__",value:function __repr__(){return"slice("+_repr2(this.start)+", "+_repr2(this.stop)+", None)"}},{key:"__getattr__",value:function __getattr__(e){switch(e){case"start":return this.start;case"stop":return this.stop;default:throw new L(this,e)}}}]),slice}(),Qe=function(e){_inherits(SliceAST,X);var t=_createSuper(SliceAST);function SliceAST(e,r,n,a){var i;return _classCallCheck(this,SliceAST),(i=t.call(this,e,r)).index1=n,i.index2=a,i}return _createClass(SliceAST,[{key:"_repr",value:function _repr(e){e.push("<SliceAST"),null!==this.index1&&(e.push(" index1="),this.index1._repr(e)),null!==this.index2&&(e.push(" index2="),this.index2._repr(e)),e.push(">")}},{key:"_eval",value:function _eval(e){var t=null!==this.index1?this.index1._handle_eval(e):null,r=null!==this.index2?this.index2._handle_eval(e):null;return new Ke(t,r)}}]),SliceAST}();Qe.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["index1","index2"]);var $e=function(e){_inherits(SetVarAST,X);var t=_createSuper(SetVarAST);function SetVarAST(e,r,n,a){var i;return _classCallCheck(this,SetVarAST),(i=t.call(this,e,r)).lvalue=n,i.value=a,i}return _createClass(SetVarAST,[{key:"_repr",value:function _repr(e){e.push("<"),e.push(this.constructor.name),e.push(" lvalue="),e.push(_repr2(this.lvalue)),e.push(" value="),this.value._repr(e),e.push(">")}},{key:"_eval",value:function _eval(e){var t,r=this.value._handle_eval(e),n=_createForOfIteratorHelper(_unpackvar(this.lvalue,r));try{for(n.s();!(t=n.n()).done;){var a=_slicedToArray(t.value,2),i=a[0],o=a[1];i._handle_eval_set(e,o)}}catch(e){n.e(e)}finally{n.f()}}}]),SetVarAST}();$e.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["lvalue","value"]);var Ze=function(e){_inherits(ModifyVarAST,$e);var t=_createSuper(ModifyVarAST);function ModifyVarAST(){return _classCallCheck(this,ModifyVarAST),t.apply(this,arguments)}return _createClass(ModifyVarAST,[{key:"_eval",value:function _eval(e){var t,r=this.value._handle_eval(e),n=_createForOfIteratorHelper(_unpackvar(this.lvalue,r));try{for(n.s();!(t=n.n()).done;){var a=_slicedToArray(t.value,2),i=a[0],o=a[1];i._handle_eval_modify(e,this._operator,o)}}catch(e){n.e(e)}finally{n.f()}}}]),ModifyVarAST}(),et=function(e){_inherits(AddVarAST,Ze);var t=_createSuper(AddVarAST);function AddVarAST(){return _classCallCheck(this,AddVarAST),t.apply(this,arguments)}return AddVarAST}();et.prototype._operator=Ee.prototype;var tt=function(e){_inherits(SubVarAST,Ze);var t=_createSuper(SubVarAST);function SubVarAST(){return _classCallCheck(this,SubVarAST),t.apply(this,arguments)}return SubVarAST}();tt.prototype._operator=De.prototype;var rt=function(e){_inherits(MulVarAST,Ze);var t=_createSuper(MulVarAST);function MulVarAST(){return _classCallCheck(this,MulVarAST),t.apply(this,arguments)}return MulVarAST}();rt.prototype._operator=Ie.prototype;var nt=function(e){_inherits(TrueDivVarAST,Ze);var t=_createSuper(TrueDivVarAST);function TrueDivVarAST(){return _classCallCheck(this,TrueDivVarAST),t.apply(this,arguments)}return TrueDivVarAST}();nt.prototype._operator=Fe.prototype;var at=function(e){_inherits(FloorDivVarAST,Ze);var t=_createSuper(FloorDivVarAST);function FloorDivVarAST(){return _classCallCheck(this,FloorDivVarAST),t.apply(this,arguments)}return FloorDivVarAST}();at.prototype._operator=Be.prototype;var it=function(e){_inherits(ModVarAST,Ze);var t=_createSuper(ModVarAST);function ModVarAST(){return _classCallCheck(this,ModVarAST),t.apply(this,arguments)}return ModVarAST}();it.prototype._operator=He.prototype;var ot=function(e){_inherits(ShiftLeftVarAST,Ze);var t=_createSuper(ShiftLeftVarAST);function ShiftLeftVarAST(){return _classCallCheck(this,ShiftLeftVarAST),t.apply(this,arguments)}return ShiftLeftVarAST}();ot.prototype._operator=Pe.prototype;var st=function(e){_inherits(ShiftRightVarAST,Ze);var t=_createSuper(ShiftRightVarAST);function ShiftRightVarAST(){return _classCallCheck(this,ShiftRightVarAST),t.apply(this,arguments)}return ShiftRightVarAST}();st.prototype._operator=Ve.prototype;var ut=function(e){_inherits(BitAndVarAST,Ze);var t=_createSuper(BitAndVarAST);function BitAndVarAST(){return _classCallCheck(this,BitAndVarAST),t.apply(this,arguments)}return BitAndVarAST}();ut.prototype._operator=qe.prototype;var lt=function(e){_inherits(BitXOrVarAST,Ze);var t=_createSuper(BitXOrVarAST);function BitXOrVarAST(){return _classCallCheck(this,BitXOrVarAST),t.apply(this,arguments)}return BitXOrVarAST}();lt.prototype._operator=Le.prototype;var _t=function(e){_inherits(BitOrVarAST,Ze);var t=_createSuper(BitOrVarAST);function BitOrVarAST(){return _classCallCheck(this,BitOrVarAST),t.apply(this,arguments)}return BitOrVarAST}();_t.prototype._operator=Ne.prototype;var ct=function(e){_inherits(BlockAST,X);var t=_createSuper(BlockAST);function BlockAST(e,r){var n;return _classCallCheck(this,BlockAST),(n=t.call(this,e,r)).content=[],n}return _createClass(BlockAST,[{key:"_eval",value:function _eval(e){var t,r=_createForOfIteratorHelper(this.content);try{for(r.s();!(t=r.n()).done;){t.value._handle_eval(e)}}catch(e){r.e(e)}finally{r.f()}}},{key:"_str",value:function _str(e){if(this.content.length){var t,r=_createForOfIteratorHelper(this.content);try{for(r.s();!(t=r.n()).done;){t.value._str(e),e.push(0)}}catch(e){r.e(e)}finally{r.f()}}else e.push("pass"),e.push(0)}}]),BlockAST}();ct.prototype._ul4onattrs=X.prototype._ul4onattrs.concat(["content"]);var ft=function(e){_inherits(ForBlockAST,ct);var t=_createSuper(ForBlockAST);function ForBlockAST(e,r,n,a){var i;return _classCallCheck(this,ForBlockAST),(i=t.call(this,e,r)).varname=n,i.container=a,i}return _createClass(ForBlockAST,[{key:"_repr",value:function _repr(e){e.push("<ForBlockAST"),e.push(" varname="),e.push(_repr2(this.varname)),e.push(" container="),this.container._repr(e),e.push(">")}},{key:"_str_varname",value:function _str_varname(e,t){if(_islist(t)){e.push("(");var r,n=truel,a=_createForOfIteratorHelper(t);try{for(a.s();!(r=a.n()).done;){var i=r.value;n?n=!1:e.push(", "),this._str_varname(e,i)}}catch(e){a.e(e)}finally{a.f()}1==t.length&&e.push(","),e.push(")")}else t._str(e)}},{key:"_eval",value:function _eval(e){for(var t=_iter(this.container._handle_eval(e));;){var r=t.next();if(r.done)break;var n,a=_createForOfIteratorHelper(_unpackvar(this.varname,r.value));try{for(a.s();!(n=a.n()).done;){var i=_slicedToArray(n.value,2),o=i[0],s=i[1];o._handle_eval_set(e,s)}}catch(e){a.e(e)}finally{a.f()}try{_get(_getPrototypeOf(ForBlockAST.prototype),"_eval",this).call(this,e)}catch(e){if(e instanceof O)break;if(!(e instanceof E))throw e}}}},{key:"_str",value:function _str(e){e.push("for "),this._str_varname(e,this.varname),e.push(" in "),this.container._str(e),e.push(":"),e.push(1),ct.prototype._str.call(this,e),e.push(-1)}}]),ForBlockAST}();ft.prototype._ul4onattrs=ct.prototype._ul4onattrs.concat(["varname","container"]);var ht=function(e){_inherits(WhileBlockAST,ct);var t=_createSuper(WhileBlockAST);function WhileBlockAST(e,r,n){var a;return _classCallCheck(this,WhileBlockAST),(a=t.call(this,e,r)).condition=n,a}return _createClass(WhileBlockAST,[{key:"_repr",value:function _repr(e){e.push("<WhileAST"),e.push(" condition="),this.condition._repr(e),e.push(">")}},{key:"_str",value:function _str(e){e.push("while "),this.condition._repr(e),e.push(":"),e.push(1),ct.prototype._str.call(this,e),e.push(-1)}},{key:"_eval",value:function _eval(e){for(;;){if(!_bool(this.condition._handle_eval(e)))break;try{_get(_getPrototypeOf(WhileBlockAST.prototype),"_eval",this).call(this,e)}catch(e){if(e instanceof O)break;if(!(e instanceof E))throw e}}}}]),WhileBlockAST}();ht.prototype._ul4onattrs=ct.prototype._ul4onattrs.concat(["condition"]);var pt=function(e){_inherits(BreakAST,X);var t=_createSuper(BreakAST);function BreakAST(){return _classCallCheck(this,BreakAST),t.apply(this,arguments)}return _createClass(BreakAST,[{key:"_eval",value:function _eval(e){throw new O}},{key:"_str",value:function _str(e){e.push("break"),e.push(0)}},{key:"_repr",value:function _repr(e){e.push("<BreakAST>")}}]),BreakAST}(),dt=function(e){_inherits(ContinueAST,X);var t=_createSuper(ContinueAST);function ContinueAST(){return _classCallCheck(this,ContinueAST),t.apply(this,arguments)}return _createClass(ContinueAST,[{key:"_eval",value:function _eval(e){throw new E}},{key:"_str",value:function _str(e){e.push("continue"),e.push(0)}},{key:"_repr",value:function _repr(e){e.push("<ContinueAST>")}}]),ContinueAST}(),vt=function(e){_inherits(CondBlockAST,ct);var t=_createSuper(CondBlockAST);function CondBlockAST(){return _classCallCheck(this,CondBlockAST),t.apply(this,arguments)}return _createClass(CondBlockAST,[{key:"_eval",value:function _eval(e){var t,r=_createForOfIteratorHelper(this.content);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n._execute(e)){n._handle_eval(e);break}}}catch(e){r.e(e)}finally{r.f()}}}]),CondBlockAST}(),mt=function(e){_inherits(ConditionalBlockAST,ct);var t=_createSuper(ConditionalBlockAST);function ConditionalBlockAST(e,r,n){var a;return _classCallCheck(this,ConditionalBlockAST),(a=t.call(this,e,r)).condition=n,a}return _createClass(ConditionalBlockAST,[{key:"_repr",value:function _repr(e){e.push("<"),e.push(this.constructor.name),e.push(" condition="),this.condition._repr(e),e.push(">")}},{key:"_str",value:function _str(e){e.push(this._strname),e.push(" "),this.condition._str(e),e.push(":"),e.push(1),ct.prototype._str.call(this,e),e.push(-1)}},{key:"_execute",value:function _execute(e){return _bool(this.condition._handle_eval(e))}}]),ConditionalBlockAST}();mt.prototype._ul4onattrs=ct.prototype._ul4onattrs.concat(["condition"]);var yt=function(e){_inherits(IfBlockAST,mt);var t=_createSuper(IfBlockAST);function IfBlockAST(){return _classCallCheck(this,IfBlockAST),t.apply(this,arguments)}return IfBlockAST}();yt.prototype._strname="if";var gt=function(e){_inherits(ElIfBlockAST,mt);var t=_createSuper(ElIfBlockAST);function ElIfBlockAST(){return _classCallCheck(this,ElIfBlockAST),t.apply(this,arguments)}return ElIfBlockAST}();gt.prototype._strname="else if";var bt=function(e){_inherits(ElseBlockAST,ct);var t=_createSuper(ElseBlockAST);function ElseBlockAST(){return _classCallCheck(this,ElseBlockAST),t.apply(this,arguments)}return _createClass(ElseBlockAST,[{key:"_repr",value:function _repr(e){e.push("<ElseAST"),e.push(">")}},{key:"_str",value:function _str(e){e.push("else:"),e.push(1),ct.prototype._str.call(this,e),e.push(-1)}},{key:"_execute",value:function _execute(e){return!0}}]),ElseBlockAST}(),St=function(e){_inherits(Template,ct);var t=_createSuper(Template);function Template(e,r,n,a,i,o,s,u){var l;return _classCallCheck(this,Template),(l=t.call(this,e,r))._source=n,l.name=a,l.whitespace=i,l.startdelim=o,l.enddelim=s,l.docpos=null,l.signature=u,l._asts=null,l._ul4_callsignature=u,l._ul4_rendersignature=u,l.parenttemplate=null,l}return _createClass(Template,[{key:"__getattr__",value:function __getattr__(e){var t=this;switch(e){case"content":return this.content;case"source":return this.source;case"name":return this.name;case"whitespace":return this.whitespace;case"startdelim":return this.startdelim;case"enddelim":return this.enddelim;case"doc":return this.doc();case"signature":return this.signature;case"parenttemplate":return this.parenttemplate;case"render":var r=function render(e,r){t._renderbound(e,r)};return expose(r,this.signature,{needscontext:!0,needsobject:!0}),r;case"renders":var n=function renders(e,r){return t._rendersbound(e,r)};return expose(n,this.signature,{needscontext:!0,needsobject:!0}),n;default:return _get(_getPrototypeOf(Template.prototype),"__getattr__",this).call(this,e)}}},{key:"ul4ondump",value:function ul4ondump(e){var t;if(e.dump("46"),e.dump(this.name),e.dump(this._source),e.dump(this.whitespace),e.dump(this.startdelim),e.dump(this.enddelim),e.dump(this.docpos),e.dump(this.parenttemplate),null===this.signature||this.signature instanceof kt)t=this.signature;else{t=[];var r,n=_createForOfIteratorHelper(this.signature.args);try{for(n.s();!(r=n.n()).done;){var a=r.value;void 0===a.defaultValue?t.push(a.name):t.push(a.name+"=",a.defaultValue)}}catch(e){n.e(e)}finally{n.f()}null!==this.signature.remargs&&t.push("*"+this.signature.remargs),null!==this.signature.remkwargs&&t.push("**"+this.signature.remkwargs)}e.dump(t),_get(_getPrototypeOf(Template.prototype),"ul4ondump",this).call(this,e)}},{key:"ul4onload",value:function ul4onload(e){var t,r=e.load();if(null===r)throw new F("UL4ON doesn't support templates in 'source' format in Javascript implementation");if("46"!==r)throw new F("invalid version, expected 46, got "+r);this.name=e.load(),this._source=e.load(),this.whitespace=e.load(),this.startdelim=e.load(),this.enddelim=e.load(),this.docpos=e.load(),this.parenttemplate=e.load(),_islist(t=e.load())&&(t=_construct(m,_toConsumableArray(t))),this.signature=t,this._ul4_callsignature=t,this._ul4_rendersignature=t,_get(_getPrototypeOf(Template.prototype),"ul4onload",this).call(this,e)}},{key:"loads",value:function loads(e){return _loads(e)}},{key:"_eval",value:function _eval(e){var t=null;null!==this.signature&&(t=this.signature._handle_eval(e));var r=new At(this,t,e.vars);e.set(this.name,r)}},{key:"_repr",value:function _repr(e){e.push("<Template"),null!==this.name&&(e.push(" name="),e.push(_repr2(this.name))),e.push(" whitespace="),e.push(_repr2(this.whitespace)),"<?"!==this.startdelim&&(e.push(" startdelim="),e.push(_repr2(this.startdelim))),"?>"!==this.enddelim&&(e.push(" enddelim="),e.push(_repr2(this.enddelim))),e.push(">")}},{key:"_str",value:function _str(e){e.push("def "),e.push(this.name?this.name:"unnamed"),e.push(":"),e.push(1),ct.prototype._str.call(this,e),e.push(-1)}},{key:"_renderbound",value:function _renderbound(e,t){var r=e.clone();r.vars=t;try{ct.prototype._eval.call(this,r)}catch(e){if(!(e instanceof M))throw e}}},{key:"__render__",value:function __render__(e,t){this._renderbound(e,t)}},{key:"render",value:function render(e,t){this._renderbound(e,t)}},{key:"_rendersbound",value:function _rendersbound(e,t){var r=e.replaceoutput();return this._renderbound(r,t),r.getoutput()}},{key:"renders",value:function renders(e){e=e||{};var t=new C;return null!==this.signature&&(e=this.signature.bindObject(this.name,[],e)),this._rendersbound(t,e)}},{key:"doc",value:function doc(){return null!=this.docpos?this.docpos.of(this._source):null}},{key:"_callbound",value:function _callbound(e,t){var r=e.clone();r.vars=t;try{ct.prototype._eval.call(this,r)}catch(e){if(e instanceof M)return e.result;throw e}return null}},{key:"call",value:function call(e){e=e||{};var t=new C;return null!==this.signature&&(e=this.signature.bindObject(this.name,[],e)),this._callbound(t,e)}},{key:"__call__",value:function __call__(e,t){return this._callbound(e,t)}},{key:"ul4type",value:function ul4type(){return"template"}}]),Template}();St.prototype._ul4_callneedsobject=!0,St.prototype._ul4_callneedscontext=!0,St.prototype._ul4_renderneedsobject=!0,St.prototype._ul4_renderneedscontext=!0;var kt=function(e){_inherits(SignatureAST,X);var t=_createSuper(SignatureAST);function SignatureAST(e,r){var n;return _classCallCheck(this,SignatureAST),(n=t.call(this,e,r)).params=[],n}return _createClass(SignatureAST,[{key:"ul4ondump",value:function ul4ondump(e){_get(_getPrototypeOf(SignatureAST.prototype),"ul4ondump",this).call(this,e);var t,r=[],n=_createForOfIteratorHelper(this.params);try{for(n.s();!(t=n.n()).done;){var a=t.value;null===a[1]?r.push(a[0]):r.push(a)}}catch(e){n.e(e)}finally{n.f()}e.dump(r)}},{key:"ul4onload",value:function ul4onload(e){_get(_getPrototypeOf(SignatureAST.prototype),"ul4onload",this).call(this,e);var t=e.load();this.params=[];var r,n=_createForOfIteratorHelper(t);try{for(n.s();!(r=n.n()).done;){var a=r.value;"string"==typeof a?this.params.push([a,null]):this.params.push(a)}}catch(e){n.e(e)}finally{n.f()}}},{key:"_eval",value:function _eval(e){var t,r=[],n=_createForOfIteratorHelper(this.params);try{for(n.s();!(t=n.n()).done;){var a=t.value;null===a[1]?r.push(a[0]):(r.push(a[0]+"="),r.push(a[1]._handle_eval(e)))}}catch(e){n.e(e)}finally{n.f()}return _construct(m,r)}},{key:"_repr",value:function _repr(e){e.push("<"),e.push(this.constructor.name),e.push(" params="),this.params._repr(e),e.push(">")}}]),SignatureAST}(),At=function(e){_inherits(TemplateClosure,v);var t=_createSuper(TemplateClosure);function TemplateClosure(e,r,n){var a;return _classCallCheck(this,TemplateClosure),(a=t.call(this)).template=e,a.signature=r,a.vars=n,a._ul4_callsignature=r,a._ul4_rendersignature=r,a.name=e.name,a.tag=e.tag,a.endtag=e.endtag,a._source=e._source,a.startdelim=e.startdelim,a.enddelim=e.enddelim,a.docpos=e.docpos,a.content=e.content,a}return _createClass(TemplateClosure,[{key:"__render__",value:function __render__(e,t){this.template._renderbound(e,_extend(this.vars,t))}},{key:"render",value:function render(e,t){this.template._renderbound(e,_extend(this.vars,t))}},{key:"__call__",value:function __call__(e,t){return this.template._callbound(e,_extend(this.vars,t))}},{key:"_renderbound",value:function _renderbound(e,t){this.template._renderbound(e,_extend(this.vars,t))}},{key:"_rendersbound",value:function _rendersbound(e,t){return this.template._rendersbound(e,_extend(this.vars,t))}},{key:"__getattr__",value:function __getattr__(e){var t=this;switch(e){case"render":var r=function render(e,r){t._renderbound(e,r)};return expose(r,this.signature,{needscontext:!0,needsobject:!0}),r;case"renders":var n=function renders(e,r){return t._rendersbound(e,r)};return expose(n,this.signature,{needscontext:!0,needsobject:!0}),n;case"signature":return this.signature;default:return this.template.__getattr__(e)}}},{key:"ul4type",value:function ul4type(){return"template"}}]),TemplateClosure}();function _rgb(e,t,r,n){return new wt(255*e,255*t,255*r,255*n)}function _xmlescape(e){return e=(e=(e=(e=(e=(e=_str(e)).replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/'/g,"&#39;")).replace(/"/g,"&quot;")}function _csv(e){return null===e?"":("string"!=typeof e&&(e=_repr2(e)),-1===e.indexOf(",")&&-1===e.indexOf('"')&&-1===e.indexOf("\n")||(e='"'+e.replace(/"/g,'""')+'"'),e)}function _chr(e){if("number"!=typeof e)throw new B("chr() requires an int");return String.fromCharCode(e)}function _ord(e){if("string"!=typeof e||1!=e.length)throw new B("ord() requires a string of length 1");return e.charCodeAt(0)}function _hex(e){if("number"!=typeof e)throw new B("hex() requires an int");return e<0?"-0x"+e.toString(16).substr(1):"0x"+e.toString(16)}function _oct(e){if("number"!=typeof e)throw new B("oct() requires an int");return e<0?"-0o"+e.toString(8).substr(1):"0o"+e.toString(8)}function _bin(e){if("number"!=typeof e)throw new B("bin() requires an int");return e<0?"-0b"+e.toString(2).substr(1):"0b"+e.toString(2)}function _min(e){if(0==e.length)throw new H("min() requires at least 1 argument, 0 given");1==e.length&&(e=e[0]);for(var t,r=_iter(e),n=!0;;){var a=r.next();if(a.done){if(n)throw new F("min() argument is an empty sequence!");return t}(n||a.value<t)&&(t=a.value),n=!1}}function _max(e){if(0==e.length)throw new H("max() requires at least 1 argument, 0 given");1==e.length&&(e=e[0]);for(var t,r=_iter(e),n=!0;;){var a=r.next();if(a.done){if(n)throw new F("max() argument is an empty sequence!");return t}(n||a.value>t)&&(t=a.value),n=!1}}function _sum(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=_iter(e);;){var n=r.next();if(n.done)break;t+=n.value}return t}function _first(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=_iter(e).next();return r.done?t:r.value}function _last(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=_iter(e);;){var n=r.next();if(n.done)break;t=n.value}return t}function _sorted(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null===r){var a=n?function cmp(e,t){return-_cmp("<=>",e,t)}:function cmp(e,t){return _cmp("<=>",e,t)},i=_list(t);return i.sort(a),i}for(var o=[],s=0,u=_iter(t);;++s){var l=u.next();if(l.done)break;var _=_call(e,r,[l.value],{});o.push([_,n?-s:s,l.value])}o.sort(function _cmp2(e,t){var r=_cmp("<=>",e[0],t[0]);return r?n?-r:r:(r=_cmp("<=>",e[1],t[1]),n?-r:r)});for(var c=[],f=0,h=o;f<h.length;f++){var p=h[f];c.push(p[2])}return c}function _range(e){var t,r,n,a,i;if(e.length<1)throw new H("required range() argument missing");if(e.length>3)throw new H("range() expects at most 3 positional arguments, "+e.length+" given");if(1==e.length?(t=0,r=e[0],n=1):2==e.length?(t=e[0],r=e[1],n=1):3==e.length&&(t=e[0],r=e[1],n=e[2]),0===n)throw new F("range() requires a step argument != 0");n>0?(a=t,i=r):(a=r,i=t);var o=a<i?Math.floor((i-a-1)/Math.abs(n))+1:0;return{index:0,next:function next(){return this.index>=o?{done:!0}:{value:t+this.index++*n,done:!1}}}}function _slice(e){var t,r,n,a;if(e.length<2)throw new H("required slice() argument missing");if(e.length>4)throw new H("slice() expects at most 4 positional arguments, "+e.length+" given");if(2==e.length?(t=e[0],r=0,n=e[1],a=1):3==e.length?(t=e[0],r=null!==e[1]?e[1]:0,n=e[2],a=1):4==e.length&&(t=e[0],r=null!==e[1]?e[1]:0,n=e[2],a=null!==e[3]?e[3]:1),r<0)throw new F("slice() requires a start argument >= 0");if(n<0)throw new F("slice() requires a stop argument >= 0");if(a<=0)throw new F("slice() requires a step argument > 0");var i=r,o=0,s=_iter(t);return{next:function next(){for(var e;o<i;){if((e=s.next()).done)return e;++o}return null!==n&&o>=n?{done:!0}:(e=s.next()).done?e:(++o,i+=a,null!==n&&i>n&&(i=n),e)}}}function _urlquote(e){return encodeURIComponent(e)}function _urlunquote(e){return decodeURIComponent(e)}function _reversed(e){return"string"==typeof e||_islist(e)||(e=_list(e)),{index:e.length-1,next:function next(){return this.index>=0?{value:e[this.index--],done:!1}:{done:!0}}}}function _random(){return Math.random()}function _randrange(e){var t,r,n;if(e.length<1)throw new H("required randrange() argument missing");if(e.length>3)throw new H("randrange() expects at most 3 positional arguments, "+e.length+" given");1==e.length?(t=0,r=e[0],n=1):2==e.length?(t=e[0],r=e[1],n=1):3==e.length&&(t=e[0],r=e[1],n=e[2]);var a,i=r-t,o=Math.random();if(n>0)a=Math.floor((i+n-1)/n);else{if(!(n<0))throw new F("randrange() requires a step argument != 0");a=Math.floor((i+n+1)/n)}return t+n*Math.floor(o*a)}function _randchoice(e){var t=_iscolor(e);if("string"!=typeof e&&!_islist(e)&&!t)throw new B("randchoice() requires a string or list");return t&&(e=_list(e)),e[Math.floor(Math.random()*e.length)]}function _round(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t){var r=Math.pow(10,t);return Math.round(e*r)/r}return Math.round(e)}function _md5(e){return r(e)}function _enumerate(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{iter:_iter(e),index:t,next:function next(){var e=this.iter.next();return e.done?e:{value:[this.index++,e.value],done:!1}}}}function _isfirst(e){var t=_iter(e),r=!0;return{next:function next(){var e=t.next(),n=e.done?e:{value:[r,e.value],done:!1};return r=!1,n}}}function _islast(e){var t=_iter(e),r=t.next();return{next:function next(){if(r.done)return r;var e=t.next(),n={value:[e.done,r.value],done:!1};return r=e,n}}}function _isfirstlast(e){var t=_iter(e),r=!0,n=t.next();return{next:function next(){if(n.done)return n;var e=t.next(),a={value:[r,e.done,n.value],done:!1};return n=e,r=!1,a}}}function _enumfl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=_iter(e),n=t,a=!0,i=r.next();return{next:function next(){if(i.done)return i;var e=r.next(),t={value:[n++,a,e.done,i.value],done:!1};return i=e,a=!1,t}}}function _zip(e){if(e.length){var t,r=[],n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;r.push(_iter(a))}}catch(e){n.e(e)}finally{n.f()}return{next:function next(){var e,t=[],n=_createForOfIteratorHelper(r);try{for(n.s();!(e=n.n()).done;){var a=e.value.next();if(a.done)return a;t.push(a.value)}}catch(e){n.e(e)}finally{n.f()}return{value:t,done:!1}}}}return{next:function next(){return{done:!0}}}}function _abs(e){return null!==e&&"function"==typeof e.__abs__?e.__abs__():Math.abs(e)}function _date(e,t,r){return new xt(e,t,r)}function _datetime(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;return new Date(e,t-1,r,n,a,i,o/1e3)}function _timedelta(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Ct(e,t,r)}function _monthdelta(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new jt(e)}function _hls(e,t,r,n){var a,i,o=function _v(e,t,r){return(r%=1)<1/6?e+(t-e)*r*6:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e};return void 0===n&&(n=1),0===r?_rgb(t,t,t,n):_rgb(o(a=2*t-(i=t<=.5?t*(1+r):t+r-t*r),i,e+1/3),o(a,i,e),o(a,i,e-1/3),n)}function _hsv(e,t,r,n){if(0===t)return _rgb(r,r,r,n);var a=Math.floor(6*e),i=6*e-a,o=r*(1-t),s=r*(1-t*i),u=r*(1-t*(1-i));switch(a%6){case 0:return _rgb(r,u,o,n);case 1:return _rgb(s,r,o,n);case 2:return _rgb(o,r,u,n);case 3:return _rgb(o,s,r,n);case 4:return _rgb(u,o,r,n);case 5:return _rgb(r,o,s,n)}}function now(){return new Date}function utcnow(){var e=new Date;return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}function today(){var e=new Date;return new xt(e.getFullYear(),e.getMonth()+1,e.getDate())}At.prototype._ul4_callneedsobject=!0,At.prototype._ul4_callneedscontext=!0,At.prototype._ul4_renderneedsobject=!0,At.prototype._ul4_renderneedscontext=!0;var Tt={repr:_repr2,ascii:_ascii,str:_str,int:_int,float:_float,list:_list,set:_set,bool:_bool,len:_len,type:_type,format:_format,any:_any,all:_all,zip:_zip,getattr:_getattr,hasattr:_hasattr,dir:_dir,isundefined:_isundefined,isdefined:_isdefined,isnone:_isnone,isbool:_isbool,isint:_isint,isfloat:_isfloat,isstr:_isstr,isdate:_isdate,isdatetime:_isdatetime,iscolor:_iscolor,istimedelta:_istimedelta,ismonthdelta:_ismonthdelta,istemplate:_istemplate,isfunction:_isfunction,islist:_islist,isset:_isanyset,isdict:p,isexception:_isexception,asjson:_asjson,fromjson:_fromjson,asul4on:_asul4on,fromul4on:_fromul4on,now:now,utcnow:utcnow,today:today,enumerate:_enumerate,isfirst:_isfirst,islast:_islast,isfirstlast:_isfirstlast,enumfl:_enumfl,abs:_abs,date:_date,datetime:_datetime,timedelta:_timedelta,monthdelta:_monthdelta,rgb:_rgb,hls:_hls,hsv:_hsv,xmlescape:_xmlescape,csv:_csv,chr:_chr,ord:_ord,hex:_hex,oct:_oct,bin:_bin,min:_min,max:_max,sum:_sum,first:_first,last:_last,sorted:_sorted,range:_range,slice:_slice,urlquote:_urlquote,urlunquote:_urlunquote,reversed:_reversed,random:_random,randrange:_randrange,randchoice:_randchoice,round:_round,md5:_md5};function _count(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(r<0&&(r+=e.length),null===r&&(r=0),n<0&&(n+=e.length),null===n&&(n=e.length),_isstr(e)&&!t.length){if(n<0||r>e.length||r>n)return 0;var a=n-r+1;return a>e.length+1&&(a=e.length+1),a}r=_bound(r,e.length),n=_bound(n,e.length);var i=0;if(_islist(e)){for(var o=r;o<n;++o)_eq(e[o],t)&&++i;return i}for(var s=r;-1!=(s=e.indexOf(t,s))&&!(s+t.length>n);)++i,s+=t.length;return i}function _find(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r<0&&(r+=e.length),null===r&&(r=0),n<0&&(n+=e.length),null===n&&(n=e.length),r=_bound(r,e.length),n=_bound(n,e.length),0===r&&n===e.length||(e="string"==typeof e?e.substring(r,n):e.slice(r,n));var a=e.indexOf(t);return-1!==a&&(a+=r),a}function _rfind(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r<0&&(r+=e.length),null===r&&(r=0),n<0&&(n+=e.length),null===n&&(n=e.length),r=_bound(r,e.length),n=_bound(n,e.length),0===r&&n===e.length||(e="string"==typeof e?e.substring(r,n):e.slice(r,n));var a=e.lastIndexOf(t);return-1!==a&&(a+=r),a}function _week4format(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t?t=0:t%=7;var r=w.yearday(e)+6,n=new Date(e.getFullYear(),0,1).getDay();for(--n<0&&(n=6);n!=t;)--r,7==++n&&(n=0);return Math.floor(r/7)}function _isleap(e){return 1===new Date(e.getFullYear(),1,29).getMonth()}function _update(t,r,n){if(!p(t))throw new B("update() requires a dict");var a,i=_createForOfIteratorHelper(r);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(h(o))o.forEach(function(r,n){e._setmap(t,n,r)});else if(_isobject(o))for(var s in o)e._setmap(t,s,o[s]);else{if(!_islist(o))throw new B("update() requires a dict or a list of (key, value) pairs");var u,l=_createForOfIteratorHelper(o);try{for(l.s();!(u=l.n()).done;){var _=u.value;if(!_islist(_)||2!=_.length)throw new B("update() requires a dict or a list of (key, value) pairs");e._setmap(t,_[0],_[1])}}catch(e){l.e(e)}finally{l.f()}}}}catch(e){i.e(e)}finally{i.f()}return n.forEach(function(r,n){e._setmap(t,n,r)}),null}expose(_repr2,["obj"],{name:"repr"}),expose(_ascii,["obj"],{name:"ascii"}),expose(_str,["obj=",""],{name:"str"}),expose(_int,["obj=",0,"base=",null],{name:"int"}),expose(_float,["obj=",0],{name:"float"}),expose(_list,["iterable=",[]],{name:"list"}),expose(_set,["iterable=",[]],{name:"set"}),expose(_bool,["obj=",!1],{name:"bool"}),expose(_len,["sequence"],{name:"len"}),expose(_type,["obj"],{name:"type"}),expose(_format,["obj","fmt","lang=",null],{name:"format"}),expose(_any,["iterable"],{name:"any"}),expose(_all,["iterable"],{name:"all"}),expose(_zip,["*iterables"],{name:"zip"}),expose(_getattr,["obj","attrname","default=",null],{name:"getattr"}),expose(_hasattr,["obj","attrname"],{name:"hasattr"}),expose(_dir,["obj"],{name:"dir"}),expose(_isundefined,["obj"],{name:"isundefined"}),expose(_isdefined,["obj"],{name:"isdefined"}),expose(_isnone,["obj"],{name:"isnone"}),expose(_isbool,["obj"],{name:"isbool"}),expose(_isint,["obj"],{name:"isint"}),expose(_isfloat,["obj"],{name:"isfloat"}),expose(_isstr,["obj"],{name:"isstr"}),expose(_isdate,["obj"],{name:"isdate"}),expose(_isdatetime,["obj"],{name:"isdatetime"}),expose(_iscolor,["obj"],{name:"iscolor"}),expose(_istimedelta,["obj"],{name:"istimedelta"}),expose(_ismonthdelta,["obj"],{name:"ismonthdelta"}),expose(_istemplate,["obj"],{name:"istemplate"}),expose(_isfunction,["obj"],{name:"isfunction"}),expose(_islist,["obj"],{name:"islist"}),expose(_isanyset,["obj"],{name:"isset"}),expose(p,["obj"],{name:"isdict"}),expose(_isexception,["obj"],{name:"isexception"}),expose(_asjson,["obj"],{name:"asjson"}),expose(_fromjson,["string"],{name:"fromjson"}),expose(_asul4on,["obj"],{name:"asul4on"}),expose(_fromul4on,["string"],{name:"fromul4on"}),expose(now,[]),expose(utcnow,[]),expose(today,[]),expose(_enumerate,["iterable","start=",0],{name:"enumerate"}),expose(_isfirst,["iterable"],{name:"isfirst"}),expose(_islast,["iterable"],{name:"islast"}),expose(_isfirstlast,["iterable"],{name:"isfirstlast"}),expose(_enumfl,["iterable","start=",0],{name:"enumfl"}),expose(_abs,["number"],{name:"abs"}),expose(_date,["year","month","day"],{name:"date"}),expose(_datetime,["year","month","day","hour=",0,"minute=",0,"second=",0,"microsecond=",0],{name:"datetime"}),expose(_timedelta,["days=",0,"seconds=",0,"microseconds=",0],{name:"timedelta"}),expose(_monthdelta,["months=",0],{name:"monthdelta"}),expose(_rgb,["r","g","b","a=",1],{name:"rgb"}),expose(_hls,["h","l","s","a=",1],{name:"hls"}),expose(_hsv,["h","s","v","a=",1],{name:"hsv"}),expose(_xmlescape,["obj"],{name:"xmlescape"}),expose(_csv,["obj"],{name:"csv"}),expose(_chr,["i"],{name:"chr"}),expose(_ord,["c"],{name:"ord"}),expose(_hex,["number"],{name:"hex"}),expose(_oct,["number"],{name:"oct"}),expose(_bin,["number"],{name:"bin"}),expose(_min,["*obj"],{name:"min"}),expose(_max,["*obj"],{name:"max"}),expose(_sum,["iterable","start=",0],{name:"sum"}),expose(_first,["iterable","default=",null],{name:"first"}),expose(_last,["iterable","default=",null],{name:"last"}),expose(_sorted,["iterable","key=",null,"reverse=",!1],{name:"sorted",needscontext:!0}),expose(_range,["*args"],{name:"range"}),expose(_slice,["*args"],{name:"slice"}),expose(_urlquote,["string"],{name:"urlquote"}),expose(_urlunquote,["string"],{name:"urlunquote"}),expose(_reversed,["sequence"],{name:"reversed"}),expose(_random,[],{name:"random"}),expose(_randrange,["*args"],{name:"randrange"}),expose(_randchoice,["sequence"],{name:"randchoice"}),expose(_round,["x","digit=",0],{name:"round"}),expose(_md5,["string"],{name:"md5"});var wt=function(e){_inherits(Color,v);var t=_createSuper(Color);function Color(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255;return _classCallCheck(this,Color),(e=t.call(this))._r=r,e._g=n,e._b=a,e._a=i,e}return _createClass(Color,[{key:"__repr__",value:function __repr__(){var e=_lpad(this._r.toString(16),"0",2),t=_lpad(this._g.toString(16),"0",2),r=_lpad(this._b.toString(16),"0",2),n=_lpad(this._a.toString(16),"0",2);return 255!==this._a?e[0]===e[1]&&t[0]===t[1]&&r[0]===r[1]&&n[0]===n[1]?"#"+e[0]+t[0]+r[0]+n[0]:"#"+e+t+r+n:e[0]===e[1]&&t[0]===t[1]&&r[0]===r[1]?"#"+e[0]+t[0]+r[0]:"#"+e+t+r}},{key:"__str__",value:function __str__(){if(255!==this._a)return"rgba("+this._r+", "+this._g+", "+this._b+", "+this._a/255+")";var e=_lpad(this._r.toString(16),"0",2),t=_lpad(this._g.toString(16),"0",2),r=_lpad(this._b.toString(16),"0",2);return e[0]===e[1]&&t[0]===t[1]&&r[0]===r[1]?"#"+e[0]+t[0]+r[0]:"#"+e+t+r}},{key:"__iter__",value:function __iter__(){return{obj:this,index:0,next:function next(){return 0==this.index?(++this.index,{value:this.obj._r,done:!1}):1==this.index?(++this.index,{value:this.obj._g,done:!1}):2==this.index?(++this.index,{value:this.obj._b,done:!1}):3==this.index?(++this.index,{value:this.obj._a,done:!1}):{done:!0}}}}},{key:"__getattr__",value:function __getattr__(e){var t=this;switch(e){case"r":var n=function r(){return t._r};return expose(n,[]),n;case"g":var i=function g(){return t._g};return expose(i,[]),i;case"b":var o=function b(){return t._b};return expose(o,[]),o;case"a":var s=function a(){return t._a};return expose(s,[]),s;case"lum":var u=function lum(){return t.lum()};return expose(u,[]),u;case"hls":var l=function hls(){return t.hls()};return expose(l,[]),l;case"hlsa":var _=function hlsa(){return t.hlsa()};return expose(_,[]),_;case"hsv":var c=function hsv(){return t.hsv()};return expose(c,[]),c;case"hsva":var f=function hsva(){return t.hsva()};return expose(f,[]),f;case"witha":var h=function witha(e){return t.witha(e)};return expose(h,["a"]),h;case"withlum":var p=function withlum(e){return t.withlum(e)};return expose(p,["lum"]),p;case"abslum":var d=function abslum(e){return t.abslum(e)};return expose(d,["lum"]),d;case"rellum":var v=function rellum(e){return t.rellum(e)};return expose(v,["lum"]),v;default:throw new L(this,e)}}},{key:"__getitem__",value:function __getitem__(e){var t=e;switch(e<0&&(e+=4),e){case 0:return this._r;case 1:return this._g;case 2:return this._b;case 3:return this._a;default:throw new q(this,t)}}},{key:"__eq__",value:function __eq__(e){return e instanceof Color&&(this._r==e._r&&this._g==e._g&&this._b==e._b&&this._a==e._a)}},{key:"r",value:function r(){return this._r}},{key:"g",value:function g(){return this._g}},{key:"b",value:function b(){return this._b}},{key:"a",value:function a(){return this._a}},{key:"lum",value:function lum(){return this.hls()[1]}},{key:"hls",value:function hls(){var e,t,r,n,a=this._r/255,i=this._g/255,o=this._b/255,s=Math.max(a,i,o),u=Math.min(a,i,o);return e=(u+s)/2,u==s?[0,e,0]:(t=(s-a)/(s-u),r=(s-i)/(s-u),n=(s-o)/(s-u),[(a==s?n-r:i==s?2+t-n:4+r-t)/6%1,e,e<=.5?(s-u)/(s+u):(s-u)/(2-s-u)])}},{key:"hlsa",value:function hlsa(){return this.hls().concat(this._a/255)}},{key:"hsv",value:function hsv(){var e=this._r/255,t=this._g/255,r=this._b/255,n=Math.max(e,t,r),a=Math.min(e,t,r);if(a==n)return[0,0,n];var i=(n-e)/(n-a),o=(n-t)/(n-a),s=(n-r)/(n-a);return[(e==n?s-o:t==n?2+i-s:4+o-i)/6%1,(n-a)/n,n]}},{key:"hsva",value:function hsva(){return this.hsv().concat(this._a/255)}},{key:"witha",value:function witha(e){if("number"!=typeof e)throw new B("witha() requires a number");return new Color(this._r,this._g,this._b,e)}},{key:"withlum",value:function withlum(e){if("number"!=typeof e)throw new B("witha() requires a number");var t=this.hlsa();return _hls(t[0],e,t[2],t[3])}},{key:"ul4type",value:function ul4type(){return"color"}}]),Color}();expose(wt.prototype.r,[]),expose(wt.prototype.g,[]),expose(wt.prototype.b,[]),expose(wt.prototype.a,[]),expose(wt.prototype.lum,[]),expose(wt.prototype.hls,[]),expose(wt.prototype.hlsa,[]),expose(wt.prototype.hsv,[]),expose(wt.prototype.hsva,[]),expose(wt.prototype.witha,["a"]),expose(wt.prototype.withlum,["lum"]);for(var xt=function(e){_inherits(Date_,v);var t=_createSuper(Date_);function Date_(e,r,n){var a;return _classCallCheck(this,Date_),(a=t.call(this))._date=new Date(e,r-1,n),a}return _createClass(Date_,[{key:"__repr__",value:function __repr__(){return"@("+this.__str__()+")"}},{key:"__str__",value:function __str__(){return _lpad(this._date.getFullYear(),"0",4)+"-"+_lpad(this._date.getMonth()+1,"0",2)+"-"+_lpad(this._date.getDate(),"0",2)}},{key:"__eq__",value:function __eq__(e){return e instanceof Date_&&this._date.getTime()===e._date.getTime()}},{key:"__lt__",value:function __lt__(e){if(e instanceof Date_)return this._date<e._date;_unorderable("<",this,e)}},{key:"__le__",value:function __le__(e){if(e instanceof Date_)return this._date<=e._date;_unorderable("<=",this,e)}},{key:"__gt__",value:function __gt__(e){if(e instanceof Date_)return this._date>e._date;_unorderable(">",this,e)}},{key:"__ge__",value:function __ge__(e){if(e instanceof Date_)return this._date>=e._date;_unorderable(">=",this,e)}},{key:"year",value:function year(){return this._date.getFullYear()}},{key:"month",value:function month(){return this._date.getMonth()+1}},{key:"day",value:function day(){return this._date.getDate()}},{key:"ul4type",value:function ul4type(){return"date"}}]),Date_}(),Ct=function(e){_inherits(TimeDelta,v);var t=_createSuper(TimeDelta);function TimeDelta(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck(this,TimeDelta),e=t.call(this);var i=Math.floor(1e6*(86400*r+n)+a);a=He.prototype._do(i,1e6);var o=Math.floor(i/1e6);return n=He.prototype._do(o,86400),r=Math.floor(o/86400),n<0&&(n+=86400,--r),e._microseconds=a,e._seconds=n,e._days=r,e}return _createClass(TimeDelta,[{key:"__repr__",value:function __repr__(){var e=[],t=!0;return e.push("timedelta("),this._days&&(e.push("days="+this._days),t=!1),this._seconds&&(t||e.push(", "),e.push("seconds="+this._seconds),t=!1),this._microseconds&&(t||e.push(", "),e.push("microseconds="+this._microseconds)),e.push(")"),e.join("")}},{key:"__str__",value:function __str__(){var e=[];this._days&&(e.push(this._days+" day"),-1!==this._days&&1!==this._days&&e.push("s"),e.push(", "));var t=this._seconds%60,r=Math.floor(this._seconds/60),n=Math.floor(r/60);return r%=60,e.push(""+n),e.push(":"),e.push(_lpad(r.toString(),"0",2)),e.push(":"),e.push(_lpad(t.toString(),"0",2)),this._microseconds&&(e.push("."),e.push(_lpad(this._microseconds.toString(),"0",6))),e.join("")}},{key:"__bool__",value:function __bool__(){return 0!==this._days||0!==this._seconds||0!==this._microseconds}},{key:"__abs__",value:function __abs__(){return this._days<0?new TimeDelta(-this._days,-this._seconds,-this._microseconds):this}},{key:"__eq__",value:function __eq__(e){return e instanceof TimeDelta&&(this._days===e._days&&this._seconds===e._seconds&&this._microseconds===e._microseconds)}},{key:"__lt__",value:function __lt__(e){if(e instanceof TimeDelta)return this._days!=e._days?this._days<e._days:this._seconds!=e._seconds?this._seconds<e._seconds:this._microseconds<e._microseconds;_unorderable("<",this,e)}},{key:"__le__",value:function __le__(e){if(e instanceof TimeDelta)return this._days!=e._days?this._days<e._days:this._seconds!=e._seconds?this._seconds<e._seconds:this._microseconds<=e._microseconds;_unorderable("<=",this,e)}},{key:"__gt__",value:function __gt__(e){if(e instanceof TimeDelta)return this._days!=e._days?this._days>e._days:this._seconds!=e._seconds?this._seconds>e._seconds:this._microseconds>e._microseconds;_unorderable(">",this,e)}},{key:"__ge__",value:function __ge__(e){if(e instanceof TimeDelta)return this._days!=e._days?this._days>e._days:this._seconds!=e._seconds?this._seconds>e._seconds:this._microseconds>=e._microseconds;_unorderable(">=",this,e)}},{key:"__neg__",value:function __neg__(){return new TimeDelta(-this._days,-this._seconds,-this._microseconds)}},{key:"_adddate",value:function _adddate(e,t){var r=e._date.getFullYear(),n=e._date.getMonth(),a=e._date.getDate()+t;return new Date(r,n,a)}},{key:"_adddatetime",value:function _adddatetime(e,t,r,n){var a=e.getFullYear(),i=e.getMonth(),o=e.getDate()+t,s=e.getHours(),u=e.getMinutes(),l=e.getSeconds()+r,_=e.getMilliseconds()+n/1e3;return new Date(a,i,o,s,u,l,_)}},{key:"__add__",value:function __add__(e){if(e instanceof TimeDelta)return new TimeDelta(this._days+e._days,this._seconds+e._seconds,this._microseconds+e._microseconds);if(_isdate(e))return this._adddate(e,this._days);if(_isdatetime(e))return this._adddatetime(e,this._days,this._seconds,this._microseconds);throw new B(_type(this)+" + "+_type(e)+" not supported")}},{key:"__radd__",value:function __radd__(e){if(_isdate(e))return this._adddate(e,this._days);if(_isdatetime(e))return this._adddatetime(e,this._days,this._seconds,this._microseconds);throw new B(_type(this)+" + "+_type(e)+" not supported")}},{key:"__sub__",value:function __sub__(e){if(e instanceof TimeDelta)return new TimeDelta(this._days-e._days,this._seconds-e._seconds,this._microseconds-e._microseconds);throw new B(_type(this)+" - "+_type(e)+" not supported")}},{key:"__rsub__",value:function __rsub__(e){if(_isdate(e))return this._adddate(e,-this._days);if(_isdatetime(e))return this._adddatetime(e,-this._days,-this._seconds,-this._microseconds);throw new B(_type(this)+" - "+_type(e)+" not supported")}},{key:"__mul__",value:function __mul__(e){if("number"==typeof e)return new TimeDelta(this._days*e,this._seconds*e,this._microseconds*e);throw new B(_type(this)+" * "+_type(e)+" not supported")}},{key:"__rmul__",value:function __rmul__(e){if("number"==typeof e)return new TimeDelta(this._days*e,this._seconds*e,this._microseconds*e);throw new B(_type(this)+" * "+_type(e)+" not supported")}},{key:"__truediv__",value:function __truediv__(e){if("number"==typeof e)return new TimeDelta(this._days/e,this._seconds/e,this._microseconds/e);if(e instanceof TimeDelta){var t=this._days,r=e._days,n=this._seconds||e._seconds,a=this._microseconds||e._microseconds;return(n||a)&&(t=86400*t+this._seconds,r=86400*r+e._seconds,a&&(t=1e6*t+this._microseconds,r=1e6*r+e._microseconds)),t/r}throw new B(_type(this)+" / "+_type(e)+" not supported")}},{key:"__getattr__",value:function __getattr__(e){var t=this;switch(e){case"days":var r=function days(){return t._days};return expose(r,[]),r;case"seconds":var n=function seconds(){return t._seconds};return expose(n,[]),n;case"microseconds":var a=function microseconds(){return t._microseconds};return expose(a,[]),a;default:throw new L(this,e)}}},{key:"days",value:function days(){return this._days}},{key:"seconds",value:function seconds(){return this._seconds}},{key:"microseconds",value:function microseconds(){return this._microseconds}},{key:"ul4type",value:function ul4type(){return"timedelta"}}]),TimeDelta}(),jt=function(e){_inherits(MonthDelta,v);var t=_createSuper(MonthDelta);function MonthDelta(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return _classCallCheck(this,MonthDelta),(e=t.call(this))._months=r,e}return _createClass(MonthDelta,[{key:"__repr__",value:function __repr__(){return this._months?"monthdelta("+this._months+")":"monthdelta()"}},{key:"__str__",value:function __str__(){return this._months?-1!==this._months&&1!==this._months?this._months+" months":this._months+" month":"0 months"}},{key:"toString",value:function toString(){return this.__str__()}},{key:"__bool__",value:function __bool__(){return 0!==this._months}},{key:"__abs__",value:function __abs__(){return this._months<0?new MonthDelta(-this._months):this}},{key:"__eq__",value:function __eq__(e){return e instanceof MonthDelta&&this._months===e._months}},{key:"__lt__",value:function __lt__(e){if(e instanceof MonthDelta)return this._months<e._months;_unorderable("<",this,e)}},{key:"__le__",value:function __le__(e){if(e instanceof MonthDelta)return this._months<=e._months;_unorderable("<=",this,e)}},{key:"__gt__",value:function __gt__(e){if(e instanceof MonthDelta)return this._months>e._months;_unorderable(">",this,e)}},{key:"__ge__",value:function __ge__(e){if(e instanceof MonthDelta)return this._months>=e._months;_unorderable(">=",this,e)}},{key:"__neg__",value:function __neg__(){return new MonthDelta(-this._months)}},{key:"_adddate",value:function _adddate(e,t){var r=this._adddatetime(e._date,t);return new xt(r.getFullYear(),r.getMonth()+1,r.getDate())}},{key:"_adddatetime",value:function _adddatetime(e,t){for(var r=e.getFullYear(),n=e.getMonth()+t,a=e.getDate(),i=e.getHours(),o=e.getMinutes(),s=e.getSeconds(),u=e.getMilliseconds();;){var l=new Date(r,n,1,i,o,s,u).getMonth(),_=new Date(r,n,a,i,o,s,u);if(_.getMonth()===l)return _;--a}}},{key:"__add__",value:function __add__(e){if(_ismonthdelta(e))return new MonthDelta(this._months+e._months);if(_isdate(e))return this._adddate(e,this._months);if(_isdatetime(e))return this._adddatetime(e,this._months);throw new H(_type(this)+" + "+_type(e)+" not supported")}},{key:"__radd__",value:function __radd__(e){if(_isdate(e))return this._adddate(e,this._months);if(_isdatetime(e))return this._adddatetime(e,this._months);throw new H(_type(this)+" + "+_type(e)+" not supported")}},{key:"__sub__",value:function __sub__(e){if(_ismonthdelta(e))return new MonthDelta(this._months-e._months);throw new H(_type(this)+" - "+_type(e)+" not supported")}},{key:"__rsub__",value:function __rsub__(e){if(_isdate(e))return this._adddate(e,-this._months);if(_isdatetime(e))return this._adddatetime(e,-this._months);throw new H(_type(this)+" - "+_type(e)+" not supported")}},{key:"__mul__",value:function __mul__(e){if("number"==typeof e)return new MonthDelta(this._months*Math.floor(e));throw new H(_type(this)+" * "+_type(e)+" not supported")}},{key:"__rmul__",value:function __rmul__(e){if("number"==typeof e)return new MonthDelta(this._months*Math.floor(e));throw new H(_type(this)+" * "+_type(e)+" not supported")}},{key:"__floordiv__",value:function __floordiv__(e){if("number"==typeof e)return new MonthDelta(Math.floor(this._months/e));if(_ismonthdelta(e))return Math.floor(this._months/e._months);throw new H(_type(this)+" // "+_type(e)+" not supported")}},{key:"__truediv__",value:function __truediv__(e){if(_ismonthdelta(e))return this._months/e._months;throw new H(_type(this)+" / "+_type(e)+" not supported")}},{key:"__getattr__",value:function __getattr__(e){var t=this;switch(e){case"months":var r=function months(){return t._months};return expose(r,[]),r;default:throw new L(this,e)}}},{key:"months",value:function months(){return this._months}},{key:"ul4type",value:function ul4type(){return"monthdelta"}}]),MonthDelta}(),Mt=0,Ot=[Y,U,z,J,W,K,Q,$,Z,ee,te,re,ne,ae,se,ue,ie,oe,le,_e,pe,fe,he,de,ve,me,ye,be,Se,ke,Ae,Te,we,xe,Ce,je,Oe,Me,Ee,De,Ie,Be,Fe,He,Pe,Ve,qe,Le,Ne,Re,Ye,Qe,Ue,ze,Xe,Je,Ge,We,$e,et,tt,rt,nt,at,it,ot,st,ut,lt,_t,ft,ht,pt,dt,vt,yt,gt,bt,kt,St];Mt<Ot.length;Mt++){var Et=Ot[Mt],Dt=Et.name;"AST"===Dt.substr(Dt.length-3)&&(Dt=Dt.substr(0,Dt.length-3)),Dt=Dt.toLowerCase(),Et.prototype.type=Dt,register("de.livinglogic.ul4."+Dt,Et)}e.AST=R,e.AddAST=Ee,e.AddVarAST=et,e.AndAST=Re,e.ArgumentError=H,e.AttrAST=Ue,e.AttributeError=L,e.BinaryAST=ge,e.BitAndAST=qe,e.BitAndVarAST=ut,e.BitNotAST=he,e.BitOrAST=Ne,e.BitOrVarAST=_t,e.BitXOrAST=Le,e.BitXOrVarAST=lt,e.BlockAST=ct,e.BreakAST=pt,e.BreakException=O,e.CallAST=ze,e.CodeAST=X,e.Color=wt,e.CondBlockAST=vt,e.ConditionalBlockAST=mt,e.ConstAST=J,e.ContainsAST=Me,e.Context=C,e.ContinueAST=dt,e.ContinueException=E,e.DateProtocol=T,e.DateTimeProtocol=w,e.Date_=xt,e.Decoder=u,e.DictAST=se,e.DictCompAST=ue,e.DictItemAST=Q,e.EQAST=Ae,e.ElIfBlockAST=gt,e.ElseBlockAST=bt,e.Encoder=s,e.Exception=Exception,e.FloorDivAST=Be,e.FloorDivVarAST=at,e.ForBlockAST=ft,e.GEAST=je,e.GTAST=Ce,e.GenExprAST=le,e.IfAST=de,e.IfBlockAST=yt,e.IndentAST=U,e.IndexError=q,e.InternalException=j,e.IsAST=Se,e.IsNotAST=ke,e.ItemAST=be,e.ItemArgBase=G,e.KeywordArgAST=ee,e.LEAST=xe,e.LTAST=we,e.LValueRequiredError=I,e.LineEndAST=z,e.ListAST=ne,e.ListCompAST=ae,e.ListProtocol=S,e.LocationError=N,e.MapProtocol=k,e.ModAST=He,e.ModVarAST=it,e.ModifyVarAST=Ze,e.MonthDelta=jt,e.MulAST=Ie,e.MulVarAST=rt,e.NEAST=Te,e.NegAST=fe,e.NotAST=pe,e.NotContainsAST=Oe,e.NotSubscriptableError=P,e.ObjectProtocol=x,e.OrAST=Ye,e.PosArgAST=Z,e.PrintAST=me,e.PrintXAST=ye,e.Proto=v,e.Protocol=g,e.RenderAST=Xe,e.RenderBlockAST=Ge,e.RenderBlocksAST=We,e.RenderXAST=Je,e.ReturnAST=ve,e.ReturnException=M,e.SeqItemAST=W,e.SetAST=ie,e.SetCompAST=oe,e.SetProtocol=A,e.SetVarAST=$e,e.ShiftLeftAST=Pe,e.ShiftLeftVarAST=ot,e.ShiftRightAST=Ve,e.ShiftRightVarAST=st,e.Signature=m,e.SignatureAST=kt,e.SliceAST=Qe,e.StrProtocol=b,e.SubAST=De,e.SubVarAST=tt,e.SyntaxError=D,e.Template=St,e.TemplateClosure=At,e.TextAST=Y,e.TimeDelta=Ct,e.TrueDivAST=Fe,e.TrueDivVarAST=nt,e.TypeError=B,e.UnaryAST=ce,e.UnpackDictArgAST=re,e.UnpackDictItemAST=$,e.UnpackListArgAST=te,e.UnpackSeqItemAST=K,e.ValueError=F,e.VarAST=_e,e.WhileBlockAST=ht,e.ZeroDivisionError=V,e._Set=y,e._abs=_abs,e._all=_all,e._any=_any,e._ascii=_ascii,e._asjson=_asjson,e._asul4on=_asul4on,e._bin=_bin,e._bool=_bool,e._bound=_bound,e._call=_call,e._callfunction=_callfunction,e._callobject=_callobject,e._callrender=_callrender,e._chr=_chr,e._cmp=_cmp,e._count=_count,e._csv=_csv,e._date=_date,e._datetime=_datetime,e._dir=_dir,e._enumerate=_enumerate,e._enumfl=_enumfl,e._eq=_eq,e._extend=_extend,e._find=_find,e._first=_first,e._float=_float,e._format=_format,e._formatsource=_formatsource,e._fromjson=_fromjson,e._fromul4on=_fromul4on,e._ge=_ge,e._get=function _get$1(e,t,r){if(h(e))return e.has(t)?e.get(t):r;if(_isobject(e)){var n=e[t];return void 0===n?r:n}throw new B("get() requires a dict")},e._getattr=_getattr,e._gt=_gt,e._hasattr=_hasattr,e._havemap=a,e._hex=_hex,e._hls=_hls,e._hsv=_hsv,e._int=_int,e._internal_call=_internal_call,e._isanyset=_isanyset,e._isbool=_isbool,e._iscolor=_iscolor,e._isdate=_isdate,e._isdatetime=_isdatetime,e._isdefined=_isdefined,e._isdict=p,e._isexception=_isexception,e._isfirst=_isfirst,e._isfirstlast=_isfirstlast,e._isfloat=_isfloat,e._isfunction=_isfunction,e._isint=_isint,e._isiter=_isiter,e._islast=_islast,e._isleap=_isleap,e._islist=_islist,e._ismap=h,e._ismonthdelta=_ismonthdelta,e._isnone=_isnone,e._isobject=_isobject,e._isset=_isset,e._isstr=_isstr,e._istemplate=_istemplate,e._istimedelta=_istimedelta,e._isul4set=_isul4set,e._isundefined=_isundefined,e._iter=_iter,e._last=_last,e._le=_le,e._len=_len,e._list=_list,e._list_repeat=_list_repeat,e._lpad=_lpad,e._lt=_lt,e._makeset=o,e._map2object=function _map2object(e){if(h(e)){var t={};return e.forEach(function(e,r){if("string"!=typeof r)throw new B("keys must be strings");t[r]=e}),t}return e},e._max=_max,e._md5=_md5,e._min=_min,e._mod=_mod,e._monthdelta=_monthdelta,e._ne=_ne,e._oct=_oct,e._ord=_ord,e._randchoice=_randchoice,e._random=_random,e._randrange=_randrange,e._range=_range,e._repr=_repr2,e._reversed=_reversed,e._rfind=_rfind,e._rgb=_rgb,e._round=_round,e._rpad=function _rpad(e,t,r){for("number"==typeof e&&(e=e.toString());e.length<r;)e+=t;return e},e._set=_set,e._slice=_slice,e._sorted=_sorted,e._stacktrace=function _stacktrace(e){var t=(e instanceof Exception?e.constructor.name+": ":"")+e.toString();return e.context&&(t=_stacktrace(e.context)+"\n\n"+t),t},e._str=_str,e._str_repeat=_str_repeat,e._sum=_sum,e._timedelta=_timedelta,e._type=_type,e._unorderable=_unorderable,e._unpackvar=_unpackvar,e._update=_update,e._urlquote=_urlquote,e._urlunquote=_urlunquote,e._week4format=_week4format,e._xmlescape=_xmlescape,e._zip=_zip,e.api_version="46",e.dumps=dumps,e.expose=expose,e.functions=Tt,e.loads=_loads,e.now=now,e.register=register,e.slice=Ke,e.today=today,e.utcnow=utcnow,e.version="1.1.1",Object.defineProperty(e,"__esModule",{value:!0})});
>>>>>>> rel-1-1-0-maint
//# sourceMappingURL=ul4.js.map
