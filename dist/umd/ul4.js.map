{"version":3,"file":"ul4.js","sources":["../../node_modules/blueimp-md5/js/md5.js","../../src/ul4.js"],"sourcesContent":["/*\n * JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\n\n/* global define */\n\n/* eslint-disable strict */\n\n;(function ($) {\n  'use strict'\n\n  /**\n   * Add integers, wrapping at 2^32.\n   * This uses 16-bit operations internally to work around bugs in interpreters.\n   *\n   * @param {number} x First integer\n   * @param {number} y Second integer\n   * @returns {number} Sum\n   */\n  function safeAdd(x, y) {\n    var lsw = (x & 0xffff) + (y & 0xffff)\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16)\n    return (msw << 16) | (lsw & 0xffff)\n  }\n\n  /**\n   * Bitwise rotate a 32-bit number to the left.\n   *\n   * @param {number} num 32-bit number\n   * @param {number} cnt Rotation count\n   * @returns {number} Rotated number\n   */\n  function bitRotateLeft(num, cnt) {\n    return (num << cnt) | (num >>> (32 - cnt))\n  }\n\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} q q\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5cmn(q, a, b, x, s, t) {\n    return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5ff(a, b, c, d, x, s, t) {\n    return md5cmn((b & c) | (~b & d), a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5gg(a, b, c, d, x, s, t) {\n    return md5cmn((b & d) | (c & ~d), a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5hh(a, b, c, d, x, s, t) {\n    return md5cmn(b ^ c ^ d, a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5ii(a, b, c, d, x, s, t) {\n    return md5cmn(c ^ (b | ~d), a, b, x, s, t)\n  }\n\n  /**\n   * Calculate the MD5 of an array of little-endian words, and a bit length.\n   *\n   * @param {Array} x Array of little-endian words\n   * @param {number} len Bit length\n   * @returns {Array<number>} MD5 Array\n   */\n  function binlMD5(x, len) {\n    /* append padding */\n    x[len >> 5] |= 0x80 << len % 32\n    x[(((len + 64) >>> 9) << 4) + 14] = len\n\n    var i\n    var olda\n    var oldb\n    var oldc\n    var oldd\n    var a = 1732584193\n    var b = -271733879\n    var c = -1732584194\n    var d = 271733878\n\n    for (i = 0; i < x.length; i += 16) {\n      olda = a\n      oldb = b\n      oldc = c\n      oldd = d\n\n      a = md5ff(a, b, c, d, x[i], 7, -680876936)\n      d = md5ff(d, a, b, c, x[i + 1], 12, -389564586)\n      c = md5ff(c, d, a, b, x[i + 2], 17, 606105819)\n      b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330)\n      a = md5ff(a, b, c, d, x[i + 4], 7, -176418897)\n      d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426)\n      c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341)\n      b = md5ff(b, c, d, a, x[i + 7], 22, -45705983)\n      a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416)\n      d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417)\n      c = md5ff(c, d, a, b, x[i + 10], 17, -42063)\n      b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162)\n      a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682)\n      d = md5ff(d, a, b, c, x[i + 13], 12, -40341101)\n      c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290)\n      b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329)\n\n      a = md5gg(a, b, c, d, x[i + 1], 5, -165796510)\n      d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632)\n      c = md5gg(c, d, a, b, x[i + 11], 14, 643717713)\n      b = md5gg(b, c, d, a, x[i], 20, -373897302)\n      a = md5gg(a, b, c, d, x[i + 5], 5, -701558691)\n      d = md5gg(d, a, b, c, x[i + 10], 9, 38016083)\n      c = md5gg(c, d, a, b, x[i + 15], 14, -660478335)\n      b = md5gg(b, c, d, a, x[i + 4], 20, -405537848)\n      a = md5gg(a, b, c, d, x[i + 9], 5, 568446438)\n      d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690)\n      c = md5gg(c, d, a, b, x[i + 3], 14, -187363961)\n      b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501)\n      a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467)\n      d = md5gg(d, a, b, c, x[i + 2], 9, -51403784)\n      c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473)\n      b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734)\n\n      a = md5hh(a, b, c, d, x[i + 5], 4, -378558)\n      d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463)\n      c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562)\n      b = md5hh(b, c, d, a, x[i + 14], 23, -35309556)\n      a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060)\n      d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353)\n      c = md5hh(c, d, a, b, x[i + 7], 16, -155497632)\n      b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640)\n      a = md5hh(a, b, c, d, x[i + 13], 4, 681279174)\n      d = md5hh(d, a, b, c, x[i], 11, -358537222)\n      c = md5hh(c, d, a, b, x[i + 3], 16, -722521979)\n      b = md5hh(b, c, d, a, x[i + 6], 23, 76029189)\n      a = md5hh(a, b, c, d, x[i + 9], 4, -640364487)\n      d = md5hh(d, a, b, c, x[i + 12], 11, -421815835)\n      c = md5hh(c, d, a, b, x[i + 15], 16, 530742520)\n      b = md5hh(b, c, d, a, x[i + 2], 23, -995338651)\n\n      a = md5ii(a, b, c, d, x[i], 6, -198630844)\n      d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415)\n      c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905)\n      b = md5ii(b, c, d, a, x[i + 5], 21, -57434055)\n      a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571)\n      d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606)\n      c = md5ii(c, d, a, b, x[i + 10], 15, -1051523)\n      b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799)\n      a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359)\n      d = md5ii(d, a, b, c, x[i + 15], 10, -30611744)\n      c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380)\n      b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649)\n      a = md5ii(a, b, c, d, x[i + 4], 6, -145523070)\n      d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379)\n      c = md5ii(c, d, a, b, x[i + 2], 15, 718787259)\n      b = md5ii(b, c, d, a, x[i + 9], 21, -343485551)\n\n      a = safeAdd(a, olda)\n      b = safeAdd(b, oldb)\n      c = safeAdd(c, oldc)\n      d = safeAdd(d, oldd)\n    }\n    return [a, b, c, d]\n  }\n\n  /**\n   * Convert an array of little-endian words to a string\n   *\n   * @param {Array<number>} input MD5 Array\n   * @returns {string} MD5 string\n   */\n  function binl2rstr(input) {\n    var i\n    var output = ''\n    var length32 = input.length * 32\n    for (i = 0; i < length32; i += 8) {\n      output += String.fromCharCode((input[i >> 5] >>> i % 32) & 0xff)\n    }\n    return output\n  }\n\n  /**\n   * Convert a raw string to an array of little-endian words\n   * Characters >255 have their high-byte silently ignored.\n   *\n   * @param {string} input Raw input string\n   * @returns {Array<number>} Array of little-endian words\n   */\n  function rstr2binl(input) {\n    var i\n    var output = []\n    output[(input.length >> 2) - 1] = undefined\n    for (i = 0; i < output.length; i += 1) {\n      output[i] = 0\n    }\n    var length8 = input.length * 8\n    for (i = 0; i < length8; i += 8) {\n      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xff) << i % 32\n    }\n    return output\n  }\n\n  /**\n   * Calculate the MD5 of a raw string\n   *\n   * @param {string} s Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rstrMD5(s) {\n    return binl2rstr(binlMD5(rstr2binl(s), s.length * 8))\n  }\n\n  /**\n   * Calculates the HMAC-MD5 of a key and some data (raw strings)\n   *\n   * @param {string} key HMAC key\n   * @param {string} data Raw input string\n   * @returns {string} Raw MD5 string\n   */\n  function rstrHMACMD5(key, data) {\n    var i\n    var bkey = rstr2binl(key)\n    var ipad = []\n    var opad = []\n    var hash\n    ipad[15] = opad[15] = undefined\n    if (bkey.length > 16) {\n      bkey = binlMD5(bkey, key.length * 8)\n    }\n    for (i = 0; i < 16; i += 1) {\n      ipad[i] = bkey[i] ^ 0x36363636\n      opad[i] = bkey[i] ^ 0x5c5c5c5c\n    }\n    hash = binlMD5(ipad.concat(rstr2binl(data)), 512 + data.length * 8)\n    return binl2rstr(binlMD5(opad.concat(hash), 512 + 128))\n  }\n\n  /**\n   * Convert a raw string to a hex string\n   *\n   * @param {string} input Raw input string\n   * @returns {string} Hex encoded string\n   */\n  function rstr2hex(input) {\n    var hexTab = '0123456789abcdef'\n    var output = ''\n    var x\n    var i\n    for (i = 0; i < input.length; i += 1) {\n      x = input.charCodeAt(i)\n      output += hexTab.charAt((x >>> 4) & 0x0f) + hexTab.charAt(x & 0x0f)\n    }\n    return output\n  }\n\n  /**\n   * Encode a string as UTF-8\n   *\n   * @param {string} input Input string\n   * @returns {string} UTF8 string\n   */\n  function str2rstrUTF8(input) {\n    return unescape(encodeURIComponent(input))\n  }\n\n  /**\n   * Encodes input string as raw MD5 string\n   *\n   * @param {string} s Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rawMD5(s) {\n    return rstrMD5(str2rstrUTF8(s))\n  }\n  /**\n   * Encodes input string as Hex encoded string\n   *\n   * @param {string} s Input string\n   * @returns {string} Hex encoded string\n   */\n  function hexMD5(s) {\n    return rstr2hex(rawMD5(s))\n  }\n  /**\n   * Calculates the raw HMAC-MD5 for the given key and data\n   *\n   * @param {string} k HMAC key\n   * @param {string} d Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rawHMACMD5(k, d) {\n    return rstrHMACMD5(str2rstrUTF8(k), str2rstrUTF8(d))\n  }\n  /**\n   * Calculates the Hex encoded HMAC-MD5 for the given key and data\n   *\n   * @param {string} k HMAC key\n   * @param {string} d Input string\n   * @returns {string} Raw MD5 string\n   */\n  function hexHMACMD5(k, d) {\n    return rstr2hex(rawHMACMD5(k, d))\n  }\n\n  /**\n   * Calculates MD5 value for a given string.\n   * If a key is provided, calculates the HMAC-MD5 value.\n   * Returns a Hex encoded string unless the raw argument is given.\n   *\n   * @param {string} string Input string\n   * @param {string} [key] HMAC key\n   * @param {boolean} [raw] Raw output switch\n   * @returns {string} MD5 output\n   */\n  function md5(string, key, raw) {\n    if (!key) {\n      if (!raw) {\n        return hexMD5(string)\n      }\n      return rawMD5(string)\n    }\n    if (!raw) {\n      return hexHMACMD5(key, string)\n    }\n    return rawHMACMD5(key, string)\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return md5\n    })\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = md5\n  } else {\n    $.md5 = md5\n  }\n})(this)\n","/*!\n * UL4/UL4ON JavaScript Library\n * http://www.livinglogic.de/Python/ul4c/\n * http://www.livinglogic.de/Python/ul4on/\n *\n * Copyright 2011-2022 by LivingLogic AG, Bayreuth/Germany\n * Copyright 2011-2022 by Walter DÃ¶rwald\n *\n * All Rights Reserved\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/*jslint vars: true */\n\n// Version of this Javascript package\nimport packageInfo from '../package.json';\n\nexport const version = packageInfo.version;\n\n// Version of the UL4 API\n// I.e. this version should be compatible with the Python and Java\n// implementations that support the same API version.\nexport const api_version = \"52\";\n\n\n/// Symbols for interfaces implemented in UL4\n\nexport let symbols = {\n\t// Convert an object to a string via UL4s `str()` function\n\tstr: Symbol.for(\"ul4.str\"),\n\t// Return a unambiguous string representation of the object via UL4s `repr()` function\n\trepr: Symbol.for(\"ul4.repr\"),\n\t// Convert an object to a boolean value via UL4s `bool()` function\n\tbool: Symbol.for(\"ul4.bool\"),\n\t// Implementing this interface makes an object callable in UL4\n\tcall: Symbol.for(\"ul4.call\"),\n\t// Implementing this interface makes an object renderable in UL4\n\trender: Symbol.for(\"ul4.render\"),\n\t// Test whether an object is contained in this object via UL4s `in` operator\n\tcontains: Symbol.for(\"ul4.contains\"),\n\t// Compare two objects for equality via UL4s `==` operator\n\teq: Symbol.for(\"ul4.eq\"),\n\t// Compare two objects for inequality via UL4s `!=` operator\n\tne: Symbol.for(\"ul4.ne\"),\n\t// Compare two objects for \"less then\" via UL4s `<` operator\n\tlt: Symbol.for(\"ul4.lt\"),\n\t// Compare two objects for \"less then or equal\" via UL4s `<=` operator\n\tle: Symbol.for(\"ul4.le\"),\n\t// Compare two objects for \"greater then\" via UL4s `>` operator\n\tgt: Symbol.for(\"ul4.gt\"),\n\t// Compare two objects for \"greater then or equal\" via UL4s `>=` operator\n\tge: Symbol.for(\"ul4.ge\"),\n\t// Negate an object via UL4s unary `-` operator\n\tneg: Symbol.for(\"ul4.neg\"),\n\t// Return the absolute value of an object via UL4s `abs()` function\n\tabs: Symbol.for(\"ul4.abs\"),\n\t// Add two objects via UL4s `+` operator (as a method of the left operand)\n\tadd: Symbol.for(\"ul4.add\"),\n\t// Add two objects via UL4s `+` operator (as a method of the right operand)\n\tradd: Symbol.for(\"ul4.radd\"),\n\t// Subtract two objects via UL4s `-` operator (as a method of the left operand)\n\tsub: Symbol.for(\"ul4.sub\"),\n\t// Subtract two objects via UL4s `-` operator (as a method of the right operand)\n\trsub: Symbol.for(\"ul4.rsub\"),\n\t// Multiply two objects via UL4s `*` operator (as a method of the left operand)\n\tmul: Symbol.for(\"ul4.mul\"),\n\t// Multiply two objects via UL4s `*` operator (as a method of the right operand)\n\trmul: Symbol.for(\"ul4.rmul\"),\n\t// Divide two objects via UL4s `/` operator (as a method of the left operand)\n\ttruediv: Symbol.for(\"ul4.truediv\"),\n\t// Divide two objects via UL4s `/` operator (as a method of the right operand)\n\trtruediv: Symbol.for(\"ul4.rtruediv\"),\n\t// Divide two objects via UL4s `//` operator (as a method of the left operand)\n\tfloordiv: Symbol.for(\"ul4.floordiv\"),\n\t// Divide two objects via UL4s `//` operator (as a method of the right operand)\n\trfloordiv: Symbol.for(\"ul4.rfloordiv\"),\n\t// Get an attribute of an object via UL4\n\tgetattr: Symbol.for(\"ul4.getattr\"),\n\t// Set an attribute of an object via UL4\n\tsetattr: Symbol.for(\"ul4.setattr\"),\n\t// Get an item of a container object via UL4s `[]` operator\n\tgetitem: Symbol.for(\"ul4.getitem\"),\n\t// Set an item of a container object via UL4 UL4s `[] =` operator\n\tsetitem: Symbol.for(\"ul4.setitem\"),\n\t// Return the UL4 type of an object\n\ttype: Symbol.for(\"ul4.type\"),\n};\n\n\n// Adds name and signature to a function/method and makes the method callable by UL4\nexport function expose(f, signature, options)\n{\n\toptions = options || {};\n\tif (options.name)\n\t\tf._ul4_name = options.name;\n\t// This is the `_islist` function, inlined here because of order problems.\n\tif (Object.prototype.toString.call(signature) === \"[object Array]\")\n\t\tsignature = new Signature(...signature);\n\tf._ul4_signature = signature;\n\tf._ul4_needsobject = options.needsobject || false;\n\tf._ul4_needscontext = options.needscontext || false;\n\treturn f;\n};\n\n\n///\n/// Base class for all our classes.\n/// This implements the equality comparison operators.\n///\nexport class Proto\n{\n\tconstructor()\n\t{\n\t}\n\n\t// equality comparison of objects defaults to identity comparison\n\t[symbols.eq](other)\n\t{\n\t\treturn this === other;\n\t}\n\n\t// To overwrite equality comparison, you only have to overwrite `[symbols.eq]`,\n\t// `[symbols.ne]` will be synthesized from that\n\t[symbols.ne](other)\n\t{\n\t\treturn !this[symbols.eq](other);\n\t}\n\n\t// For other comparison operators, each method has to be implemented:\n\t// `<` calls `[symbols.lt]`, `<=` calls `[symbols.le]`, `>` calls `[symbols.gt]` and\n\t// `>=` calls `[symbols.ge]`\n\n\t[symbols.bool]()\n\t{\n\t\treturn true;\n\t}\n\n\t// Default `repr` implementation.\n\t[symbols.repr]()\n\t{\n\t\treturn \"<\" + this.constructor.name + \">\";\n\t}\n\n\ttoString()\n\t{\n\t\treturn this[symbols.repr]();\n\t}\n};\n\n\n///\n/// The signature of a callable (i.e. which arguments it takes, their default, etc.)\n///\nexport class Signature extends Proto\n{\n\tconstructor(...params)\n\t{\n\t\tsuper();\n\t\tthis.paramsByPos = [];\n\t\tthis.paramsByName = {};\n\t\tthis.countpos = 0;\n\t\tthis.countposdef = 0;\n\t\tthis.countposkw = 0;\n\t\tthis.countposkwdef = 0;\n\t\tthis.countkw = 0;\n\t\tthis.countkwdef = 0;\n\t\tthis.varpos = null;\n\t\tthis.varkw = null;\n\n\t\tlet state = 0;\n\t\tlet name = null;\n\t\tlet type = null;\n\t\tfor (let value of params)\n\t\t{\n\t\t\tif (state == 0)\n\t\t\t{\n\t\t\t\tname = value;\n\t\t\t\tstate = 1;\n\t\t\t}\n\t\t\telse if (state == 1)\n\t\t\t{\n\t\t\t\ttype = value;\n\t\t\t\tif (type.endsWith(\"=\"))\n\t\t\t\t\tstate = 2;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.add(name, type, null);\n\t\t\t\t\tstate = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.add(name, type, value);\n\t\t\t\tstate = 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Add a parameter\n\tadd(name, type, defaultValue)\n\t{\n\t\tlet pos = this.paramsByPos.length;\n\t\tif (this.varpos !== null)\n\t\t\t++pos;\n\t\tif (this.varkw !== null)\n\t\t\t++pos;\n\t\tlet param = {name: name, pos: pos, type: type, defaultValue: defaultValue};\n\t\tswitch (type)\n\t\t{\n\t\t\tcase \"p\":\n\t\t\t\tif (this.countposdef > 0 || this.countposkwdef > 0 || this.countkwdef > 0)\n\t\t\t\t\tthrow new ParameterError(\"parameter without default after parameter with default\");\n\t\t\t\telse if (this.countposkw > 0 || this.countposkwdef > 0)\n\t\t\t\t\tthrow new ParameterError(\"positional-only parameter after positional/keyword parameter\");\n\t\t\t\telse if (this.countkw > 0 || this.countkwdef > 0)\n\t\t\t\t\tthrow new ParameterError(\"positional-only parameter after keyword-only parameter\");\n\t\t\t\telse if (this.varpos !== null)\n\t\t\t\t\tthrow new ParameterError(\"positional-only parameter after * parameter\");\n\t\t\t\telse if (this.varkw !== null)\n\t\t\t\t\tthrow new ParameterError(\"positional-only parameter after ** parameter\");\n\t\t\t\tthis.paramsByPos.push(param);\n\t\t\t\tthis.paramsByName[name] = param;\n\t\t\t\t++this.countpos;\n\t\t\t\tbreak;\n\t\t\tcase \"p=\":\n\t\t\t\tif (this.countposkw > 0 || this.countposkwdef > 0)\n\t\t\t\t\tthrow new ParameterError(\"positional-only parameter after positional/keyword parameter\");\n\t\t\t\telse if (this.countkw > 0 || this.countkwdef > 0)\n\t\t\t\t\tthrow new ParameterError(\"positional-only parameter after keyword-only parameter\");\n\t\t\t\telse if (this.varpos !== null)\n\t\t\t\t\tthrow new ParameterError(\"positional-only parameter after * parameter\");\n\t\t\t\telse if (this.varkw !== null)\n\t\t\t\t\tthrow new ParameterError(\"positional-only parameter after ** parameter\");\n\t\t\t\tthis.paramsByPos.push(param);\n\t\t\t\tthis.paramsByName[name] = param;\n\t\t\t\t++this.countposdef;\n\t\t\t\tbreak;\n\t\t\tcase \"pk\":\n\t\t\t\tif (this.countposdef > 0 || this.countposkwdef > 0 || this.countkwdef > 0)\n\t\t\t\t\tthrow new ParameterError(\"parameter without default after parameter with default\");\n\t\t\t\telse if (this.countkw > 0 || this.countkwdef > 0)\n\t\t\t\t\tthrow new ParameterError(\"positional/keyword parameter after keyword-only parameter\");\n\t\t\t\telse if (this.varpos !== null)\n\t\t\t\t\tthrow new ParameterError(\"positional/keyword parameter after * parameter\");\n\t\t\t\telse if (this.varkw !== null)\n\t\t\t\t\tthrow new ParameterError(\"positional/keyword parameter after ** parameter\");\n\t\t\t\tthis.paramsByPos.push(param);\n\t\t\t\tthis.paramsByName[name] = param;\n\t\t\t\t++this.countposkw;\n\t\t\t\tbreak;\n\t\t\tcase \"pk=\":\n\t\t\t\tif (this.countkw > 0 || this.countkwdef > 0)\n\t\t\t\t\tthrow new ParameterError(\"positional/keyword parameter after keyword-only parameter\");\n\t\t\t\telse if (this.varpos !== null)\n\t\t\t\t\tthrow new ParameterError(\"positional/keyword parameter after * parameter\");\n\t\t\t\telse if (this.varkw !== null)\n\t\t\t\t\tthrow new ParameterError(\"positional/keyword parameter after ** parameter\");\n\t\t\t\tthis.paramsByPos.push(param);\n\t\t\t\tthis.paramsByName[name] = param;\n\t\t\t\t++this.countposkwdef;\n\t\t\t\tbreak;\n\t\t\tcase \"k\":\n\t\t\t\tif (this.countposdef > 0 || this.countposkwdef > 0 || this.countkwdef > 0)\n\t\t\t\t\tthrow new ParameterError(\"parameter without default after parameter with default\");\n\t\t\t\telse if (this.varpos !== null)\n\t\t\t\t\tthrow new ParameterError(\"keyword-only parameter after * parameter\");\n\t\t\t\telse if (this.varkw !== null)\n\t\t\t\t\tthrow new ParameterError(\"keyword-only parameter after ** parameter\");\n\t\t\t\tthis.paramsByPos.push(param);\n\t\t\t\tthis.paramsByName[name] = param;\n\t\t\t\t++this.countkw;\n\t\t\t\tbreak;\n\t\t\tcase \"k=\":\n\t\t\t\tif (this.varpos !== null)\n\t\t\t\t\tthrow new ParameterError(\"keyword-only parameter after * parameter\");\n\t\t\t\telse if (this.varkw !== null)\n\t\t\t\t\tthrow new ParameterError(\"keyword-only parameter after ** parameter\");\n\t\t\t\tthis.paramsByPos.push(param);\n\t\t\t\tthis.paramsByName[name] = param;\n\t\t\t\t++this.countkwdef;\n\t\t\t\tbreak;\n\t\t\tcase \"*\":\n\t\t\t\tif (this.varpos !== null)\n\t\t\t\t\tthrow new ParameterError(\"* parameter specified twice!\");\n\t\t\t\telse if (this.varkw !== null)\n\t\t\t\t\tthrow new ParameterError(\"* parameter can come after ** parameter!\");\n\t\t\t\tthis.varpos = param;\n\t\t\t\tbreak;\n\t\t\tcase \"**\":\n\t\t\t\tif (this.varkw !== null)\n\t\t\t\t\tthrow new ParameterError(\"** parameter specified twice!\");\n\t\t\t\tthis.varkw = param;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Create the argument array for calling a function with this signature with the arguments available from `args`\n\tbindArray(name, args, kwargs)\n\t{\n\t\tlet decname = name !== null ? name + \"() \" : \"\";\n\n\t\tlet varpos = this.varpos != null ? [] : null;\n\t\tlet varkw = this.varkw != null ? new Map() : null;\n\n\t\tlet count = this.countpos + this.countposdef + this.countposkw + this.countposkwdef + this.countkw + this.countkwdef;\n\t\tlet finalargs = Array(count).fill(null);\n\t\tlet haveValues = Array(count).fill(false);\n\n\t\t// Handle psotional arguments\n\t\tif (args !== null)\n\t\t{\n\t\t\tlet i = 0;\n\t\t\tfor (let arg of args)\n\t\t\t{\n\t\t\t\tlet param = this.paramsByPos[i];\n\t\t\t\tif (param !== undefined && param.type.indexOf(\"p\") >= 0)\n\t\t\t\t{\n\t\t\t\t\tfinalargs[i] = arg;\n\t\t\t\t\thaveValues[i] = true;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (varpos !== null)\n\t\t\t\t\t\tvarpos.push(arg);\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tlet count_nodef = this.countpos + this.countposkw;\n\t\t\t\t\t\tlet count_def = this.countposdef + this.countposkwdef;\n\t\t\t\t\t\tif (count_def == 0)\n\t\t\t\t\t\t\tthrow new ArgumentError(name + \"() takes exactly \" + count_nodef + \" positional argument\" + (count_nodef != 1 ? \"s\" : \"\") + \", \" + args.length + \" given\");\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new ArgumentError(name + \"() takes at most \" + (count_nodef + count_def) + \" positional argument\" + ((count_nodef + count_def) != 1 ? \"s\" : \"\") + \", \" + args.length + \" given\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t++i;\n\t\t\t}\n\t\t}\n\n\t\t// Handle keyword arguments\n\t\tif (kwargs !== null)\n\t\t{\n\t\t\tfor (let [argname, argvalue] of Object.entries(kwargs))\n\t\t\t{\n\t\t\t\tlet param = this.paramsByName[argname];\n\n\t\t\t\tif (param !== undefined && param.type.indexOf(\"k\") >= 0)\n\t\t\t\t{\n\t\t\t\t\tif (haveValues[param.pos])\n\t\t\t\t\t\tthrow new ArgumentError(\"Duplicate keyword argument \" + _repr(argname) + \" for \" + name + \"()\");\n\t\t\t\t\tfinalargs[param.pos] = argvalue;\n\t\t\t\t\thaveValues[param.pos] = true;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (varkw !== null)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (varkw.has(argname))\n\t\t\t\t\t\t\tthrow new ArgumentError(\"Duplicate keyword argument \" + _repr(argname) + \" for \" + name + \"()\");\n\t\t\t\t\t\tvarkw.set(argname, argvalue);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tthrow new ArgumentError(name + \"() doesn't support an argument named \" + _repr(argname));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Fill in default values and check that every parameter has a value\n\t\tlet i = 0;\n\t\tfor (let param of this.paramsByPos)\n\t\t{\n\t\t\tif (!haveValues[i])\n\t\t\t{\n\t\t\t\tif (param.type.endsWith(\"=\"))\n\t\t\t\t{\n\t\t\t\t\tfinalargs[i] = param.defaultValue;\n\t\t\t\t\thaveValues[i] = true;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tthrow new ArgumentError(\"Required \" + name + \"() argument \" + param.name + \" (position \" + param.pos + \") missing\");\n\t\t\t}\n\t\t\t++i;\n\t\t}\n\n\t\t// Set variable parameters\n\t\tif (varpos !== null)\n\t\t\tfinalargs.push(varpos);\n\t\tif (varkw !== null)\n\t\t\tfinalargs.push(varkw);\n\n\t\treturn finalargs;\n\t}\n\n\t// Create the argument object for calling a function with this signature with the arguments available from `args`\n\tbindObject(name, args, kwargs)\n\t{\n\t\targs = this.bindArray(name, args, kwargs);\n\t\tlet argObject = {};\n\t\tlet i = 0;\n\t\tfor (let param of this.paramsByPos)\n\t\t\targObject[param.name] = args[i++];\n\t\tif (this.varpos !== null)\n\t\t\targObject[this.varpos.name] = args[i++];\n\t\tif (this.varkw !== null)\n\t\t\targObject[this.varkw.name] = args[i++];\n\t\treturn argObject;\n\t}\n\n\t[symbols.repr]()\n\t{\n\t\treturn \"<Signature \" + this.toString() + \">\";\n\t}\n\n\t[symbols.str]()\n\t{\n\t\treturn this.toString();\n\t}\n\n\t_appendParam(buffer, lasttype, param)\n\t{\n\t\tlet sep;\n\t\tif (lasttype === null)\n\t\t\tsep = [\"k\", \"k=\"].includes(param.type) ? \"*, \" : \"\";\n\t\telse if ([\"pk\", \"pk=\"].includes(lasttype))\n\t\t\tsep = [\"k\", \"k=\"].includes(param.type) ? \", *, \" : \", \";\n\t\telse if ([\"p\", \"p=\"].includes(lasttype))\n\t\t{\n\t\t\tif ([\"pk\", \"pk=\"].includes(param.type))\n\t\t\t\tsep = \", /, \";\n\t\t\telse if ([\"k\", \"k=\"].includes(param.type))\n\t\t\t\tsep = \", /, *, \";\n\t\t\telse\n\t\t\t\tsep = \", \";\n\t\t}\n\t\telse\n\t\t\tsep = \", \";\n\t\tlasttype = param.type;\n\t\tbuffer.push(sep);\n\t\tif ([\"*\", \"**\"].includes(param.type))\n\t\t\tbuffer.push(param.type);\n\t\tbuffer.push(param.name);\n\t\tif (param.type.endsWith(\"=\"))\n\t\t{\n\t\t\tbuffer.push(\"=\", _repr(param.defaultValue));\n\t\t}\n\t}\n\n\ttoString()\n\t{\n\t\tlet v = [];\n\t\tlet lasttype = null;\n\t\tfor (let param of this.paramsByPos)\n\t\t{\n\t\t\tthis._appendParam(v, lasttype, param);\n\t\t\tlasttype = param.type;\n\t\t}\n\t\tif (this.varpos !== null)\n\t\t{\n\t\t\tthis._appendParam(v, lasttype, this.varpos);\n\t\t\tlasttype = this.varpos.type;\n\t\t}\n\t\tif (this.varkw !== null)\n\t\t{\n\t\t\tthis._appendParam(v, lasttype, this.varkw);\n\t\t\tlasttype = this.varkw.type;\n\t\t}\n\t\treturn \"(\" + v.join(\"\") + \")\";\n\t}\n};\n\n\n///\n/// Base class for type objects of all types\n/// Must be defined first, as it's used by many classes\n///\nexport class Type\n{\n\tconstructor(module, name, doc)\n\t{\n\t\tthis.module = module;\n\t\tthis.name = name;\n\t\tthis.doc = doc;\n\t\tthis._constructor = constructor;\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"__module__\":\n\t\t\t\treturn this.module;\n\t\t\tcase \"__name__\":\n\t\t\t\treturn this.name;\n\t\t\tcase \"__doc__\":\n\t\t\t\treturn this.doc;\n\t\t\tdefault:\n\t\t\t\tthrow new AttributeError(this, attrname);\n\t\t}\n\t}\n\n\t[symbols.repr]()\n\t{\n\t\treturn this.toString();\n\t}\n\n\ttoString()\n\t{\n\t\treturn \"<type \" + this.fullname() + \">\";\n\t}\n\n\tfullname()\n\t{\n\t\tif (this.module === null)\n\t\t\treturn this.name;\n\t\telse\n\t\t\treturn this.module + \".\" + this.name;\n\t}\n\n\tdir()\n\t{\n\t\treturn this.attrs;\n\t}\n\n\tgetattr(obj, attrname)\n\t{\n\t\tif (obj !== null && typeof(obj) === \"object\" && typeof(obj[symbols.getattr]) === \"function\")\n\t\t\treturn obj[symbols.getattr](attrname);\n\t\telse if (this.attrs.has(attrname))\n\t\t{\n\t\t\tlet attr = this[attrname];\n\t\t\tlet realattr = function realattr(...args) {\n\t\t\t\treturn attr.apply(this, [obj, ...args]);\n\t\t\t};\n\t\t\t// Unfortunately we can't set `realattr.name`;\n\t\t\trealattr._ul4_name = attr._ul4_name || attr.name;\n\t\t\trealattr._ul4_signature = attr._ul4_signature;\n\t\t\trealattr._ul4_needsobject = attr._ul4_needsobject;\n\t\t\trealattr._ul4_needscontext = attr._ul4_needscontext;\n\t\t\treturn realattr;\n\t\t}\n\t\telse\n\t\t\tthrow new AttributeError(obj, attrname);\n\t}\n\n\thasattr(obj, attrname)\n\t{\n\t\tif (obj !== null && typeof(obj) === \"object\" && typeof(obj[symbols.getattr]) === \"function\")\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tobj[symbols.getattr](attrname);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (exc instanceof AttributeError && exc.obj === object)\n\t\t\t\t\treturn false;\n\t\t\t\telse\n\t\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\treturn this.attrs.has(attrname);\n\t}\n};\n\nType.prototype.attrs = new Set();\n\n\n///\n/// UL4ON\n///\n\nconst _registry = {};\n\n// Register the constructor function `f` under the name `name` with the UL4ON machinery\nexport function register(name, f)\n{\n\tf.prototype.ul4onname = name;\n\t_registry[name] = f;\n};\n\n// Return a string that contains the object `obj` in the UL4ON serialization format\nexport function dumps(obj, indent=null)\n{\n\tlet encoder = new Encoder(indent);\n\tlet output = [];\n\tencoder.dump(obj, output);\n\treturn output.join(\"\");\n};\n\n// Load an object from the string `dump`.\n// `dump` must contain the object in the UL4ON serialization format\n// `registry` may be null or a dictionary mapping type names to constructor functions\nexport function loads(dump, registry=null)\n{\n\tlet decoder = new Decoder(registry);\n\treturn decoder.loads(dump);\n};\n\nexport class EncoderType extends Type\n{\n\t[symbols.call](indent=null)\n\t{\n\t\treturn new Encoder(indent);\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn obj instanceof Encoder;\n\t}\n};\n\nexpose(EncoderType.prototype, [\"indent\", \"pk=\", null], {name: \"Encoder\"});\n\nlet encodertype = new EncoderType(\"ul4on\", \"Encoder\", \"An UL4ON encoder\");\n\n// Helper class for encoding\nexport class Encoder\n{\n\t// Create a new Encoder object\n\tconstructor(indent=null)\n\t{\n\t\tthis.indent = indent;\n\t\tthis.output = null;\n\t\tthis._level = 0;\n\t\tthis._strings2index = {};\n\t\tthis._objects2index = new Map();\n\t\tthis._backrefs = 0;\n\t}\n\n\t[symbols.type]()\n\t{\n\t\treturn encodertype;\n\t}\n\n\t_line(line, ...args)\n\t{\n\t\tif (this.indent !== null)\n\t\t{\n\t\t\tfor (let i = 0; i < this._level; ++i)\n\t\t\t\tthis.output.push(this.indent);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (this.output.length)\n\t\t\t\tthis.output.push(\" \");\n\t\t}\n\t\tthis.output.push(line);\n\n\t\tif (args.length)\n\t\t{\n\t\t\tlet oldindent = this.indent;\n\t\t\tthis.indent = null;\n\t\t\tfor (let arg of args)\n\t\t\t\tthis.dump(arg);\n\t\t\tthis.indent = oldindent;\n\t\t}\n\n\t\tif (this.indent !== null)\n\t\t\tthis.output.push(\"\\n\");\n\t}\n\n\tdumps(obj)\n\t{\n\t\tlet output = [];\n\t\tthis.dump(obj, output);\n\t\treturn output.join(\"\");\n\t}\n\n\tdump(obj, output=null)\n\t{\n\t\tif (output !== null)\n\t\t{\n\t\t\tthis._level = 0;\n\t\t\tthis.output = output;\n\t\t}\n\t\tif (obj === null)\n\t\t\tthis._line(\"n\");\n\t\telse if (typeof(obj) === \"boolean\")\n\t\t\tthis._line(obj ? \"bT\" : \"bF\");\n\t\telse if (typeof(obj) === \"number\")\n\t\t{\n\t\t\tlet type = (Math.round(obj) == obj) ? \"i\" : \"f\";\n\t\t\tthis._line(type + obj);\n\t\t}\n\t\telse if (typeof(obj) === \"string\")\n\t\t{\n\t\t\tlet index = this._strings2index[obj];\n\t\t\tif (index !== undefined)\n\t\t\t{\n\t\t\t\tthis._line(\"^\" + index);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis._strings2index[obj] = this._backrefs++;\n\t\t\t\tlet dump = _str_repr(obj).replace(\"<\", \"\\\\x3c\");\n\t\t\t\tthis._line(\"S\" + dump);\n\t\t\t}\n\t\t}\n\t\telse if (_iscolor(obj))\n\t\t\tthis._line(\"c\", obj.r(), obj.g(), obj.b(), obj.a());\n\t\telse if (_isdate(obj))\n\t\t\tthis._line(\"x\", obj.year(), obj.month(), obj.day());\n\t\telse if (_isdatetime(obj))\n\t\t\tthis._line(\"z\", obj.getFullYear(), obj.getMonth()+1, obj.getDate(), obj.getHours(), obj.getMinutes(), obj.getSeconds(), obj.getMilliseconds() * 1000);\n\t\telse if (_istimedelta(obj))\n\t\t\tthis._line(\"t\", obj.days(), obj.seconds(), obj.microseconds());\n\t\telse if (_ismonthdelta(obj))\n\t\t\tthis._line(\"m\", obj.months());\n\t\telse if (obj instanceof slice)\n\t\t\tthis._line(\"r\", obj.start, obj.stop);\n\t\telse if (obj.ul4onname && obj.ul4ondump)\n\t\t{\n\t\t\tlet index = this._objects2index.get(obj);\n\t\t\tif (index !== undefined)\n\t\t\t{\n\t\t\t\tthis._line(\"^\" + index);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._objects2index.set(obj, this._backrefs++);\n\t\t\tif (obj.ul4onid)\n\t\t\t\tthis._line(\"P\", obj.ul4onname, obj.ul4onid);\n\t\t\telse\n\t\t\t\tthis._line(\"O\", obj.ul4onname);\n\t\t\t++this._level;\n\t\t\tobj.ul4ondump(this);\n\t\t\t--this._level;\n\t\t\tthis._line(\")\");\n\t\t}\n\t\telse if (_islist(obj))\n\t\t{\n\t\t\tthis._line(\"l\");\n\t\t\t++this._level;\n\t\t\tfor (let item of obj)\n\t\t\t\tthis.dump(item);\n\t\t\t--this._level;\n\t\t\tthis._line(\"]\");\n\t\t}\n\t\telse if (_ismap(obj))\n\t\t{\n\t\t\tthis._line(\"e\");\n\t\t\t++this._level;\n\t\t\tfor (let [key, value] of obj)\n\t\t\t{\n\t\t\t\tthis.dump(key);\n\t\t\t\tthis.dump(value);\n\t\t\t}\n\t\t\t--this._level;\n\t\t\tthis._line(\"}\");\n\t\t}\n\t\telse if (_isdict(obj))\n\t\t{\n\t\t\tthis._line(\"d\");\n\t\t\t++this._level;\n\t\t\tfor (let key in obj)\n\t\t\t{\n\t\t\t\tthis.dump(key);\n\t\t\t\tthis.dump(obj[key]);\n\t\t\t}\n\t\t\t--this._level;\n\t\t\tthis._line(\"}\");\n\t\t}\n\t\telse if (_isset(obj))\n\t\t{\n\t\t\tthis._line(\"y\");\n\t\t\t++this._level;\n\t\t\tfor (let value of obj)\n\t\t\t\tthis.dump(value);\n\t\t\t--this._level;\n\t\t\tthis._line(\"}\");\n\t\t}\n\t\telse\n\t\t\tthrow new ValueError(\"can't create UL4ON dump of object \" + _repr(obj));\n\t\tif (output !== null)\n\t\t{\n\t\t\tthis.output = null;\n\t\t}\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tlet self = this;\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"dumps\":\n\t\t\t\tlet dumps = this.dumps.bind(this);\n\t\t\t\texpose(dumps, [\"obj\", \"pk\"]);\n\t\t\t\treturn dumps;\n\t\t\tdefault:\n\t\t\t\tthrow new ul4.AttributeError(this, attrname);\n\t\t}\n\t}\n};\n\nexport class DecoderType extends Type\n{\n\t[symbols.call]()\n\t{\n\t\treturn new Decoder();\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn obj instanceof Decoder;\n\t}\n};\n\nexpose(DecoderType.prototype, [], {name: \"Decoder\"});\n\nlet decodertype = new DecoderType(\"ul4on\", \"Decoder\", \"An UL4ON decoder\");\n\n// Helper class for decoding\nexport class Decoder\n{\n\t// Creates a new decoder for reading an UL4ON dump\n\tconstructor(registry)\n\t{\n\t\tthis.input = null;\n\t\tthis.pos = 0;\n\t\tthis.backrefs = [];\n\t\tthis.registry = registry === undefined ? null : registry;\n\t\tthis.persistent_objects = {};\n\t\tthis.stack = null; // Use for informative error messages\n\t}\n\n\t[symbols.type]()\n\t{\n\t\treturn decodertype;\n\t}\n\n\t// Read a character from the buffer\n\treadchar()\n\t{\n\t\tif (this.pos >= this.input.length)\n\t\t\tthrow new ValueError(\"UL4 decoder at EOF\");\n\t\treturn this.input.charAt(this.pos++);\n\t}\n\n\t// Read a character from the buffer (return null on eof)\n\treadcharoreof()\n\t{\n\t\tif (this.pos >= this.input.length)\n\t\t\treturn null;\n\t\treturn this.input.charAt(this.pos++);\n\t}\n\n\t// Read next not-whitespace character from the buffer\n\treadblackchar()\n\t{\n\t\tlet re_white = /\\s/;\n\n\t\tfor (;;)\n\t\t{\n\t\t\tif (this.pos >= this.input.length)\n\t\t\t\tthrow new ValueError(\"UL4 decoder at EOF at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\tlet c = this.input.charAt(this.pos++);\n\t\t\tif (!c.match(re_white))\n\t\t\t\treturn c;\n\t\t}\n\t}\n\n\t// Read `size` characters from the buffer\n\tread(size)\n\t{\n\t\tif (this.pos+size > this.input.length)\n\t\t\tsize = this.input.length-this.pos;\n\t\tlet result = this.input.substring(this.pos, this.pos+size);\n\t\tthis.pos += size;\n\t\treturn result;\n\t}\n\n\t// \"unread\" one character\n\tbackup()\n\t{\n\t\t--this.pos;\n\t}\n\n\t// Read a number from the buffer\n\treadnumber()\n\t{\n\t\tlet re_digits = /[-+0123456789.eE]/, value = \"\";\n\t\tfor (;;)\n\t\t{\n\t\t\tlet c = this.readcharoreof();\n\t\t\tif (c !== null && c.match(re_digits))\n\t\t\t\tvalue += c;\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet result = parseFloat(value);\n\t\t\t\tif (isNaN(result))\n\t\t\t\t\tthrow new ValueError(\"invalid number, got \" + _repr(\"value\") + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t}\n\n\t_beginfakeloading()\n\t{\n\t\tlet oldpos = this.backrefs.length;\n\t\tthis.backrefs.push(null);\n\t\treturn oldpos;\n\t}\n\n\t_endfakeloading(oldpos, value)\n\t{\n\t\tthis.backrefs[oldpos] = value;\n\t}\n\n\t_readescape(escapechar, length)\n\t{\n\t\tlet chars = this.read(length);\n\t\tif (chars.length != length)\n\t\t\tthrow new ValueError(\"broken escape \" + _repr(\"\\\\\" + escapechar + chars) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\tlet codepoint = parseInt(chars, 16);\n\t\tif (isNaN(codepoint))\n\t\t\tthrow new ValueError(\"broken escape \" + _repr(\"\\\\\" + escapechar + chars) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\treturn String.fromCharCode(codepoint);\n\t}\n\n\treset()\n\t{\n\t\tthis.pos = 0;\n\t\tthis.stack = [];\n\t\tthis.backrefs = []\n\t}\n\n\tloads(dump)\n\t{\n\t\treturn this.load(dump);\n\t}\n\n\t// Load the next object from the buffer\n\tload(input=null)\n\t{\n\t\tif (input !== null)\n\t\t{\n\t\t\tthis.input = input;\n\t\t\tthis.pos = 0;\n\t\t\tthis.stack = [];\n\t\t}\n\t\tlet typecode = this.readblackchar();\n\t\tlet result;\n\t\tswitch (typecode)\n\t\t{\n\t\t\tcase \"^\":\n\t\t\t\treturn this.backrefs[this.readnumber()];\n\t\t\tcase \"n\":\n\t\t\tcase \"N\":\n\t\t\t\tif (typecode === \"N\")\n\t\t\t\t\tthis.backrefs.push(null);\n\t\t\t\tresult = null;\n\t\t\t\tbreak;\n\t\t\tcase \"b\":\n\t\t\tcase \"B\":\n\t\t\t\tresult = this.readchar();\n\t\t\t\tif (result === \"T\")\n\t\t\t\t\tresult = true;\n\t\t\t\telse if (result === \"F\")\n\t\t\t\t\tresult = false;\n\t\t\t\telse\n\t\t\t\t\tthrow new ValueError(\"wrong value for boolean, expected 'T' or 'F', got \" + _repr(result) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\tif (typecode === \"B\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tbreak;\n\t\t\tcase \"i\":\n\t\t\tcase \"I\":\n\t\t\tcase \"f\":\n\t\t\tcase \"F\":\n\t\t\t\tresult = this.readnumber();\n\t\t\t\tif (typecode === \"I\" || typecode === \"F\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tbreak;\n\t\t\tcase \"s\":\n\t\t\tcase \"S\":\n\t\t\t\tresult = [];\n\t\t\t\tlet delimiter = this.readblackchar();\n\t\t\t\tfor (;;)\n\t\t\t\t{\n\t\t\t\t\tlet c = this.readchar();\n\t\t\t\t\tif (c == delimiter)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tif (c == \"\\\\\")\n\t\t\t\t\t{\n\t\t\t\t\t\tlet c2 = this.readchar();\n\t\t\t\t\t\tif (c2 == \"\\\\\")\n\t\t\t\t\t\t\tresult.push(\"\\\\\");\n\t\t\t\t\t\telse if (c2 == \"n\")\n\t\t\t\t\t\t\tresult.push(\"\\n\");\n\t\t\t\t\t\telse if (c2 == \"r\")\n\t\t\t\t\t\t\tresult.push(\"\\r\");\n\t\t\t\t\t\telse if (c2 == \"t\")\n\t\t\t\t\t\t\tresult.push(\"\\t\");\n\t\t\t\t\t\telse if (c2 == \"f\")\n\t\t\t\t\t\t\tresult.push(\"\\u000c\");\n\t\t\t\t\t\telse if (c2 == \"b\")\n\t\t\t\t\t\t\tresult.push(\"\\u0008\");\n\t\t\t\t\t\telse if (c2 == \"a\")\n\t\t\t\t\t\t\tresult.push(\"\\u0007\");\n\t\t\t\t\t\telse if (c2 == \"'\")\n\t\t\t\t\t\t\tresult.push(\"'\");\n\t\t\t\t\t\telse if (c2 == '\"')\n\t\t\t\t\t\t\tresult.push('\"');\n\t\t\t\t\t\telse if (c2 == \"x\")\n\t\t\t\t\t\t\tresult.push(this._readescape(\"x\", 2));\n\t\t\t\t\t\telse if (c2 == \"u\")\n\t\t\t\t\t\t\tresult.push(this._readescape(\"u\", 4));\n\t\t\t\t\t\telse if (c2 == \"U\")\n\t\t\t\t\t\t\tresult.push(this._readescape(\"U\", 8));\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tresult.push(\"\\\\\" + c2);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tresult.push(c);\n\t\t\t\t}\n\t\t\t\tresult = result.join(\"\");\n\t\t\t\tif (typecode === \"S\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tbreak;\n\t\t\tcase \"c\":\n\t\t\tcase \"C\":\n\t\t\t\tresult = new Color();\n\t\t\t\tif (typecode === \"C\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tresult._r = this.load();\n\t\t\t\tresult._g = this.load();\n\t\t\t\tresult._b = this.load();\n\t\t\t\tresult._a = this.load();\n\t\t\t\tbreak;\n\t\t\tcase \"x\":\n\t\t\tcase \"X\":\n\t\t\t{\n\t\t\t\tlet year = this.load();\n\t\t\t\tlet month = this.load();\n\t\t\t\tlet day = this.load();\n\t\t\t\tresult = new Date_(year, month, day);\n\t\t\t\tif (typecode === \"X\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"z\":\n\t\t\tcase \"Z\":\n\t\t\t\tresult = new Date();\n\t\t\t\tresult.setFullYear(this.load());\n\t\t\t\tresult.setDate(1);\n\t\t\t\tresult.setMonth(this.load() - 1);\n\t\t\t\tresult.setDate(this.load());\n\t\t\t\tresult.setHours(this.load());\n\t\t\t\tresult.setMinutes(this.load());\n\t\t\t\tresult.setSeconds(this.load());\n\t\t\t\tresult.setMilliseconds(this.load()/1000);\n\t\t\t\tif (typecode === \"Z\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tbreak;\n\t\t\tcase \"t\":\n\t\t\tcase \"T\":\n\t\t\t\tresult = new TimeDelta();\n\t\t\t\tresult._days = this.load();\n\t\t\t\tresult._seconds = this.load();\n\t\t\t\tresult._microseconds = this.load();\n\t\t\t\tif (typecode === \"T\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tbreak;\n\t\t\tcase \"r\":\n\t\t\tcase \"R\":\n\t\t\t\tresult = new slice();\n\t\t\t\tif (typecode === \"R\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tresult.start = this.load();\n\t\t\t\tresult.stop = this.load();\n\t\t\t\tbreak;\n\t\t\tcase \"m\":\n\t\t\tcase \"M\":\n\t\t\t\tresult = new MonthDelta();\n\t\t\t\tif (typecode === \"M\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tresult._months = this.load();\n\t\t\t\tbreak;\n\t\t\tcase \"l\":\n\t\t\tcase \"L\":\n\t\t\t\tthis.stack.push(\"list\");\n\t\t\t\tresult = [];\n\t\t\t\tif (typecode === \"L\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tfor (;;)\n\t\t\t\t{\n\t\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\t\tif (typecode === \"]\")\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tthis.backup();\n\t\t\t\t\tresult.push(this.load());\n\t\t\t\t}\n\t\t\t\tthis.stack.pop();\n\t\t\t\tbreak;\n\t\t\tcase \"d\":\n\t\t\tcase \"D\":\n\t\t\tcase \"e\":\n\t\t\tcase \"E\":\n\t\t\t\tresult = new Map();\n\t\t\t\tthis.stack.push(typecode === \"d\" || typecode === \"D\" ? \"dict\" : \"odict\");\n\t\t\t\tif (typecode === \"D\" || typecode === \"E\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tfor (;;)\n\t\t\t\t{\n\t\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\t\tif (typecode === \"}\")\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tthis.backup();\n\t\t\t\t\tlet key = this.load();\n\t\t\t\t\tlet value = this.load();\n\t\t\t\t\tresult.set(key, value);\n\t\t\t\t}\n\t\t\t\tthis.stack.pop();\n\t\t\t\tbreak;\n\t\t\tcase \"y\":\n\t\t\tcase \"Y\":\n\t\t\t\tthis.stack.push(\"set\");\n\t\t\t\tresult = new Set();\n\t\t\t\tif (typecode === \"Y\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tfor (;;)\n\t\t\t\t{\n\t\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\t\tif (typecode === \"}\")\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tthis.backup();\n\t\t\t\t\tresult.add(this.load());\n\t\t\t\t}\n\t\t\t\tthis.stack.pop();\n\t\t\t\tbreak;\n\t\t\tcase \"o\":\n\t\t\tcase \"O\":\n\t\t\t{\n\t\t\t\tlet oldpos;\n\t\t\t\tif (typecode === \"O\")\n\t\t\t\t\toldpos = this._beginfakeloading();\n\t\t\t\tlet name = this.load();\n\t\t\t\tthis.stack.push(name);\n\t\t\t\tlet constructor;\n\t\t\t\tif (this.registry !== null)\n\t\t\t\t{\n\t\t\t\t\tconstructor = this.registry[name];\n\t\t\t\t\tif (constructor === undefined)\n\t\t\t\t\t\tconstructor = _registry[name];\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tconstructor = _registry[name];\n\t\t\t\tif (constructor === undefined)\n\t\t\t\t\tthrow new ValueError(\"can't load object of type \" + _repr(name) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\tresult = new constructor();\n\t\t\t\tif (typecode === \"O\")\n\t\t\t\t\tthis._endfakeloading(oldpos, result);\n\t\t\t\tresult.ul4onload(this);\n\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\tif (typecode !== \")\")\n\t\t\t\t\tthrow new ValueError(\"object terminator ')' for object of type '\" + name + \"' expected, got \" + _repr(typecode) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\tthis.stack.pop();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"p\":\n\t\t\tcase \"P\":\n\t\t\t{\n\t\t\t\tlet oldpos;\n\t\t\t\tif (typecode === \"P\")\n\t\t\t\t\toldpos = this._beginfakeloading();\n\t\t\t\tlet name = this.load();\n\t\t\t\tlet id = this.load();\n\t\t\t\tthis.stack.push(name);\n\t\t\t\tlet key = name + \"=\" + id;\n\t\t\t\tresult = this.persistent_objects[key];\n\t\t\t\tif (result === undefined)\n\t\t\t\t{\n\t\t\t\t\tlet constructor;\n\t\t\t\t\tif (this.registry !== null)\n\t\t\t\t\t{\n\t\t\t\t\t\tconstructor = this.registry[name];\n\t\t\t\t\t\tif (constructor === undefined)\n\t\t\t\t\t\t\tconstructor = _registry[name];\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tconstructor = _registry[name];\n\t\t\t\t\tif (constructor === undefined)\n\t\t\t\t\t\tthrow new ValueError(\"can't load object of type \" + _repr(name) + \" with id \" + _repr(id) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\t\tresult = new constructor(id);\n\t\t\t\t\tthis.persistent_objects[key] = result;\n\t\t\t\t}\n\t\t\t\tif (typecode === \"P\")\n\t\t\t\t\tthis._endfakeloading(oldpos, result);\n\t\t\t\tresult.ul4onload(this);\n\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\tif (typecode !== \")\")\n\t\t\t\t\tthrow new ValueError(\"object terminator ')' for object of type \" + _repr(name) + \" with id \" + _repr(id) + \" expected, got \" + _repr(typecode) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\tthis.stack.pop();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tthrow new ValueError(\"unknown typecode \" + _repr(typecode) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t}\n\t\tif (input !== null)\n\t\t{\n\t\t\tthis.input = null;\n\t\t\tthis.pos = 0;\n\t\t\tthis.stack = null;\n\t\t}\n\t\treturn result;\n\t}\n\n\t// Return an iterator for loading the content of a object\n\tloadcontent()\n\t{\n\t\tlet self = this;\n\t\treturn {\n\t\t\tnext: function()\n\t\t\t{\n\t\t\t\tlet typecode = self.readblackchar();\n\t\t\t\t// Always \"unread\" the typecode even at the end\n\t\t\t\t// so that at the end of a call to ul4onload()\n\t\t\t\t// the next input is the \"end of object\" marker\n\t\t\t\t// no matter whether ul4onload() uses loadcontent() or not.\n\t\t\t\tself.backup();\n\t\t\t\tif (typecode == \")\")\n\t\t\t\t\treturn {done: true};\n\t\t\t\telse\n\t\t\t\t\treturn {done: false, value: self.load()};\n\t\t\t}\n\t\t};\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"loads\":\n\t\t\t\tlet loads = this.loads.bind(this);\n\t\t\t\texpose(loads, [\"dump\", \"p\"]);\n\t\t\t\treturn loads;\n\t\t\tdefault:\n\t\t\t\tthrow new ul4.AttributeError(this, attrname);\n\t\t}\n\t}\n};\n\n\n///\n/// UL4\n///\n\n// REs for parsing JSON\nconst _rvalidchars = /^[\\],:{}\\s]*$/;\nconst _rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\nconst _rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\nconst _rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g;\n\n/// Helper functions\n\n// Convert a map to an object\nexport function _map2object(obj)\n{\n\tif (_ismap(obj))\n\t{\n\t\tlet newobj = {};\n\t\tfor (let [key, value] of obj)\n\t\t{\n\t\t\tif (typeof(key) !== \"string\")\n\t\t\t\tthrow new TypeError(\"keys must be strings\");\n\t\t\tnewobj[key] = value;\n\t\t}\n\t\treturn newobj;\n\t}\n\treturn obj;\n};\n\n// Clip a number to the range [0;max]\nexport function _bound(value, upper)\n{\n\tif (value < 0)\n\t\treturn 0;\n\telse if (value > upper)\n\t\treturn upper;\n\telse\n\t\treturn value;\n};\n\n// Create a pretty stacktrace from an exception\nexport function _stacktrace(exc)\n{\n\tlet output = (exc instanceof Exception ? exc.constructor.name + \": \" : \"\") + exc.toString();\n\tif (exc.context)\n\t\toutput = _stacktrace(exc.context) + \"\\n\\n\" + output;\n\treturn output;\n};\n\n// Call a function `f` with UL4 argument handling\nexport function _internal_call(context, f, name, functioncontext, signature, needscontext, needsobject, args, kwargs)\n{\n\tlet finalargs;\n\tif (needsobject)\n\t{\n\t\tif (signature === null)\n\t\t{\n\t\t\tif (args.length)\n\t\t\t\tthrow new ArgumentError(_repr(f) + \" doesn't support positional arguments!\");\n\t\t\tfinalargs = [kwargs];\n\t\t}\n\t\telse\n\t\t\tfinalargs = [signature.bindObject(name, args, kwargs)];\n\t}\n\telse\n\t{\n\t\tif (signature === null)\n\t\t\tthrow new ArgumentError(_repr(f) + \" doesn't support positional arguments!\");\n\t\tfinalargs = signature.bindArray(name, args, kwargs);\n\t}\n\tif (needscontext)\n\t\tfinalargs.unshift(context);\n\treturn f.apply(functioncontext, finalargs);\n};\n\nexport function _function_is_callable(f)\n{\n\tif (!f || f._ul4_signature === undefined || f._ul4_needsobject === undefined || f._ul4_needscontext === undefined)\n\t\treturn false;\n\telse\n\t\treturn true;\n}\n\nexport function _object_is_callable(obj)\n{\n\tif (!_function_is_callable(obj) || typeof(obj[symbols.call]) !== \"function\")\n\t\treturn false;\n\telse\n\t\treturn true;\n}\n\nexport function _object_is_renderable(obj)\n{\n\tif (!_function_is_callable(obj) || typeof(obj[symbols.render]) !== \"function\")\n\t\treturn false;\n\telse\n\t\treturn true;\n}\n\nexport function _callfunction(context, f, args, kwargs)\n{\n\tif (!_function_is_callable(f))\n\t\tthrow new TypeError(_repr(f) + \" is not callable by UL4\");\n\tlet name = f._ul4_name || f.name;\n\treturn _internal_call(context, f, name, null, f._ul4_signature, f._ul4_needscontext, f._ul4_needsobject, args, kwargs);\n};\n\nexport function _callobject(context, obj, args, kwargs)\n{\n\tif (!_object_is_callable(obj))\n\t\tthrow new TypeError(_repr(obj) + \" is not callable by UL4\");\n\treturn _internal_call(context, obj[symbols.call], obj.name, obj, obj._ul4_signature, obj._ul4_needscontext, obj._ul4_needsobject, args, kwargs);\n};\n\nexport function _callrender(context, obj, args, kwargs)\n{\n\tif (!_object_is_renderable(obj))\n\t\tthrow new TypeError(_repr(obj) + \" is not renderable by UL4\");\n\treturn _internal_call(context, obj[symbols.render], obj.name, obj, obj._ul4_signature, obj._ul4_needscontext, obj._ul4_needsobject, args, kwargs);\n};\n\nexport function _call(context, f, args, kwargs)\n{\n\tif (typeof(f) === \"function\")\n\t\treturn _callfunction(context, f, args, kwargs);\n\telse if (f && typeof(f[symbols.call]) === \"function\")\n\t\treturn _callobject(context, f, args, kwargs);\n\telse\n\t\tthrow new TypeError(_type(f).fullname() + \" is not callable\");\n};\n\nexport function _unpackvar(lvalue, value)\n{\n\tif (!_islist(lvalue))\n\t\treturn [[lvalue, value]];\n\telse\n\t{\n\t\tlet newvalue = [];\n\t\tlet iter = _iter(value);\n\n\t\tfor (let i = 0;;++i)\n\t\t{\n\t\t\tlet item = iter.next();\n\n\t\t\tif (item.done)\n\t\t\t{\n\t\t\t\tif (i === lvalue.length)\n\t\t\t\t\tbreak;\n\t\t\t\telse\n\t\t\t\t\tthrow new ValueError(\"need \" + lvalue.length + \" value\" + (lvalue.length === 1 ? \"\" : \"s\") + \" to unpack, got \" + i);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (i < lvalue.length)\n\t\t\t\t\tnewvalue = newvalue.concat(_unpackvar(lvalue[i], item.value));\n\t\t\t\telse\n\t\t\t\t\tthrow new ValueError(\"too many values to unpack (expected \" + lvalue.length + \")\");\n\t\t\t}\n\t\t}\n\t\treturn newvalue;\n\t}\n};\n\nexport function _formatsource(out)\n{\n\tlet finalout = [];\n\tlet level = 0, needlf = false;\n\tfor (let part of out)\n\t{\n\t\tif (typeof(part) === \"number\")\n\t\t{\n\t\t\tlevel += part;\n\t\t\tneedlf = true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (needlf)\n\t\t\t{\n\t\t\t\tfinalout.push(\"\\n\");\n\t\t\t\tfor (let j = 0; j < level; ++j)\n\t\t\t\t\tfinalout.push(\"\\t\");\n\t\t\t\tneedlf = false;\n\t\t\t}\n\t\t\tfinalout.push(part);\n\t\t}\n\t}\n\tif (needlf)\n\t\tfinalout.push(\"\\n\");\n\treturn finalout.join(\"\");\n};\n\n// Return a prefix of a location in source code\nfunction _sourceprefix(source, pos)\n{\n\tlet outerstartpos = pos;\n\tlet innerstartpos = outerstartpos;\n\n\tlet maxprefix = 40;\n\tlet preprefix = \"\\u2026\";\n\twhile (maxprefix > 0)\n\t{\n\t\t// We arrived at the start of the source code\n\t\tif (outerstartpos === 0)\n\t\t{\n\t\t\tpreprefix = \"\";\n\t\t\tbreak;\n\t\t}\n\t\t// We arrived at the start of the line\n\t\tif (source.charAt(outerstartpos-1) === \"\\n\")\n\t\t{\n\t\t\tpreprefix = \"\";\n\t\t\tbreak;\n\t\t}\n\t\t--maxprefix;\n\t\t--outerstartpos;\n\t}\n\treturn preprefix + source.substring(outerstartpos, innerstartpos);\n}\n\n// Return a suffix of a location in source code\nfunction _sourcesuffix(source, pos)\n{\n\tlet outerstoppos = pos;\n\tlet innerstoppos = outerstoppos;\n\n\tlet maxsuffix = 40;\n\tlet postsuffix = \"\\u2026\";\n\twhile (maxsuffix > 0)\n\t{\n\t\t// We arrived at the ed of the source code\n\t\tif (outerstoppos >= source.length)\n\t\t{\n\t\t\tpostsuffix = \"\";\n\t\t\tbreak;\n\t\t}\n\t\t// We arrived at the end of the line\n\t\tif (source.charAt(outerstoppos) === \"\\n\")\n\t\t{\n\t\t\tpostsuffix = \"\";\n\t\t\tbreak;\n\t\t}\n\t\t--maxsuffix;\n\t\t++outerstoppos;\n\t}\n\treturn source.substring(innerstoppos, outerstoppos) + postsuffix;\n}\n\n// Return line and column number of a location in source code\nfunction _lineColFromPos(source, pos)\n{\n\tlet line = 1\n\tlet col = 1;\n\tlet stop = pos;\n\tfor (let i = 0; i < stop; ++i)\n\t{\n\t\tif (source[i] === \"\\n\")\n\t\t{\n\t\t\t++line;\n\t\t\tcol = 1;\n\t\t}\n\t\telse\n\t\t\t++col;\n\t}\n\treturn [line, col];\n}\n\n// Compare `obj1` and `obj2` if they have the same value\nexport function _eq(obj1, obj2)\n{\n\tlet numbertypes = [\"boolean\", \"number\"];\n\n\tif (obj1 && typeof(obj1[symbols.eq]) === \"function\")\n\t\treturn obj1[symbols.eq](obj2);\n\telse if (obj2 && typeof(obj2[symbols.eq]) === \"function\")\n\t\treturn obj2[symbols.eq](obj1);\n\telse if (obj1 === null)\n\t\treturn obj2 === null;\n\telse if (numbertypes.indexOf(typeof(obj1)) != -1)\n\t{\n\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\treturn obj1 == obj2;\n\t\telse\n\t\t\treturn false;\n\t}\n\telse if (typeof(obj1) === \"string\")\n\t{\n\t\tif (typeof(obj2) === \"string\")\n\t\t\treturn obj1 == obj2;\n\t\telse\n\t\t\treturn false;\n\t}\n\telse if (_isdatetime(obj1))\n\t{\n\t\tif (_isdatetime(obj2))\n\t\t\treturn obj1.getTime() == obj2.getTime();\n\t\telse\n\t\t\treturn false;\n\t}\n\telse if (_islist(obj1))\n\t{\n\t\tif (_islist(obj2))\n\t\t{\n\t\t\t// Shortcut, if it's the same object\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn true;\n\t\t\tif (obj1.length != obj2.length)\n\t\t\t\treturn false;\n\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t{\n\t\t\t\tif (!_eq(obj1[i], obj2[i])) // This might lead to infinite recursion and a stackoverflow, but it does in all implementations\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n\telse if (_isobject(obj1))\n\t{\n\t\tif (_isobject(obj2))\n\t\t{\n\t\t\t// Shortcut, if it's the same object\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn true;\n\t\t\t// Test that each attribute of `obj1` can also be found in `obj2` and has the same value\n\t\t\tfor (let key in obj1)\n\t\t\t{\n\t\t\t\tif (obj2.hasOwnProperty(key))\n\t\t\t\t{\n\t\t\t\t\tif (!_eq(obj1[key], obj2[key]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// Test that each attribute of `obj2` is also in `obj1` (the value has been tested before)\n\t\t\tfor (let key in obj2)\n\t\t\t{\n\t\t\t\tif (!obj1.hasOwnProperty(key))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\telse if (_ismap(obj2))\n\t\t{\n\t\t\t// Test that each attribute of `obj1` can also be found in `obj2` and has the same value\n\t\t\tfor (let key in obj1)\n\t\t\t{\n\t\t\t\tif (obj2.has(key))\n\t\t\t\t{\n\t\t\t\t\tif (!_eq(obj1[key], obj2.get(key)))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// Test that each attribute of `obj2` is also in `obj1` (the value has been tested before)\n\t\t\tfor (let [ket, value] of obj2)\n\t\t\t{\n\t\t\t\tif (!obj1.hasOwnProperty(key))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n\telse if (_ismap(obj1))\n\t{\n\t\tif (_isobject(obj2))\n\t\t{\n\t\t\t// Test that each attribute of `obj1` can also be found in `obj2` and has the same value\n\t\t\tfor (let [key, value] of obj1)\n\t\t\t{\n\t\t\t\tif (!obj2.hasOwnProperty(key))\n\t\t\t\t\treturn false;\n\t\t\t\telse if (!_eq(obj1.get(key), obj2[key]))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// Test that each attribute of `obj2` is also in `obj1` (the value has been tested before)\n\t\t\tfor (let key in obj2)\n\t\t\t{\n\t\t\t\tif (!obj1.has(key))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\telse if (_ismap(obj2))\n\t\t{\n\t\t\t// Shortcut, if it's the same object\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn true;\n\t\t\tif (obj1.size != obj2.size)\n\t\t\t\treturn false;\n\t\t\tlet result = true;\n\t\t\t// Test that each attribute of `obj1` can also be found in `obj2` and has the same value\n\t\t\tfor (let [key, value] of obj1)\n\t\t\t{\n\t\t\t\tif (!obj2.has(key))\n\t\t\t\t\tresult = false;\n\t\t\t\telse if (!_eq(obj1.get(key), obj2.get(key)))\n\t\t\t\t\tresult = false;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n\telse if (_isset(obj1))\n\t{\n\t\tif (_isset(obj2))\n\t\t{\n\t\t\t// Shortcut, if it's the same object\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn true;\n\t\t\tif (obj1.size != obj2.size)\n\t\t\t\treturn false;\n\t\t\tlet result = true;\n\t\t\tfor (let value of obj1)\n\t\t\t{\n\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\tresult = false;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n\telse\n\t\treturn obj1 === obj2;\n};\n\n// Compare `obj1` and `obj2` if they don't have the same value\nexport function _ne(obj1, obj2)\n{\n\tif (obj1 && typeof(obj1[symbols.ne]) === \"function\")\n\t\treturn obj1[symbols.ne](obj2);\n\telse if (obj2 && typeof(obj2[symbols.ne]) === \"function\")\n\t\treturn obj2[symbols.ne](obj1);\n\telse\n\t\treturn !_eq(obj1, obj2);\n};\n\nexport function _unorderable(operator, obj1, obj2)\n{\n\tthrow new TypeError(\"unorderable types: \" + _type(obj1).fullname() + \" \" + operator + \" \" + _type(obj2).fullname());\n};\n\n// Return:\n// -1 when `obj1 < obj2`,\n//  0 when `obj1 == obj2`,\n//  1 when `obj1 > obj2`,\n//  null when `obj1` and `obj2` are comparable, but neither of the previous cases holds (only for sets)\n// raise TypeError if objects are uncomparable\n// This the purpose of `_cmp` is to support implementation of <, <=, > and >=\n// and dicts/maps are not comparable with the operator `_cmp` does not support dicts/maps\n\nexport function _cmp(operator, obj1, obj2)\n{\n\tlet numbertypes = [\"boolean\", \"number\"];\n\n\tif (numbertypes.indexOf(typeof(obj1)) != -1)\n\t{\n\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\treturn (obj1 > obj2) - (obj1 < obj2);\n\t}\n\telse if (typeof(obj1) === \"string\")\n\t{\n\t\tif (typeof(obj2) === \"string\")\n\t\t\treturn (obj1 > obj2) - (obj1 < obj2);\n\t}\n\telse if (_isdatetime(obj1))\n\t{\n\t\tif (_isdatetime(obj2))\n\t\t{\n\t\t\tlet v1 = obj1.getTime(), v2 = obj2.getTime();\n\t\t\treturn (v1 > v2) - (v1 < v2);\n\t\t}\n\t}\n\telse if (_islist(obj1))\n\t{\n\t\tif (_islist(obj2))\n\t\t{\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn 0;\n\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t{\n\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\treturn 1;\n\t\t\t\tlet res = _cmp(operator, obj1[i], obj2[i]);\n\t\t\t\tif (res)\n\t\t\t\t\treturn res;\n\t\t\t}\n\t\t\treturn obj2.length > obj1.length ? -1 : 0;\n\t\t}\n\t}\n\telse if (_isset(obj1))\n\t{\n\t\tif (_isset(obj2))\n\t\t{\n\t\t\tlet in1only = false;\n\t\t\tlet in2only = false;\n\n\t\t\tfor (let iter = _iter(obj1);;)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tif (!obj2.has(item.value))\n\t\t\t\t{\n\t\t\t\t\tin1only = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (let iter = _iter(obj2);;)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tif (!obj1.has(item.value))\n\t\t\t\t{\n\t\t\t\t\tin2only = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (in1only)\n\t\t\t{\n\t\t\t\tif (in2only)\n\t\t\t\t\treturn null;\n\t\t\t\telse\n\t\t\t\t\treturn 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (in2only)\n\t\t\t\t\treturn -1;\n\t\t\t\telse\n\t\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t}\n\treturn _unorderable(operator, obj1, obj2);\n};\n\n// Return whether `obj1 < obj2`\nexport function _lt(obj1, obj2)\n{\n\tlet numbertypes = [\"boolean\", \"number\"];\n\n\tif (obj1 && typeof(obj1[symbols.lt]) === \"function\")\n\t\treturn obj1[symbols.lt](obj2);\n\telse if (numbertypes.indexOf(typeof(obj1)) != -1)\n\t{\n\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\treturn obj1 < obj2;\n\t}\n\telse if (typeof(obj1) === \"string\")\n\t{\n\t\tif (typeof(obj2) === \"string\")\n\t\t\treturn obj1 < obj2;\n\t}\n\telse if (_isdatetime(obj1))\n\t{\n\t\tif (_isdatetime(obj2))\n\t\t\treturn obj1.getTime() < obj2.getTime();\n\t}\n\telse if (_islist(obj1))\n\t{\n\t\tif (_islist(obj2))\n\t\t{\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn false;\n\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t{\n\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\treturn false;\n\t\t\t\tlet eq = _eq(obj1[i], obj2[i]);\n\t\t\t\tif (!eq)\n\t\t\t\t\treturn _lt(obj1[i], obj2[i]);\n\t\t\t}\n\t\t\treturn obj1.length < obj2.length;\n\t\t}\n\t}\n\t// FIXME: Set comparison\n\telse if (_isset(obj1))\n\t{\n\t\tif (_isset(obj2))\n\t\t{\n\t\t\tfor (let key in obj1)\n\t\t\t{\n\t\t\t\tif (!obj2.has(obj1[key]))\n\t\t\t\t\tin1only = true;\n\t\t\t}\n\t\t\tfor (let key in obj2)\n\t\t\t{\n\t\t\t\tif (!obj1.has(obj2[key]))\n\t\t\t\t\tin2only = true;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\t_unorderable(operator, obj1, obj2);\n\n\t\tif (in1only)\n\t\t{\n\t\t\tif (in2only)\n\t\t\t\treturn null;\n\t\t\telse\n\t\t\t\treturn 1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (in2only)\n\t\t\t\treturn -1;\n\t\t\telse\n\t\t\t\treturn 0;\n\t\t}\n\t}\n\t_unorderable(\"<\", obj1, obj2);\n};\n\n// Return whether `obj1 <= obj2`\nexport function _le(obj1, obj2)\n{\n\tlet numbertypes = [\"boolean\", \"number\"];\n\n\tif (obj1 && typeof(obj1[symbols.le]) === \"function\")\n\t\treturn obj1[symbols.le](obj2);\n\tif (numbertypes.indexOf(typeof(obj1)) != -1)\n\t{\n\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\treturn obj1 <= obj2;\n\t}\n\telse if (typeof(obj1) === \"string\")\n\t{\n\t\tif (typeof(obj2) === \"string\")\n\t\t\treturn obj1 <= obj2;\n\t}\n\telse if (_isdatetime(obj1))\n\t{\n\t\tif (_isdatetime(obj2))\n\t\t\treturn obj1.getTime() <= obj2.getTime();\n\t}\n\telse if (_islist(obj1))\n\t{\n\t\tif (_islist(obj2))\n\t\t{\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn true;\n\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t{\n\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\treturn false;\n\t\t\t\tlet eq = _eq(obj1[i], obj2[i]);\n\t\t\t\tif (!eq)\n\t\t\t\t\treturn _lt(obj1[i], obj2[i]);\n\t\t\t}\n\t\t\treturn obj1.length <= obj2.length;\n\t\t}\n\t}\n\t// FIXME: Set comparison\n\telse if (_isset(obj1))\n\t{\n\t\tlet in1only = false;\n\t\tlet in2only = false;\n\n\t\tif (_isset(obj2))\n\t\t{\n\t\t\tif (_isset(obj2))\n\t\t\t{\n\t\t\t\tfor (let value of obj1)\n\t\t\t\t{\n\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t}\n\t\t\t\tfor (let value of obj2)\n\t\t\t\t{\n\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\t_unorderable(operator, obj1, obj2);\n\t\t}\n\t\telse\n\t\t\t_unorderable(operator, obj1, obj2);\n\n\t\tif (in1only)\n\t\t{\n\t\t\tif (in2only)\n\t\t\t\treturn null;\n\t\t\telse\n\t\t\t\treturn 1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (in2only)\n\t\t\t\treturn -1;\n\t\t\telse\n\t\t\t\treturn 0;\n\t\t}\n\t}\n\t_unorderable(\"<=\", obj1, obj2);\n};\n\n// Return whether `obj1 > obj2`\nexport function _gt(obj1, obj2)\n{\n\tlet numbertypes = [\"boolean\", \"number\"];\n\n\tif (obj1 && typeof(obj1[symbols.gt]) === \"function\")\n\t\treturn obj1[symbols.gt](obj2);\n\tif (numbertypes.indexOf(typeof(obj1)) != -1)\n\t{\n\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\treturn obj1 > obj2;\n\t}\n\telse if (typeof(obj1) === \"string\")\n\t{\n\t\tif (typeof(obj2) === \"string\")\n\t\t\treturn obj1 > obj2;\n\t}\n\telse if (_isdatetime(obj1))\n\t{\n\t\tif (_isdatetime(obj2))\n\t\t\treturn obj1.getTime() > obj2.getTime();\n\t}\n\telse if (_islist(obj1))\n\t{\n\t\tif (_islist(obj2))\n\t\t{\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn false;\n\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t{\n\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\treturn true;\n\t\t\t\tlet eq = _eq(obj1[i], obj2[i]);\n\t\t\t\tif (!eq)\n\t\t\t\t\treturn _gt(obj1[i], obj2[i]);\n\t\t\t}\n\t\t\treturn obj1.length > obj2.length;\n\t\t}\n\t}\n\t// FIXME: Set comparison\n\telse if (_isset(obj1))\n\t{\n\t\tlet in1only = false;\n\t\tlet in2only = false;\n\n\t\tif (_isset(obj2))\n\t\t{\n\t\t\tif (_isset(obj2))\n\t\t\t{\n\t\t\t\tfor (let value of obj1)\n\t\t\t\t{\n\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t}\n\t\t\t\tfor (let value of obj2)\n\t\t\t\t{\n\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\t_unorderable(operator, obj1, obj2);\n\t\t}\n\t\telse\n\t\t\t_unorderable(operator, obj1, obj2);\n\n\t\tif (in1only)\n\t\t{\n\t\t\tif (in2only)\n\t\t\t\treturn null;\n\t\t\telse\n\t\t\t\treturn 1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (in2only)\n\t\t\t\treturn -1;\n\t\t\telse\n\t\t\t\treturn 0;\n\t\t}\n\t}\n\t_unorderable(\">\", obj1, obj2);\n};\n\n// Return whether `obj1 >= obj2`\nexport function _ge(obj1, obj2)\n{\n\tlet numbertypes = [\"boolean\", \"number\"];\n\n\tif (obj1 && typeof(obj1[symbols.ge]) === \"function\")\n\t\treturn obj1[symbols.ge](obj2);\n\telse if (numbertypes.indexOf(typeof(obj1)) != -1)\n\t{\n\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\treturn obj1 >= obj2;\n\t}\n\telse if (typeof(obj1) === \"string\")\n\t{\n\t\tif (typeof(obj2) === \"string\")\n\t\t\treturn obj1 >= obj2;\n\t}\n\telse if (_isdatetime(obj1))\n\t{\n\t\tif (_isdatetime(obj2))\n\t\t\treturn obj1.getTime() >= obj2.getTime();\n\t}\n\telse if (_islist(obj1))\n\t{\n\t\tif (_islist(obj2))\n\t\t{\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn true;\n\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t{\n\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\treturn true;\n\t\t\t\tlet eq = _eq(obj1[i], obj2[i]);\n\t\t\t\tif (!eq)\n\t\t\t\t\treturn _gt(obj1[i], obj2[i]);\n\t\t\t}\n\t\t\treturn obj1.length >= obj2.length;\n\t\t}\n\t}\n\t// FIXME: Set comparison\n\telse if (_isset(obj1))\n\t{\n\t\tlet in1only = false;\n\t\tlet in2only = false;\n\n\t\tif (_isset(obj2))\n\t\t{\n\t\t\tif (_isset(obj2))\n\t\t\t{\n\t\t\t\tfor (let value of obj1)\n\t\t\t\t{\n\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t}\n\t\t\t\tfor (let value of obj2)\n\t\t\t\t{\n\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\t_unorderable(operator, obj1, obj2);\n\t\t}\n\t\telse\n\t\t\t_unorderable(operator, obj1, obj2);\n\n\t\tif (in1only)\n\t\t{\n\t\t\tif (in2only)\n\t\t\t\treturn null;\n\t\t\telse\n\t\t\t\treturn 1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (in2only)\n\t\t\t\treturn -1;\n\t\t\telse\n\t\t\t\treturn 0;\n\t\t}\n\t}\n\t_unorderable(\">=\", obj1, obj2);\n};\n\n// Return an iterator for `obj`\nexport function _iter(obj)\n{\n\tif (typeof(obj) === \"string\" || _islist(obj))\n\t{\n\t\treturn {\n\t\t\tindex: 0,\n\t\t\tnext: function()\n\t\t\t{\n\t\t\t\tif (this.index < obj.length)\n\t\t\t\t\treturn {value: obj[this.index++], done: false};\n\t\t\t\telse\n\t\t\t\t\treturn {done: true};\n\t\t\t}\n\t\t};\n\t}\n\telse if (_isiter(obj))\n\t\treturn obj;\n\telse if (_ismap(obj))\n\t{\n\t\tlet keys = [];\n\t\tfor (let [key, value] of obj)\n\t\t\tkeys.push(key);\n\t\treturn {\n\t\t\tindex: 0,\n\t\t\tnext: function()\n\t\t\t{\n\t\t\t\tif (this.index >= keys.length)\n\t\t\t\t\treturn {done: true};\n\t\t\t\treturn {value: keys[this.index++], done: false};\n\t\t\t}\n\t\t};\n\t}\n\telse if (_isset(obj))\n\t{\n\t\tlet values = [];\n\t\tfor (let item of obj)\n\t\t\tvalues.push(item);\n\t\treturn {\n\t\t\tindex: 0,\n\t\t\tnext: function()\n\t\t\t{\n\t\t\t\tif (this.index >= values.length)\n\t\t\t\t\treturn {done: true};\n\t\t\t\treturn {value: values[this.index++], done: false};\n\t\t\t}\n\t\t};\n\t}\n\telse if (_isobject(obj))\n\t{\n\t\tlet keys = [];\n\t\tfor (let key in obj)\n\t\t\tkeys.push(key);\n\t\treturn {\n\t\t\tindex: 0,\n\t\t\tnext: function()\n\t\t\t{\n\t\t\t\tif (this.index >= keys.length)\n\t\t\t\t\treturn {done: true};\n\t\t\t\treturn {value: keys[this.index++], done: false};\n\t\t\t}\n\t\t};\n\t}\n\t// Check for an iterator implementation last, as otherwise, we'd get an item iterator for maps\n\telse if (obj !== null && typeof(obj[Symbol.iterator]) === \"function\")\n\t\treturn obj[Symbol.iterator]();\n\tthrow new TypeError(_type(obj).fullname() + \" object is not iterable\");\n};\n\nfunction _str_repr(str, ascii)\n{\n\tlet result = \"\";\n\tlet squote = false, dquote = false;\n\n\tfor (let c of str)\n\t{\n\t\tif (c == '\"')\n\t\t{\n\t\t\tdquote = true;\n\t\t\tif (squote)\n\t\t\t\tbreak;\n\t\t}\n\t\telse if (c == \"'\")\n\t\t{\n\t\t\tsquote = true;\n\t\t\tif (dquote)\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Prefer single quotes: Only use double quotes if the string contains single quotes, but no double quotes\n\tlet quote = (squote && !dquote) ? '\"' : \"'\";\n\n\tfor (let c of str)\n\t{\n\t\tswitch (c)\n\t\t{\n\t\t\tcase '\"':\n\t\t\t\tresult += (quote == c) ? '\\\\\"' : c;\n\t\t\t\tbreak;\n\t\t\tcase \"'\":\n\t\t\t\tresult += (quote == c) ? \"\\\\'\" : c;\n\t\t\t\tbreak;\n\t\t\tcase \"\\\\\":\n\t\t\t\tresult += \"\\\\\\\\\";\n\t\t\t\tbreak;\n\t\t\tcase \"\\t\":\n\t\t\t\tresult += \"\\\\t\";\n\t\t\t\tbreak;\n\t\t\tcase \"\\n\":\n\t\t\t\tresult += \"\\\\n\";\n\t\t\t\tbreak;\n\t\t\tcase \"\\r\":\n\t\t\t\tresult += \"\\\\r\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlet code = c.charCodeAt(0);\n\t\t\t\tlet escape;\n\t\t\t\tif (code < 32)\n\t\t\t\t\tescape = 2;\n\t\t\t\telse if (code < 0x7f)\n\t\t\t\t\tescape = 0;\n\t\t\t\telse if (!ascii && !/[\\u007f-\\u00a0\\u00ad\\u0378-\\u0379\\u0380-\\u0383\\u038b\\u038d\\u03a2\\u0530\\u0557-\\u0558\\u0560\\u0588\\u058b-\\u058c\\u0590\\u05c8-\\u05cf\\u05eb-\\u05ef\\u05f5-\\u0605\\u061c-\\u061d\\u06dd\\u070e-\\u070f\\u074b-\\u074c\\u07b2-\\u07bf\\u07fb-\\u07ff\\u082e-\\u082f\\u083f\\u085c-\\u085d\\u085f-\\u089f\\u08b5-\\u08e2\\u0984\\u098d-\\u098e\\u0991-\\u0992\\u09a9\\u09b1\\u09b3-\\u09b5\\u09ba-\\u09bb\\u09c5-\\u09c6\\u09c9-\\u09ca\\u09cf-\\u09d6\\u09d8-\\u09db\\u09de\\u09e4-\\u09e5\\u09fc-\\u0a00\\u0a04\\u0a0b-\\u0a0e\\u0a11-\\u0a12\\u0a29\\u0a31\\u0a34\\u0a37\\u0a3a-\\u0a3b\\u0a3d\\u0a43-\\u0a46\\u0a49-\\u0a4a\\u0a4e-\\u0a50\\u0a52-\\u0a58\\u0a5d\\u0a5f-\\u0a65\\u0a76-\\u0a80\\u0a84\\u0a8e\\u0a92\\u0aa9\\u0ab1\\u0ab4\\u0aba-\\u0abb\\u0ac6\\u0aca\\u0ace-\\u0acf\\u0ad1-\\u0adf\\u0ae4-\\u0ae5\\u0af2-\\u0af8\\u0afa-\\u0b00\\u0b04\\u0b0d-\\u0b0e\\u0b11-\\u0b12\\u0b29\\u0b31\\u0b34\\u0b3a-\\u0b3b\\u0b45-\\u0b46\\u0b49-\\u0b4a\\u0b4e-\\u0b55\\u0b58-\\u0b5b\\u0b5e\\u0b64-\\u0b65\\u0b78-\\u0b81\\u0b84\\u0b8b-\\u0b8d\\u0b91\\u0b96-\\u0b98\\u0b9b\\u0b9d\\u0ba0-\\u0ba2\\u0ba5-\\u0ba7\\u0bab-\\u0bad\\u0bba-\\u0bbd\\u0bc3-\\u0bc5\\u0bc9\\u0bce-\\u0bcf\\u0bd1-\\u0bd6\\u0bd8-\\u0be5\\u0bfb-\\u0bff\\u0c04\\u0c0d\\u0c11\\u0c29\\u0c3a-\\u0c3c\\u0c45\\u0c49\\u0c4e-\\u0c54\\u0c57\\u0c5b-\\u0c5f\\u0c64-\\u0c65\\u0c70-\\u0c77\\u0c80\\u0c84\\u0c8d\\u0c91\\u0ca9\\u0cb4\\u0cba-\\u0cbb\\u0cc5\\u0cc9\\u0cce-\\u0cd4\\u0cd7-\\u0cdd\\u0cdf\\u0ce4-\\u0ce5\\u0cf0\\u0cf3-\\u0d00\\u0d04\\u0d0d\\u0d11\\u0d3b-\\u0d3c\\u0d45\\u0d49\\u0d4f-\\u0d56\\u0d58-\\u0d5e\\u0d64-\\u0d65\\u0d76-\\u0d78\\u0d80-\\u0d81\\u0d84\\u0d97-\\u0d99\\u0db2\\u0dbc\\u0dbe-\\u0dbf\\u0dc7-\\u0dc9\\u0dcb-\\u0dce\\u0dd5\\u0dd7\\u0de0-\\u0de5\\u0df0-\\u0df1\\u0df5-\\u0e00\\u0e3b-\\u0e3e\\u0e5c-\\u0e80\\u0e83\\u0e85-\\u0e86\\u0e89\\u0e8b-\\u0e8c\\u0e8e-\\u0e93\\u0e98\\u0ea0\\u0ea4\\u0ea6\\u0ea8-\\u0ea9\\u0eac\\u0eba\\u0ebe-\\u0ebf\\u0ec5\\u0ec7\\u0ece-\\u0ecf\\u0eda-\\u0edb\\u0ee0-\\u0eff\\u0f48\\u0f6d-\\u0f70\\u0f98\\u0fbd\\u0fcd\\u0fdb-\\u0fff\\u10c6\\u10c8-\\u10cc\\u10ce-\\u10cf\\u1249\\u124e-\\u124f\\u1257\\u1259\\u125e-\\u125f\\u1289\\u128e-\\u128f\\u12b1\\u12b6-\\u12b7\\u12bf\\u12c1\\u12c6-\\u12c7\\u12d7\\u1311\\u1316-\\u1317\\u135b-\\u135c\\u137d-\\u137f\\u139a-\\u139f\\u13f6-\\u13f7\\u13fe-\\u13ff\\u1680\\u169d-\\u169f\\u16f9-\\u16ff\\u170d\\u1715-\\u171f\\u1737-\\u173f\\u1754-\\u175f\\u176d\\u1771\\u1774-\\u177f\\u17de-\\u17df\\u17ea-\\u17ef\\u17fa-\\u17ff\\u180e-\\u180f\\u181a-\\u181f\\u1878-\\u187f\\u18ab-\\u18af\\u18f6-\\u18ff\\u191f\\u192c-\\u192f\\u193c-\\u193f\\u1941-\\u1943\\u196e-\\u196f\\u1975-\\u197f\\u19ac-\\u19af\\u19ca-\\u19cf\\u19db-\\u19dd\\u1a1c-\\u1a1d\\u1a5f\\u1a7d-\\u1a7e\\u1a8a-\\u1a8f\\u1a9a-\\u1a9f\\u1aae-\\u1aaf\\u1abf-\\u1aff\\u1b4c-\\u1b4f\\u1b7d-\\u1b7f\\u1bf4-\\u1bfb\\u1c38-\\u1c3a\\u1c4a-\\u1c4c\\u1c80-\\u1cbf\\u1cc8-\\u1ccf\\u1cf7\\u1cfa-\\u1cff\\u1df6-\\u1dfb\\u1f16-\\u1f17\\u1f1e-\\u1f1f\\u1f46-\\u1f47\\u1f4e-\\u1f4f\\u1f58\\u1f5a\\u1f5c\\u1f5e\\u1f7e-\\u1f7f\\u1fb5\\u1fc5\\u1fd4-\\u1fd5\\u1fdc\\u1ff0-\\u1ff1\\u1ff5\\u1fff-\\u200f\\u2028-\\u202f\\u205f-\\u206f\\u2072-\\u2073\\u208f\\u209d-\\u209f\\u20bf-\\u20cf\\u20f1-\\u20ff\\u218c-\\u218f\\u23fb-\\u23ff\\u2427-\\u243f\\u244b-\\u245f\\u2b74-\\u2b75\\u2b96-\\u2b97\\u2bba-\\u2bbc\\u2bc9\\u2bd2-\\u2beb\\u2bf0-\\u2bff\\u2c2f\\u2c5f\\u2cf4-\\u2cf8\\u2d26\\u2d28-\\u2d2c\\u2d2e-\\u2d2f\\u2d68-\\u2d6e\\u2d71-\\u2d7e\\u2d97-\\u2d9f\\u2da7\\u2daf\\u2db7\\u2dbf\\u2dc7\\u2dcf\\u2dd7\\u2ddf\\u2e43-\\u2e7f\\u2e9a\\u2ef4-\\u2eff\\u2fd6-\\u2fef\\u2ffc-\\u3000\\u3040\\u3097-\\u3098\\u3100-\\u3104\\u312e-\\u3130\\u318f\\u31bb-\\u31bf\\u31e4-\\u31ef\\u321f\\u32ff\\u4db6-\\u4dbf\\u9fd6-\\u9fff\\ua48d-\\ua48f\\ua4c7-\\ua4cf\\ua62c-\\ua63f\\ua6f8-\\ua6ff\\ua7ae-\\ua7af\\ua7b8-\\ua7f6\\ua82c-\\ua82f\\ua83a-\\ua83f\\ua878-\\ua87f\\ua8c5-\\ua8cd\\ua8da-\\ua8df\\ua8fe-\\ua8ff\\ua954-\\ua95e\\ua97d-\\ua97f\\ua9ce\\ua9da-\\ua9dd\\ua9ff\\uaa37-\\uaa3f\\uaa4e-\\uaa4f\\uaa5a-\\uaa5b\\uaac3-\\uaada\\uaaf7-\\uab00\\uab07-\\uab08\\uab0f-\\uab10\\uab17-\\uab1f\\uab27\\uab2f\\uab66-\\uab6f\\uabee-\\uabef\\uabfa-\\uabff\\ud7a4-\\ud7af\\ud7c7-\\ud7ca\\ud7fc-\\uf8ff\\ufa6e-\\ufa6f\\ufada-\\ufaff\\ufb07-\\ufb12\\ufb18-\\ufb1c\\ufb37\\ufb3d\\ufb3f\\ufb42\\ufb45\\ufbc2-\\ufbd2\\ufd40-\\ufd4f\\ufd90-\\ufd91\\ufdc8-\\ufdef\\ufdfe-\\ufdff\\ufe1a-\\ufe1f\\ufe53\\ufe67\\ufe6c-\\ufe6f\\ufe75\\ufefd-\\uff00\\uffbf-\\uffc1\\uffc8-\\uffc9\\uffd0-\\uffd1\\uffd8-\\uffd9\\uffdd-\\uffdf\\uffe7\\uffef-\\ufffb\\ufffe-\\uffff]/.test(c))\n\t\t\t\t\tescape = 0;\n\t\t\t\telse if (code <= 0xff)\n\t\t\t\t\tescape = 2;\n\t\t\t\telse if (code <= 0xffff)\n\t\t\t\t\tescape = 4;\n\t\t\t\telse\n\t\t\t\t\tescape = 8;\n\n\t\t\t\tif (escape === 0)\n\t\t\t\t\tresult += c;\n\t\t\t\telse if (escape === 2)\n\t\t\t\t\tresult += \"\\\\x\" + _lpad(code.toString(16), \"0\", 2);\n\t\t\t\telse if (escape === 4)\n\t\t\t\t\tresult += \"\\\\u\" + _lpad(code.toString(16), \"0\", 4);\n\t\t\t\telse\n\t\t\t\t\tresult += \"\\\\U\" + _lpad(code.toString(16), \"0\", 8);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\treturn quote + result + quote;\n};\n\nfunction _date_repr(obj, ascii)\n{\n\tlet year = obj._date.getFullYear();\n\tlet month = obj._date.getMonth()+1;\n\tlet day = obj._date.getDate();\n\tlet result = \"@(\" + year + \"-\" + _lpad(month.toString(), \"0\", 2) + \"-\" + _lpad(day.toString(), \"0\", 2) + \")\";\n\treturn result;\n};\n\nfunction _datetime_repr(obj, ascii)\n{\n\tlet year = obj.getFullYear();\n\tlet month = obj.getMonth()+1;\n\tlet day = obj.getDate();\n\tlet hour = obj.getHours();\n\tlet minute = obj.getMinutes();\n\tlet second = obj.getSeconds();\n\tlet ms = obj.getMilliseconds();\n\tlet result = \"@(\" + year + \"-\" + _lpad(month.toString(), \"0\", 2) + \"-\" + _lpad(day.toString(), \"0\", 2) + \"T\";\n\n\tif (hour || minute || second || ms)\n\t{\n\t\tresult += _lpad(hour.toString(), \"0\", 2) + \":\" + _lpad(minute.toString(), \"0\", 2);\n\t\tif (second || ms)\n\t\t{\n\t\t\tresult += \":\" + _lpad(second.toString(), \"0\", 2);\n\t\t\tif (ms)\n\t\t\t\tresult += \".\" + _lpad(ms.toString(), \"0\", 3) + \"000\";\n\t\t}\n\t}\n\tresult += \")\";\n\n\treturn result;\n};\n\nfunction _map_repr(obj, ascii)\n{\n\tlet v = [];\n\tv.push(\"{\");\n\n\tlet i = 0;\n\tfor (let [key, value] of obj)\n\t{\n\t\tif (i++)\n\t\t\tv.push(\", \");\n\t\tv.push(_repr_internal(key, ascii), \": \", _repr_internal(value, ascii));\n\t}\n\n\tv.push(\"}\");\n\treturn v.join(\"\");\n};\n\nfunction _list_repr(obj, ascii)\n{\n\tlet v = [];\n\tv.push(\"[\");\n\tlet first = true;\n\tfor (let item of obj)\n\t{\n\t\tif (first)\n\t\t\tfirst = false;\n\t\telse\n\t\t\tv.push(\", \");\n\t\tv.push(_repr_internal(item, ascii));\n\t}\n\tv.push(\"]\");\n\treturn v.join(\"\");\n};\n\nfunction _set_repr(obj, ascii)\n{\n\tlet v = [];\n\tv.push(\"{\");\n\tif (!obj.size)\n\t\tv.push(\"/\");\n\telse\n\t{\n\t\tlet i = 0;\n\t\tfor (let value of obj)\n\t\t{\n\t\t\tif (i++)\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(_repr_internal(value, ascii));\n\t\t}\n\t}\n\tv.push(\"}\");\n\treturn v.join(\"\");\n};\n\nfunction _object_repr(obj, ascii)\n{\n\tlet v = [];\n\tv.push(\"{\");\n\tlet i = 0;\n\tfor (let key in obj)\n\t{\n\t\tif (!obj.hasOwnProperty(key))\n\t\t\tcontinue;\n\t\tif (i++)\n\t\t\tv.push(\", \");\n\t\tv.push(_repr_internal(key, ascii), \": \", _repr_internal(obj[key], ascii));\n\t}\n\tv.push(\"}\");\n\treturn v.join(\"\");\n};\n\nfunction _repr_internal(obj, ascii)\n{\n\tif (obj === null)\n\t\treturn \"None\";\n\telse if (obj === undefined)\n\t\treturn \"<undefined>\";\n\telse if (obj === false)\n\t\treturn \"False\";\n\telse if (obj === true)\n\t\treturn \"True\";\n\telse if (typeof(obj) === \"string\")\n\t\treturn _str_repr(obj, ascii);\n\telse if (typeof(obj) === \"number\")\n\t\treturn \"\" + obj;\n\telse if (typeof(obj) === \"function\")\n\t{\n\t\tif (obj.prototype !== undefined)\n\t\t\treturn \"<class \" + obj.name + \">\";\n\t\tif (obj._ul4_name || obj.name)\n\t\t\treturn \"<function \" + (obj._ul4_name || obj.name) + \">\";\n\t\telse\n\t\t\treturn \"<anonymous function>\";\n\t}\n\telse if (_isdate(obj))\n\t\treturn _date_repr(obj, ascii);\n\telse if (_isdatetime(obj))\n\t\treturn _datetime_repr(obj, ascii);\n\telse if (typeof(obj) === \"object\" && typeof(obj[symbols.repr]) === \"function\")\n\t\treturn obj[symbols.repr]();\n\telse if (_islist(obj))\n\t\treturn _list_repr(obj, ascii);\n\telse if (_ismap(obj))\n\t\treturn _map_repr(obj, ascii);\n\telse if (_isset(obj))\n\t\treturn _set_repr(obj, ascii);\n\telse if (_isobject(obj))\n\t\treturn _object_repr(obj, ascii);\n\treturn \"?\";\n};\n\n// Return a string representation of `obj`: If possible this should be an object literal supported by UL4, otherwise the output should be bracketed with `<` and `>`\nexport function _repr(obj)\n{\n\treturn _repr_internal(obj, false);\n};\n\nexport function _ascii(obj)\n{\n\treturn _repr_internal(obj, true);\n};\n\nfunction _date_str(obj)\n{\n\tlet year = obj._date.getFullYear();\n\tlet month = obj._date.getMonth()+1;\n\tlet day = obj._date.getDate();\n\n\treturn year + \"-\" + _lpad(month.toString(), \"0\", 2) + \"-\" + _lpad(day.toString(), \"0\", 2);\n};\n\nfunction _datetime_str(obj)\n{\n\tlet year = obj.getFullYear();\n\tlet month = obj.getMonth()+1;\n\tlet day = obj.getDate();\n\tlet hour = obj.getHours();\n\tlet minute = obj.getMinutes();\n\tlet second = obj.getSeconds();\n\tlet ms = obj.getMilliseconds();\n\n\tlet result = year + \"-\" + _lpad(month.toString(), \"0\", 2) + \"-\" + _lpad(day.toString(), \"0\", 2) + \" \" + _lpad(hour.toString(), \"0\", 2) + \":\" + _lpad(minute.toString(), \"0\", 2);\n\tif (second || ms)\n\t{\n\t\tresult += \":\" + _lpad(second.toString(), \"0\", 2);\n\t\tif (ms)\n\t\t\tresult += \".\" + _lpad(ms.toString(), \"0\", 3) + \"000\";\n\t}\n\treturn result;\n};\n\n// Convert `obj` to a string\nexport function _str(obj=\"\")\n{\n\treturn strtype[symbols.call](obj);\n}\n\n// Convert `obj` to bool, according to its \"truth value\"\nexport function _bool(obj)\n{\n\treturn booltype[symbols.call](obj);\n};\n\n// Convert `obj` to an integer (if `base` is given `obj` must be a string and `base` is the base for the conversion (default is 10))\nexport function _int(obj=0, base=null)\n{\n\treturn inttype[symbols.call](obj, base);\n};\n\n// Convert `obj` to a float\nexport function _float(obj)\n{\n\treturn floattype[symbols.call](obj);\n};\n\n// Convert `obj` to a list\nexport function _list(obj)\n{\n\treturn listtype[symbols.call](obj);\n};\n\n// Convert `obj` to a set\nexport function _set(obj=[])\n{\n\treturn settype[symbols.call](obj);\n};\n\n// Return the length of `sequence`\nexport function _len(sequence)\n{\n\tif (typeof(sequence) === \"string\" || _islist(sequence))\n\t\treturn sequence.length;\n\telse if (_ismap(sequence) || _isset(sequence))\n\t\treturn sequence.size;\n\telse if (_isobject(sequence))\n\t{\n\t\tlet i = 0;\n\t\tfor (let key in sequence)\n\t\t\t++i;\n\t\treturn i;\n\t}\n\tthrow new TypeError(\"object of type '\" + _type(sequence).fullname() + \"' has no len()\");\n};\n\nexport let constructors2types = new Map();\n\nfunction _maketype(constructor)\n{\n\tlet type = new GenericType(constructor);\n\tconstructors2types.set(constructor, type);\n\treturn type;\n}\n\nexport function _type(obj)\n{\n\tif (obj === null)\n\t\treturn nonetype;\n\telse if (obj === undefined)\n\t\treturn undefinedtype;\n\telse if (typeof(obj[symbols.type]) === \"function\")\n\t\treturn obj[symbols.type]();\n\telse if (_isbool(obj))\n\t\treturn booltype;\n\telse if (_isint(obj))\n\t\treturn inttype;\n\telse if (_isfloat(obj))\n\t\treturn floattype;\n\telse if (_isstr(obj))\n\t\treturn strtype;\n\telse if (_islist(obj))\n\t\treturn listtype;\n\telse if (_isset(obj))\n\t\treturn settype;\n\telse if (_isdict(obj)) // These are both `Map`s and \"foreign\" objects, i.e. ones that don't inherit from `Proto`\n\t\treturn dicttype;\n\telse if (_isdatetime(obj))\n\t\treturn datetimetype;\n\t// Don't use `_isfunction()` here as this would return `true` for templates\n\telse if (typeof(obj) === \"function\")\n\t\treturn functiontype;\n\telse\n\t{\n\t\tlet constructor = obj.constructor;\n\t\tlet type = constructors2types.get(constructor);\n\t\tif (type === undefined)\n\t\t\ttype = _maketype(constructor);\n\t\treturn type;\n\t}\n};\n\n// (this is non-trivial, because it follows the Python semantic of `-5 % 2` being `1`)\nexport function _mod(obj1, obj2)\n{\n\tif (obj1 === null || obj1 === undefined || obj2 === null || obj2 === undefined)\n\t\tthrow new TypeError(_type(obj1).fullname() + \" % \" + _type(obj2).fullname() + \" is not supported\");\n\n\tlet div = Math.floor(obj1 / obj2);\n\tlet mod = obj1 - div * obj2;\n\n\tif (mod !== 0 && ((obj2 < 0 && mod > 0) || (obj2 > 0 && mod < 0)))\n\t{\n\t\tmod += obj2;\n\t\t--div;\n\t}\n\treturn obj1 - div * obj2;\n};\n\n// Return the attribute with the name `attrname` of the object `obj`\n// If `obj` doesn't have such an attribute, return `default_`\nexport function _getattr(obj, attrname, default_=null)\n{\n\ttry\n\t{\n\t\tlet type = _type(obj);\n\t\treturn type.getattr(obj, attrname);\n\t}\n\tcatch (exc)\n\t{\n\t\tif (exc instanceof AttributeError && exc.obj === obj)\n\t\t\treturn default_;\n\t\telse\n\t\t\tthrow exc;\n\t}\n};\n\n// Return whether the object `obj` has an attribute with the name `attrname`\nexport function _hasattr(obj, attrname)\n{\n\treturn _type(obj).hasattr(obj, attrname);\n};\n\n// Return the names of the attributes of the object `obj` as a set.\nexport function _dir(obj)\n{\n\treturn _type(obj).dir();\n};\n\n// Return whether any of the items in `iterable` are true\nexport function _any(iterable)\n{\n\tif (typeof(iterable) === \"string\")\n\t{\n\t\tfor (let c of iterable)\n\t\t{\n\t\t\tif (c !== '\\x00')\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\telse\n\t{\n\t\tfor (let iter = _iter(iterable);;)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\treturn false;\n\t\t\tif (_bool(item.value))\n\t\t\t\treturn true;\n\t\t}\n\t}\n};\n\n// Return whether all of the items in `iterable` are true\nexport function _all(iterable)\n{\n\tif (typeof(iterable) === \"string\")\n\t{\n\t\tfor (let c of iterable)\n\t\t{\n\t\t\tif (c === '\\x00')\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\telse\n\t{\n\t\tfor (let iter = _iter(iterable);;)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\treturn true;\n\t\t\tif (!_bool(item.value))\n\t\t\t\treturn false;\n\t\t}\n\t}\n};\n\n// Check if `obj` is undefined\nexport function _isundefined(obj)\n{\n\treturn obj === undefined;\n};\n\n\n// Check if `obj` is *not* undefined\nexport function _isdefined(obj)\n{\n\treturn obj !== undefined;\n};\n\n// Check if `obj` is `None`\nexport function _isnone(obj)\n{\n\treturn nonetype.instancecheck(obj);\n};\n\n// Check if `obj` is a boolean\nexport function _isbool(obj)\n{\n\treturn booltype.instancecheck(obj);\n};\n\n// Check if `obj` is a int\nexport function _isint(obj)\n{\n\treturn inttype.instancecheck(obj);\n};\n\n// Check if `obj` is a float\nexport function _isfloat(obj)\n{\n\treturn floattype.instancecheck(obj);\n};\n\n// Check if `obj` is a string\nexport function _isstr(obj)\n{\n\treturn strtype.instancecheck(obj);\n};\n\n// Check if `obj` is a datetime\nexport function _isdatetime(obj)\n{\n\treturn datetimetype.instancecheck(obj);\n};\n\nexport function _isdate(obj)\n{\n\treturn datetype.instancecheck(obj);\n};\n\n// Check if `obj` is a color\nexport function _iscolor(obj)\n{\n\treturn colortype.instancecheck(obj);\n};\n\n// Check if `obj` is a timedelta object\nexport function _istimedelta(obj)\n{\n\treturn timedeltatype.instancecheck(obj);\n};\n\n// Check if `obj` is a monthdelta object\nexport function _ismonthdelta(obj)\n{\n\treturn monthdeltatype.instancecheck(obj);\n};\n\n// Check if `obj` is a template (either a normal one or a locally defined)\nexport function _istemplate(obj)\n{\n\treturn obj !== null && (obj instanceof Template) || (obj instanceof TemplateClosure);\n};\n\n// Check if `obj` is a function\nexport function _isfunction(obj)\n{\n\treturn functiontype.instancecheck(obj);\n};\n\n// Check if `obj` is a list\nexport function _islist(obj)\n{\n\treturn listtype.instancecheck(obj);\n};\n\n// Check if `obj` is a set\nexport function _isset(obj)\n{\n\treturn settype.instancecheck(obj);\n};\n\n// Check if `obj` is an exception (at least a UL4 exception)\nexport function _isexception(obj)\n{\n\treturn (obj instanceof Exception);\n};\n\n// Check if `obj` is an iterator\nexport function _isiter(obj)\n{\n\treturn obj !== null && typeof(obj) === \"object\" && typeof(obj.next) === \"function\";\n};\n\n// Check if `obj` is a JS object\nexport function _isobject(obj)\n{\n\treturn dicttype._isobject(obj);\n};\n\n// Check if `obj` is a `Map`\nexport function _ismap(obj)\n{\n\treturn dicttype._ismap(obj);\n};\n\n// Check if `obj` is a dict (i.e. a normal Javascript object or a `Map`)\nexport function _isdict(obj)\n{\n\treturn dicttype.instancecheck(obj);\n};\n\n// Check if `obj` is an instance of `type`\nexport function _isinstance(obj, type)\n{\n\treturn type.instancecheck(obj);\n};\n\n// Repeat string `str` `rep` times\nexport function _str_repeat(str, rep)\n{\n\tlet result = \"\";\n\tfor (; rep>0; --rep)\n\t\tresult += str;\n\treturn result;\n};\n\nexport function _list_repeat(list, rep)\n{\n\tlet result = [];\n\tfor (; rep>0; --rep)\n\t\tfor (let item of list)\n\t\t\tresult.push(item);\n\treturn result;\n};\n\nfunction _str_json(str)\n{\n\tlet result = \"\";\n\tfor (let c of str)\n\t{\n\t\tswitch (c)\n\t\t{\n\t\t\tcase \"\\r\":\n\t\t\t\tresult += \"\\\\r\";\n\t\t\t\tbreak;\n\t\t\tcase \"\\n\":\n\t\t\t\tresult += \"\\\\n\";\n\t\t\t\tbreak;\n\t\t\tcase \"\\t\":\n\t\t\t\tresult += \"\\\\t\";\n\t\t\t\tbreak;\n\t\t\tcase \"\\\\\":\n\t\t\t\tresult += \"\\\\\\\\\";\n\t\t\t\tbreak;\n\t\t\tcase '\"':\n\t\t\t\tresult += '\\\\\"';\n\t\t\t\tbreak;\n\t\t\tcase '<':\n\t\t\t\tresult += '\\\\u003c';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlet code = c.charCodeAt(0);\n\t\t\t\tif (code >= 32 && code < 128)\n\t\t\t\t\tresult += c;\n\t\t\t\telse\n\t\t\t\t\tresult += \"\\\\u\" + _lpad(code.toString(16), \"0\", 4);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\treturn '\"' + result + '\"';\n};\n\n// Encodes `obj` in the Javascript Object Notation (see http://json.org/; with support for dates, colors and templates)\nexport function _asjson(obj)\n{\n\tif (obj === null)\n\t\treturn \"null\";\n\telse if (obj === undefined)\n\t\treturn \"undefined\";\n\telse if (obj === false)\n\t\treturn \"false\";\n\telse if (obj === true)\n\t\treturn \"true\";\n\telse if (typeof(obj) === \"string\")\n\t\treturn _str_json(obj);\n\telse if (typeof(obj) === \"number\")\n\t{\n\t\treturn \"\" + obj;\n\t}\n\telse if (_islist(obj))\n\t{\n\t\tlet v = [];\n\t\tv.push(\"[\");\n\t\tlet first = true;\n\t\tfor (let item of obj)\n\t\t{\n\t\t\tif (first)\n\t\t\t\tfirst = false;\n\t\t\telse\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(_asjson(item));\n\t\t}\n\t\tv.push(\"]\");\n\t\treturn v.join(\"\");\n\t}\n\telse if (_ismap(obj))\n\t{\n\t\tlet v = [];\n\t\tv.push(\"{\");\n\t\tlet first = true;\n\t\tfor (let [key, value] of obj)\n\t\t{\n\t\t\tif (first)\n\t\t\t\tfirst = false;\n\t\t\telse\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(_asjson(key), \": \", _asjson(value));\n\t\t}\n\t\tv.push(\"}\");\n\t\treturn v.join(\"\");\n\t}\n\telse if (_isobject(obj))\n\t{\n\t\tlet v = [];\n\t\tv.push(\"{\");\n\t\tlet first = true;\n\t\tfor (let key in obj)\n\t\t{\n\t\t\tif (first)\n\t\t\t\tfirst = false;\n\t\t\telse\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(_asjson(key), \": \", _asjson(obj[key]));\n\t\t}\n\t\tv.push(\"}\");\n\t\treturn v.join(\"\");\n\t}\n\telse if (_isdate(obj))\n\t{\n\t\treturn \"new ul4.Date_(\" + obj._date.getFullYear() + \", \" + (obj._date.getMonth()+1) + \", \" + obj._date.getDate() + \")\";\n\t}\n\telse if (_isdatetime(obj))\n\t{\n\t\treturn \"new Date(\" + obj.getFullYear() + \", \" + obj.getMonth() + \", \" + obj.getDate() + \", \" + obj.getHours() + \", \" + obj.getMinutes() + \", \" + obj.getSeconds() + \", \" + obj.getMilliseconds() + \")\";\n\t}\n\telse if (_istimedelta(obj))\n\t{\n\t\treturn \"new ul4.TimeDelta(\" + obj._days + \", \" + obj._seconds + \", \" + obj._microseconds + \")\";\n\t}\n\telse if (_ismonthdelta(obj))\n\t{\n\t\treturn \"new ul4.MonthDelta(\" + obj._months + \")\";\n\t}\n\telse if (_iscolor(obj))\n\t{\n\t\treturn \"new ul4.Color(\" + obj._r + \", \" + obj._g + \", \" + obj._b + \", \" + obj._a + \")\";\n\t}\n\telse if (_istemplate(obj))\n\t{\n\t\treturn \"ul4.Template.loads(\" + _repr(obj.dumps()) + \")\";\n\t}\n\tthrow new TypeError(\"asjson() requires a serializable object\");\n};\n\n// Decodes the string `string` from the Javascript Object Notation (see http://json.org/) and returns the resulting object\nexport function _fromjson(string)\n{\n\t// The following is from jQuery's parseJSON function\n\tstring = strtype.strip(string);\n\tif (JSON && JSON.parse)\n\t\treturn JSON.parse(string);\n\tif (_rvalidchars.test(string.replace(_rvalidescape, \"@\").replace(_rvalidtokens, \"]\").replace(_rvalidbraces, \"\")))\n\t\treturn (new Function(\"return \" + string))();\n\tthrow new TypeError(\"invalid JSON\");\n};\n\n// Encodes `obj` in the UL4 Object Notation format\nexport function _asul4on(obj, indent=null)\n{\n\treturn dumps(obj, indent);\n};\n\n// Decodes the string `string` from the UL4 Object Notation format and returns the resulting decoded object\nexport function _fromul4on(string)\n{\n\treturn loads(string);\n};\n\nfunction _format_datetime(obj, fmt, lang)\n{\n\tlet translations = {\n\t\tde: {\n\t\t\tms: [\"Jan\", \"Feb\", \"M\\u00e4r\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\"],\n\t\t\tml: [\"Januar\", \"Februar\", \"M\\u00e4rz\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\"],\n\t\t\tws: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n\t\t\twl: [\"Sonntag\", \"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\"],\n\t\t\txf: \"%d.%m.%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\ten: {\n\t\t\tms: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n\t\t\tml: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n\t\t\tws: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n\t\t\twl: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n\t\t\txf: \"%m/%d/%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %I:%M:%S %p\"\n\t\t},\n\t\tfr: {\n\t\t\tms: [\"janv.\", \"f\\u00e9vr.\", \"mars\", \"avril\", \"mai\", \"juin\", \"juil.\", \"ao\\u00fbt\", \"sept.\", \"oct.\", \"nov.\", \"d\\u00e9c.\"],\n\t\t\tml: [\"janvier\", \"f\\u00e9vrier\", \"mars\", \"avril\", \"mai\", \"juin\", \"juillet\", \"ao\\u00fbt\", \"septembre\", \"octobre\", \"novembre\", \"d\\u00e9cembre\"],\n\t\t\tws: [\"dim.\", \"lun.\", \"mar.\", \"mer.\", \"jeu.\", \"ven.\", \"sam.\"],\n\t\t\twl: [\"dimanche\", \"lundi\", \"mardi\", \"mercredi\", \"jeudi\", \"vendredi\", \"samedi\"],\n\t\t\txf: \"%d/%m/%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tes: {\n\t\t\tms: [\"ene\", \"feb\", \"mar\", \"abr\", \"may\", \"jun\", \"jul\", \"ago\", \"sep\", \"oct\", \"nov\", \"dic\"],\n\t\t\tml: [\"enero\", \"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\", \"julio\", \"agosto\", \"septiembre\", \"octubre\", \"noviembre\", \"diciembre\"],\n\t\t\tws: [\"dom\", \"lun\", \"mar\", \"mi\\u00e9\", \"jue\", \"vie\", \"s\\u00e1b\"],\n\t\t\twl: [\"domingo\", \"lunes\", \"martes\", \"mi\\u00e9rcoles\", \"jueves\", \"viernes\", \"s\\u00e1bado\"],\n\t\t\txf: \"%d/%m/%y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tit: {\n\t\t\tms: [\"gen\", \"feb\", \"mar\", \"apr\", \"mag\", \"giu\", \"lug\", \"ago\", \"set\", \"ott\", \"nov\", \"dic\"],\n\t\t\tml: [\"gennaio\", \"febbraio\", \"marzo\", \"aprile\", \"maggio\", \"giugno\", \"luglio\", \"agosto\", \"settembre\", \"ottobre\", \"novembre\", \"dicembre\"],\n\t\t\tws: [\"dom\", \"lun\", \"mar\", \"mer\", \"gio\", \"ven\", \"sab\"],\n\t\t\twl: [\"domenica\", \"luned\\u00ec\", \"marted\\u00ec\", \"mercoled\\u00ec\", \"gioved\\u00ec\", \"venerd\\u00ec\", \"sabato\"],\n\t\t\txf: \"%d/%m/%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tda: {\n\t\t\tms: [\"jan\", \"feb\", \"mar\", \"apr\", \"maj\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n\t\t\tml: [\"januar\", \"februar\", \"marts\", \"april\", \"maj\", \"juni\", \"juli\", \"august\", \"september\", \"oktober\", \"november\", \"december\"],\n\t\t\tws: [\"s\\u00f8n\", \"man\", \"tir\", \"ons\", \"tor\", \"fre\", \"l\\u00f8r\"],\n\t\t\twl: [\"s\\u00f8ndag\", \"mandag\", \"tirsdag\", \"onsdag\", \"torsdag\", \"fredag\", \"l\\u00f8rdag\"],\n\t\t\txf: \"%d-%m-%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tsv: {\n\t\t\tms: [\"jan\", \"feb\", \"mar\", \"apr\", \"maj\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n\t\t\tml: [\"januari\", \"februari\", \"mars\", \"april\", \"maj\", \"juni\", \"juli\", \"augusti\", \"september\", \"oktober\", \"november\", \"december\"],\n\t\t\tws: [\"s\\u00f6n\", \"m\\u00e5n\", \"tis\", \"ons\", \"tor\", \"fre\", \"l\\u00f6r\"],\n\t\t\twl: [\"s\\u00f6ndag\", \"m\\u00e5ndag\", \"tisdag\", \"onsdag\", \"torsdag\", \"fredag\", \"l\\u00f6rdag\"],\n\t\t\txf: \"%Y-%m-%d\",\n\t\t\tXf: \"%H.%M.%S\",\n\t\t\tcf: \"%a %d %b %Y %H.%M.%S\"\n\t\t},\n\t\tnl: {\n\t\t\tms: [\"jan\", \"feb\", \"mrt\", \"apr\", \"mei\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n\t\t\tml: [\"januari\", \"februari\", \"maart\", \"april\", \"mei\", \"juni\", \"juli\", \"augustus\", \"september\", \"oktober\", \"november\", \"december\"],\n\t\t\tws: [\"zo\", \"ma\", \"di\", \"wo\", \"do\", \"vr\", \"za\"],\n\t\t\twl: [\"zondag\", \"maandag\", \"dinsdag\", \"woensdag\", \"donderdag\", \"vrijdag\", \"zaterdag\"],\n\t\t\txf: \"%d-%m-%y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tpt: {\n\t\t\tms: [\"Jan\", \"Fev\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Out\", \"Nov\", \"Dez\"],\n\t\t\tml: [\"Janeiro\", \"Fevereiro\", \"Mar\\u00e7o\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"],\n\t\t\tws: [\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"S\\u00e1b\"],\n\t\t\twl: [\"Domingo\", \"Segunda\", \"Ter\\u00e7a\", \"Quarta\", \"Quinta\", \"Sexta\", \"S\\u00e1bado\"],\n\t\t\txf: \"%d-%m-%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tcs: {\n\t\t\tms: [\"led\", \"\\u00fano\", \"b\\u0159e\", \"dub\", \"kv\\u011b\", \"\\u010den\", \"\\u010dec\", \"srp\", \"z\\u00e1\\u0159\", \"\\u0159\\u00edj\", \"lis\", \"pro\"],\n\t\t\tml: [\"leden\", \"\\u00fanor\", \"b\\u0159ezen\", \"duben\", \"kv\\u011bten\", \"\\u010derven\", \"\\u010dervenec\", \"srpen\", \"z\\u00e1\\u0159\\u00ed\", \"\\u0159\\u00edjen\", \"listopad\", \"prosinec\"],\n\t\t\tws: [\"Ne\", \"Po\", \"\\u00dat\", \"St\", \"\\u010ct\", \"P\\u00e1\", \"So\"],\n\t\t\twl: [\"Ned\\u011ble\", \"Pond\\u011bl\\u00ed\", \"\\u00dater\\u00fd\", \"St\\u0159eda\", \"\\u010ctvrtek\", \"P\\u00e1tek\", \"Sobota\"],\n\t\t\txf: \"%d.%m.%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a\\u00a0%d.\\u00a0%B\\u00a0%Y,\\u00a0%H:%M:%S\"\n\t\t},\n\t\tsk: {\n\t\t\tms: [\"jan\", \"feb\", \"mar\", \"apr\", \"m\\u00e1j\", \"j\\u00fan\", \"j\\u00fal\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n\t\t\tml: [\"janu\\u00e1r\", \"febru\\u00e1r\", \"marec\", \"apr\\u00edl\", \"m\\u00e1j\", \"j\\u00fan\", \"j\\u00fal\", \"august\", \"september\", \"okt\\u00f3ber\", \"november\", \"december\"],\n\t\t\tws: [\"Ne\", \"Po\", \"Ut\", \"St\", \"\\u0160t\", \"Pi\", \"So\"],\n\t\t\twl: [\"Nede\\u013ea\", \"Pondelok\", \"Utorok\", \"Streda\", \"\\u0160tvrtok\", \"Piatok\", \"Sobota\"],\n\t\t\txf: \"%d.%m.%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a\\u00a0%d.\\u00a0%B\\u00a0%Y,\\u00a0%H:%M:%S\"\n\t\t},\n\t\tpl: {\n\t\t\tms: [\"sty\", \"lut\", \"mar\", \"kwi\", \"maj\", \"cze\", \"lip\", \"sie\", \"wrz\", \"pa\\u017a\", \"lis\", \"gru\"],\n\t\t\tml: [\"stycze\\u0144\", \"luty\", \"marzec\", \"kwiecie\\u0144\", \"maj\", \"czerwiec\", \"lipiec\", \"sierpie\\u0144\", \"wrzesie\\u0144\", \"pa\\u017adziernik\", \"listopad\", \"grudzie\\u0144\"],\n\t\t\tws: [\"nie\", \"pon\", \"wto\", \"\\u015bro\", \"czw\", \"pi\\u0105\", \"sob\"],\n\t\t\twl: [\"niedziela\", \"poniedzia\\u0142ek\", \"wtorek\", \"\\u015broda\", \"czwartek\", \"pi\\u0105tek\", \"sobota\"],\n\t\t\txf: \"%d.%m.%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a, %d %b %Y, %H:%M:%S\"\n\t\t},\n\t\thr: {\n\t\t\tms: [\"Sij\", \"Vel\", \"O\\u017eu\", \"Tra\", \"Svi\", \"Lip\", \"Srp\", \"Kol\", \"Ruj\", \"Lis\", \"Stu\", \"Pro\"],\n\t\t\tml: [\"Sije\\u010danj\", \"Velja\\u010da\", \"O\\u017eujak\", \"Travanj\", \"Svibanj\", \"Lipanj\", \"Srpanj\", \"Kolovoz\", \"Rujan\", \"Listopad\", \"Studeni\", \"Prosinac\"],\n\t\t\tws: [\"Ned\", \"Pon\", \"Uto\", \"Sri\", \"\\u010cet\", \"Pet\", \"Sub\"],\n\t\t\twl: [\"Nedjelja\", \"Ponedjeljak\", \"Utorak\", \"Srijeda\", \"\\u010cetvrtak\", \"Petak\", \"Subota\"],\n\t\t\txf: \"%d.%m.%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tsr: {\n\t\t\tms: [\"\\u0458\\u0430\\u043d\", \"\\u0444\\u0435\\u0431\", \"\\u043c\\u0430\\u0440\", \"\\u0430\\u043f\\u0440\", \"\\u043c\\u0430\\u0458\", \"\\u0458\\u0443\\u043d\", \"\\u0458\\u0443\\u043b\", \"\\u0430\\u0432\\u0433\", \"\\u0441\\u0435\\u043f\", \"\\u043e\\u043a\\u0442\", \"\\u043d\\u043e\\u0432\", \"\\u0434\\u0435\\u0446\"],\n\t\t\tml: [\"\\u0458\\u0430\\u043d\\u0443\\u0430\\u0440\", \"\\u0444\\u0435\\u0431\\u0440\\u0443\\u0430\\u0440\", \"\\u043c\\u0430\\u0440\\u0442\", \"\\u0430\\u043f\\u0440\\u0438\\u043b\", \"\\u043c\\u0430\\u0458\", \"\\u0458\\u0443\\u043d\", \"\\u0458\\u0443\\u043b\", \"\\u0430\\u0432\\u0433\\u0443\\u0441\\u0442\", \"\\u0441\\u0435\\u043f\\u0442\\u0435\\u043c\\u0431\\u0430\\u0440\", \"\\u043e\\u043a\\u0442\\u043e\\u0431\\u0430\\u0440\", \"\\u043d\\u043e\\u0432\\u0435\\u043c\\u0431\\u0430\\u0440\", \"\\u0434\\u0435\\u0446\\u0435\\u043c\\u0431\\u0430\\u0440\"],\n\t\t\tws: [\"\\u043d\\u0435\\u0434\", \"\\u043f\\u043e\\u043d\", \"\\u0443\\u0442\\u043e\", \"\\u0441\\u0440\\u0435\", \"\\u0447\\u0435\\u0442\", \"\\u043f\\u0435\\u0442\", \"\\u0441\\u0443\\u0431\"],\n\t\t\twl: [\"\\u043d\\u0435\\u0434\\u0435\\u0459\\u0430\", \"\\u043f\\u043e\\u043d\\u0435\\u0434\\u0435\\u0459\\u0430\\u043a\", \"\\u0443\\u0442\\u043e\\u0440\\u0430\\u043a\", \"\\u0441\\u0440\\u0435\\u0434\\u0430\", \"\\u0447\\u0435\\u0442\\u0432\\u0440\\u0442\\u0430\\u043a\", \"\\u043f\\u0435\\u0442\\u0430\\u043a\", \"\\u0441\\u0443\\u0431\\u043e\\u0442\\u0430\"],\n\t\t\txf: \"%d.%m.%Y.\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%A, %d. %B %Y. %H:%M:%S\"\n\t\t},\n\t\tro: {\n\t\t\tms: [\"ian\", \"feb\", \"mar\", \"apr\", \"mai\", \"iun\", \"iul\", \"aug\", \"sep\", \"oct\", \"nov\", \"dec\"],\n\t\t\tml: [\"ianuarie\", \"februarie\", \"martie\", \"aprilie\", \"mai\", \"iunie\", \"iulie\", \"august\", \"septembrie\", \"octombrie\", \"noiembrie\", \"decembrie\"],\n\t\t\tws: [\"Du\", \"Lu\", \"Ma\", \"Mi\", \"Jo\", \"Vi\", \"Sb\"],\n\t\t\twl: [\"duminic\\u0103\", \"luni\", \"mar\\u0163i\", \"miercuri\", \"joi\", \"vineri\", \"s\\u00e2mb\\u0103t\\u0103\"],\n\t\t\txf: \"%d.%m.%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\thu: {\n\t\t\tms: [\"jan\", \"febr\", \"m\\u00e1rc\", \"\\u00e1pr\", \"m\\u00e1j\", \"j\\u00fan\", \"j\\u00fal\", \"aug\", \"szept\", \"okt\", \"nov\", \"dec\"],\n\t\t\tml: [\"janu\\u00e1r\", \"febru\\u00e1r\", \"m\\u00e1rcius\", \"\\u00e1prilis\", \"m\\u00e1jus\", \"j\\u00fanius\", \"j\\u00falius\", \"augusztus\", \"szeptember\", \"okt\\u00f3ber\", \"november\", \"december\"],\n\t\t\tws: [\"v\", \"h\", \"k\", \"sze\", \"cs\", \"p\", \"szo\"],\n\t\t\twl: [\"vas\\u00e1rnap\", \"h\\u00e9tf\\u0151\", \"kedd\", \"szerda\", \"cs\\u00fct\\u00f6rt\\u00f6k\", \"p\\u00e9ntek\", \"szombat\"],\n\t\t\txf: \"%Y-%m-%d\",\n\t\t\tXf: \"%H.%M.%S\",\n\t\t\tcf: \"%Y. %b. %d., %A, %H.%M.%S\"\n\t\t},\n\t\ttr: {\n\t\t\tms: [\"Oca\", \"\\u015eub\", \"Mar\", \"Nis\", \"May\", \"Haz\", \"Tem\", \"A\\u011fu\", \"Eyl\", \"Eki\", \"Kas\", \"Ara\"],\n\t\t\tml: [\"Ocak\", \"\\u015eubat\", \"Mart\", \"Nisan\", \"May\\u0131s\", \"Haziran\", \"Temmuz\", \"A\\u011fustos\", \"Eyl\\u00fcl\", \"Ekim\", \"Kas\\u0131m\", \"Aral\\u0131k\"],\n\t\t\tws: [\"Paz\", \"Pzt\", \"Sal\", \"\\u00c7r\\u015f\", \"Pr\\u015f\", \"Cum\", \"Cts\"],\n\t\t\twl: [\"Pazar\", \"Pazartesi\", \"Sal\\u0131\", \"\\u00c7ar\\u015famba\", \"Per\\u015fembe\", \"Cuma\", \"Cumartesi\"],\n\t\t\txf: \"%d-%m-%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tru: {\n\t\t\tms: [\"\\u042f\\u043d\\u0432\", \"\\u0424\\u0435\\u0432\", \"\\u041c\\u0430\\u0440\", \"\\u0410\\u043f\\u0440\", \"\\u041c\\u0430\\u0439\", \"\\u0418\\u044e\\u043d\", \"\\u0418\\u044e\\u043b\", \"\\u0410\\u0432\\u0433\", \"\\u0421\\u0435\\u043d\", \"\\u041e\\u043a\\u0442\", \"\\u041d\\u043e\\u044f\", \"\\u0414\\u0435\\u043a\"],\n\t\t\tml: [\"\\u042f\\u043d\\u0432\\u0430\\u0440\\u044c\", \"\\u0424\\u0435\\u0432\\u0440\\u0430\\u043b\\u044c\", \"\\u041c\\u0430\\u0440\\u0442\", \"\\u0410\\u043f\\u0440\\u0435\\u043b\\u044c\", \"\\u041c\\u0430\\u0439\", \"\\u0418\\u044e\\u043d\\u044c\", \"\\u0418\\u044e\\u043b\\u044c\", \"\\u0410\\u0432\\u0433\\u0443\\u0441\\u0442\", \"\\u0421\\u0435\\u043d\\u0442\\u044f\\u0431\\u0440\\u044c\", \"\\u041e\\u043a\\u0442\\u044f\\u0431\\u0440\\u044c\", \"\\u041d\\u043e\\u044f\\u0431\\u0440\\u044c\", \"\\u0414\\u0435\\u043a\\u0430\\u0431\\u0440\\u044c\"],\n\t\t\tws: [\"\\u0412\\u0441\\u043a\", \"\\u041f\\u043d\\u0434\", \"\\u0412\\u0442\\u0440\", \"\\u0421\\u0440\\u0434\", \"\\u0427\\u0442\\u0432\", \"\\u041f\\u0442\\u043d\", \"\\u0421\\u0431\\u0442\"],\n\t\t\twl: [\"\\u0412\\u043e\\u0441\\u043a\\u0440\\u0435\\u0441\\u0435\\u043d\\u044c\\u0435\", \"\\u041f\\u043e\\u043d\\u0435\\u0434\\u0435\\u043b\\u044c\\u043d\\u0438\\u043a\", \"\\u0412\\u0442\\u043e\\u0440\\u043d\\u0438\\u043a\", \"\\u0421\\u0440\\u0435\\u0434\\u0430\", \"\\u0427\\u0435\\u0442\\u0432\\u0435\\u0440\\u0433\", \"\\u041f\\u044f\\u0442\\u043d\\u0438\\u0446\\u0430\", \"\\u0421\\u0443\\u0431\\u0431\\u043e\\u0442\\u0430\"],\n\t\t\txf: \"%d.%m.%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tzh: {\n\t\t\tms: [\" 1\\u6708\", \" 2\\u6708\", \" 3\\u6708\", \" 4\\u6708\", \" 5\\u6708\", \" 6\\u6708\", \" 7\\u6708\", \" 8\\u6708\", \" 9\\u6708\", \"10\\u6708\", \"11\\u6708\", \"12\\u6708\"],\n\t\t\tml: [\"\\u4e00\\u6708\", \"\\u4e8c\\u6708\", \"\\u4e09\\u6708\", \"\\u56db\\u6708\", \"\\u4e94\\u6708\", \"\\u516d\\u6708\", \"\\u4e03\\u6708\", \"\\u516b\\u6708\", \"\\u4e5d\\u6708\", \"\\u5341\\u6708\", \"\\u5341\\u4e00\\u6708\", \"\\u5341\\u4e8c\\u6708\"],\n\t\t\tws: [\"\\u65e5\", \"\\u4e00\", \"\\u4e8c\", \"\\u4e09\", \"\\u56db\", \"\\u4e94\", \"\\u516d\"],\n\t\t\twl: [\"\\u661f\\u671f\\u65e5\", \"\\u661f\\u671f\\u4e00\", \"\\u661f\\u671f\\u4e8c\", \"\\u661f\\u671f\\u4e09\", \"\\u661f\\u671f\\u56db\", \"\\u661f\\u671f\\u4e94\", \"\\u661f\\u671f\\u516d\"],\n\t\t\txf: \"%Y\\u5e74%b%d\\u65e5\",\n\t\t\tXf: \"%H\\u65f6%M\\u5206%S\\u79d2\",\n\t\t\tcf: \"%Y\\u5e74%b%d\\u65e5 %A %H\\u65f6%M\\u5206%S\\u79d2\"\n\t\t},\n\t\tko: {\n\t\t\tms: [\" 1\\uc6d4\", \" 2\\uc6d4\", \" 3\\uc6d4\", \" 4\\uc6d4\", \" 5\\uc6d4\", \" 6\\uc6d4\", \" 7\\uc6d4\", \" 8\\uc6d4\", \" 9\\uc6d4\", \"10\\uc6d4\", \"11\\uc6d4\", \"12\\uc6d4\"],\n\t\t\tml: [\"1\\uc6d4\", \"2\\uc6d4\", \"3\\uc6d4\", \"4\\uc6d4\", \"5\\uc6d4\", \"6\\uc6d4\", \"7\\uc6d4\", \"8\\uc6d4\", \"9\\uc6d4\", \"10\\uc6d4\", \"11\\uc6d4\", \"12\\uc6d4\"],\n\t\t\tws: [\"\\uc77c\", \"\\uc6d4\", \"\\ud654\", \"\\uc218\", \"\\ubaa9\", \"\\uae08\", \"\\ud1a0\"],\n\t\t\twl: [\"\\uc77c\\uc694\\uc77c\", \"\\uc6d4\\uc694\\uc77c\", \"\\ud654\\uc694\\uc77c\", \"\\uc218\\uc694\\uc77c\", \"\\ubaa9\\uc694\\uc77c\", \"\\uae08\\uc694\\uc77c\", \"\\ud1a0\\uc694\\uc77c\"],\n\t\t\txf: \"%Y\\ub144 %B %d\\uc77c\",\n\t\t\tXf: \"%H\\uc2dc %M\\ubd84 %S\\ucd08\",\n\t\t\tcf: \"%Y\\ub144 %B %d\\uc77c (%a) %p %I\\uc2dc %M\\ubd84 %S\\ucd08\"\n\t\t},\n\t\tja: {\n\t\t\tms: [\" 1\\u6708\", \" 2\\u6708\", \" 3\\u6708\", \" 4\\u6708\", \" 5\\u6708\", \" 6\\u6708\", \" 7\\u6708\", \" 8\\u6708\", \" 9\\u6708\", \"10\\u6708\", \"11\\u6708\", \"12\\u6708\"],\n\t\t\tml: [\"1\\u6708\", \"2\\u6708\", \"3\\u6708\", \"4\\u6708\", \"5\\u6708\", \"6\\u6708\", \"7\\u6708\", \"8\\u6708\", \"9\\u6708\", \"10\\u6708\", \"11\\u6708\", \"12\\u6708\"],\n\t\t\tws: [\"\\u65e5\", \"\\u6708\", \"\\u706b\", \"\\u6c34\", \"\\u6728\", \"\\u91d1\", \"\\u571f\"],\n\t\t\twl: [\"\\u65e5\\u66dc\\u65e5\", \"\\u6708\\u66dc\\u65e5\", \"\\u706b\\u66dc\\u65e5\", \"\\u6c34\\u66dc\\u65e5\", \"\\u6728\\u66dc\\u65e5\", \"\\u91d1\\u66dc\\u65e5\", \"\\u571f\\u66dc\\u65e5\"],\n\t\t\txf: \"%Y\\u5e74%B%d\\u65e5\",\n\t\t\tXf: \"%H\\u6642%M\\u5206%S\\u79d2\",\n\t\t\tcf: \"%Y\\u5e74%B%d\\u65e5 %H\\u6642%M\\u5206%S\\u79d2\"\n\t\t}\n\t};\n\n\tlet translation = translations[lang];\n\n\tlet result = [];\n\tlet inspec = false;\n\tfor (let c of fmt)\n\t{\n\t\tif (inspec)\n\t\t{\n\t\t\tswitch (c)\n\t\t\t{\n\t\t\t\tcase \"a\":\n\t\t\t\t\tc = translation.ws[obj.getDay()];\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"A\":\n\t\t\t\t\tc = translation.wl[obj.getDay()];\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"b\":\n\t\t\t\t\tc = translation.ms[obj.getMonth()];\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"B\":\n\t\t\t\t\tc = translation.ml[obj.getMonth()];\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"c\":\n\t\t\t\t\tc = _format(obj, translation.cf, lang);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"d\":\n\t\t\t\t\tc = _lpad(obj.getDate(), \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"f\":\n\t\t\t\t\tc = _lpad(obj.getMilliseconds(), \"0\", 3) + \"000\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"H\":\n\t\t\t\t\tc = _lpad(obj.getHours(), \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"I\":\n\t\t\t\t\tc = _lpad(((obj.getHours()-1) % 12)+1, \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"j\":\n\t\t\t\t\tc = _lpad(datetimetype.yearday(obj), \"0\", 3);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"m\":\n\t\t\t\t\tc = _lpad(obj.getMonth()+1, \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"M\":\n\t\t\t\t\tc = _lpad(obj.getMinutes(), \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"p\":\n\t\t\t\t\tc = obj.getHours() < 12 ? \"AM\" : \"PM\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"S\":\n\t\t\t\t\tc = _lpad(obj.getSeconds(), \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"U\":\n\t\t\t\t\tc = _lpad(_week4format(obj, 6), \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"w\":\n\t\t\t\t\tc = obj.getDay();\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"W\":\n\t\t\t\t\tc = _lpad(_week4format(obj, 0), \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"x\":\n\t\t\t\t\tc = _format(obj, translation.xf, lang);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"X\":\n\t\t\t\t\tc = _format(obj, translation.Xf, lang);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"y\":\n\t\t\t\t\tc = (obj.getFullYear() % 100).toString();\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"Y\":\n\t\t\t\t\tc = obj.getFullYear().toString();\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"z\":\n\t\t\t\t\t// UTC offset in the form +HHMM or -HHMM\n\t\t\t\t\tc = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"Z\":\n\t\t\t\t\t// Time zone name\n\t\t\t\t\tc = \"\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tresult.push(c);\n\t\t\tinspec = false;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (c == \"%\")\n\t\t\t\tinspec = true;\n\t\t\telse\n\t\t\t\tresult.push(c);\n\t\t}\n\t}\n\treturn result.join(\"\");\n};\n\nfunction _format_int(obj, fmt, lang)\n{\n\tlet work = fmt;\n\n\t// Defaults\n\tlet fill = ' ';\n\tlet align = '>'; // '<', '>', '=' or '^'\n\tlet sign = '-'; // '+', '-' or ' '\n\tlet alternate = false;\n\tlet minimumwidth = 0;\n\tlet type = 'd'; // 'b', 'c', 'd', 'o', 'x', 'X' or 'n'\n\n\t// Determine output type\n\tif (/[bcdoxXn]$/.test(work))\n\t{\n\t\ttype = work.substring(work.length-1);\n\t\twork = work.substring(0, work.length-1);\n\t}\n\n\t// Extract minimum width\n\tif (/\\d+$/.test(work))\n\t{\n\t\tlet minimumwidthStr = /\\d+$/.exec(work);\n\t\twork = work.replace(/\\d+$/, \"\");\n\t\tif (/^0/.test(minimumwidthStr))\n\t\t{\n\t\t\talign = '=';\n\t\t\tfill = '0';\n\t\t}\n\t\tminimumwidth = parseInt(minimumwidthStr);\n\t}\n\n\t// Alternate form?\n\tif (/#$/.test(work))\n\t{\n\t\talternate = true;\n\t\twork = work.substring(0, work.length-1);\n\t}\n\n\t// Determine sign\n\tif (/[+ -]$/.test(work))\n\t{\n\t\tif (type == 'c')\n\t\t\tthrow new ValueError(\"sign not allowed for integer format type 'c'\");\n\t\tsign = work.substring(work.length-1);\n\t\twork = work.substring(0, work.length-1);\n\t}\n\n\t// Extract fill and align char\n\tif (work.length >= 3)\n\t\tthrow new ValueError(\"illegal integer format string \" + _repr(fmt));\n\telse if (work.length == 2)\n\t{\n\t\tif (/[<>=^]$/.test(work))\n\t\t{\n\t\t\talign = work[1];\n\t\t\tfill = work[0];\n\t\t}\n\t\telse\n\t\t\tthrow new ValueError(\"illegal integer format string \" + _repr(fmt));\n\t}\n\telse if (work.length == 1)\n\t{\n\t\tif (/^[<>=^]$/.test(work))\n\t\t\talign = work;\n\t\telse\n\t\t\tthrow new ValueError(\"illegal integer format string \" + _repr(fmt));\n\t}\n\n\t// Basic number formatting\n\tlet neg = obj < 0;\n\n\tif (neg)\n\t\tobj = -obj;\n\n\tlet output;\n\tswitch (type)\n\t{\n\t\tcase 'b':\n\t\t\toutput = obj.toString(2);\n\t\t\tbreak;\n\t\tcase 'c':\n\t\t\tif (neg || obj > 65535)\n\t\t\t\tthrow new ValueError(\"value out of bounds for c format\");\n\t\t\toutput = String.fromCharCode(obj);\n\t\t\tbreak;\n\t\tcase 'd':\n\t\t\toutput = obj.toString();\n\t\t\tbreak;\n\t\tcase 'o':\n\t\t\toutput = obj.toString(8);\n\t\t\tbreak;\n\t\tcase 'x':\n\t\t\toutput = obj.toString(16);\n\t\t\tbreak;\n\t\tcase 'X':\n\t\t\toutput = obj.toString(16).toUpperCase();\n\t\t\tbreak;\n\t\tcase 'n':\n\t\t\t// FIXME: locale formatting\n\t\t\toutput = obj.toString();\n\t\t\tbreak;\n\t}\n\n\t// The rest of the formatting\n\tif (align === '=')\n\t{\n\t\tif (neg || sign !== '-')\n\t\t\t--minimumwidth;\n\t\tif (alternate && (type === 'b' || type === 'o' || type === 'x' || type === 'X'))\n\t\t\tminimumwidth -= 2;\n\n\t\tif (output.length < minimumwidth)\n\t\t\toutput = _str_repeat(fill, minimumwidth-output.length) + output;\n\n\t\tif (alternate && (type === 'b' || type === 'o' || type === 'x' || type === 'X'))\n\t\t\toutput = \"0\" + type + output;\n\n\t\tif (neg)\n\t\t\toutput = \"-\" + output;\n\t\telse if (sign != '-')\n\t\t\toutput = sign + output;\n\t}\n\telse\n\t{\n\t\tif (alternate && (type == 'b' || type == 'o' || type == 'x' || type == 'X'))\n\t\t\toutput = \"0\" + type + output;\n\t\tif (neg)\n\t\t\toutput = \"-\" + output;\n\t\telse if (sign != '-')\n\t\t\toutput = sign + output;\n\t\tif (output.length < minimumwidth)\n\t\t{\n\t\t\tif (align == '<')\n\t\t\t\toutput = output + _str_repeat(fill, minimumwidth-output.length);\n\t\t\telse if (align == '>')\n\t\t\t\toutput = _str_repeat(fill, minimumwidth-output.length) + output;\n\t\t\telse // if (align == '^')\n\t\t\t{\n\t\t\t\tlet pad = minimumwidth - output.length;\n\t\t\t\tlet padBefore = Math.floor(pad/2);\n\t\t\t\tlet padAfter = pad-padBefore;\n\t\t\t\toutput = _str_repeat(fill, padBefore) + output + _str_repeat(fill, padAfter);\n\t\t\t}\n\t\t}\n\t}\n\treturn output;\n};\n\n// Format `obj` using the format string `fmt` in the language `lang`\nexport function _format(obj, fmt, lang)\n{\n\tif (lang === undefined || lang === null)\n\t\tlang = \"en\";\n\telse\n\t{\n\t\tlet translations = {de: null, en: null, fr: null, es: null, it: null, da: null, sv: null, nl: null, pt: null, cs: null, sk: null, pl: null, hr: null, sr: null, ro: null, hu: null, tr: null, ru: null, zh: null, ko: null, ja: null};\n\t\tlang = lang.toLowerCase();\n\t\tif (translations[lang] === undefined)\n\t\t{\n\t\t\tlang = lang.split(/_/)[0];\n\t\t\tif (translations[lang] === undefined)\n\t\t\t\tlang = \"en\";\n\t\t}\n\t}\n\tif (_isdate(obj))\n\t\treturn _format_datetime(obj._date, fmt, lang);\n\tif (_isdatetime(obj))\n\t\treturn _format_datetime(obj, fmt, lang);\n\telse if (_isint(obj))\n\t\treturn _format_int(obj, fmt, lang);\n\telse if (obj === true)\n\t\treturn _format_int(1, fmt, lang);\n\telse if (obj === false)\n\t\treturn _format_int(0, fmt, lang);\n};\n\nexport function _lpad(string, pad, len)\n{\n\tif (typeof(string) === \"number\")\n\t\tstring = string.toString();\n\twhile (string.length < len)\n\t\tstring = pad + string;\n\treturn string;\n};\n\nexport function _rpad(string, pad, len)\n{\n\tif (typeof(string) === \"number\")\n\t\tstring = string.toString();\n\twhile (string.length < len)\n\t\tstring = string + pad;\n\treturn string;\n};\n\n\n// Clone an object and extend it\nexport function _extend(baseobj, attrs)\n{\n\treturn Object.assign(Object.create(baseobj), attrs);\n};\n\n\nclass NoneType extends Type\n{\n\tinstancecheck(obj)\n\t{\n\t\treturn obj === null;\n\t}\n};\n\nexport let nonetype = new NoneType(null, \"None\", \"The constant `None`.\");\n\n\nclass UndefinedType extends Type\n{\n\tinstancecheck(obj)\n\t{\n\t\treturn obj === undefined;\n\t}\n};\n\nexport let undefinedtype = new UndefinedType(null, \"undefined\", \"An undefined variable or object attribute.\");\n\n\nclass BoolType extends Type\n{\n\t// Convert `obj` to bool, according to its \"truth value\"\n\t[symbols.call](obj=false)\n\t{\n\t\tif (obj === undefined || obj === null || obj === false || obj === 0 || obj === \"\")\n\t\t\treturn false;\n\t\telse if (typeof(obj) === \"object\" && typeof(obj[symbols.bool]) === \"function\")\n\t\t\treturn obj[symbols.bool]();\n\t\telse if (_islist(obj))\n\t\t\treturn obj.length !== 0;\n\t\telse if (_ismap(obj) || _isset(obj))\n\t\t\treturn obj.size != 0;\n\t\telse if (_isobject(obj))\n\t\t{\n\t\t\tfor (let key in obj)\n\t\t\t{\n\t\t\t\tif (!obj.hasOwnProperty(key))\n\t\t\t\t\tcontinue;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn typeof(obj) === \"boolean\";\n\t}\n};\n\nexpose(BoolType.prototype, [\"obj\", \"p=\", false], {name: \"bool\"});\n\nexport let booltype = new BoolType(null, \"bool\", \"An boolean value\");\n\n\nclass IntType extends Type\n{\n\t// Convert `obj` to an integer (if `base` is given `obj` must be a string and `base` is the base for the conversion (default is 10))\n\t[symbols.call](obj=0, base=null)\n\t{\n\t\tlet result;\n\t\tif (base !== null)\n\t\t{\n\t\t\tif (typeof(obj) !== \"string\" || !_isint(base))\n\t\t\t\tthrow new TypeError(\"int() requires a string and an integer\");\n\t\t\tresult = parseInt(obj, base);\n\t\t\tif (result.toString() == \"NaN\")\n\t\t\t\tthrow new TypeError(\"invalid literal for int()\");\n\t\t\treturn result;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (typeof(obj) === \"string\")\n\t\t\t{\n\t\t\t\tresult = parseInt(obj);\n\t\t\t\tif (result.toString() == \"NaN\")\n\t\t\t\t\tthrow new TypeError(\"invalid literal for int()\");\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\telse if (typeof(obj) === \"number\")\n\t\t\t\treturn Math.floor(obj);\n\t\t\telse if (obj === true)\n\t\t\t\treturn 1;\n\t\t\telse if (obj === false)\n\t\t\t\treturn 0;\n\t\t\tthrow new TypeError(\"int() argument must be a string or a number\");\n\t\t}\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn (typeof(obj) === \"number\") && Math.round(obj) == obj;\n\t}\n};\n\nexpose(IntType.prototype, [\"obj\", \"p=\", 0, \"base\", \"pk=\", null], {name: \"int\"});\n\nexport let inttype = new IntType(null, \"int\", \"An integer\");\n\n\nclass FloatType extends Type\n{\n\t// Convert `obj` to a float\n\t[symbols.call](obj=0.0)\n\t{\n\t\tif (typeof(obj) === \"string\")\n\t\t\treturn parseFloat(obj);\n\t\telse if (typeof(obj) === \"number\")\n\t\t\treturn obj;\n\t\telse if (obj === true)\n\t\t\treturn 1.0;\n\t\telse if (obj === false)\n\t\t\treturn 0.0;\n\t\tthrow new TypeError(\"float() argument must be a string or a number\");\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn (typeof(obj) === \"number\") && Math.round(obj) != obj;\n\t}\n};\n\nexpose(FloatType.prototype, [\"obj\", \"p=\", 0.0], {name: \"float\"});\n\nexport let floattype = new FloatType(null, \"float\", \"A floating point number\");\n\n\nexport class StrType extends Type\n{\n\t[symbols.call](obj=\"\")\n\t{\n\t\tif (obj === undefined)\n\t\t\treturn \"\";\n\t\telse if (obj === null)\n\t\t\treturn \"\";\n\t\telse if (obj === false)\n\t\t\treturn \"False\";\n\t\telse if (obj === true)\n\t\t\treturn \"True\";\n\t\telse if (typeof(obj) === \"string\")\n\t\t\treturn obj;\n\t\telse if (typeof(obj) === \"number\")\n\t\t\treturn obj.toString();\n\t\telse if (_isdate(obj))\n\t\t\treturn _date_str(obj);\n\t\telse if (_isdatetime(obj))\n\t\t\treturn _datetime_str(obj);\n\t\telse if (_islist(obj))\n\t\t\treturn _list_repr(obj);\n\t\telse if (_isset(obj))\n\t\t\treturn _set_repr(obj);\n\t\telse if (_ismap(obj))\n\t\t\treturn _map_repr(obj);\n\t\telse if (typeof(obj) === \"object\" && typeof(obj[symbols.str]) === \"function\")\n\t\t\treturn obj[symbols.str]();\n\t\telse if (typeof(obj) === \"object\" && typeof(obj[symbols.repr]) === \"function\")\n\t\t\treturn obj[symbols.repr]();\n\t\telse if (_isobject(obj))\n\t\t\treturn _object_repr(obj);\n\t\telse\n\t\t\treturn _repr(obj);\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn typeof(obj) === \"string\";\n\t}\n\n\tcount(obj, sub, start=null, end=null)\n\t{\n\t\treturn _count(obj, sub, start, end);\n\t}\n\n\tfind(obj, sub, start=null, end=null)\n\t{\n\t\treturn _find(obj, sub, start, end);\n\t}\n\n\trfind(obj, sub, start=null, end=null)\n\t{\n\t\treturn _rfind(obj, sub, start, end);\n\t}\n\n\treplace(obj, old, new_, count=null)\n\t{\n\t\tif (count === null)\n\t\t\tcount = obj.length;\n\n\t\tlet result = [];\n\t\twhile (obj.length)\n\t\t{\n\t\t\tlet pos = obj.indexOf(old);\n\t\t\tif (pos === -1 || !count--)\n\t\t\t{\n\t\t\t\tresult.push(obj);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tresult.push(obj.substr(0, pos), new_);\n\t\t\tobj = obj.substr(pos + old.length);\n\t\t}\n\t\treturn result.join(\"\");\n\t}\n\n\tstrip(obj, chars=null)\n\t{\n\t\tchars = chars || \" \\r\\n\\t\";\n\t\tif (typeof(chars) !== \"string\")\n\t\t\tthrow new TypeError(\"strip() requires a string argument\");\n\n\t\twhile (obj && chars.indexOf(obj[0]) >= 0)\n\t\t\tobj = obj.substr(1);\n\t\twhile (obj && chars.indexOf(obj[obj.length-1]) >= 0)\n\t\t\tobj = obj.substr(0, obj.length-1);\n\t\treturn obj;\n\t}\n\n\tlstrip(obj, chars=null)\n\t{\n\t\tchars = chars || \" \\r\\n\\t\";\n\t\tif (typeof(chars) !== \"string\")\n\t\t\tthrow new TypeError(\"lstrip() requires a string argument\");\n\n\t\twhile (obj && chars.indexOf(obj[0]) >= 0)\n\t\t\tobj = obj.substr(1);\n\t\treturn obj;\n\t}\n\n\trstrip(obj, chars=null)\n\t{\n\t\tchars = chars || \" \\r\\n\\t\";\n\t\tif (typeof(chars) !== \"string\")\n\t\t\tthrow new TypeError(\"rstrip() requires a string argument\");\n\n\t\twhile (obj && chars.indexOf(obj[obj.length-1]) >= 0)\n\t\t\tobj = obj.substr(0, obj.length-1);\n\t\treturn obj;\n\t}\n\n\tsplit(obj, sep=null, maxsplit=null)\n\t{\n\t\tif (sep !== null && typeof(sep) !== \"string\")\n\t\t\tthrow new TypeError(\"split() requires a string\");\n\n\t\tif (maxsplit === null)\n\t\t{\n\t\t\tlet result = obj.split(sep !== null ? sep : /[ \\n\\r\\t]+/);\n\t\t\tif (sep === null)\n\t\t\t{\n\t\t\t\tif (result.length && !result[0].length)\n\t\t\t\t\tresult.splice(0, 1);\n\t\t\t\tif (result.length && !result[result.length-1].length)\n\t\t\t\t\tresult.splice(-1);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (sep !== null)\n\t\t\t{\n\t\t\t\tlet result = [];\n\t\t\t\twhile (obj.length)\n\t\t\t\t{\n\t\t\t\t\tlet pos = obj.indexOf(sep);\n\t\t\t\t\tif (pos === -1 || !maxsplit--)\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.push(obj);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tresult.push(obj.substr(0, pos));\n\t\t\t\t\tobj = obj.substr(pos + sep.length);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet result = [];\n\t\t\t\twhile (obj.length)\n\t\t\t\t{\n\t\t\t\t\tobj = strtype.lstrip(obj, null);\n\t\t\t\t\tlet part;\n\t\t\t\t\tif (!maxsplit--)\n\t\t\t\t\t\t part = obj; // Take the rest of the string\n\t\t\t\t\telse\n\t\t\t\t\t\tpart = obj.split(/[ \\n\\r\\t]+/, 1)[0];\n\t\t\t\t\tif (part.length)\n\t\t\t\t\t\tresult.push(part);\n\t\t\t\t\tobj = obj.substr(part.length);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t}\n\n\trsplit(obj, sep=null, maxsplit=null)\n\t{\n\t\tif (sep !== null && typeof(sep) !== \"string\")\n\t\t\tthrow new TypeError(\"rsplit() requires a string as second argument\");\n\n\t\tif (maxsplit === null)\n\t\t{\n\t\t\tlet result = obj.split(sep !== null ? sep : /[ \\n\\r\\t]+/);\n\t\t\tif (sep === null)\n\t\t\t{\n\t\t\t\tif (result.length && !result[0].length)\n\t\t\t\t\tresult.splice(0, 1);\n\t\t\t\tif (result.length && !result[result.length-1].length)\n\t\t\t\t\tresult.splice(-1);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (sep !== null)\n\t\t\t{\n\t\t\t\tlet result = [];\n\t\t\t\twhile (obj.length)\n\t\t\t\t{\n\t\t\t\t\tlet pos = obj.lastIndexOf(sep);\n\t\t\t\t\tif (pos === -1 || !maxsplit--)\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.unshift(obj);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tresult.unshift(obj.substr(pos+sep.length));\n\t\t\t\t\tobj = obj.substr(0, pos);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet result = [];\n\t\t\t\twhile (obj.length)\n\t\t\t\t{\n\t\t\t\t\tobj = strtype.rstrip(obj);\n\t\t\t\t\tlet part;\n\t\t\t\t\tif (!maxsplit--)\n\t\t\t\t\t\t part = obj; // Take the rest of the string\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tpart = obj.split(/[ \\n\\r\\t]+/);\n\t\t\t\t\t\tpart = part[part.length-1];\n\t\t\t\t\t}\n\t\t\t\t\tif (part.length)\n\t\t\t\t\t\tresult.unshift(part);\n\t\t\t\t\tobj = obj.substr(0, obj.length-part.length);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t}\n\n\tsplitlines(obj, keepends=false)\n\t{\n\t\tlet pos = 0;\n\t\tlet startpos;\n\t\tlet lookingAtLineEnd = function lookingAtLineEnd()\n\t\t{\n\t\t\tlet c = obj[pos];\n\t\t\tif (c === '\\n' || c == '\\u000B' || c == '\\u000C' || c == '\\u001C' || c == '\\u001D' || c == '\\u001E' || c == '\\u0085' || c == '\\u2028' || c == '\\u2029')\n\t\t\t\treturn 1;\n\t\t\tif (c === '\\r')\n\t\t\t{\n\t\t\t\tif (pos == length-1)\n\t\t\t\t\treturn 1;\n\t\t\t\tif (obj[pos+1] === '\\n')\n\t\t\t\t\treturn 2;\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn 0;\n\t\t};\n\n\t\tlet result = [], length = obj.length;\n\n\t\tfor (pos = 0, startpos = 0;;)\n\t\t{\n\t\t\tif (pos >= length)\n\t\t\t{\n\t\t\t\tif (startpos != pos)\n\t\t\t\t\tresult.push(obj.substring(startpos));\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\tlet lineendlen = lookingAtLineEnd();\n\t\t\tif (!lineendlen)\n\t\t\t\t++pos;\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet endpos = pos + (keepends ? lineendlen : 0);\n\t\t\t\tresult.push(obj.substring(startpos, endpos));\n\t\t\t\tpos += lineendlen;\n\t\t\t\tstartpos = pos;\n\t\t\t}\n\t\t}\n\t}\n\n\tlower(obj)\n\t{\n\t\treturn obj.toLowerCase();\n\t}\n\n\tupper(obj)\n\t{\n\t\treturn obj.toUpperCase();\n\t}\n\n\tcapitalize(obj)\n\t{\n\t\tif (obj.length)\n\t\t\tobj = obj[0].toUpperCase() + obj.slice(1).toLowerCase();\n\t\treturn obj;\n\t}\n\n\tjoin(obj, iterable)\n\t{\n\t\tlet resultlist = [];\n\t\tfor (let iter = _iter(iterable);;)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\tbreak;\n\t\t\tresultlist.push(item.value);\n\t\t}\n\t\treturn resultlist.join(obj);\n\t}\n\n\tstartswith(obj, prefix)\n\t{\n\t\tif (typeof(prefix) === \"string\")\n\t\t\treturn obj.substr(0, prefix.length) === prefix;\n\t\telse if (_islist(prefix))\n\t\t{\n\t\t\tfor (let singlepre of prefix)\n\t\t\t{\n\t\t\t\tif (obj.substr(0, singlepre.length) === singlepre)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\telse\n\t\t\tthrow new TypeError(\"startswith() argument must be string\");\n\t}\n\n\tendswith(obj, suffix)\n\t{\n\t\tif (typeof(suffix) === \"string\")\n\t\t\treturn obj.substr(obj.length-suffix.length) === suffix;\n\t\telse if (_islist(suffix))\n\t\t{\n\t\t\tfor (let singlesuf of suffix)\n\t\t\t{\n\t\t\t\tif (obj.substr(obj.length-singlesuf.length) === singlesuf)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\telse\n\t\t\tthrow new TypeError(\"endswith() argument must be string or list of strings\");\n\t}\n};\n\nStrType.prototype.attrs = new Set([\n\t\"split\",\n\t\"rsplit\",\n\t\"splitlines\",\n\t\"strip\",\n\t\"lstrip\",\n\t\"rstrip\",\n\t\"upper\",\n\t\"lower\",\n\t\"capitalize\",\n\t\"startswith\",\n\t\"endswith\",\n\t\"replace\",\n\t\"count\",\n\t\"find\",\n\t\"rfind\",\n\t\"join\"\n]);\n\nexpose(StrType.prototype.count, [\"sub\", \"p\", \"start\", \"p=\", null, \"end\", \"p=\", null]);\nexpose(StrType.prototype.find, [\"sub\", \"p\", \"start\", \"p=\", null, \"end\", \"p=\", null]);\nexpose(StrType.prototype.rfind, [\"sub\", \"p\", \"start\", \"p=\", null, \"end\", \"p=\", null]);\nexpose(StrType.prototype.replace, [\"old\", \"p\", \"new\", \"p\", \"count\", \"p=\", null]);\nexpose(StrType.prototype.strip, [\"chars\", \"p=\", null]);\nexpose(StrType.prototype.lstrip, [\"chars\", \"p=\", null]);\nexpose(StrType.prototype.rstrip, [\"chars\", \"p=\", null]);\nexpose(StrType.prototype.split, [\"sep\", \"pk=\", null, \"maxsplit\", \"pk=\", null]);\nexpose(StrType.prototype.rsplit, [\"sep\", \"pk=\", null, \"maxsplit\", \"pk=\", null]);\nexpose(StrType.prototype.splitlines, [\"keepends\", \"pk=\", false]);\nexpose(StrType.prototype.lower, []);\nexpose(StrType.prototype.upper, []);\nexpose(StrType.prototype.capitalize, []);\nexpose(StrType.prototype.join, [\"iterable\", \"p\"]);\nexpose(StrType.prototype.startswith, [\"prefix\", \"p\"]);\nexpose(StrType.prototype.endswith, [\"suffix\", \"p\"]);\nexpose(StrType.prototype, [\"obj\", \"p=\", \"\"], {name: \"str\"});\n\nexport let strtype = new StrType(null, \"str\", \"A string.\");\n\n\nexport class ListType extends Type\n{\n\t// Convert `obj` to a list\n\t[symbols.call](obj)\n\t{\n\t\tlet iter = _iter(obj);\n\n\t\tlet result = [];\n\t\tfor (;;)\n\t\t{\n\t\t\tlet value = iter.next();\n\t\t\tif (value.done)\n\t\t\t\treturn result;\n\t\t\tresult.push(value.value);\n\t\t}\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn Object.prototype.toString.call(obj) === \"[object Array]\";\n\t}\n\n\tappend(obj, items)\n\t{\n\t\tfor (let item of items)\n\t\t\tobj.push(item);\n\t\treturn null;\n\t}\n\n\tinsert(obj, pos, items)\n\t{\n\t\tif (pos < 0)\n\t\t\tpos += obj.length;\n\n\t\tfor (let item of items)\n\t\t\tobj.splice(pos++, 0, item);\n\t\treturn null;\n\t}\n\n\tpop(obj, pos)\n\t{\n\t\tif (pos < 0)\n\t\t\tpos += obj.length;\n\n\t\tlet result = obj[pos];\n\t\tobj.splice(pos, 1);\n\t\treturn result;\n\t}\n\n\tcount(obj, sub, start=null, end=null)\n\t{\n\t\treturn _count(obj, sub, start, end);\n\t}\n\n\tfind(obj, sub, start=null, end=null)\n\t{\n\t\treturn _find(obj, sub, start, end);\n\t}\n\n\trfind(obj, sub, start=null, end=null)\n\t{\n\t\treturn _rfind(obj, sub, start, end);\n\t}\n};\n\nListType.prototype.attrs = new Set([\n\t\"append\",\n\t\"insert\",\n\t\"pop\",\n\t\"count\",\n\t\"find\",\n\t\"rfind\"\n]);\n\nexpose(ListType.prototype.append, [\"items\", \"*\"]);\nexpose(ListType.prototype.insert, [\"pos\", \"p\", \"items\", \"*\"]);\nexpose(ListType.prototype.pop, [\"pos\", \"p=\", -1]);\nexpose(ListType.prototype.count, [\"sub\", \"p\", \"start\", \"p=\", null, \"end\", \"p=\", null]);\nexpose(ListType.prototype.find, [\"sub\", \"p\", \"start\", \"p=\", null, \"end\", \"p=\", null]);\nexpose(ListType.prototype.rfind, [\"sub\", \"p\", \"start\", \"p=\", null, \"end\", \"p=\", null]);\nexpose(ListType.prototype, [\"iterable\", \"p=\", []], {name: \"list\"});\n\nexport let listtype = new ListType(null, \"list\", \"A list.\");\n\n\nclass DictType extends Type\n{\n\t[symbols.call](args, kwargs)\n\t{\n\t\tlet result = new Map();\n\t\tthis.update(result, args, kwargs);\n\t\treturn result;\n\t}\n\n\t_ismap(obj)\n\t{\n\t\treturn obj !== null && typeof(obj) === \"object\" && typeof(obj.__proto__) === \"object\" && obj.__proto__ === Map.prototype;\n\t}\n\n\t_isobject(obj)\n\t{\n\t\treturn Object.prototype.toString.call(obj) === \"[object Object]\" && !(obj instanceof Proto);\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn dicttype._ismap(obj) || dicttype._isobject(obj);\n\t}\n\n\tgetattr(obj, attrname)\n\t{\n\t\tif (_ismap(obj))\n\t\t{\n\t\t\tif (this.attrs.has(attrname))\n\t\t\t{\n\t\t\t\tlet attr = this[attrname];\n\t\t\t\tlet realattr = function realattr(...args) {\n\t\t\t\t\treturn attr.apply(this, [obj, ...args]);\n\t\t\t\t};\n\t\t\t\t// Unfortunately we can't set `realattr.name`;\n\t\t\t\trealattr._ul4_name = attr._ul4_name || attr.name;\n\t\t\t\trealattr._ul4_signature = attr._ul4_signature;\n\t\t\t\trealattr._ul4_needsobject = attr._ul4_needsobject;\n\t\t\t\trealattr._ul4_needscontext = attr._ul4_needscontext;\n\t\t\t\treturn realattr;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn obj.get(attrname);\n\t\t}\n\t\telse\n\t\t{\n\t\tlet result;\n\t\tif (obj && typeof(obj[symbols.getattr]) === \"function\") // test this before the generic object test\n\t\t\tresult = obj[symbols.getattr](attrname);\n\t\telse\n\t\t\tresult = obj[attrname];\n\t\tif (typeof(result) !== \"function\")\n\t\t\treturn result;\n\t\tlet realresult = function(...args) {\n\t\t\t// We can use `apply` here, as we know that `obj` is a real object.\n\t\t\treturn result.apply(obj, args);\n\t\t};\n\t\trealresult._ul4_name = result._ul4_name || result.name;\n\t\trealresult._ul4_signature = result._ul4_signature;\n\t\trealresult._ul4_needsobject = result._ul4_needsobject;\n\t\trealresult._ul4_needscontext = result._ul4_needscontext;\n\t\treturn realresult;\n\t\t}\n\t}\n\n\tget(obj, key, default_=null)\n\t{\n\t\tif (_ismap(obj))\n\t\t{\n\t\t\tif (obj.has(key))\n\t\t\t\treturn obj.get(key);\n\t\t\treturn default_;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlet result = obj[key];\n\t\t\tif (result === undefined && !obj.hasOwnProperty(key))\n\t\t\t\treturn default_;\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tkeys(obj)\n\t{\n\t\tlet result = [];\n\t\tif (_ismap(obj))\n\t\t{\n\t\t\tfor (let [key, value] of obj)\n\t\t\t\tresult.push(key);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (let key in obj)\n\t\t\t\tresult.push(key);\n\t\t}\n\t\treturn _iter(result);\n\t}\n\n\titems(obj)\n\t{\n\t\tlet result = [];\n\t\tif (_ismap(obj))\n\t\t{\n\t\t\tfor (let [key, value] of obj)\n\t\t\t\tresult.push([key, value]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (let key in obj)\n\t\t\t\tresult.push([key, obj[key]]);\n\t\t}\n\t\treturn _iter(result);\n\t}\n\n\tvalues(obj)\n\t{\n\t\tlet result = [];\n\t\tif (_ismap(obj))\n\t\t{\n\t\t\tfor (let [key, value] of obj)\n\t\t\t\tresult.push(value);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (let key in obj)\n\t\t\t\tresult.push(obj[key]);\n\t\t}\n\t\treturn _iter(result);\n\t}\n\n\t_set(obj, key, value)\n\t{\n\t\tif (_ismap(obj))\n\t\t\tobj.set(key, value);\n\t\telse\n\t\t\tobj[key] = value;\n\t}\n\n\tupdate(obj, others, kwargs)\n\t{\n\t\tfor (let other of others)\n\t\t{\n\t\t\tif (_ismap(other))\n\t\t\t{\n\t\t\t\tfor (let [key, value] of other)\n\t\t\t\t\tdicttype._set(obj, key, value);\n\t\t\t}\n\t\t\telse if (_isobject(other))\n\t\t\t{\n\t\t\t\tfor (let key in other)\n\t\t\t\t\tdicttype._set(obj, key, other[key]);\n\t\t\t}\n\t\t\telse if (_islist(other))\n\t\t\t{\n\t\t\t\tfor (let item of other)\n\t\t\t\t{\n\t\t\t\t\tif (!_islist(item) || (item.length != 2))\n\t\t\t\t\t\tthrow new TypeError(\"update() requires a dict or a list of (key, value) pairs\");\n\t\t\t\t\tdicttype._set(obj, item[0], item[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\tthrow new TypeError(\"update() requires a dict or a list of (key, value) pairs\");\n\t\t}\n\t\tfor (let [key, value] of kwargs)\n\t\t\tdicttype._set(obj, key, value);\n\t\treturn null;\n\t}\n\n\tclear(obj)\n\t{\n\t\tif (_ismap(obj))\n\t\t\tobj.clear();\n\t\telse\n\t\t{\n\t\t\tfor (let key in obj)\n\t\t\t\tdelete obj[key];\n\t\t}\n\t\treturn null;\n\t}\n\n\tpop(obj, key, default_=Object)\n\t{\n\t\tif (_ismap(obj))\n\t\t{\n\t\t\tif (obj.has(key))\n\t\t\t{\n\t\t\t\tlet result = obj.get(key);\n\t\t\t\tobj.delete(key);\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (let [key, value] of Object.entries(obj))\n\t\t\t{\n\t\t\t\tdelete obj[key];\n\t\t\t\treturn value;\n\t\t\t}\n\t\t}\n\t\tif (default_ === Object)\n\t\t\tthrow new KeyError(obj, key);\n\t\telse\n\t\t\treturn default_;\n\t}\n};\n\nDictType.prototype.attrs = new Set([\"get\", \"keys\", \"items\", \"values\", \"update\", \"clear\", \"pop\"]);\n\nexpose(DictType.prototype, [\"args\", \"*\", \"kwargs\", \"**\"], {name: \"dict\"});\n\nexpose(DictType.prototype.get, [\"key\", \"p\", \"default\", \"p=\", null]);\nexpose(DictType.prototype.keys, []);\nexpose(DictType.prototype.items, []);\nexpose(DictType.prototype.values, []);\nexpose(DictType.prototype.update, [\"others\", \"*\", \"kwargs\", \"**\"]);\nexpose(DictType.prototype.clear, []);\nexpose(DictType.prototype.pop, [\"key\", \"p\", \"default\", \"p=\", Object]);\n\nexport let dicttype = new DictType(null, \"dict\", \"An object that maps keys to values.\");\n\n\nexport class SetType extends Type\n{\n\t// Convert `obj` to a set\n\t[symbols.call](obj=[])\n\t{\n\t\tlet iter = _iter(obj);\n\n\t\tlet result = new Set();\n\t\tfor (;;)\n\t\t{\n\t\t\tlet value = iter.next();\n\t\t\tif (value.done)\n\t\t\t\treturn result;\n\t\t\tresult.add(value.value);\n\t\t}\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn Object.prototype.toString.call(obj) === \"[object Set]\";\n\t}\n\n\tadd(obj, items)\n\t{\n\t\tfor (let item of items)\n\t\t\tobj.add(item);\n\t}\n\n\tclear(obj)\n\t{\n\t\tobj.clear();\n\t\treturn null;\n\t}\n};\n\nSetType.prototype.attrs = new Set([\"add\", \"clear\"]);\n\nexpose(SetType.prototype.add, [\"items\", \"*\"]);\nexpose(SetType.prototype.clear, []);\nexpose(SetType.prototype, [\"iterable\", \"p=\", []], {name: \"set\"});\n\nexport let settype = new SetType(null, \"set\", \"A set.\");\n\n\nexport class DateType extends Type\n{\n\t// Return a `Date` object from the arguments passed in\n\t[symbols.call](year, month, day)\n\t{\n\t\treturn new Date_(year, month, day);\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn (obj instanceof Date_);\n\t}\n\n\tweekday(obj)\n\t{\n\t\treturn datetimetype.weekday(obj._date);\n\t}\n\n\tcalendar(obj, firstweekday=0, mindaysinfirstweek=4)\n\t{\n\t\treturn datetimetype.calendar(obj._date, firstweekday, mindaysinfirstweek);\n\t}\n\n\tweek(obj, firstweekday=0, mindaysinfirstweek=4)\n\t{\n\t\treturn datetimetype.calendar(obj._date, firstweekday, mindaysinfirstweek)[1];\n\t}\n\n\tday(obj)\n\t{\n\t\treturn obj._date.getDate();\n\t}\n\n\tmonth(obj)\n\t{\n\t\treturn obj._date.getMonth()+1;\n\t}\n\n\tyear(obj)\n\t{\n\t\treturn obj._date.getFullYear();\n\t}\n\n\tdate(obj)\n\t{\n\t\treturn obj;\n\t}\n\n\tmimeformat(obj)\n\t{\n\t\tlet weekdayname = [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"];\n\t\tlet monthname = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\t\tlet d = obj._date;\n\n\t\treturn weekdayname[datetimetype.weekday(d)] + \", \" + _lpad(d.getDate(), \"0\", 2) + \" \" + monthname[d.getMonth()] + \" \" + d.getFullYear();\n\t}\n\n\tisoformat(obj)\n\t{\n\t\tlet d = obj._date;\n\t\treturn d.getFullYear() + \"-\" + _lpad((d.getMonth()+1).toString(), \"0\", 2) + \"-\" + _lpad(d.getDate().toString(), \"0\", 2);\n\t}\n\n\tyearday(obj)\n\t{\n\t\treturn datetimetype.yearday(obj._date);\n\t}\n};\n\nDateType.prototype.attrs = new Set([\n\t\"weekday\",\n\t\"week\",\n\t\"calendar\",\n\t\"day\",\n\t\"month\",\n\t\"year\",\n\t\"date\",\n\t\"mimeformat\",\n\t\"isoformat\",\n\t\"yearday\"\n]);\n\nexpose(DateType.prototype.weekday, []);\nexpose(DateType.prototype.calendar, [\"firstweekday\", \"pk=\", 0, \"mindaysinfirstweek\", \"pk=\", 4]);\nexpose(DateType.prototype.week, [\"firstweekday\", \"pk=\", 0, \"mindaysinfirstweek\", \"pk=\", 4]);\nexpose(DateType.prototype.day, []);\nexpose(DateType.prototype.month, []);\nexpose(DateType.prototype.year, []);\nexpose(DateType.prototype.date, []);\nexpose(DateType.prototype.mimeformat, []);\nexpose(DateType.prototype.isoformat, []);\nexpose(DateType.prototype.yearday, []);\nexpose(DateType.prototype, [\"year\", \"pk\", \"month\", \"pk\", \"day\", \"pk\"], {name: \"date\"});\n\nexport let datetype = new DateType(null, \"date\", \"A date\");\n\n\nexport class DateTimeType extends Type\n{\n\t[symbols.call](year, month, day, hour=0, minute=0, second=0, microsecond=0)\n\t{\n\t\treturn new Date(year, month-1, day, hour, minute, second, microsecond/1000);\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn Object.prototype.toString.call(obj) == \"[object Date]\";\n\t}\n\n\tweekday(obj)\n\t{\n\t\tlet d = obj.getDay();\n\t\treturn d ? d-1 : 6;\n\t}\n\n\tcalendar(obj, firstweekday=0, mindaysinfirstweek=4)\n\t{\n\t\t// Normalize parameters\n\t\tfirstweekday = _mod(firstweekday, 7);\n\t\tif (mindaysinfirstweek < 1)\n\t\t\tmindaysinfirstweek = 1;\n\t\telse if (mindaysinfirstweek > 7)\n\t\t\tmindaysinfirstweek = 7;\n\n\t\t// `obj` might be in the first week of the next year, or last week of\n\t\t// the previous year, so we might have to try those too.\n\t\tfor (let offset = +1; offset >= -1; --offset)\n\t\t{\n\t\t\tlet year = obj.getFullYear() + offset;\n\t\t\t// `refdate` will always be in week 1\n\t\t\tlet refDate = new Date(year, 0, mindaysinfirstweek);\n\t\t\t// Go back to the start of `refdate`s week (i.e. day 1 of week 1)\n\t\t\tlet weekDayDiff = _mod(this.weekday(refDate) - firstweekday, 7);\n\t\t\tlet weekStartYear = refDate.getFullYear();\n\t\t\tlet weekStartMonth = refDate.getMonth();\n\t\t\tlet weekStartDay = refDate.getDate() - weekDayDiff;\n\t\t\tlet weekStart = new Date(weekStartYear, weekStartMonth, weekStartDay);\n\t\t\t// Is our date `obj` at or after day 1 of week 1?\n\t\t\tif (obj.getTime() >= weekStart.getTime())\n\t\t\t{\n\t\t\t\tlet diff = SubAST.prototype._do(obj, weekStart);\n\t\t\t\t// Add 1, because the first week is week 1, not week 0\n\t\t\t\tlet week = Math.floor(diff.days()/7) + 1;\n\t\t\t\treturn [year, week, this.weekday(obj)];\n\t\t\t}\n\t\t}\n\t}\n\n\tweek(obj, firstweekday=0, mindaysinfirstweek=4)\n\t{\n\t\treturn this.calendar(obj, firstweekday, mindaysinfirstweek)[1];\n\t}\n\n\tday(obj)\n\t{\n\t\treturn obj.getDate();\n\t}\n\n\tmonth(obj)\n\t{\n\t\treturn obj.getMonth()+1;\n\t}\n\n\tyear(obj)\n\t{\n\t\treturn obj.getFullYear();\n\t}\n\n\thour(obj)\n\t{\n\t\treturn obj.getHours();\n\t}\n\n\tminute(obj)\n\t{\n\t\treturn obj.getMinutes();\n\t}\n\n\tsecond(obj)\n\t{\n\t\treturn obj.getSeconds();\n\t}\n\n\tmicrosecond(obj)\n\t{\n\t\treturn obj.getMilliseconds() * 1000;\n\t}\n\n\tdate(obj)\n\t{\n\t\treturn new Date_(datetimetype.year(obj), datetimetype.month(obj), datetimetype.day(obj));\n\t}\n\n\tmimeformat(obj)\n\t{\n\t\tlet weekdayname = [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"];\n\t\tlet monthname = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n\t\treturn weekdayname[datetimetype.weekday(obj)] + \", \" + _lpad(obj.getDate(), \"0\", 2) + \" \" + monthname[obj.getMonth()] + \" \" + obj.getFullYear() + \" \" + _lpad(obj.getHours(), \"0\", 2) + \":\" + _lpad(obj.getMinutes(), \"0\", 2) + \":\" + _lpad(obj.getSeconds(), \"0\", 2) + \" GMT\";\n\t}\n\n\tisoformat(obj)\n\t{\n\t\tlet year = obj.getFullYear();\n\t\tlet month = obj.getMonth()+1;\n\t\tlet day = obj.getDate();\n\t\tlet hour = obj.getHours();\n\t\tlet minute = obj.getMinutes();\n\t\tlet second = obj.getSeconds();\n\t\tlet ms = obj.getMilliseconds();\n\t\tlet result = year + \"-\" + _lpad(month.toString(), \"0\", 2) + \"-\" + _lpad(day.toString(), \"0\", 2) + \"T\" + _lpad(hour.toString(), \"0\", 2) + \":\" + _lpad(minute.toString(), \"0\", 2) + \":\" + _lpad(second.toString(), \"0\", 2);\n\t\tif (ms)\n\t\t\tresult += \".\" + _lpad(ms.toString(), \"0\", 3) + \"000\";\n\t\treturn result;\n\t}\n\n\tyearday(obj)\n\t{\n\t\tlet leap = _isleap(obj) ? 1 : 0;\n\t\tlet day = obj.getDate();\n\t\tswitch (obj.getMonth())\n\t\t{\n\t\t\tcase 0:\n\t\t\t\treturn day;\n\t\t\tcase 1:\n\t\t\t\treturn 31 + day;\n\t\t\tcase 2:\n\t\t\t\treturn 31 + 28 + leap + day;\n\t\t\tcase 3:\n\t\t\t\treturn 31 + 28 + leap + 31 + day;\n\t\t\tcase 4:\n\t\t\t\treturn 31 + 28 + leap + 31 + 30 + day;\n\t\t\tcase 5:\n\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + day;\n\t\t\tcase 6:\n\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + day;\n\t\t\tcase 7:\n\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + day;\n\t\t\tcase 8:\n\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + 31 + day;\n\t\t\tcase 9:\n\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + 31 + 30 + day;\n\t\t\tcase 10:\n\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + 31 + 30 + 31 + day;\n\t\t\tcase 11:\n\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + 31 + 30 + 31 + 30 + day;\n\t\t}\n\t}\n};\n\nDateTimeType.prototype.attrs = new Set([\n\t\"weekday\",\n\t\"week\",\n\t\"calendar\",\n\t\"day\",\n\t\"month\",\n\t\"year\",\n\t\"hour\",\n\t\"minute\",\n\t\"second\",\n\t\"microsecond\",\n\t\"date\",\n\t\"mimeformat\",\n\t\"isoformat\",\n\t\"yearday\"\n]);\n\nexpose(DateTimeType.prototype.weekday, []);\nexpose(DateTimeType.prototype.calendar, [\"firstweekday\", \"pk=\", 0, \"mindaysinfirstweek\", \"pk=\", 4]);\nexpose(DateTimeType.prototype.week, [\"firstweekday\", \"pk=\", 0, \"mindaysinfirstweek\", \"pk=\", 4]);\nexpose(DateTimeType.prototype.day, []);\nexpose(DateTimeType.prototype.month, []);\nexpose(DateTimeType.prototype.year, []);\nexpose(DateTimeType.prototype.hour, []);\nexpose(DateTimeType.prototype.minute, []);\nexpose(DateTimeType.prototype.second, []);\nexpose(DateTimeType.prototype.microsecond, []);\nexpose(DateTimeType.prototype.date, []);\nexpose(DateTimeType.prototype.mimeformat, []);\nexpose(DateTimeType.prototype.isoformat, []);\nexpose(DateTimeType.prototype.yearday, []);\nexpose(DateTimeType.prototype, [\"year\", \"pk\", \"month\", \"pk\", \"day\", \"pk\", \"hour\", \"pk=\", 0, \"minute\", \"pk=\", 0, \"second\", \"pk=\", 0, \"microsecond\", \"pk=\", 0], {name: \"datetime\"});\n\nexport let datetimetype = new DateTimeType(null, \"datetime\", \"A datetime\");\n\n\nexport class FunctionType extends Type\n{\n\tinstancecheck(obj)\n\t{\n\t\treturn typeof(obj) === \"function\" || _istemplate(obj);\n\t}\n};\n\nexport let functiontype = new FunctionType(null, \"function\", \"A callable function\");\n\n\nexport class GenericType extends Type\n{\n\tconstructor(constructor)\n\t{\n\t\tsuper(constructor.classmodule || null, constructor.classname || constructor.name, constructor.classdoc || null);\n\t\tthis._constructor = constructor;\n\t}\n\n\tgetattr(obj, attrname)\n\t{\n\t\tif (typeof(obj[symbols.getattr]) === \"function\")\n\t\t\treturn obj[symbols.getattr](attrname);\n\t\telse\n\t\t\tthrow new AttributeError(obj, attrname);\n\t}\n\n\thasattr(obj, attrname)\n\t{\n\t\tif (typeof(obj[symbols.getattr]) === \"function\")\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tobj[symbols.getattr](attrname);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (exc instanceof AttributeError && exc.obj === object)\n\t\t\t\t\treturn false;\n\t\t\t\telse\n\t\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn obj instanceof this._constructor;\n\t}\n}\n\n\nexport class Context\n{\n\tconstructor(vars=null, globals=null)\n\t{\n\t\tthis.vars = vars || {};\n\t\tthis.globals = _extend(builtins, globals || {});\n\t\tthis.indents = [];\n\t\tthis.escapes = [];\n\t\tthis._output = [];\n\t}\n\n\t/* Return a clone of the `Context`, but with a fresh empty `vars` objects that inherits from the previous one.\n\t * This is used by the various comprehensions to avoid leaking loop variables.\n\t */\n\tinheritvars()\n\t{\n\t\tlet context = Object.create(this);\n\t\tcontext.vars = Object.create(this.vars);\n\t\treturn context;\n\t}\n\n\t/* Return a clone of the `Context` with one additional indentation (this is used by `RenderAST`) */\n\twithindent(indent)\n\t{\n\t\tlet context = Object.create(this);\n\t\tif (indent !== null)\n\t\t{\n\t\t\tcontext.indents = this.indents.slice();\n\t\t\tcontext.indents.push(indent);\n\t\t}\n\t\treturn context;\n\t}\n\n\t/* Return a clone of the `Context` with the output buffer replaced (this is used by `renders` to collect the output in a separate buffer) */\n\treplaceoutput()\n\t{\n\t\tlet context = Object.create(this);\n\t\tcontext._output = [];\n\t\treturn context;\n\t}\n\n\treplacevars(vars)\n\t{\n\t\tlet context = Object.create(this);\n\t\tcontext.vars = vars;\n\t\treturn context;\n\t}\n\n\toutput(value)\n\t{\n\t\tfor (let escape of this.escapes)\n\t\t\tvalue = escape(value);\n\t\tthis._output.push(value);\n\t}\n\n\tgetoutput()\n\t{\n\t\treturn this._output.join(\"\");\n\t}\n\n\tget(name)\n\t{\n\t\tlet result = this.vars[name];\n\t\tif (result === undefined)\n\t\t\tresult = this.globals[name];\n\t\treturn result;\n\t}\n\n\tset(name, value)\n\t{\n\t\tthis.vars[name] = value;\n\t}\n};\n\n/// Exceptions\n\n// Note that extending `Error` doesn't work, so we do it the \"clasr\" way\nexport function Exception(message, fileName, lineNumber)\n{\n\tlet instance = new Error(message, fileName, lineNumber);\n\tif (Object.setPrototypeOf)\n\t\tObject.setPrototypeOf(instance, Object.getPrototypeOf(this));\n\telse\n\t\tinstance.__proto__ = this;\n\tinstance.context = null;\n\treturn instance;\n};\n\nException.prototype = Object.create(Error.prototype, {\n\tconstructor: {\n\t\tvalue: Error,\n\t\tenumerable: false,\n\t\twritable: true,\n\t\tconfigurable: true\n\t}\n});\n\nif (Object.setPrototypeOf)\n\tObject.setPrototypeOf(Exception, Error);\nelse\n\tException.__proto__ = Error;\n\nException.prototype[symbols.getattr] = function getattr(attrname)\n{\n\tswitch (attrname)\n\t{\n\t\tcase \"context\":\n\t\t\treturn this.context;\n\t\tdefault:\n\t\t\tthrow new AttributeError(this, attrname);\n\t}\n};\n\n// Exceptions used internally by UL4 for flow control\nexport class InternalException extends Exception\n{\n};\n\n// Control flow exceptions\nexport class ReturnException extends InternalException\n{\n\tconstructor(result)\n\t{\n\t\tsuper(\"return\");\n\t\tthis.result = result;\n\t}\n};\n\nexport class BreakException extends InternalException\n{\n\tconstructor()\n\t{\n\t\tsuper(\"break\");\n\t}\n};\n\nexport class ContinueException extends InternalException\n{\n\tconstructor()\n\t{\n\t\tsuper(\"continue\");\n\t}\n};\n\n// Real exceptions raised by various parts of UL4\nexport class SyntaxError extends Exception\n{\n};\n\nexport class LValueRequiredError extends SyntaxError\n{\n\tconstructor()\n\t{\n\t\tsuper(\"lvalue required\");\n\t}\n};\n\nexport class TypeError extends Exception\n{\n};\n\nexport class ValueError extends Exception\n{\n};\n\nexport class ArgumentError extends Exception\n{\n};\n\nexport class ParameterError extends Exception\n{\n};\n\nexport class NotSubscriptableError extends Exception\n{\n\tconstructor(obj)\n\t{\n\t\tsuper(\"Object of type \" + _type(obj).fullname() + \" is not subscriptable\");\n\t\tthis.obj = obj;\n\t}\n\n\ttoString()\n\t{\n\t\treturn \"Object of type \" + _type(this.obj).fullname() + \" is not subscriptable\";\n\t}\n};\n\nexport class ZeroDivisionError extends Exception\n{\n\tconstructor()\n\t{\n\t\tsuper(\"division by zero\");\n\t}\n};\n\nexport class IndexError extends Exception\n{\n\tconstructor(obj, index)\n\t{\n\t\tsuper(\"index \" + _repr(index) + \" out of range\");\n\t\tthis.obj = obj;\n\t\tthis.index = index;\n\t}\n\n\ttoString()\n\t{\n\t\treturn \"index \" + this.index + \" out of range for \" + _type(this.obj).fullname();\n\t}\n};\n\nexport class AttributeError extends Exception\n{\n\tconstructor(obj, attrname)\n\t{\n\t\tsuper(\"object of type \" + _type(obj).fullname() + \" has no attribute \" + _repr(attrname));\n\t\tthis.obj = obj;\n\t\tthis.attrname = attrname;\n\t}\n};\n\nexport class KeyError extends Exception\n{\n\tconstructor(obj, key)\n\t{\n\t\tsuper(\"key \"  + _repr(key) + \" not found in object of type \" + _type(obj).fullname());\n\t\tthis.obj = obj;\n\t\tthis.key = key;\n\t}\n};\n\nexport class NotImplementedError extends Exception\n{\n};\n\n/// Exception that wraps other exceptions while they bubble up the stack\nexport class LocationError extends Exception\n{\n\tconstructor(location)\n\t{\n\t\tsuper(\"nested exception in \" + _repr(location));\n\t\tthis.location = location;\n\t}\n\n\t_templateprefix()\n\t{\n\t\tlet template = this.location.template;\n\t\tlet out = [];\n\t\tif (template.parenttemplate !== null)\n\t\t\tout.push(\"in local template \");\n\t\telse\n\t\t\tout.push(\"in template \");\n\t\tlet first = true;\n\t\twhile (template != null)\n\t\t{\n\t\t\tif (first)\n\t\t\t\tfirst = false;\n\t\t\telse\n\t\t\t\tout.push(\" in \");\n\t\t\tout.push(template.name ? _repr(template.name) : \"(unnamed)\");\n\t\t\ttemplate = template.parenttemplate;\n\t\t}\n\t\treturn out.join(\"\");\n\t}\n\n\ttoString()\n\t{\n\t\tlet template = this.location.template;\n\t\tlet templateprefix = this._templateprefix();\n\n\t\tlet prefix = this.location.startsourceprefix;\n\t\tlet code = this.location.startsource;\n\t\tlet suffix = this.location.startsourcesuffix;\n\t\tprefix = _repr(prefix).slice(1, -1);\n\t\tcode = _repr(code).slice(1, -1);\n\t\tsuffix = _repr(suffix).slice(1, -1);\n\n\t\tlet text = prefix + code + suffix;\n\t\tlet underline = _str_repeat(\"\\u00a0\", prefix.length) + _str_repeat(\"~\", code.length);\n\n\t\tlet pos = \"offset \" + this.location.pos.start + \":\" + this.location.pos.stop + \"; line \" + this.location.startline + \"; col \" + this.location.startcol;\n\n\t\tlet message = templateprefix + \": \" + pos + \"\\n\" + text + \"\\n\" + underline;\n\t\treturn message;\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"context\":\n\t\t\t\treturn this.context;\n\t\t\tcase \"location\":\n\t\t\t\treturn this.location;\n\t\t\tdefault:\n\t\t\t\tthrow new AttributeError(this, attrname);\n\t\t}\n\t}\n};\n\n/// Classes for the syntax tree\nexport class AST extends Proto\n{\n\tstatic classmodule = \"ul4\";\n\tstatic classdoc = \"Base class for all UL4 syntax tree nodes.\";\n\n\tconstructor(template, startposstart, startposstop, stopposstart=-1, stopposstop=-1)\n\t{\n\t\tsuper();\n\t\tthis.template = template;\n\t\tthis.startposstart = startposstart;\n\t\tthis.startposstop = startposstop;\n\t\tthis._startline = null;\n\t\tthis._startcol = null;\n\t\tthis.stopposstart = stopposstart;\n\t\tthis.stopposstop = stopposstop;\n\t\tthis._stopline = null;\n\t\tthis._stopcol = null;\n\t}\n\n\tget startline()\n\t{\n\t\tif (this._startline === null)\n\t\t\t[this._startline, this._startcol] = _lineColFromPos(this.template._source, this.startposstart);\n\t\treturn this._startline;\n\t}\n\n\tget startcol()\n\t{\n\t\tif (this._startcol === null)\n\t\t\t[this._startline, this._startcol] = _lineColFromPos(this.template._source, this.startposstart);\n\t\treturn this._startcol;\n\t}\n\n\tget startsource()\n\t{\n\t\treturn this.template._source.slice(this.startposstart, this.startposstop);\n\t}\n\n\tget startsourceprefix()\n\t{\n\t\treturn _sourceprefix(this.template._source, this.startposstart);\n\t}\n\n\tget startsourcesuffix()\n\t{\n\t\treturn _sourcesuffix(this.template._source, this.startposstop);\n\t}\n\n\tget fullsource()\n\t{\n\t\treturn this.template._source;\n\t}\n\n\tget startpos()\n\t{\n\t\treturn new slice(this.startposstart, this.startposstop);\n\t}\n\n\tget stoppos()\n\t{\n\t\treturn this.stopposstart == -1 ? null : new slice(this.stopposstart, this.stopposstop);\n\t}\n\n\tget pos()\n\t{\n\t\treturn new slice(this.startposstart, this.stopposstop === -1 ? this.startposstop : this.stopposstop);\n\t}\n\n\tget source()\n\t{\n\t\treturn this.template._source.slice(this.startposstart, this.stopposstop === -1 ? this.startposstop : this.stopposstop);\n\t}\n\n\tget sourceprefix()\n\t{\n\t\treturn _sourceprefix(this.template._source, this.startposstart);\n\t}\n\n\tget sourcesuffix()\n\t{\n\t\treturn _sourcesuffix(this.template._source, this.stopposstop === -1 ? this.startposstop : this.stopposstop);\n\t}\n\n\tget stopline()\n\t{\n\t\tif (this._stopline === null)\n\t\t\t[this._stopline, this._stopcol] = _lineColFromPos(this.template._source, this.stopposstop);\n\t\treturn this._stopline;\n\t}\n\n\tget stopcol()\n\t{\n\t\tif (this._stopcol === null)\n\t\t\t[this._stopline, this._stopcol] = _lineColFromPos(this.template._source, this.stopposstop);\n\t\treturn this._stopcol;\n\t}\n\n\tget stopsource()\n\t{\n\t\treturn this.stoppos != null ? this.template._source.slice(this.stopposstart, this.stopposstop) : null;\n\t}\n\n\tget stopsourceprefix()\n\t{\n\t\treturn this.stoppos != null ? _sourceprefix(this.template._source, this.stopposstart) : null;\n\t}\n\n\tget stopsourcesuffix()\n\t{\n\t\treturn this.stoppos != null ? _sourcesuffix(this.template._source, this.stopposstop) : null;\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tif (\n\t\t\tattrname === \"type\" ||\n\t\t\tattrname === \"startpos\" ||\n\t\t\tattrname === \"startline\" ||\n\t\t\tattrname === \"startcol\" ||\n\t\t\tattrname === \"startsource\" ||\n\t\t\tattrname === \"startsourceprefix\" ||\n\t\t\tattrname === \"startsourcesuffix\" ||\n\t\t\tattrname === \"pos\" ||\n\t\t\tattrname === \"source\" ||\n\t\t\tattrname === \"sourceprefix\" ||\n\t\t\tattrname === \"sourcesuffix\" ||\n\t\t\tattrname === \"fullsource\"\n\t\t)\n\t\t\treturn this[attrname];\n\t\telse if (this._ul4onattrs.indexOf(attrname) >= 0)\n\t\t\treturn this[attrname];\n\t\tthrow new AttributeError(this, attrname);\n\t}\n\n\t[symbols.setitem](attrname, value)\n\t{\n\t\tthrow new TypeError(\"object is immutable\");\n\t}\n\n\t[symbols.str]()\n\t{\n\t\tlet out = [];\n\t\tthis._str(out);\n\t\treturn _formatsource(out);\n\t}\n\n\t[symbols.repr]()\n\t{\n\t\tlet out = [];\n\t\tthis._repr(out);\n\t\treturn _formatsource(out);\n\t}\n\n\t_decorate_exception(exc)\n\t{\n\t\twhile (exc.context !== undefined && exc.context !== null)\n\t\t\texc = exc.context;\n\t\texc.context = new LocationError(this);\n\t}\n\n\t_handle_eval(context)\n\t{\n\t\ttry\n\t\t{\n\t\t\treturn this._eval(context);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (!exc.context)\n\t\t\t\tthis._decorate_exception(exc);\n\t\t\tthrow exc;\n\t\t}\n\t}\n\n\t_handle_eval_set(context, value)\n\t{\n\t\ttry\n\t\t{\n\t\t\treturn this._eval_set(context, value);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (!(exc instanceof LocationError))\n\t\t\t\tthis._decorate_exception(exc);\n\t\t\tthrow exc;\n\t\t}\n\t}\n\n\t_eval_set(context, value)\n\t{\n\t\tthrow new LValueRequiredError();\n\t}\n\n\t_handle_eval_modify(context, operator, value)\n\t{\n\t\ttry\n\t\t{\n\t\t\treturn this._eval_modify(context, operator, value);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (!(exc instanceof LocationError))\n\t\t\t\tthis._decorate_exception(exc);\n\t\t\tthrow exc;\n\t\t}\n\t}\n\n\t_eval_modify(context, operator, value)\n\t{\n\t\tthrow new LValueRequiredError();\n\t}\n\n\t_repr(out)\n\t{\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(this.source.replace(/\\r?\\n/g, ' '));\n\t}\n\n\tul4ondump(encoder)\n\t{\n\t\tfor (let attrname of this._ul4onattrs)\n\t\t\tencoder.dump(this[attrname]);\n\t}\n\n\tul4onload(decoder)\n\t{\n\t\tfor (let attrname of this._ul4onattrs)\n\t\t\tthis[attrname] = decoder.load();\n\t}\n};\n\n// used in ul4ondump/ul4ondump to automatically dump these attributes\nAST.prototype._ul4onattrs = [\"template\", \"startposstart\", \"startposstop\"];\n\nexport class TextAST extends AST\n{\n\tstatic classdoc = \"AST node for literal text (i.e. the stuff between tags).\";\n\n\tconstructor(template, posstart, posstop, text)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.text = text;\n\t}\n\n\t_eval(context)\n\t{\n\t\tcontext.output(this.text);\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"text \", _repr(this.text));\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" \", _repr(this.text), \">\");\n\t}\n};\n\nTextAST.prototype._ul4onattrs = AST.prototype._ul4onattrs.concat([\"text\"]);\n\nexport class IndentAST extends TextAST\n{\n\tstatic classdoc = \"AST node for literal text that is an indentation at the start of the line.\";\n\n\t_eval(context)\n\t{\n\t\tfor (let indent of context.indents)\n\t\t\tcontext.output(indent);\n\t\tcontext.output(this.text);\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"indent \", _repr(this.text));\n\t}\n};\n\nexport class LineEndAST extends TextAST\n{\n\tstatic classdoc = \"AST node for literal text that is the end of a line.\";\n\n\t_str(out)\n\t{\n\t\tout.push(\"lineend \", _repr(this.text));\n\t}\n};\n\nexport class CodeAST extends AST\n{\n\tstatic classdoc = \"The base class of all AST nodes that are not literal text.\";\n};\n\nexport class ConstAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for a constant value.\";\n\n\tconstructor(template, posstart, posstop, value)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.value = value;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" \", _repr(this.value), \">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\treturn this.value;\n\t}\n};\n\nConstAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"value\"]);\n\nexport class ItemArgBase extends CodeAST\n{\n\t_handle_eval_list(context, result)\n\t{\n\t\ttry\n\t\t{\n\t\t\treturn this._eval_list(context, result);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (!(exc instanceof InternalException) && !(exc instanceof LocationError))\n\t\t\t\tthis._decorate_exception(exc);\n\t\t\tthrow exc;\n\t\t}\n\t}\n\n\t_handle_eval_set(context, result)\n\t{\n\t\ttry\n\t\t{\n\t\t\treturn this._eval_set(context, result);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (!(exc instanceof InternalException) && !(exc instanceof LocationError))\n\t\t\t\tthis._decorate_exception(exc);\n\t\t\tthrow exc;\n\t\t}\n\t}\n\n\t_handle_eval_dict(context, result)\n\t{\n\t\ttry\n\t\t{\n\t\t\treturn this._eval_dict(context, result);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (!(exc instanceof InternalException) && !(exc instanceof LocationError))\n\t\t\t\tthis._decorate_exception(exc);\n\t\t\tthrow exc;\n\t\t}\n\t}\n\n\t_handle_eval_call(context, args, kwargs)\n\t{\n\t\ttry\n\t\t{\n\t\t\treturn this._eval_call(context, args, kwargs);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (!(exc instanceof InternalException) && !(exc instanceof LocationError))\n\t\t\t\tthis._decorate_exception(exc);\n\t\t\tthrow exc;\n\t\t}\n\t}\n};\n\nexport class SeqItemAST extends ItemArgBase\n{\n\tstatic classdoc = \"AST node for an item in a list/set \\\"literal\\\" (e.g. ``{x, y}`` or ``[x, y]``)\";\n\n\tconstructor(template, posstart, posstop, value)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.value = value;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" value=\", _repr(this.value), \">\");\n\t}\n\n\t_eval_list(context, result)\n\t{\n\t\tlet value = this.value._handle_eval(context);\n\t\tresult.push(value);\n\t}\n\n\t_eval_set(context, result)\n\t{\n\t\tlet value = this.value._handle_eval(context);\n\t\tresult.add(value);\n\t}\n};\n\nSeqItemAST.prototype._ul4onattrs = ItemArgBase.prototype._ul4onattrs.concat([\"value\"]);\n\nexport class UnpackSeqItemAST extends ItemArgBase\n{\n\tstatic classdoc = \"AST node for an ``*`` unpacking expression in a list/set \\\"literal\\\"\\n(e.g. the ``y`` in ``{x, *y}`` or ``[x, *y]``)\";\n\n\tconstructor(template, posstart, posstop, value)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.value = value;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" value=\", _repr(this.value), \">\");\n\t}\n\n\t_eval_list(context, result)\n\t{\n\t\tlet value = this.value._handle_eval(context);\n\t\tfor (let iter = _iter(value);;)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\tbreak;\n\t\t\tresult.push(item.value);\n\t\t}\n\t}\n\n\t_eval_set(context, result)\n\t{\n\t\tlet value = this.value._handle_eval(context);\n\t\tfor (let iter = _iter(value);;)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\tbreak;\n\t\t\tresult.add(item.value);\n\t\t}\n\t}\n};\n\nUnpackSeqItemAST.prototype._ul4onattrs = ItemArgBase.prototype._ul4onattrs.concat([\"value\"]);\n\nexport class DictItemAST extends ItemArgBase\n{\n\tstatic classdoc = \"AST node for a dictionary entry in a dict expression (:class:`DictAST`).\";\n\n\tconstructor(template, posstart, posstop, key, value)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.key = key;\n\t\tthis.value = value;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\n\t\t\t\"<\",\n\t\t\tthis.constructor.name,\n\t\t\t\" key=\",\n\t\t\t_repr(this.key),\n\t\t\t\" value=\",\n\t\t\t_repr(this.value),\n\t\t\t\">\"\n\t\t);\n\t}\n\n\t_eval_dict(context, result)\n\t{\n\t\tlet key = this.key._handle_eval(context);\n\t\tlet value = this.value._handle_eval(context);\n\t\tresult.set(key, value);\n\t}\n};\n\nDictItemAST.prototype._ul4onattrs = ItemArgBase.prototype._ul4onattrs.concat([\"key\", \"value\"]);\n\nexport class UnpackDictItemAST extends ItemArgBase\n{\n\tstatic classdoc = \"AST node for ``**`` unpacking expressions in dict \\\"literal\\\"\\n(e.g. the ``**u`` in ``{k: v, **u}``).\";\n\n\tconstructor(template, posstart, posstop, item)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.item = item;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" item=\", _repr(this.item), \">\");\n\t}\n\n\t_eval_dict(context, result)\n\t{\n\t\tlet item = this.item._handle_eval(context);\n\t\tif (_isiter(item))\n\t\t{\n\t\t\tfor (;;)\n\t\t\t{\n\t\t\t\tlet subitem = item.next();\n\t\t\t\tif (subitem.done)\n\t\t\t\t\tbreak;\n\t\t\t\tif (!_islist(subitem.value) || subitem.value.length != 2)\n\t\t\t\t\tthrow new ArgumentError(\"** requires an iterable of (key, value) pairs\");\n\t\t\t\tresult.set(subitem.value[0], subitem.value[1]);\n\t\t\t}\n\t\t}\n\t\telse if (_islist(item))\n\t\t{\n\t\t\tfor (let subitem of item)\n\t\t\t{\n\t\t\t\tif (!_islist(subitem) || subitem.length != 2)\n\t\t\t\t\tthrow new ArgumentError(\"** requires a list of (key, value) pairs\");\n\t\t\t\tresult.set(subitem[0], subitem[1]);\n\t\t\t}\n\t\t}\n\t\telse if (_ismap(item))\n\t\t{\n\t\t\tfor (let [key, value] of item)\n\t\t\t\tresult.set(key, value);\n\t\t}\n\t\telse if (_isobject(item))\n\t\t{\n\t\t\tfor (let key in item)\n\t\t\t\tresult.set(key, item[key]);\n\t\t}\n\t}\n};\n\nUnpackDictItemAST.prototype._ul4onattrs = ItemArgBase.prototype._ul4onattrs.concat([\"item\"]);\n\nexport class PositionalArgumentAST extends ItemArgBase\n{\n\tstatic classdoc = \"AST node for a positional argument. (e.g. the ``x`` in ``f(x)``).\";\n\n\tconstructor(template, posstart, posstop, value)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.value = value;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" value=\", _repr(this.value), \">\");\n\t}\n\n\t_eval_call(context, args, kwargs)\n\t{\n\t\tlet value = this.value._handle_eval(context);\n\t\targs.push(value);\n\t}\n};\n\nPositionalArgumentAST.prototype._ul4onattrs = ItemArgBase.prototype._ul4onattrs.concat([\"value\"]);\n\nexport class KeywordArgumentAST extends ItemArgBase\n{\n\tstatic classdoc = \"AST node for a keyword argument in a :class:`CallAST` (e.g. the ``x=y``\\nin the function call ``f(x=y)``).\";\n\n\tconstructor(template, posstart, posstop, name, value)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.name = name;\n\t\tthis.value = value;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\n\t\t\t\"<\",\n\t\t\tthis.constructor.name,\n\t\t\t\" name=\",\n\t\t\t_repr(this.name),\n\t\t\t\" value=\",\n\t\t\t_repr(this.value),\n\t\t\t\">\"\n\t\t);\n\t}\n\n\t_eval_call(context, args, kwargs)\n\t{\n\t\tif (kwargs.hasOwnProperty(this.name))\n\t\t\tthrow new ArgumentError(\"duplicate keyword argument \" + this.name);\n\t\tlet value = this.value._handle_eval(context);\n\t\tkwargs[this.name] = value;\n\t}\n};\n\nKeywordArgumentAST.prototype._ul4onattrs = ItemArgBase.prototype._ul4onattrs.concat([\"name\", \"value\"]);\n\nexport class UnpackListArgumentAST extends ItemArgBase\n{\n\tstatic classdoc = \"AST node for an ``*`` unpacking expressions in a :class:`CallAST`\\n(e.g. the ``*x`` in ``f(*x)``).\";\n\n\tconstructor(template, posstart, posstop, item)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.item = item;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" item=\", _repr(this.item), \">\");\n\t}\n\n\t_eval_call(context, args, kwargs)\n\t{\n\t\tlet item = this.item._handle_eval(context);\n\t\targs.push(...item);\n\t}\n};\n\nUnpackListArgumentAST.prototype._ul4onattrs = ItemArgBase.prototype._ul4onattrs.concat([\"item\"]);\n\nexport class UnpackDictArgumentAST extends ItemArgBase\n{\n\tstatic classdoc = \"AST node for an ``**`` unpacking expressions in a :class:`CallAST`\\n(e.g. the ``**x`` in ``f(**x)``).\";\n\n\tconstructor(template, posstart, posstop, item)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.item = item;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" item=\", _repr(this.item), \">\");\n\t}\n\n\t_eval_call(context, args, kwargs)\n\t{\n\t\tlet item = this.item._handle_eval(context);\n\t\tif (_islist(item))\n\t\t{\n\t\t\tfor (let subitem of item)\n\t\t\t{\n\t\t\t\tif (!_islist(subitem) || subitem.length != 2)\n\t\t\t\t\tthrow new ArgumentError(\"** requires a list of (key, value) pairs\");\n\t\t\t\tlet [key, value] = subitem;\n\t\t\t\tif (kwargs.hasOwnProperty(key))\n\t\t\t\t\tthrow new ArgumentError(\"duplicate keyword argument \" + key);\n\t\t\t\tkwargs[key] = value;\n\t\t\t}\n\t\t}\n\t\telse if (_ismap(item))\n\t\t{\n\t\t\tfor (let [key, value] of item)\n\t\t\t{\n\t\t\t\tif (kwargs.hasOwnProperty(key))\n\t\t\t\t\tthrow new ArgumentError(\"duplicate keyword argument \" + key);\n\t\t\t\tkwargs[key] = value;\n\t\t\t}\n\t\t}\n\t\telse if (_isobject(item))\n\t\t{\n\t\t\tfor (let key in item)\n\t\t\t{\n\t\t\t\tif (kwargs.hasOwnProperty(key))\n\t\t\t\t\tthrow new ArgumentError(\"duplicate keyword argument \" + key);\n\t\t\t\tkwargs[key] = item[key];\n\t\t\t}\n\t\t}\n\t}\n};\n\nUnpackDictArgumentAST.prototype._ul4onattrs = ItemArgBase.prototype._ul4onattrs.concat([\"item\"]);\n\nexport class ListAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for creating a list object (e.g. ``[x, y, *z]``).\";\n\n\tconstructor(template, posstart, posstop)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.items = [];\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name);\n\t\tfor (let item of this.items)\n\t\t{\n\t\t\tout.push(\" \");\n\t\t\titem._repr(out);\n\t\t}\n\t\tout.push(\">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet result = [];\n\t\tfor (let item of this.items)\n\t\t\titem._handle_eval_list(context, result);\n\t\treturn result;\n\t}\n};\n\nListAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"items\"]);\n\nexport class ListComprehensionAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for a list comprehension (e.g. ``[v for (a, b) in w if c]``.\";\n\n\tconstructor(template, posstart, posstop, item, varname, container, condition)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.item = item;\n\t\tthis.varname = varname;\n\t\tthis.container = container;\n\t\tthis.condition = condition;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" item=\");\n\t\tthis.item._repr(out);\n\t\tout.push(\" varname=\", _repr(this.varname), \" container=\");\n\t\tthis.container._repr(out);\n\t\tif (this.condition !== null)\n\t\t{\n\t\t\tout.push(\" condition=\");\n\t\t\tthis.condition._repr(out);\n\t\t}\n\t\tout.push(\">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet container = this.container._handle_eval(context);\n\n\t\tlet localcontext = context.inheritvars();\n\n\t\tlet result = [];\n\t\tfor (let iter = _iter(container);;)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\tbreak;\n\t\t\tlet varitems = _unpackvar(this.varname, item.value);\n\t\t\tfor (let [lvalue, value] of varitems)\n\t\t\t\tlvalue._handle_eval_set(localcontext, value);\n\t\t\tif (this.condition === null || _bool(this.condition._handle_eval(localcontext)))\n\t\t\t\tresult.push(this.item._handle_eval(localcontext));\n\t\t}\n\t\treturn result;\n\t}\n};\n\nListComprehensionAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"item\", \"varname\", \"container\", \"condition\"]);\n\nexport class SetAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for creating a set object (e.g. ``{x, y, *z}``.\";\n\n\tconstructor(template, posstart, posstop)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.items = [];\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name);\n\t\tfor (let item of this.items)\n\t\t{\n\t\t\tout.push(\" \");\n\t\t\titem._repr(out);\n\t\t}\n\t\tout.push(\">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet result = new Set();\n\n\t\tfor (let item of this.items)\n\t\t\titem._handle_eval_set(context, result);\n\n\t\treturn result;\n\t}\n};\n\nSetAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"items\"]);\n\nexport class SetComprehensionAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for a set comprehension (e.g. ``{v for (a, b) in w if c}``.\";\n\n\tconstructor(template, posstart, posstop, item, varname, container, condition)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.item = item;\n\t\tthis.varname = varname;\n\t\tthis.container = container;\n\t\tthis.condition = condition;\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"item\":\n\t\t\t\treturn this.item;\n\t\t\tcase \"varname\":\n\t\t\t\treturn this.varname;\n\t\t\tcase \"container\":\n\t\t\t\treturn this.container;\n\t\t\tcase \"condition\":\n\t\t\t\treturn this.condition;\n\t\t\tdefault:\n\t\t\t\treturn super[symbols.getattr](attrname);\n\t\t}\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" item=\");\n\t\tthis.item._repr(out);\n\t\tout.push(\" varname=\");\n\t\tthis.varname._repr(out);\n\t\tout.push(\" container=\");\n\t\tthis.container._repr(out);\n\t\tif (this.condition !== null)\n\t\t{\n\t\t\tout.push(\" condition=\");\n\t\t\tthis.condition._repr(out);\n\t\t}\n\t\tout.push(\">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet container = this.container._handle_eval(context);\n\n\t\tlet localcontext = context.inheritvars();\n\n\t\tlet result = new Set();\n\t\tfor (let iter = _iter(container);;)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\tbreak;\n\t\t\tlet varitems = _unpackvar(this.varname, item.value);\n\t\t\tfor (let [lvalue, value] of varitems)\n\t\t\t\tlvalue._handle_eval_set(localcontext, value);\n\t\t\tif (this.condition === null || _bool(this.condition._handle_eval(localcontext)))\n\t\t\t\tresult.add(this.item._handle_eval(localcontext));\n\t\t}\n\n\t\treturn result;\n\t}\n};\n\nSetComprehensionAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"item\", \"varname\", \"container\", \"condition\"]);\n\nexport class DictAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for creating a dict object (e.g. `{k: v, **u}`.\";\n\n\tconstructor(template, posstart, posstop)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.items = [];\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"items\":\n\t\t\t\treturn this.items;\n\t\t\tdefault:\n\t\t\t\treturn super[symbols.getattr](attrname);\n\t\t}\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name);\n\t\tfor (let item of this.items)\n\t\t{\n\t\t\tout.push(\" \");\n\t\t\titem._repr(out);\n\t\t}\n\t\tout.push(\">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet result = new Map();\n\t\tfor (let item of this.items)\n\t\t\titem._handle_eval_dict(context, result);\n\t\treturn result;\n\t}\n};\n\nDictAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"items\"]);\n\nexport class DictComprehensionAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for a dictionary comprehension (e.g. ``{k: v for (a, b) in w if c}``.\";\n\n\tconstructor(template, posstart, posstop, key, value, varname, container, condition)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.key = key;\n\t\tthis.value = value;\n\t\tthis.varname = varname;\n\t\tthis.container = container;\n\t\tthis.condition = condition;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" key=\");\n\t\tthis.key._repr(out);\n\t\tout.push(\" value=\");\n\t\tthis.value._repr(out);\n\t\tout.push(\" varname=\");\n\t\tthis.varname._repr(out);\n\t\tout.push(\" container=\");\n\t\tthis.container._repr(out);\n\t\tif (this.condition !== null)\n\t\t{\n\t\t\tout.push(\" condition=\");\n\t\t\tthis.condition._repr(out);\n\t\t}\n\t\tout.push(\">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet container = this.container._handle_eval(context);\n\n\t\tlet localcontext = context.inheritvars();\n\n\t\tlet result = new Map();\n\n\t\tfor (let iter = _iter(container);;)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\tbreak;\n\t\t\tlet varitems = _unpackvar(this.varname, item.value);\n\t\t\tfor (let [lvalue, value] of varitems)\n\t\t\t\tlvalue._handle_eval_set(localcontext, value);\n\t\t\tif (this.condition === null || _bool(this.condition._handle_eval(localcontext)))\n\t\t\t{\n\t\t\t\tlet key = this.key._handle_eval(localcontext);\n\t\t\t\tlet value = this.value._handle_eval(localcontext);\n\t\t\t\tresult.set(key, value);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n};\n\nDictComprehensionAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"key\", \"value\", \"varname\", \"container\", \"condition\"]);\n\nexport class GeneratorExpressionAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for a generator expression (e.g. ``(x for (a, b) in w if c)``).\";\n\n\tconstructor(template, posstart, posstop, item, varname, container, condition)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.item = item;\n\t\tthis.varname = varname;\n\t\tthis.container = container;\n\t\tthis.condition = condition;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" item=\");\n\t\tthis.item._repr(out);\n\t\tout.push(\" varname=\");\n\t\tthis.varname._repr(out);\n\t\tout.push(\" container=\");\n\t\tthis.container._repr(out);\n\t\tif (this.condition !== null)\n\t\t{\n\t\t\tout.push(\" condition=\");\n\t\t\tthis.condition._repr(out);\n\t\t}\n\t\tout.push(\">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet container = this.container._handle_eval(context);\n\t\tlet iter = _iter(container);\n\n\t\tlet localcontext = context.inheritvars();\n\n\t\tlet self = this;\n\n\t\tlet result = {\n\t\t\tnext: function(){\n\t\t\t\twhile (true)\n\t\t\t\t{\n\t\t\t\t\tlet item = iter.next();\n\t\t\t\t\tif (item.done)\n\t\t\t\t\t\treturn item;\n\t\t\t\t\tlet varitems = _unpackvar(self.varname, item.value);\n\t\t\t\t\tfor (let [lvalue, value] of varitems)\n\t\t\t\t\t\tlvalue._handle_eval_set(localcontext, value);\n\t\t\t\t\tif (self.condition === null || _bool(self.condition._handle_eval(localcontext)))\n\t\t\t\t\t{\n\t\t\t\t\t\tlet value = self.item._handle_eval(localcontext);\n\t\t\t\t\t\treturn {value: value, done: false};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\treturn result;\n\t}\n};\n\nGeneratorExpressionAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"item\", \"varname\", \"container\", \"condition\"]);\n\nexport class VarAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for getting a variable.\";\n\n\tconstructor(template, posstart, posstop, name)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.name = name;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" name=\", _repr(this.name), \">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\treturn this._get(context, this.name);\n\t}\n\n\t_eval_set(context, value)\n\t{\n\t\tthis._set(context, this.name, value);\n\t}\n\n\t_eval_modify(context, operator, value)\n\t{\n\t\tthis._modify(context, operator, this.name, value);\n\t}\n\n\t_get(context, name)\n\t{\n\t\treturn context.get(name);\n\t}\n\n\t_set(context, name, value)\n\t{\n\t\tcontext.set(name, value);\n\t}\n\n\t_modify(context, operator, name, value)\n\t{\n\t\tlet newvalue = operator._ido(context.get(name), value);\n\t\tcontext.set(name, newvalue);\n\t}\n};\n\nVarAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"name\"]);\n\nexport class UnaryAST extends CodeAST\n{\n\tstatic classdoc = \"Base class for all AST nodes implementing unary expressions\\n(i.e. operators with one operand).\";\n\n\tconstructor(template, posstart, posstop, obj)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.obj = obj;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" obj=\");\n\t\tthis.obj._repr(out);\n\t\tout.push(\">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet obj = this.obj._handle_eval(context);\n\t\treturn this._do(obj);\n\t}\n};\n\nUnaryAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"obj\"]);\n\n// Negation\nexport class NegAST extends UnaryAST\n{\n\tstatic classdoc = \"AST node for a unary negation expression (e.g. ``-x``).\";\n\n\t_do(obj)\n\t{\n\t\tif (obj !== null && typeof(obj[symbols.neg]) === \"function\")\n\t\t\treturn obj[symbols.neg]();\n\t\treturn -obj;\n\t}\n};\n\n// Bitwise not\nexport class BitNotAST extends UnaryAST\n{\n\tstatic classdoc = \"AST node for a bitwise unary \\\"not\\\" expression that returns its operand\\nwith its bits inverted (e.g. ``~x``).\";\n\n\t_do(obj)\n\t{\n\t\treturn -obj-1;\n\t}\n};\n\n// Not\nexport class NotAST extends UnaryAST\n{\n\tstatic classdoc = \"AST node for a unary \\\"not\\\" expression (e.g. ``not x``).\";\n\n\t_do(obj)\n\t{\n\t\treturn !_bool(obj);\n\t}\n};\n\n// If expression\nexport class IfAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for the ternary inline ``if/else`` operator (e.g. ``x if y else z``).\";\n\n\tconstructor(template, posstart, posstop, objif, objcond, objelse)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.objif = objif;\n\t\tthis.objcond = objcond;\n\t\tthis.objelse = objelse;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\n\t\t\t\"<\",\n\t\t\tthis.constructor.name,\n\t\t\t+1,\n\t\t\t\"objif=\"\n\t\t);\n\t\tthis.objif._repr(out);\n\t\tout.push(0, \"objcond=\");\n\t\tthis.objcond._repr(out);\n\t\tout.push(0, \"objelse=\");\n\t\tthis.objelse._repr(out);\n\t\tout.push(-1, \">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet result;\n\t\tlet condvalue = this.objcond._handle_eval(context);\n\t\tif (_bool(condvalue))\n\t\t\tresult = this.objif._handle_eval(context);\n\t\telse\n\t\t\tresult = this.objelse._handle_eval(context);\n\t\treturn result;\n\t}\n};\n\nIfAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"objif\", \"objcond\", \"objelse\"]);\n\nexport class ReturnAST extends UnaryAST\n{\n\tstatic classdoc = \"AST node for a ``<?return?>`` tag (e.g. ``<?return x?>``).\";\n\n\t_eval(context)\n\t{\n\t\tlet result = this.obj._handle_eval(context);\n\t\tthrow new ReturnException(result);\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"return \");\n\t\tthis.obj._str(out);\n\t}\n};\n\nexport class PrintAST extends UnaryAST\n{\n\tstatic classdoc = \"AST node for a ``<?print?>`` tag (e.g. ``<?print x?>``).\";\n\n\t_eval(context)\n\t{\n\t\tlet obj = this.obj._handle_eval(context);\n\t\tlet output = _str(obj);\n\t\tcontext.output(output);\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"print \");\n\t\tthis.obj._str(out);\n\t}\n};\n\nexport class PrintXAST extends UnaryAST\n{\n\tstatic classdoc = \"AST node for a ``<?printx?>`` tag (e.g. ``<?printx x?>``).\";\n\n\t_eval(context)\n\t{\n\t\tlet obj = this.obj._handle_eval(context);\n\t\tlet output = _xmlescape(obj);\n\t\tcontext.output(output);\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"printx \");\n\t\tthis.obj._str(out);\n\t}\n};\n\nexport class BinaryAST extends CodeAST\n{\n\tstatic classdoc = \"Base class for all UL4 AST nodes implementing binary expressions\\n(i.e. operators with two operands).\";\n\n\tconstructor(template, posstart, posstop, obj1, obj2)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.obj1 = obj1;\n\t\tthis.obj2 = obj2;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" obj1=\");\n\t\tthis.obj1._repr(out);\n\t\tout.push(\" obj2=\");\n\t\tthis.obj2._repr(out);\n\t\tout.push(\">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet obj1 = this.obj1._handle_eval(context);\n\t\tlet obj2 = this.obj2._handle_eval(context);\n\t\treturn this._do(obj1, obj2);\n\t}\n};\n\nBinaryAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"obj1\", \"obj2\"]);\n\n// Item access and assignment (`x[y]`): dict[key], list[index], string[index], color[index]\nexport class ItemAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for subscripting expression (e.g. ``x[y]``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tlet result = this._get(obj1, obj2);\n\t\treturn result;\n\t}\n\n\t_eval_set(context, value)\n\t{\n\t\tlet obj1 = this.obj1._handle_eval(context);\n\t\tlet obj2 = this.obj2._handle_eval(context);\n\t\tthis._set(obj1, obj2, value);\n\t}\n\n\t_eval_modify(context, operator, value)\n\t{\n\t\tlet obj1 = this.obj1._handle_eval(context);\n\t\tlet obj2 = this.obj2._handle_eval(context);\n\t\tthis._modify(operator, obj1, obj2, value);\n\t}\n\n\t_get(container, key)\n\t{\n\t\tif (typeof(container) === \"string\" || _islist(container))\n\t\t{\n\t\t\tif (key instanceof slice)\n\t\t\t{\n\t\t\t\tlet start = key.start, stop = key.stop;\n\t\t\t\tif (start === undefined || start === null)\n\t\t\t\t\tstart = 0;\n\t\t\t\tif (stop === undefined || stop === null)\n\t\t\t\t\tstop = container.length;\n\t\t\t\treturn container.slice(start, stop);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet orgkey = key;\n\t\t\t\tif (key < 0)\n\t\t\t\t\tkey += container.length;\n\t\t\t\tif (key < 0 || key >= container.length)\n\t\t\t\t\tthrow new IndexError(container, orgkey);\n\t\t\t\treturn container[key];\n\t\t\t}\n\t\t}\n\t\telse if (container && typeof(container[symbols.getitem]) === \"function\") // objects without `_getitem__` don't support item access\n\t\t\treturn container[symbols.getitem](key);\n\t\telse if (_ismap(container))\n\t\t\treturn container.get(key);\n\t\telse if (_isobject(container))\n\t\t\treturn container[key];\n\t\telse\n\t\t\tthrow new TypeError(_type(container).fullname() + \" object is not subscriptable\");\n\t}\n\n\t_set(container, key, value)\n\t{\n\t\tif (_islist(container))\n\t\t{\n\t\t\tif (key instanceof slice)\n\t\t\t{\n\t\t\t\tlet start = key.start, stop = key.stop;\n\t\t\t\tif (start === null)\n\t\t\t\t\tstart = 0;\n\t\t\t\telse if (start < 0)\n\t\t\t\t\tstart += container.length;\n\t\t\t\tif (start < 0)\n\t\t\t\t\tstart = 0;\n\t\t\t\telse if (start > container.length)\n\t\t\t\t\tstart = container.length;\n\t\t\t\tif (stop === null)\n\t\t\t\t\tstop = container.length;\n\t\t\t\telse if (stop < 0)\n\t\t\t\t\tstop += container.length;\n\t\t\t\tif (stop < 0)\n\t\t\t\t\tstop = 0;\n\t\t\t\telse if (stop > container.length)\n\t\t\t\t\tstop = container.length;\n\t\t\t\tif (stop < start)\n\t\t\t\t\tstop = start;\n\t\t\t\tcontainer.splice(start, stop-start); // Remove old element\n\t\t\t\tfor (let iter = _iter(value);;)\n\t\t\t\t{\n\t\t\t\t\tlet item = iter.next();\n\t\t\t\t\tif (item.done)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcontainer.splice(start++, 0, item.value);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet orgkey = key;\n\t\t\t\tif (key < 0)\n\t\t\t\t\tkey += container.length;\n\t\t\t\tif (key < 0 || key >= container.length)\n\t\t\t\t\tthrow new IndexError(container, orgkey);\n\t\t\t\tcontainer[key] = value;\n\t\t\t}\n\t\t}\n\t\telse if (container && typeof(container[symbols.setitem]) === \"function\") // test this before the generic object test\n\t\t\tcontainer[symbols.setitem](key, value);\n\t\telse if (_ismap(container))\n\t\t\tcontainer.set(key, value);\n\t\telse if (_isobject(container))\n\t\t\tcontainer[key] = value;\n\t\telse\n\t\t\tthrow new NotSubscriptableError(container);\n\t}\n\n\t_modify(operator, container, key, value)\n\t{\n\t\tthis._set(container, key, operator._ido(this._get(container, key), value));\n\t}\n};\n\n// Identifty test operator (`x is y`)\nexport class IsAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a binary ``is`` comparison expression (e.g. ``x is y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\treturn obj1 === obj2;\n\t}\n};\n\n// Inverted identity test operator (`x is not y`)\nexport class IsNotAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a binary ``is not`` comparison expression (e.g. ``x is not y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\treturn obj1 !== obj2;\n\t}\n};\n\n// Comparison operator (`x == y`)\nexport class EQAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for the binary equality comparison (e.g. ``x == y``.\";\n\n\t_do(obj1, obj2)\n\t{\n\t\treturn _eq(obj1, obj2);\n\t}\n};\n\n// Comparison operator (`x != y`)\nexport class NEAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a binary inequality comparison (e.g. ``x != y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\treturn _ne(obj1, obj2);\n\t}\n};\n\n// Comparison operator (`x < y`)\nexport class LTAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for the binary \\\"less than\\\" comparison (e.g. ``x < y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\treturn _lt(obj1, obj2);\n\t}\n};\n\n// Comparison operator (`x <= y`)\nexport class LEAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for the binary \\\"less than or equal\\\" comparison (e.g. ``x <= y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\treturn _le(obj1, obj2);\n\t}\n};\n\n// Comparison operator (`x > y`)\nexport class GTAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for the binary \\\"greater than\\\" comparison (e.g. ``x > y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\treturn _gt(obj1, obj2);\n\t}\n};\n\n// Comparison operator (`x >= y`)\nexport class GEAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for the binary \\\"greater than or equal\\\" comparison (e.g. ``x >= y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\treturn _ge(obj1, obj2);\n\t}\n};\n\n// Containment test (`x in y`): string in string, obj in list, key in dict, value in rgb\nexport class ContainsAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for the binary containment testing operator (e.g. ``x in y``).\";\n\n\t_do(obj, container)\n\t{\n\t\tif (typeof(obj) === \"string\" && typeof(container) === \"string\")\n\t\t{\n\t\t\treturn container.indexOf(obj) !== -1;\n\t\t}\n\t\telse if (_islist(container))\n\t\t{\n\t\t\treturn container.indexOf(obj) !== -1;\n\t\t}\n\t\telse if (container && typeof(container[symbols.contains]) === \"function\") // test this before the generic object test\n\t\t\treturn container[symbols.contains](obj);\n\t\telse if (_ismap(container) || _isset(container))\n\t\t\treturn container.has(obj);\n\t\telse if (_isobject(container))\n\t\t{\n\t\t\tfor (let key in container)\n\t\t\t{\n\t\t\t\tif (key === obj)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\telse if (_iscolor(container))\n\t\t{\n\t\t\treturn container._r === obj || container._g === obj || container._b === obj || container._a === obj;\n\t\t}\n\t\tthrow new TypeError(_type(container).fullname() + \" object is not iterable\");\n\t}\n};\n\n// Inverted containment test (`x not in y`)\nexport class NotContainsAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for an inverted containment testing expression (e.g. ``x not in y``).\";\n\n\t_do(obj, container)\n\t{\n\t\treturn !ContainsAST.prototype._do(obj, container);\n\t}\n};\n\n// Addition (`x + y`): num + num, string + string\nexport class AddAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a binary addition expression (e.g. ``x + y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tif (obj1 && typeof(obj1[symbols.add]) === \"function\")\n\t\t\treturn obj1[symbols.add](obj2);\n\t\telse if (obj2 && typeof(obj2[symbols.radd]) === \"function\")\n\t\t\treturn obj2[symbols.radd](obj1);\n\t\tif (obj1 === null || obj1 === undefined || obj2 === null || obj2 === undefined)\n\t\t\tthrow new TypeError(_type(obj1).fullname() + \" + \" + _type(obj2).fullname() + \" is not supported\");\n\t\tif (_islist(obj1) && _islist(obj2))\n\t\t\treturn [...obj1, ...obj2];\n\t\telse\n\t\t\treturn obj1 + obj2;\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\tif (_islist(obj1) && _islist(obj2))\n\t\t{\n\t\t\tlisttype.append(obj1, obj2);\n\t\t\treturn obj1;\n\t\t}\n\t\telse\n\t\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n// Substraction (`x - y`): num - num\nexport class SubAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for the binary subtraction expression (e.g. ``x - y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tif (obj1 && typeof(obj1[symbols.sub]) === \"function\")\n\t\t\treturn obj1[symbols.sub](obj2);\n\t\telse if (obj2 && typeof(obj2[symbols.rsub]) === \"function\")\n\t\t\treturn obj2[symbols.rsub](obj1);\n\t\telse if (_isdate(obj1) && _isdate(obj2))\n\t\t\treturn this._date_sub(obj1, obj2);\n\t\telse if (_isdatetime(obj1) && _isdatetime(obj2))\n\t\t\treturn this._datetime_sub(obj1, obj2);\n\t\tif (obj1 === null || obj1 === undefined || obj2 === null || obj2 === undefined)\n\t\t\tthrow new TypeError(_type(obj1).fullname() + \" - \" + _type(obj2).fullname() + \" is not supported\");\n\t\treturn obj1 - obj2;\n\t}\n\n\t_date_sub(obj1, obj2)\n\t{\n\t\treturn this._datetime_sub(obj1._date, obj2._date);\n\t}\n\n\t_datetime_sub(obj1, obj2)\n\t{\n\t\tlet swap = (obj2 > obj1);\n\n\t\tif (swap)\n\t\t{\n\t\t\tlet t = obj1;\n\t\t\tobj1 = obj2;\n\t\t\tobj2 = t;\n\t\t}\n\t\t// From now on obj1 is > than obj2\n\n\t\tlet year1 = obj1.getFullYear();\n\t\tlet yearday1 = datetimetype.yearday(obj1);\n\t\tlet year2 = obj2.getFullYear();\n\t\tlet yearday2 = datetimetype.yearday(obj2);\n\n\t\tlet diffdays = 0;\n\n\t\twhile (year1 > year2)\n\t\t{\n\t\t\tdiffdays += datetype.yearday(_date(year2, 12, 31));\n\t\t\t++year2;\n\t\t}\n\t\tdiffdays += yearday1 - yearday2;\n\n\t\tlet hours1 = obj1.getHours();\n\t\tlet minutes1 = obj1.getMinutes();\n\t\tlet seconds1 = obj1.getSeconds();\n\t\tlet hours2 = obj2.getHours();\n\t\tlet minutes2 = obj2.getMinutes();\n\t\tlet seconds2 = obj2.getSeconds();\n\n\t\tlet diffseconds = (seconds1 - seconds2) + 60 * ((minutes1 - minutes2) + 60 * (hours1 - hours2));\n\n\t\tlet diffmilliseconds = obj1.getMilliseconds() - obj2.getMilliseconds();\n\n\t\tif (swap)\n\t\t{\n\t\t\tdiffdays = -diffdays;\n\t\t\tdiffseconds = -diffseconds;\n\t\t\tdiffmilliseconds = -diffmilliseconds;\n\t\t}\n\t\treturn new TimeDelta(diffdays, diffseconds, 1000*diffmilliseconds);\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n\n// Multiplication (`x * y`): num * num, int * str, str * int, int * list, list * int\nexport class MulAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for the binary multiplication expression (e.g. ``x * y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tif (obj1 && typeof(obj1[symbols.mul]) === \"function\")\n\t\t\treturn obj1[symbols.mul](obj2);\n\t\telse if (obj2 && typeof(obj2[symbols.rmul]) === \"function\")\n\t\t\treturn obj2[symbols.rmul](obj1);\n\t\tif (obj1 === null || obj1 === undefined || obj2 === null || obj2 === undefined)\n\t\t\tthrow new TypeError(obj1 + \" * \" + obj2 + \" not supported\");\n\t\telse if (_isint(obj1) || _isbool(obj1))\n\t\t{\n\t\t\tif (typeof(obj2) === \"string\")\n\t\t\t{\n\t\t\t\tif (obj1 < 0)\n\t\t\t\t\tthrow new ValueError(\"repetition counter must be positive\");\n\t\t\t\treturn _str_repeat(obj2, obj1);\n\t\t\t}\n\t\t\telse if (_islist(obj2))\n\t\t\t{\n\t\t\t\tif (obj1 < 0)\n\t\t\t\t\tthrow new ValueError(\"repetition counter must be positive\");\n\t\t\t\treturn _list_repeat(obj2, obj1);\n\t\t\t}\n\t\t}\n\t\telse if (_isint(obj2) || _isbool(obj2))\n\t\t{\n\t\t\tif (typeof(obj1) === \"string\")\n\t\t\t{\n\t\t\t\tif (obj2 < 0)\n\t\t\t\t\tthrow new ValueError(\"repetition counter must be positive\");\n\t\t\t\treturn _str_repeat(obj1, obj2);\n\t\t\t}\n\t\t\telse if (_islist(obj1))\n\t\t\t{\n\t\t\t\tif (obj2 < 0)\n\t\t\t\t\tthrow new ValueError(\"repetition counter must be positive\");\n\t\t\t\treturn _list_repeat(obj1, obj2);\n\t\t\t}\n\t\t}\n\t\treturn obj1 * obj2;\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\tif (_islist(obj1) && _isint(obj2))\n\t\t{\n\t\t\tif (obj2 > 0)\n\t\t\t{\n\t\t\t\tlet i = 0;\n\t\t\t\tlet targetsize = obj1.length * obj2;\n\t\t\t\twhile (obj1.length < targetsize)\n\t\t\t\t\tobj1.push(obj1[i++]);\n\t\t\t}\n\t\t\telse\n\t\t\t\tobj1.splice(0, obj1.length);\n\t\t\treturn obj1;\n\t\t}\n\t\telse\n\t\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n// Truncating division (`x // y`)\nexport class FloorDivAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a binary truncating division expression (e.g. ``x // y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tif (obj1 && typeof(obj1[symbols.floordiv]) === \"function\")\n\t\t\treturn obj1[symbols.floordiv](obj2);\n\t\telse if (obj2 && typeof(obj2[symbols.rfloordiv]) === \"function\")\n\t\t\treturn obj2[symbols.rfloordiv](obj1);\n\t\tif (obj1 === null || obj1 === undefined || obj2 === null || obj2 === undefined)\n\t\t\tthrow new TypeError(_type(obj1).fullname() + \" // \" + _type(obj2).fullname() + \" not supported\");\n\t\telse if ((typeof(obj1) === \"number\" || typeof(obj1) === \"boolean\") && (typeof(obj2) === \"number\" || typeof(obj2) === \"boolean\") && obj2 == 0)\n\t\t\tthrow new ZeroDivisionError();\n\t\treturn Math.floor(obj1 / obj2);\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n// \"Real\" division (`x / y`)\nexport class TrueDivAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a binary true division expression (e.g. ``x / y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tif (obj1 && typeof(obj1[symbols.truediv]) === \"function\")\n\t\t\treturn obj1[symbols.truediv](obj2);\n\t\telse if (obj2 && typeof(obj2[symbols.rtruediv]) === \"function\")\n\t\t\treturn obj2[symbols.rtruediv](obj1);\n\t\tif (obj1 === null || obj1 === undefined || obj2 === null || obj2 === undefined)\n\t\t\tthrow new TypeError(_type(obj1).fullname() + \" / \" + _type(obj2).fullname() + \" not supported\");\n\t\telse if ((typeof(obj1) === \"number\" || typeof(obj1) === \"boolean\") && (typeof(obj2) === \"number\" || typeof(obj2) === \"boolean\") && obj2 == 0)\n\t\t\tthrow new ZeroDivisionError();\n\t\treturn obj1 / obj2;\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n// Modulo (`x % y`)\nexport class ModAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a binary modulo expression (e.g. ``x % y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\treturn _mod(obj1, obj2);\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n// Bitwise left shift (`x << y`)\nexport class ShiftLeftAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a bitwise left shift expression (e.g. ``x << y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tif (obj2 === false)\n\t\t\tobj2 = 0;\n\t\telse if (obj2 === true)\n\t\t\tobj2 = 1;\n\t\tif (obj2 < 0)\n\t\t\treturn ShiftRightAST.prototype._do(obj1, -obj2);\n\t\tif (obj1 === false)\n\t\t\tobj1 = 0;\n\t\telse if (obj1 === true)\n\t\t\tobj1 = 1;\n\t\twhile (obj2--)\n\t\t\tobj1 *= 2;\n\t\treturn obj1;\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n// Bitwise right shift (`x >> y`)\nexport class ShiftRightAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a bitwise right shift expression (e.g. ``x >> y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tif (obj2 === false)\n\t\t\tobj2 = 0;\n\t\telse if (obj2 === true)\n\t\t\tobj2 = 1;\n\t\tif (obj2 < 0)\n\t\t\treturn ShiftLeftAST.prototype._do(obj1, -obj2);\n\t\tif (obj1 === false)\n\t\t\tobj1 = 0;\n\t\telse if (obj1 === true)\n\t\t\tobj1 = 1;\n\t\twhile (obj2--)\n\t\t\tobj1 /= 2;\n\t\treturn Math.floor(obj1);\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n// Bitwise and (`x & y`)\nexport class BitAndAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a binary bitwise \\\"and\\\" expression (e.g ``x & y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tif (obj2 === false)\n\t\t\tobj2 = 0;\n\t\telse if (obj2 === true)\n\t\t\tobj2 = 1;\n\t\treturn obj1 & obj2;\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n// Bitwise exclusive or (`x ^ y`)\nexport class BitXOrAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for the binary bitwise \\\"exclusive or\\\" expression (e.g. ``x ^ y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tif (obj2 === false)\n\t\t\tobj2 = 0;\n\t\telse if (obj2 === true)\n\t\t\tobj2 = 1;\n\t\treturn obj1 ^ obj2;\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n// Bitwise or (`x | y`)\nexport class BitOrAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a binary bitwise \\\"or\\\" expression (e.g. ``x | y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tif (obj2 === false)\n\t\t\tobj2 = 0;\n\t\telse if (obj2 === true)\n\t\t\tobj2 = 1;\n\t\treturn obj1 | obj2;\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n// Boolean logical and (`x and y`)\nexport class AndAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for the binary \\\"and\\\" expression (i.e. ``x and y``).\";\n\n\t_eval(context)\n\t{\n\t\tlet obj1 = this.obj1._handle_eval(context);\n\t\tif (!_bool(obj1))\n\t\t\treturn obj1;\n\t\tlet obj2 = this.obj2._handle_eval(context);\n\t\treturn obj2;\n\t}\n};\n\n// Boolean logical or (`x or y`)\nexport class OrAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a binary \\\"or\\\" expression (e.g. ``x or y``).\";\n\n\t_eval(context)\n\t{\n\t\tlet obj1 = this.obj1._handle_eval(context);\n\t\tif (_bool(obj1))\n\t\t\treturn obj1;\n\t\tlet obj2 = this.obj2._handle_eval(context);\n\t\treturn obj2;\n\t}\n};\n\n// Attribute access (`x.y`)\nexport class AttrAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for an expression that gets or sets an attribute of an object.\\n(e.g. ``x.y``).\";\n\n\tconstructor(template, posstart, posstop, obj, attrname)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.obj = obj;\n\t\tthis.attrname = attrname;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" obj=\");\n\t\tthis.obj._repr(out);\n\t\tout.push(\" attrname=\", _repr(this.attrname), \">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet obj = this.obj._handle_eval(context);\n\t\tlet result = this._get(obj, this.attrname);\n\t\treturn result;\n\t}\n\n\t_eval_set(context, value)\n\t{\n\t\tlet obj = this.obj._handle_eval(context);\n\t\tthis._set(obj, this.attrname, value);\n\t}\n\n\t_eval_modify(context, operator, value)\n\t{\n\t\tlet obj = this.obj._handle_eval(context);\n\t\tthis._modify(operator, obj, this.attrname, value);\n\t}\n\n\t_get(object, attrname)\n\t{\n\t\tlet type = _type(object);\n\t\ttry\n\t\t{\n\t\t\treturn type.getattr(object, attrname);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (exc instanceof AttributeError && exc.obj === object)\n\t\t\t\treturn undefined;\n\t\t\telse\n\t\t\t\tthrow exc;\n\t\t}\n\t}\n\n\t_set(object, attrname, value)\n\t{\n\t\tif (typeof(object) === \"object\" && typeof(object[symbols.setattr]) === \"function\")\n\t\t\tobject[symbols.setattr](attrname, value);\n\t\telse if (_ismap(object))\n\t\t\tobject.set(attrname, value);\n\t\telse if (_isobject(object))\n\t\t\tobject[attrname] = value;\n\t\telse\n\t\t\tthrow new TypeError(_type(object).fullname() + \" object has no writable attributes\");\n\t}\n\n\t_modify(operator, object, attrname, value)\n\t{\n\t\tlet oldvalue = this._get(object, attrname);\n\t\tlet newvalue = operator._ido(oldvalue, value);\n\t\tthis._set(object, attrname, newvalue);\n\t}\n};\n\nAttrAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"obj\", \"attrname\"]);\n\n// Function call (`x(y, z)`)\nexport class CallAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for calling an object (e.g. ``f(x, y)``).\";\n\n\tconstructor(template, posstart, posstop, obj, args)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.obj = obj;\n\t\tthis.args = args;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" obj=\");\n\t\tthis.obj._repr(out);\n\t\tfor (let arg of this.args)\n\t\t{\n\t\t\tout.push(\" \");\n\t\t\targ._repr(out);\n\t\t}\n\t\tout.push(\">\");\n\t}\n\n\t_makeargs(context)\n\t{\n\t\tlet args = [], kwargs = {};\n\t\tfor (let arg of this.args)\n\t\t\targ._handle_eval_call(context, args, kwargs);\n\t\treturn [args, kwargs];\n\t}\n\n\t_handle_eval(context)\n\t{\n\t\ttry\n\t\t{\n\t\t\treturn this._eval(context);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tthis._decorate_exception(exc);\n\t\t\tthrow exc;\n\t\t}\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet obj = this.obj._handle_eval(context);\n\t\tlet [args, kwargs] = this._makeargs(context);\n\t\tlet result = _call(context, obj, args, kwargs);\n\t\treturn result;\n\t}\n};\n\nCallAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"obj\", \"args\"]);\n\n\nexport class RenderAST extends CallAST\n{\n\tstatic classdoc = \"AST node for rendering a template (e.g. ``<?render t(x)?>``.\";\n\n\tconstructor(template, posstart, posstop, obj, args)\n\t{\n\t\tsuper(template, posstart, posstop, obj, args);\n\t\tthis.indent = null;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\n\t\t\t\"<\",\n\t\t\tthis.constructor.name,\n\t\t\t\" indent=\",\n\t\t\t_repr(this.indent.text),\n\t\t\t\" obj=\"\n\t\t);\n\t\tthis.obj._repr(out);\n\t\tout.push(0);\n\t\tfor (let arg of this.args)\n\t\t{\n\t\t\tout.push(\" \");\n\t\t\targ._repr(out);\n\t\t\tout.push(0);\n\t\t}\n\t\tout.push(-1, \">\");\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"render \", this.source.replace(/\\r?\\n/g, ' '));\n\t\tif (this.indent !== null)\n\t\t{\n\t\t\tout.push(\" with indent \", _repr(this.indent.text));\n\t\t}\n\t}\n\n\t_render_object(context, obj, args, kwargs)\n\t{\n\t\treturn _callrender(context, obj, args, kwargs);\n\t}\n\n\t_renderx_object(context, obj, args, kwargs)\n\t{\n\t\tcontext.escapes.push(_xmlescape);\n\n\t\tlet result = null;\n\t\ttry\n\t\t{\n\t\t\tresult = _callrender(context, obj, args, kwargs);\n\t\t}\n\t\tfinally\n\t\t{\n\t\t\tcontext.escapes.splice(context.escapes.length-1, 1);\n\t\t}\n\t\treturn result;\n\t}\n\n\t_real_render_object(context, obj, args, kwargs)\n\t{\n\t\tthis._render_object(context, obj, args, kwargs);\n\t}\n\n\t_print_object(context, obj, args, kwargs)\n\t{\n\t\tlet output = _str(obj);\n\t\tcontext.output(output);\n\t}\n\n\t_printx_object(context, obj)\n\t{\n\t\tlet output = _xmlescape(obj);\n\t\tcontext.output(output);\n\t}\n\n\t_dont_print_object(context, obj)\n\t{\n\t\tthrow new TypeError(_repr(obj) + \" is not renderable by UL4\");\n\t}\n\n\t_real_print_object(context, obj)\n\t{\n\t\tthis._dont_print_object(context, obj);\n\t}\n\n\t_handle_eval(context)\n\t{\n\t\tlet localcontext = context.withindent(this.indent !== null ? this.indent.text : null);\n\t\tlet obj = this.obj._handle_eval(localcontext);\n\t\t// If the object turns out to not be renderable we nonetheless evaluate the arguments\n\t\tlet [args, kwargs] = this._makeargs(localcontext);\n\t\tthis._handle_additional_arguments(localcontext, args, kwargs);\n\n\t\ttry\n\t\t{\n\t\t\tif (_object_is_renderable(obj))\n\t\t\t{\n\t\t\t\tthis._real_render_object(localcontext, obj, args, kwargs);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis._real_print_object(localcontext, obj);\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tthis._decorate_exception(exc);\n\t\t\tthrow exc;\n\t\t}\n\t}\n\n\t_handle_additional_arguments(context, args)\n\t{\n\t}\n};\n\nRenderAST.prototype._ul4onattrs = CallAST.prototype._ul4onattrs.concat([\"indent\"]);\n\n\nexport class RenderXAST extends RenderAST\n{\n\tstatic classdoc = \"AST node for rendering a template and XML-escaping the output\\n(e.g. ``<?renderx t(x)?>``.\";\n\n\t_real_render_object(context, obj, args, kwargs)\n\t{\n\t\tthis._renderx_object(context, obj, args, kwargs);\n\t}\n};\n\n\nexport class RenderOrPrintAST extends RenderAST\n{\n\tstatic classdoc = \"AST node for rendering a template or printing an object.\";\n\n\t_real_print_object(context, obj)\n\t{\n\t\tthis._print_object(context, obj);\n\t}\n};\n\n\nexport class RenderOrPrintXAST extends RenderAST\n{\n\tstatic classdoc = \"AST node for rendering a template or printing an object\\n(e.g. ``<?render_or_printx t(x)?>``.\";\n\n\t_real_print_object(context, obj)\n\t{\n\t\tthis._printx_object(context, obj);\n\t}\n};\n\n\nexport class RenderXOrPrintAST extends RenderAST\n{\n\tstatic classdoc = \"AST node for rendering a template or printing an object\\n(e.g. ``<?renderx_or_print t(x)?>``.\";\n\n\t_real_render_object(context, obj, args, kwargs)\n\t{\n\t\tthis._renderx_object(context, obj, args, kwargs);\n\t}\n\n\t_real_print_object(context, obj)\n\t{\n\t\tthis._print_object(context, obj);\n\t}\n};\n\n\nexport class RenderXOrPrintXAST extends RenderAST\n{\n\tstatic classdoc = \"AST node for rendering a template or printing an object\\n(e.g. ``<?renderx_or_printx t(x)?>``.\";\n\n\t_real_render_object(context, obj, args, kwargs)\n\t{\n\t\tthis._renderx_object(context, obj, args, kwargs);\n\t}\n\n\t_real_print_object(context, obj)\n\t{\n\t\tthis._printx_object(context, obj);\n\t}\n};\n\n\nexport class RenderBlockAST extends RenderAST\n{\n\tstatic classdoc = \"AST node for rendering a template via a ``<?renderblock?>`` block and\\npassing the content of the block as one additional keyword argument named\\n``content``.\";\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, +1, \"obj=\");\n\t\tthis.obj._repr(out);\n\t\tfor (let arg of this.args)\n\t\t{\n\t\t\tout.push(0);\n\t\t\targ._repr(out);\n\t\t}\n\t\tout.push(0, \"content=\");\n\t\tthis.content._repr(out);\n\t\tout.push(-1, \">\");\n\t}\n\n\t_handle_additional_arguments(context, args, kwargs)\n\t{\n\t\tif (kwargs.hasOwnProperty(\"content\"))\n\t\t\tthrow new ArgumentError(\"duplicate keyword argument content\");\n\t\tlet closure = new TemplateClosure(this.content, this.content.signature, context.vars);\n\t\tkwargs.content = closure;\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tif (\n\t\t\tattrname === \"stoppos\" ||\n\t\t\tattrname === \"stopsource\" ||\n\t\t\tattrname === \"stopsourceprefix\" ||\n\t\t\tattrname === \"stopsourcesuffix\"\n\t\t)\n\t\t\treturn this[attrname];\n\t\telse\n\t\t\treturn super[symbols.getattr](attrname);\n\t}\n};\n\nRenderBlockAST.prototype._ul4onattrs = RenderAST.prototype._ul4onattrs.concat([\"stopposstart\", \"stopposstop\", \"content\"]);\n\n\nexport class RenderBlocksAST extends RenderAST\n{\n\tstatic classdoc = \"AST node for rendering a template and passing additional arguments via\\nnested variable definitions, e.g.::\";\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, +1, \"obj=\");\n\t\tthis.obj._repr(out);\n\t\tfor (let arg of this.args)\n\t\t{\n\t\t\tout.push(0);\n\t\t\targ._repr(out);\n\t\t}\n\t\tfor (let item of this.content)\n\t\t{\n\t\t\tout.push(0);\n\t\t\titem._repr(out);\n\t\t}\n\t\tout.push(-1, \">\");\n\t}\n\n\t_handle_additional_arguments(context, args, kwargs)\n\t{\n\t\tlet localcontext = context.inheritvars();\n\t\tBlockAST.prototype._eval.call(this, localcontext);\n\n\t\tfor (let key in localcontext.vars)\n\t\t{\n\t\t\tif (localcontext.vars.hasOwnProperty(key))\n\t\t\t{\n\t\t\t\tif (key in kwargs)\n\t\t\t\t\tthrow new ArgumentError(\"duplicate keyword argument \" + key);\n\t\t\t\tkwargs[key] = localcontext.get(key);\n\t\t\t}\n\t\t}\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tif (\n\t\t\tattrname === \"stoppos\" ||\n\t\t\tattrname === \"stopsource\" ||\n\t\t\tattrname === \"stopsourceprefix\" ||\n\t\t\tattrname === \"stopsourcesuffix\"\n\t\t)\n\t\t\treturn this[attrname];\n\t\telse\n\t\t\treturn super[symbols.getattr](attrname);\n\t}\n};\n\nRenderBlocksAST.prototype._ul4onattrs = RenderAST.prototype._ul4onattrs.concat([\"stopposstart\", \"stopposstop\", \"content\"]);\n\n\n// Slice object\nexport class slice extends Proto\n{\n\tconstructor(start, stop)\n\t{\n\t\tsuper();\n\t\tthis.start = start;\n\t\tthis.stop = stop;\n\t}\n\n\t[symbols.type]()\n\t{\n\t\treturn this.type;\n\t}\n\n\tof(string)\n\t{\n\t\tlet start = this.start || 0;\n\t\tlet stop = this.stop === null ? string.length : this.stop;\n\t\treturn string.slice(start, stop);\n\t}\n\n\t[symbols.repr]()\n\t{\n\t\treturn \"slice(\" + _repr(this.start) + \", \" + _repr(this.stop) + \", None)\";\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"start\":\n\t\t\t\treturn this.start;\n\t\t\tcase \"stop\":\n\t\t\t\treturn this.stop;\n\t\t\tdefault:\n\t\t\t\tthrow new AttributeError(this, attrname);\n\t\t}\n\t}\n};\n\nslice.prototype.type = new Type(null, \"slice\", \"A slice specification.\");\n\n\n// List/String slice (`x[y:z]`)\nexport class SliceAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for creating a slice object (used in ``obj[index1:index2]``).\";\n\n\tconstructor(template, posstart, posstop, index1, index2)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.index1 = index1;\n\t\tthis.index2 = index2;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name);\n\t\tif (this.index1 !== null)\n\t\t{\n\t\t\tout.push(\" index1=\");\n\t\t\tthis.index1._repr(out);\n\t\t}\n\t\tif (this.index2 !== null)\n\t\t{\n\t\t\tout.push(\" index2=\");\n\t\t\tthis.index2._repr(out);\n\t\t}\n\t\tout.push(\">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet index1 = this.index1 !== null ? this.index1._handle_eval(context) : null;\n\t\tlet index2 = this.index2 !== null ? this.index2._handle_eval(context) : null;\n\t\treturn new slice(index1, index2);\n\t}\n};\n\nSliceAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"index1\", \"index2\"]);\n\nexport class ChangeVarAST extends CodeAST\n{\n\tstatic classdoc = \"Base class for all AST nodes that are assignment operators, i.e. that\\nset or modify a variable/attribute or item.\";\n\n\tconstructor(template, posstart, posstop, lvalue, value)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.lvalue = lvalue;\n\t\tthis.value = value;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\n\t\t\t\"<\",\n\t\t\tthis.constructor.name,\n\t\t\t\" lvalue=\",\n\t\t\t_repr(this.lvalue),\n\t\t\t\" value=\"\n\t\t);\n\t\tthis.value._repr(out);\n\t\tout.push(\">\");\n\t}\n};\n\nChangeVarAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"lvalue\", \"value\"]);\n\nexport class SetVarAST extends ChangeVarAST\n{\n\tstatic classdoc = \"AST node for setting a variable, attribute or item to a value (e.g.\\n``x = y``).\";\n\n\t_eval(context)\n\t{\n\t\tlet value = this.value._handle_eval(context);\n\t\tlet items = _unpackvar(this.lvalue, value);\n\t\tfor (let [lvalue, value] of items)\n\t\t\tlvalue._handle_eval_set(context, value);\n\t}\n};\n\nexport class ModifyVarAST extends ChangeVarAST\n{\n\t_eval(context)\n\t{\n\t\tlet value = this.value._handle_eval(context);\n\t\tlet items = _unpackvar(this.lvalue, value);\n\t\tfor (let [lvalue, value] of items)\n\t\t\tlvalue._handle_eval_modify(context, this._operator, value);\n\t}\n};\n\nexport class AddVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for an augmented assignment expression that adds a value to a\\nvariable (e.g. ``x += y``).\";\n};\n\nAddVarAST.prototype._operator = AddAST.prototype;\n\nexport class SubVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for an augmented assignment expression that subtracts a value from\\na variable/attribute/item. (e.g. ``x -= y``).\";\n};\n\nSubVarAST.prototype._operator = SubAST.prototype;\n\nexport class MulVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for an augmented assignment expression that assigns the result\\nof a multiplication to its left operand. (e.g. ``x *= y``).\";\n};\n\nMulVarAST.prototype._operator = MulAST.prototype;\n\nexport class TrueDivVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for an augmented assignment expression that assigns the result\\nof a truncation division to its left operand. (e.g. ``x //= y``).\";\n};\n\nTrueDivVarAST.prototype._operator = TrueDivAST.prototype;\n\nexport class FloorDivVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for augmented assignment expression that divides a variable by a\\nvalue, truncating to an integer value (e.g. ``x //= y``).\";\n};\n\nFloorDivVarAST.prototype._operator = FloorDivAST.prototype;\n\nexport class ModVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for an augmented assignment expression that assigns the result\\nof a modulo expression to its left operand. (e.g. ``x %= y``).\";\n};\n\nModVarAST.prototype._operator = ModAST.prototype;\n\nexport class ShiftLeftVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for an augmented assignment expression that assigns the result\\nof a \\\"shift left\\\" expression to its left operand. (e.g. ``x <<= y``).\";\n};\n\nShiftLeftVarAST.prototype._operator = ShiftLeftAST.prototype;\n\nexport class ShiftRightVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for an augmented assignment expression that assigns the result\\nof a \\\"shift right\\\" expression to its left operand. (e.g. ``x >>= y``).\";\n};\n\nShiftRightVarAST.prototype._operator = ShiftRightAST.prototype;\n\nexport class BitAndVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for an augmented assignment expression that assigns the result\\nof a binary bitwise \\\"and\\\" expression to its left operand.\\n(e.g. ``x &= y``).\";\n};\n\nBitAndVarAST.prototype._operator = BitAndAST.prototype;\n\nexport class BitXOrVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for an augmented assignment expression that assigns the result\\nof a binary bitwise \\\"exclusive or\\\" expression to its left operand.\\n(e.g. ``x ^= y``).\";\n};\n\nBitXOrVarAST.prototype._operator = BitXOrAST.prototype;\n\nexport class BitOrVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for an augmented assignment expression that assigns the result\\nof a binary bitwise \\\"or\\\" expression to its left operand.\\n(e.g. ``x |= y``).\";\n};\n\nBitOrVarAST.prototype._operator = BitOrAST.prototype;\n\nexport class BlockAST extends CodeAST\n{\n\tstatic classdoc = \"Base class for all AST nodes that are blocks.\";\n\n\tconstructor(template, startposstart, startposstop, stopposstart, stopposstop)\n\t{\n\t\tsuper(template, startposstart, startposstop, stopposstart, stopposstop);\n\t\tthis.content = [];\n\t}\n\n\t_eval(context)\n\t{\n\t\tfor (let item of this.content)\n\t\t\titem._handle_eval(context);\n\t}\n\n\t_str(out)\n\t{\n\t\tif (this.content.length)\n\t\t{\n\t\t\tfor (let item of this.content)\n\t\t\t{\n\t\t\t\titem._str(out);\n\t\t\t\tout.push(0);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tout.push(\"pass\", 0);\n\t\t}\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tif (\n\t\t\tattrname === \"stoppos\" ||\n\t\t\tattrname === \"stopsource\" ||\n\t\t\tattrname === \"stopsourceprefix\" ||\n\t\t\tattrname === \"stopsourcesuffix\"\n\t\t)\n\t\t\treturn this[attrname];\n\t\telse\n\t\t\treturn super[symbols.getattr](attrname);\n\t}\n};\n\nBlockAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"stopposstart\", \"stopposstop\", \"content\"]);\n\nexport class ForBlockAST extends BlockAST\n{\n\tstatic classdoc = \"AST node for a ``<?for?>`` loop.\";\n\n\tconstructor(template, posstart, posstop, varname, container)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.varname = varname;\n\t\tthis.container = container;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\n\t\t\t\"<\",\n\t\t\tthis.constructor.name,\n\t\t\t\" varname=\",\n\t\t\t_repr(this.varname),\n\t\t\t\" container=\"\n\t\t);\n\t\tthis.container._repr(out);\n\t\tout.push(\">\");\n\t}\n\n\t_str_varname(out, varname)\n\t{\n\t\tif (_islist(varname))\n\t\t{\n\t\t\tout.push(\"(\");\n\t\t\tlet first = truel\n\t\t\tfor (let subname of varname)\n\t\t\t{\n\t\t\t\tif (first)\n\t\t\t\t\tfirst = false;\n\t\t\t\telse\n\t\t\t\t\tout.push(\", \");\n\t\t\t\tthis._str_varname(out, subname);\n\t\t\t}\n\t\t\tif (varname.length == 1)\n\t\t\t\tout.push(\",\");\n\t\t\tout.push(\")\");\n\t\t}\n\t\telse\n\t\t\tvarname._str(out);\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet container = this.container._handle_eval(context);\n\n\t\tfor (let iter = _iter(container);;)\n\t\t{\n\t\t\tlet value = iter.next();\n\t\t\tif (value.done)\n\t\t\t\tbreak;\n\t\t\tlet varitems = _unpackvar(this.varname, value.value);\n\t\t\tfor (let [lvalue, value] of varitems)\n\t\t\t\tlvalue._handle_eval_set(context, value);\n\t\t\ttry\n\t\t\t{\n\t\t\t\t// We can't call _handle_eval() here, as this would in turn call\n\t\t\t\t// this function again, leading to infinite recursion. But we\n\t\t\t\t// don't have to, as wrapping the original exception in `Error`\n\t\t\t\t// has already been done by the lower levels.\n\t\t\t\tsuper._eval(context);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (exc instanceof BreakException)\n\t\t\t\t\tbreak;\n\t\t\t\telse if (exc instanceof ContinueException)\n\t\t\t\t\t;\n\t\t\t\telse\n\t\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"for \");\n\t\tthis._str_varname(out, this.varname);\n\t\tout.push(\" in \");\n\t\tthis.container._str(out);\n\t\tout.push(\":\", +1);\n\t\tBlockAST.prototype._str.call(this, out);\n\t\tout.push(-1);\n\t}\n};\n\nForBlockAST.prototype._ul4onattrs = BlockAST.prototype._ul4onattrs.concat([\"varname\", \"container\"]);\n\nexport class WhileBlockAST extends BlockAST\n{\n\tstatic classdoc = \"AST node for a ``<?while?>`` loop.\";\n\n\tconstructor(template, posstart, posstop, condition)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.condition = condition;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" condition=\");\n\t\tthis.condition._repr(out);\n\t\tout.push(\">\");\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"while \");\n\t\tthis.condition._repr(out);\n\t\tout.push(\":\", +1);\n\t\tBlockAST.prototype._str.call(this, out);\n\t\tout.push(-1);\n\t}\n\n\t_eval(context)\n\t{\n\t\twhile (true)\n\t\t{\n\t\t\tlet cond = this.condition._handle_eval(context);\n\t\t\tif (!_bool(cond))\n\t\t\t\tbreak;\n\t\t\ttry\n\t\t\t{\n\t\t\t\t// We can't call _handle_eval() here, as this would in turn call\n\t\t\t\t// this function again, leading to infinite recursion. But we\n\t\t\t\t// don't have to, as wrapping the original exception in `Error`\n\t\t\t\t// has already been done by the lower levels.\n\t\t\t\tsuper._eval(context);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (exc instanceof BreakException)\n\t\t\t\t\tbreak;\n\t\t\t\telse if (exc instanceof ContinueException)\n\t\t\t\t\t;\n\t\t\t\telse\n\t\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\t}\n};\n\nWhileBlockAST.prototype._ul4onattrs = BlockAST.prototype._ul4onattrs.concat([\"condition\"]);\n\nexport class BreakAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for a ``<?break?>`` tag inside a ``<?for?>`` loop.\";\n\n\t_eval(context)\n\t{\n\t\tthrow new BreakException();\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"break\", 0);\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \">\");\n\t}\n};\n\nexport class ContinueAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for a ``<?continue?>`` tag inside a ``<?for?>`` block.\";\n\n\t_eval(context)\n\t{\n\t\tthrow new ContinueException();\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"continue\", 0);\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \">\");\n\t}\n};\n\nexport class ConditionalBlocksAST extends BlockAST\n{\n\tstatic classdoc = \"AST node for a conditional ``<?if?>/<?elif?>/<?else?>`` block.\";\n\n\t_eval(context)\n\t{\n\t\tfor (let block of this.content)\n\t\t{\n\t\t\tlet execute = block._execute(context);\n\t\t\tif (execute)\n\t\t\t{\n\t\t\t\tblock._handle_eval(context);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport class ConditionalBlockAST extends  BlockAST\n{\n\tconstructor(template, posstart, posstop, condition)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.condition = condition;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" condition=\");\n\t\tthis.condition._repr(out);\n\t\tout.push(\">\");\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(this._strname, \" \");\n\t\tthis.condition._str(out);\n\t\tout.push(\":\", +1);\n\t\tBlockAST.prototype._str.call(this, out);\n\t\tout.push(-1);\n\t}\n\n\t_execute(context)\n\t{\n\t\tlet cond = this.condition._handle_eval(context);\n\t\tlet result = _bool(cond);\n\t\treturn result;\n\t}\n};\n\nConditionalBlockAST.prototype._ul4onattrs = BlockAST.prototype._ul4onattrs.concat([\"condition\"]);\n\nexport class IfBlockAST extends ConditionalBlockAST\n{\n\tstatic classdoc = \"AST node for an ``<?if?>`` block in an ``<?if?>/<?elif?>/<?else?>`` block.\";\n};\n\nIfBlockAST.prototype._strname = \"if\";\n\nexport class ElIfBlockAST extends ConditionalBlockAST\n{\n\tstatic classdoc = \"AST node for an ``<?elif?>`` block.\";\n};\n\nElIfBlockAST.prototype._strname = \"else if\";\n\nexport class ElseBlockAST extends BlockAST\n{\n\tstatic classdoc = \"AST node for an ``<?else?>`` block.\";\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \">\");\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"else:\", +1);\n\t\tBlockAST.prototype._str.call(this, out);\n\t\tout.push(-1);\n\t}\n\n\t_execute(context)\n\t{\n\t\treturn true;\n\t}\n};\n\n\nexport class Template extends BlockAST\n{\n\tstatic classdoc = \"An UL4 template\";\n\n\tconstructor(template, posstart, posstop, source, name, whitespace, signature)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis._source = source;\n\t\tthis.name = name;\n\t\tthis.whitespace = whitespace;\n\t\tthis.docposstart = -1;\n\t\tthis.docposstop = -1;\n\t\tthis.signature = signature;\n\t\tthis._asts = null;\n\t\tthis._ul4_signature = signature;\n\t\tthis.parenttemplate = null;\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tlet self = this;\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"content\":\n\t\t\t\treturn this.content;\n\t\t\tcase \"source\":\n\t\t\t\treturn this.source;\n\t\t\tcase \"name\":\n\t\t\t\treturn this.name;\n\t\t\tcase \"whitespace\":\n\t\t\t\treturn this.whitespace;\n\t\t\tcase \"doc\":\n\t\t\t\treturn this.doc();\n\t\t\tcase \"signature\":\n\t\t\t\treturn this.signature;\n\t\t\tcase \"parenttemplate\":\n\t\t\t\treturn this.parenttemplate;\n\t\t\tcase \"render\":\n\t\t\t\tlet render = function render(context, vars){ self._renderbound(context, vars); };\n\t\t\t\texpose(render, this.signature, {needscontext: true, needsobject: true});\n\t\t\t\treturn render;\n\t\t\tcase \"renders\":\n\t\t\t\tlet renders = function renders(context, vars){ return self._rendersbound(context, vars); };\n\t\t\t\texpose(renders, this.signature, {needscontext: true, needsobject: true});\n\t\t\t\treturn renders;\n\t\t\tdefault:\n\t\t\t\treturn super[symbols.getattr](attrname);\n\t\t}\n\t}\n\n\tul4ondump(encoder)\n\t{\n\t\tlet signature;\n\t\tencoder.dump(api_version);\n\t\tencoder.dump(this.name);\n\t\tencoder.dump(this._source);\n\t\tencoder.dump(this.whitespace);\n\t\tencoder.dump(this.docposstart);\n\t\tencoder.dump(this.docposstop);\n\t\tencoder.dump(this.parenttemplate);\n\t\tif (this.signature === null || this.signature instanceof SignatureAST)\n\t\t\tsignature = this.signature;\n\t\telse\n\t\t{\n\t\t\tsignature = [];\n\t\t\tfor (let param of this.signature.params)\n\t\t\t{\n\t\t\t\tsignature.push(param.name, param.type);\n\t\t\t\tif (param.type.endsWith(\"=\"))\n\t\t\t\t\tsignature.push(param.defaultValue);\n\t\t\t}\n\t\t}\n\t\tencoder.dump(signature);\n\t\tsuper.ul4ondump(encoder);\n\t}\n\n\tul4onload(decoder)\n\t{\n\t\tlet loaded_api_version = decoder.load();\n\t\tlet signature;\n\n\t\tif (loaded_api_version === null)\n\t\t\tthrow new ValueError(\"UL4ON doesn't support templates in 'source' format in Javascript implementation\");\n\n\t\tif (loaded_api_version !== api_version)\n\t\t\tthrow new ValueError(\"Invalid UL4 version, expected \" + api_version + \", got \" + loaded_api_version);\n\n\t\tthis.name = decoder.load();\n\t\tthis._source = decoder.load();\n\t\tthis.whitespace = decoder.load();\n\t\tthis.docposstart = decoder.load();\n\t\tthis.docposstop = decoder.load();\n\t\tthis.parenttemplate = decoder.load();\n\t\tsignature = decoder.load();\n\t\tif (_islist(signature))\n\t\t\tsignature = new Signature(...signature);\n\t\tthis.signature = signature;\n\t\tthis._ul4_signature = signature;\n\t\tsuper.ul4onload(decoder);\n\t}\n\n\tloads(string)\n\t{\n\t\treturn loads(string);\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet signature = null;\n\t\tif (this.signature !== null)\n\t\t\tsignature = this.signature._handle_eval(context);\n\t\tlet closure = new TemplateClosure(this, signature, context.vars);\n\t\tcontext.set(this.name, closure);\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name);\n\t\tif (this.name !== null)\n\t\t\tout.push(\" name=\", _repr(this.name));\n\t\tout.push(\" whitespace=\", _repr(this.whitespace), \">\");\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\n\t\t\t\"def \",\n\t\t\tthis.name ? this.name : \"unnamed\",\n\t\t\t\":\",\n\t\t\t+1\n\t\t);\n\t\tBlockAST.prototype._str.call(this, out);\n\t\tout.push(-1);\n\t}\n\n\t_renderbound(context, vars)\n\t{\n\t\tlet localcontext = context.replacevars(vars);\n\t\ttry\n\t\t{\n\t\t\tBlockAST.prototype._eval.call(this, localcontext);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (!(exc instanceof ReturnException))\n\t\t\t\tthrow exc;\n\t\t}\n\t}\n\n\t[symbols.render](context, vars)\n\t{\n\t\tthis._renderbound(context, vars);\n\t}\n\n\trender(context, vars)\n\t{\n\t\tthis._renderbound(context, vars);\n\t}\n\n\t_rendersbound(context, vars)\n\t{\n\t\tlet localcontext = context.replaceoutput();\n\t\tthis._renderbound(localcontext, vars);\n\t\treturn localcontext.getoutput();\n\t}\n\n\trenders(vars=null, globals=null)\n\t{\n\t\tlet context = new Context({}, globals);\n\t\tvars = vars || {};\n\t\tif (this.signature !== null)\n\t\t\tvars = this.signature.bindObject(this.name, [], vars);\n\t\treturn this._rendersbound(context, vars);\n\t}\n\n\tdoc()\n\t{\n\t\treturn this.docposstart !== -1 ? this._source.slice(this.docposstart, this.docposstop) : null;\n\t}\n\n\t_callbound(context, vars)\n\t{\n\t\tlet localcontext = context.replacevars(vars);\n\t\ttry\n\t\t{\n\t\t\tBlockAST.prototype._eval.call(this, localcontext);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (exc instanceof ReturnException)\n\t\t\t\treturn exc.result;\n\t\t\telse\n\t\t\t\tthrow exc;\n\t\t}\n\t\treturn null;\n\t}\n\n\tcall(vars=null, globals=null)\n\t{\n\t\tlet context = new Context({}, globals);\n\t\tvars = vars || {};\n\t\tif (this.signature !== null)\n\t\t\tvars = this.signature.bindObject(this.name, [], vars);\n\t\treturn this._callbound(context, vars);\n\t}\n\n\t[symbols.call](context, vars)\n\t{\n\t\treturn this._callbound(context, vars);\n\t}\n\n\tul4type()\n\t{\n\t\treturn \"template\";\n\t}\n};\n\nTemplate.prototype._ul4_needsobject = true;\nTemplate.prototype._ul4_needscontext = true;\n\nexport class SignatureAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for the signature of a locally defined subtemplate.\";\n\n\tconstructor(template, posstart, posstop)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.params = [];\n\t}\n\n\tul4ondump(encoder)\n\t{\n\t\tsuper.ul4ondump(encoder);\n\n\t\tlet dump = [];\n\n\t\tfor (let param of this.params)\n\t\t{\n\t\t\tdump.push(param[0], param[1]);\n\t\t\tif (param[1].endsWith(\"=\"))\n\t\t\t\tdump.push(param[2]);\n\t\t}\n\t\tencoder.dump(dump);\n\t}\n\n\tul4onload(decoder)\n\t{\n\t\tsuper.ul4onload(decoder);\n\t\tlet dump = decoder.load();\n\t\tthis.params = [];\n\t\tlet name;\n\t\tlet type;\n\t\tlet state = 0;\n\t\tfor (let param of dump)\n\t\t{\n\t\t\tif (state == 0)\n\t\t\t{\n\t\t\t\tname = param;\n\t\t\t\tstate = 1;\n\t\t\t}\n\t\t\telse if (state == 1)\n\t\t\t{\n\t\t\t\ttype = param;\n\t\t\t\tif (type.endsWith(\"=\"))\n\t\t\t\t\tstate = 2;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.params.push({name: name, type: type, defaultValue: null});\n\t\t\t\t\tstate = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.params.push({name: name, type: type, defaultValue: param});\n\t\t\t\tstate = 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet args = [];\n\t\tfor (let param of this.params)\n\t\t{\n\t\t\targs.push(param.name, param.type);\n\t\t\tif (param.type.endsWith(\"=\"))\n\t\t\t\targs.push(param.defaultValue._handle_eval(context));\n\t\t}\n\t\treturn new Signature(...args);\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" params=\");\n\t\tthis.params._repr(out);\n\t\tout.push(\">\");\n\t}\n};\n\nexport class TemplateClosure extends Proto\n{\n\tstatic classmodule = \"ul4\";\n\tstatic classdoc = \"A locally defined UL4 template\";\n\n\tconstructor(template, signature, vars)\n\t{\n\t\tsuper();\n\t\tthis.template = template;\n\t\tthis.signature = signature;\n\t\tthis.vars = vars;\n\t\tthis._ul4_signature = signature;\n\t\t// Copy over the required attribute from the template\n\t\tthis.name = template.name;\n\t\tthis.tag = template.tag;\n\t\tthis.endtag = template.endtag;\n\t\tthis._source = template._source;\n\t\tthis.docpos = template.docpos;\n\t\tthis.content = template.content;\n\t}\n\n\t[symbols.render](context, vars)\n\t{\n\t\tthis.template._renderbound(context, _extend(this.vars, vars));\n\t}\n\n\trender(context, vars)\n\t{\n\t\tthis.template._renderbound(context, _extend(this.vars, vars));\n\t}\n\n\t[symbols.call](context, vars)\n\t{\n\t\treturn this.template._callbound(context, _extend(this.vars, vars));\n\t}\n\n\t_renderbound(context, vars)\n\t{\n\t\tthis.template._renderbound(context, _extend(this.vars, vars));\n\t}\n\n\t_rendersbound(context, vars)\n\t{\n\t\treturn this.template._rendersbound(context, _extend(this.vars, vars));\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tlet self = this;\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"render\":\n\t\t\t\tlet render = function render(context, vars){ self._renderbound(context, vars); };\n\t\t\t\texpose(render, this.signature, {needscontext: true, needsobject: true});\n\t\t\t\treturn render;\n\t\t\tcase \"renders\":\n\t\t\t\tlet renders = function renders(context, vars){ return self._rendersbound(context, vars); };\n\t\t\t\texpose(renders, this.signature, {needscontext: true, needsobject: true});\n\t\t\t\treturn renders;\n\t\t\tcase \"signature\":\n\t\t\t\treturn this.signature;\n\t\t\tdefault:\n\t\t\t\treturn this.template[symbols.getattr](attrname);\n\t\t}\n\t}\n\n\tul4type()\n\t{\n\t\treturn \"template\";\n\t}\n};\n\nTemplateClosure.prototype._ul4_needsobject = true;\nTemplateClosure.prototype._ul4_needscontext = true;\n\n// Create a color object from the red, green, blue and alpha values\n// `r`, `g`, `b` and `b`\nexport function _rgb(r, g, b, a)\n{\n\treturn new Color(255*r, 255*g, 255*b, 255*a);\n};\n\n// Convert `obj` to a string and escape the characters `&`, `<`, `>`,\n// `'` and `\"` with their XML character/entity reference\nexport function _xmlescape(obj)\n{\n\tobj = _str(obj);\n\tobj = obj.replace(/&/g, \"&amp;\");\n\tobj = obj.replace(/</g, \"&lt;\");\n\tobj = obj.replace(/>/g, \"&gt;\");\n\tobj = obj.replace(/'/g, \"&#39;\");\n\tobj = obj.replace(/\"/g, \"&quot;\");\n\treturn obj;\n};\n\n// Convert `obj` to a string suitable for output into a CSV file\nexport function _csv(obj)\n{\n\tif (obj === null)\n\t\treturn \"\";\n\telse if (typeof(obj) !== \"string\")\n\t\tobj = _repr(obj);\n\tif (obj.indexOf(\",\") !== -1 || obj.indexOf('\"') !== -1 || obj.indexOf(\"\\n\") !== -1)\n\t\tobj = '\"' + obj.replace(/\"/g, '\"\"') + '\"';\n\treturn obj;\n};\n\n// Return a string containing one character with the codepoint `i`\nexport function _chr(i)\n{\n\tif (typeof(i) !== \"number\")\n\t\tthrow new TypeError(\"chr() requires an int\");\n\treturn String.fromCharCode(i);\n};\n\n// Return the codepoint for the one and only character in the string `c`\nexport function _ord(c)\n{\n\tif (typeof(c) !== \"string\" || c.length != 1)\n\t\tthrow new TypeError(\"ord() requires a string of length 1\");\n\treturn c.charCodeAt(0);\n};\n\n// Convert an integer to a hexadecimal string\nexport function _hex(number)\n{\n\tif (typeof(number) !== \"number\")\n\t\tthrow new TypeError(\"hex() requires an int\");\n\tif (number < 0)\n\t\treturn \"-0x\" + number.toString(16).substr(1);\n\telse\n\t\treturn \"0x\" + number.toString(16);\n};\n\n// Convert an integer to a octal string\nexport function _oct(number)\n{\n\tif (typeof(number) !== \"number\")\n\t\tthrow new TypeError(\"oct() requires an int\");\n\tif (number < 0)\n\t\treturn \"-0o\" + number.toString(8).substr(1);\n\telse\n\t\treturn \"0o\" + number.toString(8);\n};\n\n// Convert an integer to a binary string\nexport function _bin(number)\n{\n\tif (typeof(number) !== \"number\")\n\t\tthrow new TypeError(\"bin() requires an int\");\n\tif (number < 0)\n\t\treturn \"-0b\" + number.toString(2).substr(1);\n\telse\n\t\treturn \"0b\" + number.toString(2);\n};\n\n// Return the minimum value\nexport function _min(context, defaultValue=Object, key=null, args=[])\n{\n\tif (args.length == 0)\n\t\tthrow new ArgumentError(\"min() requires at least 1 argument, 0 given\");\n\telse if (args.length == 1)\n\t\targs = args[0];\n\tlet iter = _iter(args);\n\tlet result;\n\tlet minvalue;\n\tlet first = true;\n\twhile (true)\n\t{\n\t\tlet item = iter.next();\n\t\tif (item.done)\n\t\t{\n\t\t\tif (first)\n\t\t\t{\n\t\t\t\tif (defaultValue === Object)\n\t\t\t\t\tthrow new ValueError(\"min() argument is an empty sequence!\");\n\t\t\t\treturn defaultValue;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\tlet testvalue = item.value;\n\t\tif (key !== null)\n\t\t\ttestvalue = _call(context, key, [testvalue], {});\n\t\tif (first || (testvalue < minvalue))\n\t\t{\n\t\t\tresult = item.value;\n\t\t\tminvalue = testvalue;\n\t\t}\n\t\tfirst = false;\n\t}\n};\n\n// Return the maximum value\nexport function _max(context, defaultValue=Object, key=null, args=[])\n{\n\tif (args.length == 0)\n\t\tthrow new ArgumentError(\"max() requires at least 1 argument, 0 given\");\n\telse if (args.length == 1)\n\t\targs = args[0];\n\tlet iter = _iter(args);\n\tlet result;\n\tlet minvalue;\n\tlet first = true;\n\twhile (true)\n\t{\n\t\tlet item = iter.next();\n\t\tif (item.done)\n\t\t{\n\t\t\tif (first)\n\t\t\t{\n\t\t\t\tif (defaultValue === Object)\n\t\t\t\t\tthrow new ValueError(\"max() argument is an empty sequence!\");\n\t\t\t\treturn defaultValue;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\tlet testvalue = item.value;\n\t\tif (key !== null)\n\t\t\ttestvalue = _call(context, key, [testvalue], {});\n\t\tif (first || (testvalue > minvalue))\n\t\t{\n\t\t\tresult = item.value;\n\t\t\tminvalue = testvalue;\n\t\t}\n\t\tfirst = false;\n\t}\n};\n\n// Return the of the values from the iterable starting with `start` (default `0`)\nexport function _sum(iterable, start=0)\n{\n\tfor (let iter = _iter(iterable);;)\n\t{\n\t\tlet item = iter.next();\n\t\tif (item.done)\n\t\t\tbreak;\n\t\tstart += item.value;\n\t}\n\treturn start;\n};\n\n// Return the first value produced by iterating through `iterable`\n// (defaulting to `defaultValue` if the iterator is empty)\nexport function _first(iterable, defaultValue=null)\n{\n\tlet item = _iter(iterable).next();\n\treturn item.done ? defaultValue : item.value;\n};\n\n// Return the last value produced by iterating through `iterable`\n// (defaulting to `defaultValue` if the iterator is empty)\nexport function _last(iterable, defaultValue=null)\n{\n\tlet value = defaultValue;\n\n\tfor (let iter = _iter(iterable);;)\n\t{\n\t\tlet item = iter.next();\n\t\tif (item.done)\n\t\t\tbreak;\n\t\tvalue = item.value;\n\t}\n\treturn value;\n};\n\n// Return a sorted version of `iterable`\nexport function _sorted(context, iterable, key=null, reverse=false)\n{\n\tif (key === null)\n\t{\n\t\t// FIXME: stability\n\t\tlet cmp = reverse ? function cmp(a, b)\n\t\t{\n\t\t\treturn -_cmp(\"<=>\", a, b);\n\t\t} : function cmp(a, b)\n\t\t{\n\t\t\treturn _cmp(\"<=>\", a, b);\n\t\t};\n\t\tlet result = _list(iterable);\n\t\tresult.sort(cmp);\n\t\treturn result;\n\t}\n\telse\n\t{\n\t\tlet sort = [];\n\n\t\tfor (let i = 0, iter = _iter(iterable);;++i)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\tbreak;\n\t\t\tlet keyvalue = _call(context, key, [item.value], {});\n\t\t\t// For a stable sorting we have to use the negative index if\n\t\t\t// reverse sorting is specified\n\t\t\tsort.push([keyvalue, reverse ? -i : i, item.value]);\n\t\t}\n\t\tfunction cmp(s1, s2)\n\t\t{\n\t\t\tlet res = _cmp(\"<=>\", s1[0], s2[0]);\n\t\t\tif (res)\n\t\t\t\treturn reverse ? -res : res;\n\t\t\tres = _cmp(\"<=>\", s1[1], s2[1]);\n\t\t\treturn reverse ? -res : res;\n\t\t};\n\n\t\tsort.sort(cmp);\n\n\t\tlet result = [];\n\t\tfor (let item of sort)\n\t\t\tresult.push(item[2]);\n\t\treturn result;\n\t}\n};\n\n// Return a iterable object iterating from `start` up to (but not including)\n// `stop` with a step size of `step`\nexport function _range(start, stop=Object, step=Object)\n{\n\tif (step === Object)\n\t\tstep = 1;\n\tif (stop === Object)\n\t{\n\t\tstop = start;\n\t\tstart = 0;\n\t}\n\tlet lower, higher;\n\tif (step === 0)\n\t\tthrow new ValueError(\"range() requires a step argument != 0\");\n\telse if (step > 0)\n\t{\n\t\tlower = start;\n\t\thigher = stop;\n\t}\n\telse\n\t{\n\t\tlower = stop;\n\t\thigher = start;\n\t}\n\tlet length = (lower < higher) ? Math.floor((higher - lower - 1)/Math.abs(step)) + 1 : 0;\n\n\treturn {\n\t\tindex: 0,\n\t\tnext: function()\n\t\t{\n\t\t\tif (this.index >= length)\n\t\t\t\treturn {done: true};\n\t\t\treturn {value: start + (this.index++) * step, done: false};\n\t\t}\n\t};\n};\n\n// Return a iterable object returning a slice from the argument\nexport function _slice(iterable, start, stop=Object, step=Object)\n{\n\tif (step === Object)\n\t\tstep = 1;\n\tif (stop === Object)\n\t{\n\t\tstop = start;\n\t\tstart = 0;\n\t}\n\tif (start < 0)\n\t\tthrow new ValueError(\"slice() requires a start argument >= 0\");\n\tif (stop < 0)\n\t\tthrow new ValueError(\"slice() requires a stop argument >= 0\");\n\tif (step <= 0)\n\t\tthrow new ValueError(\"slice() requires a step argument > 0\");\n\n\tlet next = start, count = 0;\n\tlet iter = _iter(iterable);\n\treturn {\n\t\tnext: function() {\n\t\t\tlet result;\n\t\t\twhile (count < next)\n\t\t\t{\n\t\t\t\tresult = iter.next();\n\t\t\t\tif (result.done)\n\t\t\t\t\treturn result;\n\t\t\t\t++count;\n\t\t\t}\n\t\t\tif (stop !== null && count >= stop)\n\t\t\t\treturn {done: true};\n\t\t\tresult = iter.next();\n\t\t\tif (result.done)\n\t\t\t\treturn result;\n\t\t\t++count;\n\t\t\tnext += step;\n\t\t\tif (stop !== null && next > stop)\n\t\t\t\tnext = stop;\n\t\t\treturn result;\n\t\t}\n\t};\n};\n\n// `%` escape unsafe characters in the string `string`\nexport function _urlquote(string)\n{\n\treturn encodeURIComponent(string);\n};\n\n// The inverse function of `urlquote`\nexport function _urlunquote(string)\n{\n\treturn decodeURIComponent(string);\n};\n\n// Return a reverse iterator over `sequence`\nexport function _reversed(sequence)\n{\n\tif (typeof(sequence) !== \"string\" && !_islist(sequence)) // We don't have to materialize strings or lists\n\t\tsequence = _list(sequence);\n\treturn {\n\t\tindex: sequence.length-1,\n\t\tnext: function() {\n\t\t\treturn this.index >= 0 ? {value: sequence[this.index--], done: false} : {done: true};\n\t\t}\n\t};\n};\n\n// Returns a random number in the interval `[0;1[`\nexport function _random()\n{\n\treturn Math.random();\n};\n\n// Return a randomly select item from `range(start, stop, step)`\nexport function _randrange(start, stop=Object, step=Object)\n{\n\tif (step === Object)\n\t\tstep = 1;\n\tif (stop === Object)\n\t{\n\t\tstop = start;\n\t\tstart = 0;\n\t}\n\tlet width = stop-start;\n\n\tlet value = Math.random();\n\n\tlet n;\n\tif (step > 0)\n\t\tn = Math.floor((width + step - 1) / step);\n\telse if (step < 0)\n\t\tn = Math.floor((width + step + 1) / step);\n\telse\n\t\tthrow new ValueError(\"randrange() requires a step argument != 0\");\n\treturn start + step*Math.floor(value * n);\n};\n\n// Return a random item/char from the list/string `sequence`\nexport function _randchoice(sequence)\n{\n\tlet iscolor = _iscolor(sequence);\n\tif (typeof(sequence) !== \"string\" && !_islist(sequence) && !iscolor)\n\t\tthrow new TypeError(\"randchoice() requires a string or list\");\n\tif (iscolor)\n\t\tsequence = _list(sequence);\n\treturn sequence[Math.floor(Math.random() * sequence.length)];\n};\n\n// Round a number `x` to `digits` decimal places (may be negative)\nexport function _round(x, digits=0)\n{\n\tif (digits)\n\t{\n\t\tlet threshold = Math.pow(10, digits);\n\t\treturn Math.round(x*threshold)/threshold;\n\t}\n\telse\n\t\treturn Math.round(x);\n};\n\n// Round a number `x` down to `digits` decimal places (may be negative)\nexport function _floor(x, digits=0)\n{\n\tif (digits)\n\t{\n\t\tlet threshold = Math.pow(10, digits);\n\t\treturn Math.floor(x*threshold)/threshold;\n\t}\n\telse\n\t\treturn Math.floor(x);\n};\n\n// Round a number `x` up to `digits` decimal places (may be negative)\nexport function _ceil(x, digits=0)\n{\n\tif (digits)\n\t{\n\t\tlet threshold = Math.pow(10, digits);\n\t\treturn Math.ceil(x*threshold)/threshold;\n\t}\n\telse\n\t\treturn Math.ceil(x);\n};\n\n// Return a hex-encode MD5 hash of the argument\n// This uses the md5 function from https://github.com/blueimp/JavaScript-MD5\nimport md5 from 'blueimp-md5';\n\nexport function _md5(string)\n{\n\treturn md5(string);\n}\n\nexport function _scrypt(string, salt)\n{\n\tthrow new NotImplementedError(\"scrypt() is not implemented\");\n}\n\nexport function _css(value, defaultValue)\n{\n\tif (value.startsWith(\"#\"))\n\t{\n\t\tif (value.length == 4)\n\t\t{\n\t\t\treturn new Color(\n\t\t\t\t17 * parseInt(value[1], 16),\n\t\t\t\t17 * parseInt(value[2], 16),\n\t\t\t\t17 * parseInt(value[3], 16)\n\t\t\t);\n\t\t}\n\t\telse if (value.length == 5)\n\t\t{\n\t\t\treturn new Color(\n\t\t\t\t17 * parseInt(value[1], 16),\n\t\t\t\t17 * parseInt(value[2], 16),\n\t\t\t\t17 * parseInt(value[3], 16),\n\t\t\t\t17 * parseInt(value[4], 16)\n\t\t\t);\n\t\t}\n\t\telse if (value.length == 7)\n\t\t{\n\t\t\treturn new Color(\n\t\t\t\tparseInt(value.substring(1, 3), 16),\n\t\t\t\tparseInt(value.substring(3, 5), 16),\n\t\t\t\tparseInt(value.substring(5, 7), 16)\n\t\t\t);\n\t\t}\n\t\telse if (value.length == 9)\n\t\t{\n\t\t\treturn new Color(\n\t\t\t\tparseInt(value.substring(1, 3), 16),\n\t\t\t\tparseInt(value.substring(3, 5), 16),\n\t\t\t\tparseInt(value.substring(5, 7), 16),\n\t\t\t\tparseInt(value.substring(7, 9), 16)\n\t\t\t);\n\t\t}\n\t}\n\telse if (value.startsWith(\"rgb(\") && value.endsWith(\")\"))\n\t{\n\t\tlet parts = value.slice(4, -1).split(\",\");\n\t\tif (parts.length == 3)\n\t\t{\n\t\t\tfor (let i = 0; i < 3; ++i)\n\t\t\t{\n\t\t\t\tlet part = parts[i];\n\t\t\t\tif (part.endsWith(\"%\"))\n\t\t\t\t\tparts[i] = parseInt(part.slice(0, -1), \"10\")*255/100;\n\t\t\t\telse\n\t\t\t\t\tparts[i] = parseInt(part, \"10\");\n\t\t\t}\n\t\t\treturn new Color(...parts);\n\t\t}\n\t}\n\telse if (value.startsWith(\"rgba(\") && value.endsWith(\")\"))\n\t{\n\t\tlet parts = value.slice(5, -1).split(\",\");\n\t\tif (parts.length == 4)\n\t\t{\n\t\t\tfor (let i = 0; i < 4; ++i)\n\t\t\t{\n\t\t\t\tlet part = parts[i];\n\t\t\t\tif (part.endsWith(\"%\"))\n\t\t\t\t\tparts[i] = parseInt(part.slice(0, -1), \"10\")*255/100;\n\t\t\t\telse if (i == 3)\n\t\t\t\t\tparts[i] = parseFloat(part)*255;\n\t\t\t\telse\n\t\t\t\t\tparts[i] = parseInt(part, \"10\");\n\t\t\t}\n\t\t\treturn new Color(...parts);\n\t\t}\n\t}\n\telse\n\t{\n\t\tlet color = Color.cssColors[value];\n\t\tif (color !== undefined)\n\t\t\treturn color;\n\t}\n\tif (defaultValue === undefined)\n\t\tthrow new ValueError(\"css() can't interpret \" + _repr(value) + \" as a CSS color value\");\n\telse\n\t\treturn defaultValue;\n}\n\nexport function _mix(values)\n{\n\tlet r = 0.0;\n\tlet g = 0.0;\n\tlet b = 0.0;\n\tlet a = 0.0;\n\tlet weight = 1.0;\n\tlet sumweights = 0.0;\n\n\tfor (let value of values)\n\t{\n\t\tif (value instanceof Color)\n\t\t{\n\t\t\tsumweights += weight;\n\t\t\tr += weight * value._r;\n\t\t\tg += weight * value._g;\n\t\t\tb += weight * value._b;\n\t\t\ta += weight * (255-value._a);\n\t\t}\n\t\telse if (typeof(value) === \"number\")\n\t\t{\n\t\t\tweight = value;\n\t\t}\n\t\telse\n\t\t\tthrow new ArgumentError(\"color.mix() arguments msut be numbers or colors, not \" + _type(value).fullname());\n\t}\n\tif (sumweights == 0.0)\n\t\tthrow new ValueError(\"at least one of the arguments must be a color and at least one of the weights must be >0\");\n\n\treturn new Color(r/sumweights, g/sumweights, b/sumweights, 255-a/sumweights);\n}\n\n// Return an iterator over `[index, item]` lists from the iterable object\n// `iterable`. `index` starts at `start` (defaulting to 0).\nexport function _enumerate(iterable, start=0)\n{\n\treturn {\n\t\titer: _iter(iterable),\n\t\tindex: start,\n\t\tnext: function() {\n\t\t\tlet item = this.iter.next();\n\t\t\treturn item.done ? item : {value: [this.index++, item.value], done: false};\n\t\t}\n\t};\n};\n\n// Return an iterator over `[isfirst, item]` lists from the iterable object\n// `iterable` (`isfirst` is true for the first item, false otherwise).\nexport function _isfirst(iterable)\n{\n\tlet iter = _iter(iterable);\n\tlet isfirst = true;\n\treturn {\n\t\tnext: function() {\n\t\t\tlet item = iter.next();\n\t\t\tlet result = item.done ? item : {value: [isfirst, item.value], done: false};\n\t\t\tisfirst = false;\n\t\t\treturn result;\n\t\t}\n\t};\n};\n\n// Return an iterator over `[islast, item]` lists from the iterable object\n// `iterable` (`islast` is true for the last item, false otherwise).\nexport function _islast(iterable)\n{\n\tlet iter = _iter(iterable);\n\tlet lastitem = iter.next();\n\treturn {\n\t\tnext: function() {\n\t\t\tif (lastitem.done)\n\t\t\t\treturn lastitem;\n\t\t\tlet item = iter.next();\n\t\t\tlet result = {value: [item.done, lastitem.value], done: false};\n\t\t\tlastitem = item;\n\t\t\treturn result;\n\t\t}\n\t};\n};\n\n// Return an iterator over `[isfirst, islast, item]` lists from the iterable\n// object `iterable` (`isfirst` is true for the first item, `islast`\n// is true for the last item. Both are false otherwise).\nexport function _isfirstlast(iterable)\n{\n\tlet iter = _iter(iterable);\n\tlet isfirst = true;\n\tlet lastitem = iter.next();\n\treturn {\n\t\tnext: function() {\n\t\t\tif (lastitem.done)\n\t\t\t\treturn lastitem;\n\t\t\tlet item = iter.next();\n\t\t\tlet result = {value: [isfirst, item.done, lastitem.value], done: false};\n\t\t\tlastitem = item;\n\t\t\tisfirst = false;\n\t\t\treturn result;\n\t\t}\n\t};\n};\n\n// Return an iterator over `[index, isfirst, islast, item]` lists from the\n// iterable object `iterable` (`isfirst` is true for the first item,\n// `islast` is true for the last item. Both are false otherwise).\nexport function _enumfl(iterable, start=0)\n{\n\tlet iter = _iter(iterable);\n\tlet i = start;\n\tlet isfirst = true;\n\tlet lastitem = iter.next();\n\treturn {\n\t\tnext: function() {\n\t\t\tif (lastitem.done)\n\t\t\t\treturn lastitem;\n\t\t\tlet item = iter.next();\n\t\t\tlet result = {value: [i++, isfirst, item.done, lastitem.value], done: false};\n\t\t\tlastitem = item;\n\t\t\tisfirst = false;\n\t\t\treturn result;\n\t\t}\n\t};\n};\n\n// Return an iterator over lists, where the i'th list consists of all i'th\n// items from the arguments (terminating when the shortest argument ends).\nexport function _zip(iterables)\n{\n\tlet result;\n\tif (iterables.length)\n\t{\n\t\tlet iters = [];\n\t\tfor (let iterable of iterables)\n\t\t\titers.push(_iter(iterable));\n\n\t\treturn {\n\t\t\tnext: function() {\n\t\t\t\tlet items = [];\n\t\t\t\tfor (let iter of iters)\n\t\t\t\t{\n\t\t\t\t\tlet item = iter.next();\n\t\t\t\t\tif (item.done)\n\t\t\t\t\t\treturn item;\n\t\t\t\t\titems.push(item.value);\n\t\t\t\t}\n\t\t\t\treturn {value: items, done: false};\n\t\t\t}\n\t\t};\n\t}\n\telse\n\t{\n\t\treturn {\n\t\t\tnext: function() {\n\t\t\t\treturn {done: true};\n\t\t\t}\n\t\t};\n\t}\n};\n\n// Return the absolute value for the number `number`.\nexport function _abs(number)\n{\n\tif (number !== null && typeof(number[symbols.abs]) === \"function\")\n\t\treturn number[symbols.abs]();\n\treturn Math.abs(number);\n};\n\n// Return a `Date` object from the arguments passed in.\nexport function _date(year, month, day)\n{\n\treturn datetype[symbols.call](year, month, day);\n};\n\nexport function _datetime(year, month, day, hour=0, minute=0, second=0, microsecond=0)\n{\n\treturn datetimetype[symbols.call](year, month, day, hour, minute, second, microsecond);\n};\n\n// Return a `TimeDelta` object from the arguments passed in.\nexport function _timedelta(days=0, seconds=0, microseconds=0)\n{\n\treturn TimeDelta.type[symbols.call](days, seconds, microseconds);\n};\n\n// Return a `MonthDelta` object from the arguments passed in.\nexport function _monthdelta(months=0)\n{\n\treturn MonthDelta.type[symbols.call](months);\n};\n\n// Return a `Color` object from the hue, luminescence, saturation and\n// alpha values `h`, `l`, `s` and `a` (i.e. using the HLS color model).\nexport function _hls(h, l, s, a)\n{\n\tlet _v = function _v(m1, m2, hue)\n\t{\n\t\thue = hue % 1.0;\n\t\tif (hue < 1/6)\n\t\t\treturn m1 + (m2-m1)*hue*6.0;\n\t\telse if (hue < 0.5)\n\t\t\treturn m2;\n\t\telse if (hue < 2/3)\n\t\t\treturn m1 + (m2-m1)*(2/3-hue)*6.0;\n\t\treturn m1;\n\t};\n\n\tlet m1, m2;\n\tif (a === undefined)\n\t\ta = 1;\n\tif (s === 0.0)\n\t\treturn _rgb(l, l, l, a);\n\tif (l <= 0.5)\n\t\tm2 = l * (1.0+s);\n\telse\n\t\tm2 = l+s-(l*s);\n\tm1 = 2.0*l - m2;\n\treturn _rgb(_v(m1, m2, h+1/3), _v(m1, m2, h), _v(m1, m2, h-1/3), a);\n};\n\n// Return a `Color` object from the hue, saturation, value and alpha values\n// `h`, `s`, `v` and `a` (i.e. using the HSV color model).\nexport function _hsv(h, s, v, a)\n{\n\tif (s === 0.0)\n\t\treturn _rgb(v, v, v, a);\n\tlet i = Math.floor(h*6.0);\n\tlet f = (h*6.0) - i;\n\tlet p = v*(1.0 - s);\n\tlet q = v*(1.0 - s*f);\n\tlet t = v*(1.0 - s*(1.0-f));\n\tswitch (i%6)\n\t{\n\t\tcase 0:\n\t\t\treturn _rgb(v, t, p, a);\n\t\tcase 1:\n\t\t\treturn _rgb(q, v, p, a);\n\t\tcase 2:\n\t\t\treturn _rgb(p, v, t, a);\n\t\tcase 3:\n\t\t\treturn _rgb(p, q, v, a);\n\t\tcase 4:\n\t\t\treturn _rgb(t, p, v, a);\n\t\tcase 5:\n\t\t\treturn _rgb(v, p, q, a);\n\t}\n};\n\n// Return the item with the key `key` from the dict `container`.\n// If `container` doesn't have this key, return `defaultvalue`.\nexport function _get(container, key, defaultvalue)\n{\n\tif (_ismap(container))\n\t{\n\t\tif (container.has(key))\n\t\t\treturn container.get(key);\n\t\treturn defaultvalue;\n\t}\n\telse if (_isobject(container))\n\t{\n\t\tlet result = container[key];\n\t\tif (result === undefined)\n\t\t\treturn defaultvalue;\n\t\treturn result;\n\t}\n\tthrow new TypeError(\"get() requires a dict\");\n};\n\n// Return a `Date` object for the current time.\nexport function now()\n{\n\treturn new Date();\n};\n\n// Return a `Date` object for the current time in UTC.\nexport function utcnow()\n{\n\tlet now = new Date();\n\t// FIXME: The timezone is wrong for the new `Date` object.\n\treturn new Date(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), now.getUTCHours(), now.getUTCMinutes(), now.getUTCSeconds(), now.getUTCMilliseconds());\n};\n\n// Return an `Date` object for today.\nexport function today()\n{\n\tlet now = new Date();\n\treturn new Date_(now.getFullYear(), now.getMonth()+1, now.getDate());\n};\n\nexport class Module\n{\n\tconstructor(name, doc, content={})\n\t{\n\t\tthis.__name__ = name;\n\t\tthis.__doc__ = doc;\n\t\tfor (let [key, value] of Object.entries(content))\n\t\t\tthis[key] = value;\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tif (this.hasOwnProperty(attrname))\n\t\t\treturn this[attrname];\n\t\tthrow new ul4.AttributeError(this, attrname);\n\t}\n\n\t[symbols.repr]()\n\t{\n\t\treturn \"<module \" + this.__name__ + \">\";\n\t}\n};\n\nfunction _ul4on_loads(dump)\n{\n\treturn loads(dump);\n};\n\nexpose(_ul4on_loads, [\"dump\", \"p\"], {name: \"loads\"});\n\nfunction _ul4on_dumps(obj, indent=null)\n{\n\treturn dumps(obj, indent);\n};\n\nexpose(_ul4on_dumps, [\"obj\", \"p\", \"indent\", \"pk=\", null], {name: \"dumps\"});\n\nfunction isclose(a, b, rel_tol=1e-9, abs_tol=0.0)\n{\n\tif (a === b)\n\t\treturn true;\n\n\tif (a === Infinity || a === -Infinity || b === Infinity || b === -Infinity)\n\t\treturn false;\n\n\tlet diff = Math.abs(b - a);\n\n\tif (diff <= Math.abs(rel_tol * a))\n\t\treturn true;\n\tif (diff <= Math.abs(rel_tol * b))\n\t\treturn true;\n\tif (diff <= abs_tol)\n\t\treturn true;\n\treturn false;\n}\n\nexpose(Math.cos, [\"x\", \"p\"]);\nexpose(Math.sin, [\"x\", \"p\"]);\nexpose(Math.tan, [\"x\", \"p\"]);\nexpose(Math.sqrt, [\"x\", \"p\"]);\nexpose(isclose, [\"a\", \"pk\", \"b\", \"pk\", \"rel_tol\", \"k=\", 1e-9, \"abs_tol\", \"k=\", 0.0]);\n\n\nexport class AttrGetterType extends Type\n{\n\t[symbols.call](attrs)\n\t{\n\t\treturn new AttrGetter(attrs);\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn obj instanceof AttrGetter;\n\t}\n};\n\nexpose(AttrGetterType.prototype, [\"attrs\", \"*\"], {name: \"attrgetter\"});\n\nlet attrgettertype = new AttrGetterType(\"operator\", \"attrgetter\", \"A callable object that fetches the given attribute(s) from its operand.\");\n\nexport class AttrGetter\n{\n\t// Create a new AttrGetter object\n\tconstructor(attrs)\n\t{\n\t\tthis.attrs = attrs;\n\t}\n\n\t[symbols.type]()\n\t{\n\t\treturn attrgettertype;\n\t}\n\n\t_getone(obj, attrnames)\n\t{\n\t\tfor (let attrname of attrnames.split(\".\"))\n\t\t{\n\t\t\tlet type = _type(obj);\n\t\t\tobj = type.getattr(obj, attrname);\n\t\t}\n\t\treturn obj;\n\t}\n\n\t[symbols.call](obj)\n\t{\n\t\tif (this.attrs.length === 1)\n\t\t\treturn this._getone(obj, this.attrs[0])\n\t\telse\n\t\t{\n\t\t\tlet result = [];\n\t\t\tfor (let attrnames of this.attrs)\n\t\t\t\tresult.push(this._getone(obj, attrnames));\n\t\t\treturn result;\n\t\t}\n\t}\n};\n\nexpose(AttrGetter.prototype, [\"obj\", \"p\"], {name: \"attrgetter\"});\n\n\nexport function _attrgetter(attrnames)\n{\n\tfunction getone(obj, dottedname)\n\t{\n\t\tlet result = obj;\n\t\tfor (let name of dottedname.split(\".\"))\n\t\t\tresult = AttrAST.prototype._get(result, name);\n\t\treturn result;\n\t}\n\n\tfunction get(obj)\n\t{\n\t\tif (attrnames.length === 1)\n\t\t\treturn getone(obj, attrnames[0]);\n\t\telse\n\t\t{\n\t\t\tlet result = [];\n\t\t\tfor (let dottedattrname of attrnames)\n\t\t\t\tresult.push(getone(obj, dottedattrname));\n\t\t\treturn result;\n\t\t}\n\t}\n\texpose(get, [\"obj\", \"p\"]);\n\treturn get;\n}\n\nexpose(_attrgetter, [\"attrs\", \"*\"]);\n\nexpose(_repr, [\"obj\", \"p\"], {name: \"repr\"});\nexpose(_ascii, [\"obj\", \"p\"], {name: \"ascii\"});\nexpose(_len, [\"sequence\", \"p\"], {name: \"len\"});\nexpose(_type, [\"obj\", \"p\"], {name: \"type\"});\nexpose(_format, [\"obj\", \"pk\", \"fmt\", \"pk\", \"lang\", \"pk=\", null], {name: \"format\"});\nexpose(_any, [\"iterable\", \"p\"], {name: \"any\"});\nexpose(_all, [\"iterable\", \"p\"], {name: \"all\"});\nexpose(_zip, [\"iterables\", \"*\"], {name: \"zip\"});\nexpose(_getattr, [\"obj\", \"p\", \"attrname\", \"p\", \"default\", \"p=\", null], {name: \"getattr\"});\nexpose(_hasattr, [\"obj\", \"p\", \"attrname\", \"p\"], {name: \"hasattr\"});\nexpose(_dir, [\"obj\", \"p\"], {name: \"dir\"});\nexpose(_isundefined, [\"obj\", \"p\"], {name: \"isundefined\"});\nexpose(_isdefined, [\"obj\", \"p\"], {name: \"isdefined\"});\nexpose(_isnone, [\"obj\", \"p\"], {name: \"isnone\"});\nexpose(_isbool, [\"obj\", \"p\"], {name: \"isbool\"});\nexpose(_isint, [\"obj\", \"p\"], {name: \"isint\"});\nexpose(_isfloat, [\"obj\", \"p\"], {name: \"isfloat\"});\nexpose(_isstr, [\"obj\", \"p\"], {name: \"isstr\"});\nexpose(_isdate, [\"obj\", \"p\"], {name: \"isdate\"});\nexpose(_isdatetime, [\"obj\", \"p\"], {name: \"isdatetime\"});\nexpose(_iscolor, [\"obj\", \"p\"], {name: \"iscolor\"});\nexpose(_istimedelta, [\"obj\", \"p\"], {name: \"istimedelta\"});\nexpose(_ismonthdelta, [\"obj\", \"p\"], {name: \"ismonthdelta\"});\nexpose(_istemplate, [\"obj\", \"p\"], {name: \"istemplate\"});\nexpose(_isfunction, [\"obj\", \"p\"], {name: \"isfunction\"});\nexpose(_islist, [\"obj\", \"p\"], {name: \"islist\"});\nexpose(_isset, [\"obj\", \"p\"], {name: \"isset\"});\nexpose(_isdict, [\"obj\", \"p\"], {name: \"isdict\"});\nexpose(_isexception, [\"obj\", \"p\"], {name: \"isexception\"});\nexpose(_isinstance, [\"obj\", \"p\", \"type\", \"p\"], {name: \"isinstance\"});\nexpose(_asjson, [\"obj\", \"p\"], {name: \"asjson\"});\nexpose(_fromjson, [\"string\", \"p\"], {name: \"fromjson\"});\nexpose(_asul4on, [\"obj\", \"p\", \"indent\", \"pk=\",null], {name: \"asul4on\"});\nexpose(_fromul4on, [\"dump\", \"p\"], {name: \"fromul4on\"});\nexpose(now, []);\nexpose(utcnow, []);\nexpose(today, []);\nexpose(_enumerate, [\"iterable\", \"pk\", \"start\", \"pk=\", 0], {name: \"enumerate\"});\nexpose(_isfirst, [\"iterable\", \"p\"], {name: \"isfirst\"});\nexpose(_islast, [\"iterable\", \"p\"], {name: \"islast\"});\nexpose(_isfirstlast, [\"iterable\", \"p\"], {name: \"isfirstlast\"});\nexpose(_enumfl, [\"iterable\", \"p\", \"start\", \"pk=\", 0], {name: \"enumfl\"});\nexpose(_abs, [\"number\", \"p\"], {name: \"abs\"});\nexpose(_rgb, [\"r\", \"pk\", \"g\", \"pk\", \"b\", \"pk\", \"a\", \"pk=\", 1.0], {name: \"rgb\"});\nexpose(_hls, [\"h\", \"pk\", \"l\", \"pk\", \"s\", \"pk\", \"a\", \"pk=\", 1.0], {name: \"hls\"});\nexpose(_hsv, [\"h\", \"pk\", \"s\", \"pk\", \"v\", \"pk\", \"a\", \"pk=\", 1.0], {name: \"hsv\"});\nexpose(_xmlescape, [\"obj\", \"p\"], {name: \"xmlescape\"});\nexpose(_csv, [\"obj\", \"p\"], {name: \"csv\"});\nexpose(_chr, [\"i\", \"p\"], {name: \"chr\"});\nexpose(_ord, [\"c\", \"p\"], {name: \"ord\"});\nexpose(_hex, [\"number\", \"p\"], {name: \"hex\"});\nexpose(_oct, [\"number\", \"p\"], {name: \"oct\"});\nexpose(_bin, [\"number\", \"p\"], {name: \"bin\"});\nexpose(_min, [\"default\", \"k=\", Object, \"key\", \"k=\", null, \"args\", \"*\"], {name: \"min\", needscontext: true});\nexpose(_max, [\"default\", \"k=\", Object, \"key\", \"k=\", null, \"args\", \"*\"], {name: \"max\", needscontext: true});\nexpose(_sum, [\"iterable\", \"p\", \"start\", \"pk=\", 0], {name: \"sum\"});\nexpose(_first, [\"iterable\", \"p\", \"default\", \"pk=\", null], {name: \"first\"});\nexpose(_last, [\"iterable\", \"p\", \"default\", \"pk=\", null], {name: \"last\"});\nexpose(_sorted, [\"iterable\", \"p\", \"key\", \"pk=\", null, \"reverse\", \"pk=\", false], {name: \"sorted\", needscontext: true});\nexpose(_range, [\"start\", \"p\", \"stop\", \"p=\", Object, \"step\", \"p=\", Object], {name: \"range\"});\nexpose(_slice, [\"iterable\", \"p\", \"start\", \"p\", \"stop\", \"p=\", Object, \"step\", \"p=\", Object], {name: \"slice\"});\nexpose(_urlquote, [\"string\", \"pk\"], {name: \"urlquote\"});\nexpose(_urlunquote, [\"string\", \"pk\"], {name: \"urlunquote\"});\nexpose(_reversed, [\"sequence\", \"p\"], {name: \"reversed\"});\nexpose(_random, [], {name: \"random\"});\nexpose(_randrange, [\"start\", \"p\", \"stop\", \"p=\", Object, \"step\", \"p=\", Object], {name: \"randrange\"});\nexpose(_randchoice, [\"seq\", \"pk\"], {name: \"randchoice\"});\nexpose(_round, [\"x\", \"p\", \"digits\", \"pk=\", 0], {name: \"round\"});\nexpose(_floor, [\"x\", \"p\", \"digits\", \"pk=\", 0], {name: \"floor\"});\nexpose(_ceil, [\"x\", \"p\", \"digits\", \"pk=\", 0], {name: \"ceil\"});\nexpose(_md5, [\"string\", \"p\"], {name: \"md5\"});\nexpose(_scrypt, [\"string\", \"p\", \"salt\", \"pk\"], {name: \"scrypt\"});\nexpose(_css, [\"value\", \"p\", \"default\", \"p=\", undefined], {name: \"css\"});\nexpose(_mix, [\"values\", \"*\"], {name: \"mix\"});\n\n// Functions implementing UL4 methods\nexport function _count(obj, sub, start=null, end=null)\n{\n\tif (start < 0)\n\t\tstart += obj.length;\n\tif (start === null)\n\t\tstart = 0;\n\n\tif (end < 0)\n\t\tend += obj.length;\n\tif (end === null)\n\t\tend = obj.length;\n\n\tlet isstr = _isstr(obj);\n\n\tif (isstr && !sub.length)\n\t{\n\t\tif (end < 0 || start > obj.length || start > end)\n\t\t\treturn 0;\n\t\tlet result = end - start + 1;\n\t\tif (result > obj.length + 1)\n\t\t\tresult = obj.length + 1;\n\t\treturn result;\n\t}\n\n\tstart = _bound(start, obj.length);\n\tend = _bound(end, obj.length);\n\n\tlet count = 0;\n\tif (_islist(obj))\n\t{\n\t\tfor (let i = start; i < end; ++i)\n\t\t{\n\t\t\tif (_eq(obj[i], sub))\n\t\t\t\t++count;\n\t\t}\n\t\treturn count;\n\t}\n\telse // string\n\t{\n\t\tlet lastIndex = start;\n\n\t\tfor (;;)\n\t\t{\n\t\t\tlastIndex = obj.indexOf(sub, lastIndex);\n\t\t\tif (lastIndex == -1)\n\t\t\t\tbreak;\n\t\t\tif (lastIndex + sub.length > end)\n\t\t\t\tbreak;\n\t\t\t++count;\n\t\t\tlastIndex += sub.length;\n\t\t}\n\t\treturn count;\n\t}\n};\n\nexport function _find(obj, sub, start=null, end=null)\n{\n\tif (start < 0)\n\t\tstart += obj.length;\n\tif (start === null)\n\t\tstart = 0;\n\tif (end < 0)\n\t\tend += obj.length;\n\tif (end === null)\n\t\tend = obj.length;\n\tstart = _bound(start, obj.length);\n\tend = _bound(end, obj.length);\n\n\tif (start !== 0 || end !== obj.length)\n\t{\n\t\tif (typeof(obj) === \"string\")\n\t\t\tobj = obj.substring(start, end);\n\t\telse\n\t\t\tobj = obj.slice(start, end);\n\t}\n\tlet result = obj.indexOf(sub);\n\tif (result !== -1)\n\t\tresult += start;\n\treturn result;\n};\n\nexport function _rfind(obj, sub, start=null, end=null)\n{\n\tif (start < 0)\n\t\tstart += obj.length;\n\tif (start === null)\n\t\tstart = 0;\n\tif (end < 0)\n\t\tend += obj.length;\n\tif (end === null)\n\t\tend = obj.length;\n\tstart = _bound(start, obj.length);\n\tend = _bound(end, obj.length);\n\n\tif (start !== 0 || end !== obj.length)\n\t{\n\t\tif (typeof(obj) === \"string\")\n\t\t\tobj = obj.substring(start, end);\n\t\telse\n\t\t\tobj = obj.slice(start, end);\n\t}\n\tlet result = obj.lastIndexOf(sub);\n\tif (result !== -1)\n\t\tresult += start;\n\treturn result;\n};\n\nexport function _week4format(obj, firstweekday=null)\n{\n\tif (firstweekday === null)\n\t\tfirstweekday = 0;\n\telse\n\t\tfirstweekday %= 7;\n\n\tlet yearday = datetimetype.yearday(obj)+6;\n\tlet jan1 = new Date(obj.getFullYear(), 0, 1);\n\tlet jan1weekday = jan1.getDay();\n\tif (--jan1weekday < 0)\n\t\tjan1weekday = 6;\n\n\twhile (jan1weekday != firstweekday)\n\t{\n\t\t--yearday;\n\t\tif (++jan1weekday == 7)\n\t\t\tjan1weekday = 0;\n\t}\n\treturn Math.floor(yearday/7);\n};\n\nexport function _isleap(obj)\n{\n\treturn new Date(obj.getFullYear(), 1, 29).getMonth() === 1;\n};\n\nexport class ColorType extends Type\n{\n\t[symbols.call](r=0, g=0, b=0, a=255)\n\t{\n\t\treturn new Color(r, g, b, a);\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn obj instanceof Color;\n\t}\n};\n\nexpose(ColorType.prototype, [\"r\", \"pk=\", 0, \"g\", \"pk=\", 0, \"b\", \"pk=\", 0, \"a\", \"pk=\", 255], {name: \"color\"});\n\nColorType.prototype.attrs = new Set([\n\t\"a\",\n\t\"abslight\",\n\t\"abslum\",\n\t\"b\",\n\t\"combine\",\n\t\"g\",\n\t\"hls\",\n\t\"hlsa\",\n\t\"hsv\",\n\t\"hsva\",\n\t\"hue\",\n\t\"invert\",\n\t\"light\",\n\t\"lum\",\n\t\"r\",\n\t\"rellight\",\n\t\"rellum\",\n\t\"sat\",\n\t\"witha\",\n\t\"withhue\",\n\t\"withlight\",\n\t\"withlum\",\n\t\"withsat\"\n]);\n\nlet colortype = new ColorType(\"color\", \"Color\", \"An RGBA color (with 8-bit red, green, blue and alpha values).\");\n\nexport class Color extends Proto\n{\n\tconstructor(r=0, g=0, b=0, a=255)\n\t{\n\t\tsuper();\n\t\tthis._r = _bound(_round(r), 255);\n\t\tthis._g = _bound(_round(g), 255);\n\t\tthis._b = _bound(_round(b), 255);\n\t\tthis._a = _bound(_round(a), 255);\n\t}\n\n\t[symbols.type]()\n\t{\n\t\treturn colortype;\n\t}\n\n\t[symbols.repr]()\n\t{\n\t\tlet r = _lpad(this._r.toString(16), \"0\", 2);\n\t\tlet g = _lpad(this._g.toString(16), \"0\", 2);\n\t\tlet b = _lpad(this._b.toString(16), \"0\", 2);\n\t\tlet a = _lpad(this._a.toString(16), \"0\", 2);\n\t\tif (this._a !== 0xff)\n\t\t{\n\t\t\tif (r[0] === r[1] && g[0] === g[1] && b[0] === b[1] && a[0] === a[1])\n\t\t\t\treturn \"#\" + r[0] + g[0] + b[0] + a[0];\n\t\t\telse\n\t\t\t\treturn \"#\" + r + g + b + a;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (r[0] === r[1] && g[0] === g[1] && b[0] === b[1])\n\t\t\t\treturn \"#\" + r[0] + g[0] + b[0];\n\t\t\telse\n\t\t\t\treturn \"#\" + r + g + b;\n\t\t}\n\t}\n\n\t[symbols.str]()\n\t{\n\t\tif (this._a !== 0xff)\n\t\t{\n\t\t\treturn \"rgba(\" + this._r + \", \" + this._g + \", \" + this._b + \", \" + (this._a/255) + \")\";\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlet r = _lpad(this._r.toString(16), \"0\", 2);\n\t\t\tlet g = _lpad(this._g.toString(16), \"0\", 2);\n\t\t\tlet b = _lpad(this._b.toString(16), \"0\", 2);\n\t\t\tif (r[0] === r[1] && g[0] === g[1] && b[0] === b[1])\n\t\t\t\treturn \"#\" + r[0] + g[0] + b[0];\n\t\t\telse\n\t\t\t\treturn \"#\" + r + g + b;\n\t\t}\n\t}\n\n\t[Symbol.iterator]()\n\t{\n\t\treturn {\n\t\t\tobj: this,\n\t\t\tindex: 0,\n\t\t\tnext: function() {\n\t\t\t\tif (this.index == 0)\n\t\t\t\t{\n\t\t\t\t\t++this.index;\n\t\t\t\t\treturn {value: this.obj._r, done: false};\n\t\t\t\t}\n\t\t\t\telse if (this.index == 1)\n\t\t\t\t{\n\t\t\t\t\t++this.index;\n\t\t\t\t\treturn {value: this.obj._g, done: false};\n\t\t\t\t}\n\t\t\t\telse if (this.index == 2)\n\t\t\t\t{\n\t\t\t\t\t++this.index;\n\t\t\t\t\treturn {value: this.obj._b, done: false};\n\t\t\t\t}\n\t\t\t\telse if (this.index == 3)\n\t\t\t\t{\n\t\t\t\t\t++this.index;\n\t\t\t\t\treturn {value: this.obj._a, done: false};\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\treturn {done: true};\n\t\t\t}\n\t\t};\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tlet self = this;\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"r\":\n\t\t\t\tlet r = function r(){ return self._r; };\n\t\t\t\texpose(r, []);\n\t\t\t\treturn r;\n\t\t\tcase \"g\":\n\t\t\t\tlet g = function g(){ return self._g; };\n\t\t\t\texpose(g, []);\n\t\t\t\treturn g;\n\t\t\tcase \"b\":\n\t\t\t\tlet b = function b(){ return self._b; };\n\t\t\t\texpose(b, []);\n\t\t\t\treturn b;\n\t\t\tcase \"a\":\n\t\t\t\tlet a = function a(){ return self._a; };\n\t\t\t\texpose(a, []);\n\t\t\t\treturn a;\n\t\t\tcase \"hue\":\n\t\t\t\treturn expose(this.hue.bind(this), []);\n\t\t\tcase \"light\":\n\t\t\t\treturn expose(this.light.bind(this), []);\n\t\t\tcase \"sat\":\n\t\t\t\treturn expose(this.sat.bind(this), []);\n\t\t\tcase \"lum\":\n\t\t\t\treturn expose(this.lum.bind(this), []);\n\t\t\tcase \"hls\":\n\t\t\t\treturn expose(this.hls.bind(this), []);\n\t\t\tcase \"hlsa\":\n\t\t\t\treturn expose(this.hlsa.bind(this), []);\n\t\t\tcase \"hsv\":\n\t\t\t\treturn expose(this.hsv.bind(this), []);\n\t\t\tcase \"hsva\":\n\t\t\t\treturn expose(this.hsva.bind(this), []);\n\t\t\tcase \"withhue\":\n\t\t\t\treturn expose(this.withhue.bind(this), [\"hue\", \"pk\"]);\n\t\t\tcase \"witha\":\n\t\t\t\treturn expose(this.witha.bind(this), [\"a\", \"pk\"]);\n\t\t\tcase \"withlight\":\n\t\t\t\treturn expose(this.withlight.bind(this), [\"light\", \"pk\"]);\n\t\t\tcase \"abslight\":\n\t\t\t\treturn expose(this.abslight.bind(this), [\"f\", \"pk\"]);\n\t\t\tcase \"rellight\":\n\t\t\t\treturn expose(this.rellight.bind(this), [\"f\", \"pk\"]);\n\t\t\tcase \"withsat\":\n\t\t\t\treturn expose(this.withsat.bind(this), [\"sat\", \"pk\"]);\n\t\t\tcase \"withlum\":\n\t\t\t\treturn expose(this.withlum.bind(this), [\"lum\", \"pk\"]);\n\t\t\tcase \"abslum\":\n\t\t\t\treturn expose(this.abslum.bind(this), [\"f\", \"pk\"]);\n\t\t\tcase \"rellum\":\n\t\t\t\treturn expose(this.rellum.bind(this), [\"f\", \"pk\"]);\n\t\t\tcase \"invert\":\n\t\t\t\treturn expose(this.invert.bind(this), [\"f\", \"pk=\", 1.0]);\n\t\t\tcase \"combine\":\n\t\t\t\treturn expose(this.combine.bind(this), [\"r\", \"pk=\", null, \"g\", \"pk=\", null, \"b\", \"pk=\", null, \"a\", \"pk=\", null]);\n\t\t\tdefault:\n\t\t\t\tthrow new AttributeError(this, attrname);\n\t\t}\n\t}\n\n\t[symbols.getitem](key)\n\t{\n\t\tlet orgkey = key;\n\t\tif (key < 0)\n\t\t\tkey += 4;\n\t\tswitch (key)\n\t\t{\n\t\t\tcase 0:\n\t\t\t\treturn this._r;\n\t\t\tcase 1:\n\t\t\t\treturn this._g;\n\t\t\tcase 2:\n\t\t\t\treturn this._b;\n\t\t\tcase 3:\n\t\t\t\treturn this._a;\n\t\t\tdefault:\n\t\t\t\tthrow new IndexError(this, orgkey);\n\t\t}\n\t}\n\n\t[symbols.eq](other)\n\t{\n\t\tif (other instanceof Color)\n\t\t\treturn this._r == other._r && this._g == other._g && this._b == other._b && this._a == other._a;\n\t\treturn false;\n\t}\n\n\tr()\n\t{\n\t\t\treturn this._r;\n\t}\n\n\tg()\n\t{\n\t\treturn this._g;\n\t}\n\n\tb()\n\t{\n\t\treturn this._b;\n\t}\n\n\ta()\n\t{\n\t\treturn this._a;\n\t}\n\n\thue()\n\t{\n\t\treturn this.hls()[0];\n\t}\n\n\tlight()\n\t{\n\t\treturn this.hls()[1];\n\t}\n\n\tsat()\n\t{\n\t\treturn this.hls()[2];\n\t}\n\n\tlum()\n\t{\n\t\treturn (0.2126 * this._r + 0.7152 * this._g + 0.0722 * this._b)/255;\n\t}\n\n\thls()\n\t{\n\t\tlet r = this._r/255.0;\n\t\tlet g = this._g/255.0;\n\t\tlet b = this._b/255.0;\n\t\tlet maxc = Math.max(r, g, b);\n\t\tlet minc = Math.min(r, g, b);\n\t\tlet h, l, s;\n\t\tlet rc, gc, bc;\n\n\t\tl = (minc+maxc)/2.0;\n\t\tif (minc == maxc)\n\t\t\treturn [0.0, l, 0.0];\n\t\tif (l <= 0.5)\n\t\t\ts = (maxc-minc) / (maxc+minc);\n\t\telse\n\t\t\ts = (maxc-minc) / (2.0-maxc-minc);\n\t\trc = (maxc-r) / (maxc-minc);\n\t\tgc = (maxc-g) / (maxc-minc);\n\t\tbc = (maxc-b) / (maxc-minc);\n\t\tif (r == maxc)\n\t\t\th = bc-gc;\n\t\telse if (g == maxc)\n\t\t\th = 2.0+rc-bc;\n\t\telse\n\t\t\th = 4.0+gc-rc;\n\t\th = (h/6.0) % 1.0;\n\t\treturn [h, l, s];\n\t}\n\n\thlsa()\n\t{\n\t\tlet hls = this.hls();\n\t\treturn hls.concat(this._a/255.0);\n\t}\n\n\thsv()\n\t{\n\t\tlet r = this._r/255.0;\n\t\tlet g = this._g/255.0;\n\t\tlet b = this._b/255.0;\n\t\tlet maxc = Math.max(r, g, b);\n\t\tlet minc = Math.min(r, g, b);\n\t\tlet v = maxc;\n\t\tif (minc == maxc)\n\t\t\treturn [0.0, 0.0, v];\n\t\tlet s = (maxc-minc) / maxc;\n\t\tlet rc = (maxc-r) / (maxc-minc);\n\t\tlet gc = (maxc-g) / (maxc-minc);\n\t\tlet bc = (maxc-b) / (maxc-minc);\n\t\tlet h;\n\t\tif (r == maxc)\n\t\t\th = bc-gc;\n\t\telse if (g == maxc)\n\t\t\th = 2.0+rc-bc;\n\t\telse\n\t\t\th = 4.0+gc-rc;\n\t\th = (h/6.0) % 1.0;\n\t\treturn [h, s, v];\n\t}\n\n\thsva()\n\t{\n\t\tlet hsv = this.hsv();\n\t\treturn hsv.concat(this._a/255.0);\n\t}\n\n\twithhue(hue)\n\t{\n\t\tif (typeof(hue) !== \"number\")\n\t\t\tthrow new TypeError(\"withhue() requires a number\");\n\t\tlet hlsa = this.hlsa();\n\t\treturn _hls(hue, hlsa[1], hlsa[2], hlsa[3]);\n\t}\n\n\twitha(a)\n\t{\n\t\tif (typeof(a) !== \"number\")\n\t\t\tthrow new TypeError(\"witha() requires a number\");\n\t\treturn new Color(this._r, this._g, this._b, a);\n\t}\n\n\t_interpolate(lower, upper, factor)\n\t{\n\t\treturn factor*upper + (1-factor) * lower\n\t}\n\n\twithlight(light)\n\t{\n\t\tif (typeof(light) !== \"number\")\n\t\t\tthrow new TypeError(\"withlight() requires a number\");\n\t\tlet hlsa = this.hlsa();\n\t\treturn _hls(hlsa[0], light, hlsa[2], hlsa[3]);\n\t}\n\n\tabslight(f)\n\t{\n\t\tif (typeof(f) !== \"number\")\n\t\t\tthrow new TypeError(\"abslight() requires a number\");\n\t\tlet hlsa = this.hlsa();\n\t\treturn _hls(hlsa[0], hlsa[1] + f, hlsa[2], hlsa[3]);\n\t}\n\n\trellight(f)\n\t{\n\t\tif (typeof(f) !== \"number\")\n\t\t\tthrow new TypeError(\"rellum() requires a number\");\n\t\tlet hlsa = this.hlsa();\n\t\tlet light = hlsa[1];\n\t\tif (f > 0)\n\t\t\tlight += (1-light)*f;\n\t\telse if (f < 0)\n\t\t\tlight += light*f;\n\t\treturn _hls(hlsa[0], light, hlsa[2], hlsa[3]);\n\t}\n\n\twithsat(sat)\n\t{\n\t\tif (typeof(sat) !== \"number\")\n\t\t\tthrow new TypeError(\"withsat() requires a number\");\n\t\tlet hlsa = this.hlsa();\n\t\treturn _hls(hlsa[0], hlsa[1], sat, hlsa[3]);\n\t}\n\n\twithlum(lum)\n\t{\n\t\tif (typeof(lum) !== \"number\")\n\t\t\tthrow new TypeError(\"withlum() requires a number\");\n\n\t\tlet lum_old = this.lum();\n\t\tif (lum_old == 0.0 || lum_old == 1.0)\n\t\t{\n\t\t\tlet v = lum*255;\n\t\t\treturn new Color(v, v, v, this._a);\n\t\t}\n\t\telse if (lum > lum_old)\n\t\t{\n\t\t\tlet f = (lum-lum_old)/(1-lum_old);\n\t\t\treturn new Color(\n\t\t\t\tthis._interpolate(this._r, 255, f),\n\t\t\t\tthis._interpolate(this._g, 255, f),\n\t\t\t\tthis._interpolate(this._b, 255, f),\n\t\t\t\tthis._a,\n\t\t\t);\n\t\t}\n\t\telse if (lum < lum_old)\n\t\t{\n\t\t\tlet f = lum/lum_old;\n\t\t\treturn new Color(\n\t\t\t\tthis._interpolate(0, this._r, f),\n\t\t\t\tthis._interpolate(0, this._g, f),\n\t\t\t\tthis._interpolate(0, this._b, f),\n\t\t\t\tthis._a,\n\t\t\t)\n\t\t}\n\t\telse\n\t\t\treturn this;\n\t}\n\n\tabslum(f)\n\t{\n\t\tif (typeof(f) !== \"number\")\n\t\t\tthrow new TypeError(\"abslum() requires a number\");\n\t\treturn this.withlum(this.lum() + f);\n\t}\n\n\trellum(f)\n\t{\n\t\tif (typeof(f) !== \"number\")\n\t\t\tthrow new TypeError(\"rellum() requires a number\");\n\t\tlet lum = this.lum();\n\t\tif (f > 0)\n\t\t\tlum += (1-lum)*f;\n\t\telse if (f < 0)\n\t\t\tlum += lum*f;\n\t\treturn this.withlum(lum);\n\t}\n\n\tinvert(f=1.0)\n\t{\n\t\tif (typeof(f) !== \"number\")\n\t\t\tthrow new TypeError(\"invert() requires a number\");\n\t\tlet invf = 1 - f;\n\t\treturn new Color(\n\t\t\tinvf * this._r + f * (255 - this._r),\n\t\t\tinvf * this._g + f * (255 - this._g),\n\t\t\tinvf * this._b + f * (255 - this._b),\n\t\t\tthis._a\n\t\t);\n\t}\n\n\tcombine(r=null, g=null, b=null, a=null)\n\t{\n\t\treturn new Color(\n\t\t\tr != null ? r : this._r,\n\t\t\tg != null ? g : this._g,\n\t\t\tb != null ? b : this._b,\n\t\t\ta != null ? a : this._a\n\t\t);\n\t}\n\n\tul4type()\n\t{\n\t\treturn \"color\";\n\t}\n\n\tstatic maroon = new Color(0x80, 0x00, 0x00);\n\tstatic red = new Color(0xff, 0x00, 0x00);\n\tstatic orange = new Color(0xff, 0xa5, 0x00);\n\tstatic yellow = new Color(0xff, 0xff, 0x00);\n\tstatic olive = new Color(0x80, 0x80, 0x00);\n\tstatic purple = new Color(0x80, 0x00, 0x80);\n\tstatic fuchsia = new Color(0xff, 0x00, 0xff);\n\tstatic white = new Color(0xff, 0xff, 0xff);\n\tstatic lime = new Color(0x00, 0xff, 0x00);\n\tstatic green = new Color(0x00, 0x80, 0x00);\n\tstatic navy = new Color(0x00, 0x00, 0x80);\n\tstatic blue = new Color(0x00, 0x00, 0xff);\n\tstatic aqua = new Color(0x00, 0xff, 0xff);\n\tstatic teal = new Color(0x00, 0x80, 0x80);\n\tstatic black = new Color(0x00, 0x00, 0x00);\n\tstatic silver = new Color(0xc0, 0xc0, 0xc0);\n\tstatic gray = new Color(0x80, 0x80, 0x80);\n\t// Aliases\n\tstatic magenta = Color.purple;\n\tstatic cyan = Color.aqua;\n\n\tstatic cssColors = {\n\t\t\"maroon\": Color.maroon,\n\t\t\"red\": Color.red,\n\t\t\"orange\": Color.orange,\n\t\t\"yellow\": Color.yellow,\n\t\t\"olive\": Color.olive,\n\t\t\"purple\": Color.purple,\n\t\t\"fuchsia\": Color.fuchsia,\n\t\t\"white\": Color.white,\n\t\t\"lime\": Color.lime,\n\t\t\"green\": Color.green,\n\t\t\"navy\": Color.navy,\n\t\t\"blue\": Color.blue,\n\t\t\"aqua\": Color.aqua,\n\t\t\"teal\": Color.teal,\n\t\t\"black\": Color.black,\n\t\t\"silver\": Color.silver,\n\t\t\"gray\": Color.gray,\n\t\t\"magenta\": Color.magenta,\n\t\t\"cyan\": Color.cyan\n\t};\n};\n\nexpose(Color.prototype.r, []);\nexpose(Color.prototype.g, []);\nexpose(Color.prototype.b, []);\nexpose(Color.prototype.a, []);\nexpose(Color.prototype.hue, []);\nexpose(Color.prototype.lum, []);\nexpose(Color.prototype.sat, []);\nexpose(Color.prototype.hls, []);\nexpose(Color.prototype.hlsa, []);\nexpose(Color.prototype.hsv, []);\nexpose(Color.prototype.hsva, []);\nexpose(Color.prototype.withhue, [\"hue\", \"pk\"]);\nexpose(Color.prototype.withlight, [\"light\", \"pk\"]);\nexpose(Color.prototype.abslight, [\"f\", \"pk\"]);\nexpose(Color.prototype.rellight, [\"f\", \"pk\"]);\nexpose(Color.prototype.withsat, [\"sat\", \"pk\"]);\nexpose(Color.prototype.witha, [\"a\", \"pk\"]);\nexpose(Color.prototype.withlum, [\"lum\", \"pk\"]);\nexpose(Color.prototype.abslum, [\"f\", \"pk\"]);\nexpose(Color.prototype.rellum, [\"f\", \"pk\"]);\nexpose(Color.prototype.invert, [\"f\", \"pk=\", 1.0]);\nexpose(Color.prototype.combine, [\"r\", \"pk=\", null, \"g\", \"pk=\", null, \"b\", \"pk=\", null, \"a\", \"pk=\", null]);\n\n\nexport class Date_ extends Proto\n{\n\tconstructor(year, month, day)\n\t{\n\t\tsuper();\n\t\tthis._date = new Date(year, month-1, day);\n\t}\n\n\t[symbols.type]()\n\t{\n\t\treturn datetype;\n\t}\n\n\t[symbols.repr]()\n\t{\n\t\treturn '@(' + this[symbols.str]() + \")\";\n\t}\n\n\t[symbols.str]()\n\t{\n\t\treturn _lpad(this._date.getFullYear(), \"0\", 4) + \"-\" + _lpad(this._date.getMonth()+1, \"0\", 2) + \"-\" + _lpad(this._date.getDate(), \"0\", 2);\n\t}\n\n\t[symbols.eq](other)\n\t{\n\t\tif (other instanceof Date_)\n\t\t\treturn this._date.getTime() === other._date.getTime();\n\t\treturn false;\n\t}\n\n\t[symbols.lt](other)\n\t{\n\t\tif (other instanceof Date_)\n\t\t\treturn this._date < other._date;\n\t\t_unorderable(\"<\", this, other);\n\t}\n\n\t[symbols.le](other)\n\t{\n\t\tif (other instanceof Date_)\n\t\t\treturn this._date <= other._date;\n\t\t_unorderable(\"<=\", this, other);\n\t}\n\n\t[symbols.gt](other)\n\t{\n\t\tif (other instanceof Date_)\n\t\t\treturn this._date > other._date;\n\t\t_unorderable(\">\", this, other);\n\t}\n\n\t[symbols.ge](other)\n\t{\n\t\tif (other instanceof Date_)\n\t\t\treturn this._date >= other._date;\n\t\t_unorderable(\">=\", this, other);\n\t}\n\n\tyear()\n\t{\n\t\treturn this._date.getFullYear();\n\t}\n\n\tmonth()\n\t{\n\t\treturn this._date.getMonth()+1;\n\t}\n\n\tday()\n\t{\n\t\treturn this._date.getDate();\n\t}\n\n\tul4type()\n\t{\n\t\treturn \"date\";\n\t}\n};\n\n\nexport class TimeDeltaType extends Type\n{\n\t[symbols.call](days=0, seconds=0, microseconds=0)\n\t{\n\t\treturn new TimeDelta(days, seconds, microseconds);\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn obj instanceof TimeDelta;\n\t}\n}\n\nexpose(TimeDeltaType.prototype, [\"days\", \"pk=\", 0, \"seconds\", \"pk=\", 0, \"microseconds\", \"pk=\", 0], {name: \"timedelta\"});\n\nexport let timedeltatype = new TimeDeltaType(null, \"timedelta\", \"A time span (days/seconds/microseconds).\");\n\nexport class TimeDelta extends Proto\n{\n\tconstructor(days=0, seconds=0, microseconds=0)\n\t{\n\t\tsuper();\n\t\tlet total_microseconds = Math.floor((days * 86400 + seconds)*1000000 + microseconds);\n\n\t\tmicroseconds = ModAST.prototype._do(total_microseconds, 1000000);\n\t\tlet total_seconds = Math.floor(total_microseconds / 1000000);\n\t\tseconds = ModAST.prototype._do(total_seconds, 86400);\n\t\tdays = Math.floor(total_seconds / 86400);\n\t\tif (seconds < 0)\n\t\t{\n\t\t\tseconds += 86400;\n\t\t\t--days;\n\t\t}\n\n\t\tthis._microseconds = microseconds;\n\t\tthis._seconds = seconds;\n\t\tthis._days = days;\n\t}\n\n\t[symbols.type]()\n\t{\n\t\treturn timedeltatype;\n\t}\n\n\ttotal_seconds()\n\t{\n\t\treturn this._days * 24 * 60 * 60 + this._seconds;\n\t}\n\n\t[symbols.repr]()\n\t{\n\t\tlet v = [], first = true;\n\t\tv.push(\"timedelta(\");\n\t\tif (this._days)\n\t\t{\n\t\t\tv.push(\"days=\" + this._days);\n\t\t\tfirst = false;\n\t\t}\n\t\tif (this._seconds)\n\t\t{\n\t\t\tif (!first)\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(\"seconds=\" + this._seconds);\n\t\t\tfirst = false;\n\t\t}\n\t\tif (this._microseconds)\n\t\t{\n\t\t\tif (!first)\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(\"microseconds=\" + this._microseconds);\n\t\t}\n\t\tv.push(\")\");\n\t\treturn v.join(\"\");\n\t}\n\n\t[symbols.str]()\n\t{\n\t\tlet v = [];\n\t\tif (this._days)\n\t\t{\n\t\t\tv.push(this._days + \" day\");\n\t\t\tif (this._days !== -1 && this._days !== 1)\n\t\t\t\tv.push(\"s\");\n\t\t\tv.push(\", \");\n\t\t}\n\t\tlet seconds = this._seconds % 60;\n\t\tlet minutes = Math.floor(this._seconds / 60);\n\t\tlet hours = Math.floor(minutes / 60);\n\t\tminutes = minutes % 60;\n\n\t\tv.push(\n\t\t\t\"\" + hours,\n\t\t\t\":\",\n\t\t\t_lpad(minutes.toString(), \"0\", 2),\n\t\t\t\":\",\n\t\t\t_lpad(seconds.toString(), \"0\", 2)\n\t\t);\n\t\tif (this._microseconds)\n\t\t\tv.push(\".\", _lpad(this._microseconds.toString(), \"0\", 6));\n\t\treturn v.join(\"\");\n\t}\n\n\t[symbols.bool]()\n\t{\n\t\treturn this._days !== 0 || this._seconds !== 0 || this._microseconds !== 0;\n\t}\n\n\t[symbols.abs]()\n\t{\n\t\treturn this._days < 0 ? new TimeDelta(-this._days, -this._seconds, -this._microseconds) : this;\n\t}\n\n\t[symbols.eq](other)\n\t{\n\t\tif (other instanceof TimeDelta)\n\t\t\treturn (this._days === other._days) && (this._seconds === other._seconds) && (this._microseconds === other._microseconds);\n\t\treturn false;\n\t}\n\n\t[symbols.lt](other)\n\t{\n\t\tif (other instanceof TimeDelta)\n\t\t{\n\t\t\tif (this._days != other._days)\n\t\t\t\treturn this._days < other._days;\n\t\t\tif (this._seconds != other._seconds)\n\t\t\t\treturn this._seconds < other._seconds;\n\t\t\treturn this._microseconds < other._microseconds;\n\t\t}\n\t\t_unorderable(\"<\", this, other);\n\t}\n\n\t[symbols.le](other)\n\t{\n\t\tif (other instanceof TimeDelta)\n\t\t{\n\t\t\tif (this._days != other._days)\n\t\t\t\treturn this._days < other._days;\n\t\t\tif (this._seconds != other._seconds)\n\t\t\t\treturn this._seconds < other._seconds;\n\t\t\treturn this._microseconds <= other._microseconds;\n\t\t}\n\t\t_unorderable(\"<=\", this, other);\n\t}\n\n\t[symbols.gt](other)\n\t{\n\t\tif (other instanceof TimeDelta)\n\t\t{\n\t\t\tif (this._days != other._days)\n\t\t\t\treturn this._days > other._days;\n\t\t\tif (this._seconds != other._seconds)\n\t\t\t\treturn this._seconds > other._seconds;\n\t\t\treturn this._microseconds > other._microseconds;\n\t\t}\n\t\t_unorderable(\">\", this, other);\n\t}\n\n\t[symbols.ge](other)\n\t{\n\t\tif (other instanceof TimeDelta)\n\t\t{\n\t\t\tif (this._days != other._days)\n\t\t\t\treturn this._days > other._days;\n\t\t\tif (this._seconds != other._seconds)\n\t\t\t\treturn this._seconds > other._seconds;\n\t\t\treturn this._microseconds >= other._microseconds;\n\t\t}\n\t\t_unorderable(\">=\", this, other);\n\t}\n\n\t[symbols.neg]()\n\t{\n\t\treturn new TimeDelta(-this._days, -this._seconds, -this._microseconds);\n\t}\n\n\t_adddate(date, days)\n\t{\n\t\tlet year = date._date.getFullYear();\n\t\tlet month = date._date.getMonth();\n\t\tlet day = date._date.getDate() + days;\n\t\treturn new Date(year, month, day);\n\t}\n\n\t_adddatetime(date, days, seconds, microseconds)\n\t{\n\t\tlet year = date.getFullYear();\n\t\tlet month = date.getMonth();\n\t\tlet day = date.getDate() + days;\n\t\tlet hour = date.getHours();\n\t\tlet minute = date.getMinutes();\n\t\tlet second = date.getSeconds() + seconds;\n\t\tlet millisecond = date.getMilliseconds() + microseconds/1000;\n\t\treturn new Date(year, month, day, hour, minute, second, millisecond);\n\t}\n\n\t[symbols.add](other)\n\t{\n\t\tif (other instanceof TimeDelta)\n\t\t\treturn new TimeDelta(this._days + other._days, this._seconds + other._seconds, this._microseconds + other._microseconds);\n\t\telse if (_isdate(other))\n\t\t\treturn this._adddate(other, this._days);\n\t\telse if (_isdatetime(other))\n\t\t\treturn this._adddatetime(other, this._days, this._seconds, this._microseconds);\n\t\tthrow new TypeError(_type(this).fullname() + \" + \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.radd](other)\n\t{\n\t\tif (_isdate(other))\n\t\t\treturn this._adddate(other, this._days);\n\t\telse if (_isdatetime(other))\n\t\t\treturn this._adddatetime(other, this._days, this._seconds, this._microseconds);\n\t\tthrow new TypeError(_type(this).fullname() + \" + \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.sub](other)\n\t{\n\t\tif (other instanceof TimeDelta)\n\t\t\treturn new TimeDelta(this._days - other._days, this._seconds - other._seconds, this._microseconds - other._microseconds);\n\t\tthrow new TypeError(_type(this).fullname() + \" - \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.rsub](other)\n\t{\n\t\tif (_isdate(other))\n\t\t\treturn this._adddate(other, -this._days);\n\t\telse if (_isdatetime(other))\n\t\t\treturn this._adddatetime(other, -this._days, -this._seconds, -this._microseconds);\n\t\tthrow new TypeError(_type(this).fullname() + \" - \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.mul](other)\n\t{\n\t\tif (typeof(other) === \"number\")\n\t\t\treturn new TimeDelta(this._days * other, this._seconds * other, this._microseconds * other);\n\t\tthrow new TypeError(_type(this).fullname() + \" * \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.rmul](other)\n\t{\n\t\tif (typeof(other) === \"number\")\n\t\t\treturn new TimeDelta(this._days * other, this._seconds * other, this._microseconds * other);\n\t\tthrow new TypeError(_type(this).fullname() + \" * \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.truediv](other)\n\t{\n\t\tif (typeof(other) === \"number\" || typeof(other) === \"boolean\")\n\t\t{\n\t\t\tif (other == 0)\n\t\t\t\tthrow new ZeroDivisionError();\n\t\t\treturn new TimeDelta(this._days / other, this._seconds / other, this._microseconds / other);\n\t\t}\n\t\telse if (other instanceof TimeDelta)\n\t\t{\n\t\t\tlet myValue = this._days;\n\t\t\tlet otherValue = other._days;\n\t\t\tlet hasSeconds = this._seconds || other._seconds;\n\t\t\tlet hasMicroseconds = this._microseconds || other._microseconds;\n\t\t\tif (hasSeconds || hasMicroseconds)\n\t\t\t{\n\t\t\t\tmyValue = myValue*86400+this._seconds;\n\t\t\t\totherValue = otherValue*86400 + other._seconds;\n\t\t\t\tif (hasMicroseconds)\n\t\t\t\t{\n\t\t\t\t\tmyValue = myValue * 1000000 + this._microseconds;\n\t\t\t\t\totherValue = otherValue * 1000000 + other._microseconds;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (otherValue == 0)\n\t\t\t\tthrow new ZeroDivisionError();\n\t\t\treturn myValue/otherValue;\n\t\t}\n\t\tthrow new TypeError(_type(this).fullname() + \" / \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.floordiv](other)\n\t{\n\t\tif (typeof(other) === \"number\" || typeof(other) === \"boolean\")\n\t\t{\n\t\t\tif (other == 0)\n\t\t\t\tthrow new ZeroDivisionError();\n\t\t\tif (_isint(other))\n\t\t\t{\n\t\t\t\treturn new TimeDelta(this._days / other, this._seconds / other, this._microseconds / other);\n\t\t\t}\n\t\t}\n\t\telse if (other instanceof TimeDelta)\n\t\t{\n\t\t\tlet result = this[symbols.truediv](other);\n\t\t\treturn Math.floor(result);\n\t\t}\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tlet self = this;\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"days\":\n\t\t\t\tlet days = function days(){ return self._days; };\n\t\t\t\texpose(days, []);\n\t\t\t\treturn days;\n\t\t\tcase \"seconds\":\n\t\t\t\tlet seconds = function seconds(){ return self._seconds; };\n\t\t\t\texpose(seconds, []);\n\t\t\t\treturn seconds;\n\t\t\tcase \"microseconds\":\n\t\t\t\tlet microseconds = function microseconds(){ return self._microseconds; };\n\t\t\t\texpose(microseconds, []);\n\t\t\t\treturn microseconds;\n\t\t\tdefault:\n\t\t\t\tthrow new AttributeError(this, attrname);\n\t\t}\n\t}\n\n\tdays()\n\t{\n\t\treturn this._days;\n\t}\n\n\tseconds()\n\t{\n\t\treturn this._seconds;\n\t}\n\n\tmicroseconds()\n\t{\n\t\treturn this._microseconds;\n\t}\n\n\tul4type()\n\t{\n\t\treturn \"timedelta\";\n\t}\n};\n\n\nexport class MonthDeltaType extends Type\n{\n\t// Return a `MonthDelta` object from the arguments passed in\n\t[symbols.call](months=0)\n\t{\n\t\treturn new MonthDelta(months);\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn obj instanceof MonthDelta;\n\t}\n}\n\nexport let monthdeltatype = new MonthDeltaType(null, \"monthdelta\", \"A time span of a number of months.\");\n\nexpose(MonthDeltaType.prototype, [\"months\", \"p=\", 0], {name: \"monthdelta\"});\n\nexport class MonthDelta extends Proto\n{\n\tstatic classname = \"monthdelta\";\n\tstatic classdoc = \"A time span of a number of months.\";\n\n\tconstructor(months=0)\n\t{\n\t\tsuper();\n\t\tthis._months = months;\n\t}\n\n\t[symbols.type]()\n\t{\n\t\treturn monthdeltatype;\n\t}\n\n\t[symbols.repr]()\n\t{\n\t\tif (!this._months)\n\t\t\treturn \"monthdelta()\";\n\t\treturn \"monthdelta(\" + this._months + \")\";\n\t}\n\n\t[symbols.str]()\n\t{\n\t\tif (this._months)\n\t\t{\n\t\t\tif (this._months !== -1 && this._months !== 1)\n\t\t\t\treturn this._months + \" months\";\n\t\t\treturn this._months + \" month\";\n\t\t}\n\t\treturn \"0 months\";\n\t}\n\n\ttoString()\n\t{\n\t\treturn this[symbols.str]();\n\t}\n\n\t[symbols.bool]()\n\t{\n\t\treturn this._months !== 0;\n\t}\n\n\t[symbols.abs]()\n\t{\n\t\treturn this._months < 0 ? new MonthDelta(-this._months) : this;\n\t}\n\n\t[symbols.eq](other)\n\t{\n\t\tif (other instanceof MonthDelta)\n\t\t\treturn this._months === other._months;\n\t\treturn false;\n\t}\n\n\t[symbols.lt](other)\n\t{\n\t\tif (other instanceof MonthDelta)\n\t\t\treturn this._months < other._months;\n\t\t_unorderable(\"<\", this, other);\n\t}\n\n\t[symbols.le](other)\n\t{\n\t\tif (other instanceof MonthDelta)\n\t\t\treturn this._months <= other._months;\n\t\t_unorderable(\"<=\", this, other);\n\t}\n\n\t[symbols.gt](other)\n\t{\n\t\tif (other instanceof MonthDelta)\n\t\t\treturn this._months > other._months;\n\t\t_unorderable(\">\", this, other);\n\t}\n\n\t[symbols.ge](other)\n\t{\n\t\tif (other instanceof MonthDelta)\n\t\t\treturn this._months >= other._months;\n\t\t_unorderable(\">=\", this, other);\n\t}\n\n\t[symbols.neg]()\n\t{\n\t\treturn new MonthDelta(-this._months);\n\t}\n\n\t_adddate(date, months)\n\t{\n\t\tlet result = this._adddatetime(date._date, months);\n\t\treturn new Date_(result.getFullYear(), result.getMonth()+1, result.getDate());\n\t}\n\n\t_adddatetime(date, months)\n\t{\n\t\tlet year = date.getFullYear();\n\t\tlet month = date.getMonth() + months;\n\t\tlet day = date.getDate();\n\t\tlet hour = date.getHours();\n\t\tlet minute = date.getMinutes();\n\t\tlet second = date.getSeconds();\n\t\tlet millisecond = date.getMilliseconds();\n\n\t\twhile (true)\n\t\t{\n\t\t\t// As the month might be out of bounds, we have to find out what the real target month is\n\t\t\tlet targetmonth = new Date(year, month, 1, hour, minute, second, millisecond).getMonth();\n\t\t\tlet result = new Date(year, month, day, hour, minute, second, millisecond);\n\t\t\tif (result.getMonth() === targetmonth)\n\t\t\t\treturn result;\n\t\t\t--day;\n\t\t}\n\t}\n\n\t[symbols.add](other)\n\t{\n\t\tif (_ismonthdelta(other))\n\t\t\treturn new MonthDelta(this._months + other._months);\n\t\telse if (_isdate(other))\n\t\t\treturn this._adddate(other, this._months);\n\t\telse if (_isdatetime(other))\n\t\t\treturn this._adddatetime(other, this._months);\n\t\tthrow new ArgumentError(_type(this).fullname() + \" + \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.radd](other)\n\t{\n\t\tif (_isdate(other))\n\t\t\treturn this._adddate(other, this._months);\n\t\telse if (_isdatetime(other))\n\t\t\treturn this._adddatetime(other, this._months);\n\t\tthrow new ArgumentError(_type(this).fullname() + \" + \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.sub](other)\n\t{\n\t\tif (_ismonthdelta(other))\n\t\t\treturn new MonthDelta(this._months - other._months);\n\t\tthrow new ArgumentError(_type(this).fullname() + \" - \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.rsub](other)\n\t{\n\t\tif (_isdate(other))\n\t\t\treturn this._adddate(other, -this._months);\n\t\telse if (_isdatetime(other))\n\t\t\treturn this._adddatetime(other, -this._months);\n\t\tthrow new ArgumentError(_type(this).fullname() + \" - \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.mul](other)\n\t{\n\t\tif (typeof(other) === \"number\" || typeof(other) === \"boolean\")\n\t\t\treturn new MonthDelta(this._months * Math.floor(other));\n\t\tthrow new ArgumentError(_type(this).fullname() + \" * \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.rmul](other)\n\t{\n\t\tif (typeof(other) === \"number\" || typeof(other) === \"boolean\")\n\t\t\treturn new MonthDelta(this._months * Math.floor(other));\n\t\tthrow new ArgumentError(_type(this).fullname() + \" * \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.truediv](other)\n\t{\n\t\tif (_ismonthdelta(other))\n\t\t\treturn this._months / other._months;\n\t\tthrow new ArgumentError(_type(this).fullname() + \" / \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.floordiv](other)\n\t{\n\t\tif (typeof(other) === \"number\" || typeof(other) === \"boolean\")\n\t\t{\n\t\t\tif (other == 0)\n\t\t\t\tthrow new ZeroDivisionError();\n\t\t\tif (_isint(other))\n\t\t\t\treturn new MonthDelta(Math.floor(this._months / other));\n\t\t}\n\t\telse if (_ismonthdelta(other))\n\t\t{\n\t\t\tif (other._months == 0)\n\t\t\t\tthrow new ZeroDivisionError();\n\t\t\treturn Math.floor(this._months / other._months);\n\t\t}\n\t\tthrow new ArgumentError(_type(this).fullname() + \" // \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tlet self = this;\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"months\":\n\t\t\t\tlet months = function months(){ return self._months; };\n\t\t\t\texpose(months, []);\n\t\t\t\treturn months;\n\t\t\tdefault:\n\t\t\t\tthrow new AttributeError(this, attrname);\n\t\t}\n\t}\n\n\tmonths()\n\t{\n\t\treturn this._months;\n\t}\n};\n\n\nexport const _math = new Module(\n\t\"math\",\n\t\"Math related functions and constants\",\n\t{\n\t\tpi: Math.PI,\n\t\te: Math.E,\n\t\ttau: 2 * Math.PI,\n\t\tcos: Math.cos,\n\t\tsin: Math.sin,\n\t\ttan: Math.tan,\n\t\tsqrt: Math.sqrt,\n\t\tisclose: isclose\n\t}\n);\n\n\nexport const _operator = new Module(\n\t\"operator\",\n\t\"Various operators as functions\",\n\t{\n\t\tattrgetter: attrgettertype\n\t}\n);\n\n\nexport const _ul4 = new Module(\n\t\"ul4\",\n\t\"UL4 - A templating language\",\n\t{\n\t\tAST: _maketype(AST),\n\t\tTextAST: _maketype(TextAST),\n\t\tIndentAST: _maketype(IndentAST),\n\t\tLineEndAST: _maketype(LineEndAST),\n\t\tCodeAST: _maketype(CodeAST),\n\t\tConstAST: _maketype(ConstAST),\n\t\tSeqItemAST: _maketype(SeqItemAST),\n\t\tUnpackSeqItemAST: _maketype(UnpackSeqItemAST),\n\t\tListAST: _maketype(ListAST),\n\t\tListComprehensionAST: _maketype(ListComprehensionAST),\n\t\tSetAST: _maketype(SetAST),\n\t\tSetComprehensionAST: _maketype(SetComprehensionAST),\n\t\tDictItemAST: _maketype(DictItemAST),\n\t\tUnpackDictItemAST: _maketype(UnpackDictItemAST),\n\t\tDictAST: _maketype(DictAST),\n\t\tDictComprehensionAST: _maketype(DictComprehensionAST),\n\t\tGeneratorExpressionAST: _maketype(GeneratorExpressionAST),\n\t\tVarAST: _maketype(VarAST),\n\t\tBlockAST: _maketype(BlockAST),\n\t\tConditionalBlocksAST: _maketype(ConditionalBlocksAST),\n\t\tIfBlockAST: _maketype(IfBlockAST),\n\t\tElIfBlockAST: _maketype(ElIfBlockAST),\n\t\tElseBlockAST: _maketype(ElseBlockAST),\n\t\tForBlockAST: _maketype(ForBlockAST),\n\t\tWhileBlockAST: _maketype(WhileBlockAST),\n\t\tBreakAST: _maketype(BreakAST),\n\t\tContinueAST: _maketype(ContinueAST),\n\t\tAttrAST: _maketype(AttrAST),\n\t\tSliceAST: _maketype(SliceAST),\n\t\tUnaryAST: _maketype(UnaryAST),\n\t\tNotAST: _maketype(NotAST),\n\t\tIfAST: _maketype(IfAST),\n\t\tNegAST: _maketype(NegAST),\n\t\tBitNotAST: _maketype(BitNotAST),\n\t\tPrintAST: _maketype(PrintAST),\n\t\tPrintXAST: _maketype(PrintXAST),\n\t\tReturnAST: _maketype(ReturnAST),\n\t\tBinaryAST: _maketype(BinaryAST),\n\t\tItemAST: _maketype(ItemAST),\n\t\tShiftLeftAST: _maketype(ShiftLeftAST),\n\t\tShiftRightAST: _maketype(ShiftRightAST),\n\t\tBitAndAST: _maketype(BitAndAST),\n\t\tBitXOrAST: _maketype(BitXOrAST),\n\t\tBitOrAST: _maketype(BitOrAST),\n\t\tIsAST: _maketype(IsAST),\n\t\tIsNotAST: _maketype(IsNotAST),\n\t\tEQAST: _maketype(EQAST),\n\t\tNEAST: _maketype(NEAST),\n\t\tLTAST: _maketype(LTAST),\n\t\tLEAST: _maketype(LEAST),\n\t\tGTAST: _maketype(GTAST),\n\t\tGEAST: _maketype(GEAST),\n\t\tContainsAST: _maketype(ContainsAST),\n\t\tNotContainsAST: _maketype(NotContainsAST),\n\t\tAddAST: _maketype(AddAST),\n\t\tSubAST: _maketype(SubAST),\n\t\tMulAST: _maketype(MulAST),\n\t\tFloorDivAST: _maketype(FloorDivAST),\n\t\tTrueDivAST: _maketype(TrueDivAST),\n\t\tOrAST: _maketype(OrAST),\n\t\tAndAST: _maketype(AndAST),\n\t\tModAST: _maketype(ModAST),\n\t\tChangeVarAST: _maketype(ChangeVarAST),\n\t\tSetVarAST: _maketype(SetVarAST),\n\t\tAddVarAST: _maketype(AddVarAST),\n\t\tSubVarAST: _maketype(SubVarAST),\n\t\tMulVarAST: _maketype(MulVarAST),\n\t\tFloorDivVarAST: _maketype(FloorDivVarAST),\n\t\tTrueDivVarAST: _maketype(TrueDivVarAST),\n\t\tModVarAST: _maketype(ModVarAST),\n\t\tShiftLeftVarAST: _maketype(ShiftLeftVarAST),\n\t\tShiftRightVarAST: _maketype(ShiftRightVarAST),\n\t\tBitAndVarAST: _maketype(BitAndVarAST),\n\t\tBitXOrVarAST: _maketype(BitXOrVarAST),\n\t\tBitOrVarAST: _maketype(BitOrVarAST),\n\t\tPositionalArgumentAST: _maketype(PositionalArgumentAST),\n\t\tKeywordArgumentAST: _maketype(KeywordArgumentAST),\n\t\tUnpackListArgumentAST: _maketype(UnpackListArgumentAST),\n\t\tUnpackDictArgumentAST: _maketype(UnpackDictArgumentAST),\n\t\tCallAST: _maketype(CallAST),\n\t\tRenderAST: _maketype(RenderAST),\n\t\tRenderXAST: _maketype(RenderXAST),\n\t\tRenderOrPrintAST: _maketype(RenderOrPrintAST),\n\t\tRenderOrPrintXAST: _maketype(RenderOrPrintXAST),\n\t\tRenderXOrPrintAST: _maketype(RenderXOrPrintAST),\n\t\tRenderXOrPrintXAST: _maketype(RenderXOrPrintXAST),\n\t\tRenderBlockAST: _maketype(RenderBlockAST),\n\t\tRenderBlocksAST: _maketype(RenderBlocksAST),\n\t\tSignatureAST: _maketype(SignatureAST),\n\t\tTemplate: _maketype(Template),\n\t\tTemplateClosure: _maketype(TemplateClosure),\n\t}\n);\n\n\nexport const _ul4on = new Module(\n\t\"ul4on\",\n\t\"Object serialization\",\n\t{\n\t\tloads: _ul4on_loads,\n\t\tdumps: _ul4on_dumps,\n\t\tEncoder: encodertype,\n\t\tDecoder: decodertype\n\t}\n);\n\n\nexport const _color = new Module(\n\t\"color\",\n\t\"Types and functions for handling RGBA colors\",\n\t{\n\t\tColor: colortype,\n\t\tcss: _css,\n\t\tmix: _mix\n\t}\n);\n\n\nexport let builtins = {\n\trepr: _repr,\n\tascii: _ascii,\n\tstr: strtype,\n\tint: inttype,\n\tfloat: floattype,\n\tlist: listtype,\n\tset: settype,\n\tdict: dicttype,\n\tbool: booltype,\n\tlen: _len,\n\ttype: _type,\n\tformat: _format,\n\tany: _any,\n\tall: _all,\n\tzip: _zip,\n\tgetattr: _getattr,\n\thasattr: _hasattr,\n\tdir: _dir,\n\tisundefined: _isundefined,\n\tisdefined: _isdefined,\n\tisnone: _isnone,\n\tisbool: _isbool,\n\tisint: _isint,\n\tisfloat: _isfloat,\n\tisstr: _isstr,\n\tisdate: _isdate,\n\tisdatetime: _isdatetime,\n\tiscolor: _iscolor,\n\tistimedelta: _istimedelta,\n\tismonthdelta: _ismonthdelta,\n\tistemplate: _istemplate,\n\tisfunction: _isfunction,\n\tislist: _islist,\n\tisset: _isset,\n\tisdict: _isdict,\n\tisexception: _isexception,\n\tisinstance: _isinstance,\n\tasjson: _asjson,\n\tfromjson: _fromjson,\n\tasul4on: _asul4on,\n\tfromul4on: _fromul4on,\n\tnow: now,\n\tutcnow: utcnow,\n\ttoday: today,\n\tenumerate: _enumerate,\n\tisfirst: _isfirst,\n\tislast: _islast,\n\tisfirstlast: _isfirstlast,\n\tenumfl: _enumfl,\n\tabs: _abs,\n\tdate: datetype,\n\tdatetime: datetimetype,\n\ttimedelta: timedeltatype,\n\tmonthdelta: monthdeltatype,\n\trgb: _rgb,\n\thls: _hls,\n\thsv: _hsv,\n\txmlescape: _xmlescape,\n\tcsv: _csv,\n\tchr: _chr,\n\tord: _ord,\n\thex: _hex,\n\toct: _oct,\n\tbin: _bin,\n\tmin: _min,\n\tmax: _max,\n\tsum: _sum,\n\tfirst: _first,\n\tlast: _last,\n\tsorted: _sorted,\n\trange: _range,\n\tslice: _slice,\n\turlquote: _urlquote,\n\turlunquote: _urlunquote,\n\treversed: _reversed,\n\trandom: _random,\n\trandrange: _randrange,\n\trandchoice: _randchoice,\n\tround: _round,\n\tfloor: _floor,\n\tceil: _ceil,\n\tmd5: _md5,\n\tscrypt: _scrypt,\n\tul4on: _ul4on,\n\tul4: _ul4,\n\tmath: _math,\n\toperator: _operator,\n\tcolor: _color\n};\n\n\nconst constructors = [\n\t[TextAST, \"text\"],\n\t[IndentAST, \"indent\"],\n\t[LineEndAST, \"lineend\"],\n\t[ConstAST, \"const\"],\n\t[SeqItemAST, \"seqitem\"],\n\t[UnpackSeqItemAST, \"unpackseqitem\"],\n\t[DictItemAST, \"dictitem\"],\n\t[UnpackDictItemAST, \"unpackdictitem\"],\n\t[PositionalArgumentAST, \"posarg\"],\n\t[KeywordArgumentAST, \"keywordarg\"],\n\t[UnpackListArgumentAST, \"unpacklistarg\"],\n\t[UnpackDictArgumentAST, \"unpackdictarg\"],\n\t[ListAST, \"list\"],\n\t[ListComprehensionAST, \"listcomp\"],\n\t[DictAST, \"dict\"],\n\t[DictComprehensionAST, \"dictcomp\"],\n\t[SetAST, \"set\"],\n\t[SetComprehensionAST, \"setcomp\"],\n\t[GeneratorExpressionAST, \"genexpr\"],\n\t[VarAST, \"var\"],\n\t[NotAST, \"not\"],\n\t[NegAST, \"neg\"],\n\t[BitNotAST, \"bitnot\"],\n\t[IfAST, \"if\"],\n\t[ReturnAST, \"return\"],\n\t[PrintAST, \"print\"],\n\t[PrintXAST, \"printx\"],\n\t[ItemAST, \"item\"],\n\t[IsAST, \"is\"],\n\t[IsNotAST, \"isnot\"],\n\t[EQAST, \"eq\"],\n\t[NEAST, \"ne\"],\n\t[LTAST, \"lt\"],\n\t[LEAST, \"le\"],\n\t[GTAST, \"gt\"],\n\t[GEAST, \"ge\"],\n\t[NotContainsAST, \"notcontains\"],\n\t[ContainsAST, \"contains\"],\n\t[AddAST, \"add\"],\n\t[SubAST, \"sub\"],\n\t[MulAST, \"mul\"],\n\t[FloorDivAST, \"floordiv\"],\n\t[TrueDivAST, \"truediv\"],\n\t[ModAST, \"mod\"],\n\t[ShiftLeftAST, \"shiftleft\"],\n\t[ShiftRightAST, \"shiftright\"],\n\t[BitAndAST, \"bitand\"],\n\t[BitXOrAST, \"bitxor\"],\n\t[BitOrAST, \"bitor\"],\n\t[AndAST, \"and\"],\n\t[OrAST, \"or\"],\n\t[SliceAST, \"slice\"],\n\t[AttrAST, \"attr\"],\n\t[CallAST, \"call\"],\n\t[RenderAST, \"render\"],\n\t[RenderXAST, \"renderx\"],\n\t[RenderOrPrintAST, \"render_or_print\"],\n\t[RenderOrPrintXAST, \"render_or_printx\"],\n\t[RenderXOrPrintAST, \"renderx_or_print\"],\n\t[RenderXOrPrintXAST, \"renderx_or_printx\"],\n\t[RenderBlockAST, \"renderblock\"],\n\t[RenderBlocksAST, \"renderblocks\"],\n\t[SetVarAST, \"setvar\"],\n\t[AddVarAST, \"addvar\"],\n\t[SubVarAST, \"subvar\"],\n\t[MulVarAST, \"mulvar\"],\n\t[TrueDivVarAST, \"truedivvar\"],\n\t[FloorDivVarAST, \"floordivvar\"],\n\t[ModVarAST, \"modvar\"],\n\t[ShiftLeftVarAST, \"shiftleftvar\"],\n\t[ShiftRightVarAST, \"shiftrightvar\"],\n\t[BitAndVarAST, \"bitandvar\"],\n\t[BitXOrVarAST, \"bitxorvar\"],\n\t[BitOrVarAST, \"bitorvar\"],\n\t[ForBlockAST, \"forblock\"],\n\t[WhileBlockAST, \"whileblock\"],\n\t[BreakAST, \"break\"],\n\t[ContinueAST, \"continue\"],\n\t[ConditionalBlocksAST, \"condblock\"],\n\t[IfBlockAST, \"ifblock\"],\n\t[ElIfBlockAST, \"elifblock\"],\n\t[ElseBlockAST, \"elseblock\"],\n\t[SignatureAST, \"signature\"],\n\t[Template, \"template\"],\n];\n\nfor (let [constructor, name] of constructors)\n{\n\tconstructor.prototype.type = name;\n\tregister(\"de.livinglogic.ul4.\" + name, constructor);\n}\n\n// Report an exception `exc` originating from an UL4 on the browser console.\nexport function report_exc(exc)\n{\n\tlet original_exc = exc;\n\tif (console && console.error)\n\t{\n\t\tlet errors = [];\n\t\tfor (;;)\n\t\t{\n\t\t\terrors.unshift(exc);\n\t\t\tif (exc.context !== undefined && exc.context !== null)\n\t\t\t\texc = exc.context;\n\t\t\telse\n\t\t\t\tbreak;\n\t\t}\n\n\t\tlet texts = [];\n\t\tlet args = [];\n\n\t\tfunction text(s)\n\t\t{\n\t\t\ttexts.push(s);\n\t\t}\n\n\t\tfunction css(text, style)\n\t\t{\n\t\t\ttexts.push(\"%c\", text, \"%c\");\n\t\t\targs.push(style, \"\");\n\t\t}\n\n\t\tfunction em(s)\n\t\t{\n\t\t\tcss(s, \"font-weight: bold\");\n\t\t}\n\n\t\tfunction focus(s)\n\t\t{\n\t\t\tcss(s, \"border-bottom: 2px solid #b22\");\n\t\t}\n\n\t\tfor (let exc of errors)\n\t\t{\n\t\t\tif (texts.length)\n\t\t\t\ttext(\"\\n\\n\");\n\n\t\t\tif (exc instanceof ul4.LocationError)\n\t\t\t{\n\t\t\t\tlet template = exc.location.template;\n\t\t\t\tif (template.parenttemplate !== null)\n\t\t\t\t\ttext(\"in local template \");\n\t\t\t\telse\n\t\t\t\t\ttext(\"in template \");\n\t\t\t\tlet first = true;\n\t\t\t\twhile (template != null)\n\t\t\t\t{\n\t\t\t\t\tif (first)\n\t\t\t\t\t\tfirst = false;\n\t\t\t\t\telse\n\t\t\t\t\t\ttext(\" in \");\n\t\t\t\t\tem(template.name ? _repr(template.name) : \"(unnamed)\");\n\t\t\t\t\ttemplate = template.parenttemplate;\n\t\t\t\t}\n\t\t\t\ttext(\" offset \");\n\t\t\t\tem(exc.location.pos.start + \"\");\n\t\t\t\ttext(\":\");\n\t\t\t\tem(exc.location.pos.stop + \"\");\n\t\t\t\ttext(\"; line \");\n\t\t\t\tem(exc.location.startline + \"\");\n\t\t\t\ttext(\"; column \");\n\t\t\t\tem(exc.location.startcol + \"\");\n\t\t\t\ttext(\"\\n\");\n\t\t\t\ttext(exc.location.startsourceprefix);\n\t\t\t\tfocus(exc.location.startsource);\n\t\t\t\ttext(exc.location.startsourcesuffix);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tem(exc.constructor.name);\n\t\t\t\ttext(\": \");\n\t\t\t\ttext(exc.message);\n\t\t\t}\n\t\t}\n\t\tconsole.error(texts.join(\"\"), ...args);\n\t}\n};"],"names":["$","safeAdd","x","y","lsw","md5cmn","q","a","b","s","t","bitRotateLeft","num","cnt","md5ff","c","d","md5gg","md5hh","md5ii","binlMD5","len","i","olda","oldb","oldc","oldd","length","binl2rstr","input","output","length32","String","fromCharCode","rstr2binl","undefined","length8","charCodeAt","rstr2hex","hexTab","charAt","str2rstrUTF8","unescape","encodeURIComponent","rawMD5","rstrMD5","rawHMACMD5","k","rstrHMACMD5","key","data","hash","bkey","ipad","opad","concat","md5","string","raw","hexHMACMD5","hexMD5","module","exports","this","version","packageInfo","api_version","symbols","str","Symbol","repr","bool","call","render","contains","eq","ne","lt","le","gt","ge","neg","abs","add","radd","sub","rsub","mul","rmul","truediv","rtruediv","floordiv","rfloordiv","getattr","setattr","getitem","setitem","type","expose","f","signature","options","name","_ul4_name","Object","prototype","toString","Signature","_toConsumableArray","_ul4_signature","_ul4_needsobject","needsobject","_ul4_needscontext","needscontext","Proto","_symbols$eq","_symbols$ne","_symbols$bool","_symbols$repr","_classCallCheck","_createClass","value","other","constructor","_Proto","_symbols$repr2","_symbols$str","_inherits","_super","_createSuper","_this","paramsByPos","paramsByName","countpos","countposdef","countposkw","countposkwdef","countkw","countkwdef","varpos","varkw","state","_len2","arguments","params","Array","_key","_i","_params","endsWith","defaultValue","pos","param","ParameterError","push","args","kwargs","Map","count","finalargs","fill","haveValues","_step","_iterator","_createForOfIteratorHelper","n","done","arg","indexOf","count_nodef","count_def","ArgumentError","err","e","_i3","_Object$entries","entries","_Object$entries$_i","_slicedToArray","argname","argvalue","_repr","has","set","_step2","_iterator2","bindArray","_step3","argObject","_iterator3","buffer","lasttype","sep","includes","_step4","v","_iterator4","_appendParam","join","Type","_symbols$getattr","_symbols$repr3","doc","_constructor","attrname","AttributeError","fullname","dir","attrs","obj","_typeof","attr","realattr","_len3","_key2","apply","exc","object","Set","_registry","register","ul4onname","dumps","indent","encoder","Encoder","dump","loads","registry","decoder","Decoder","EncoderType","_Type","_symbols$call","_super2","instancecheck","encodertype","_symbols$type","_symbols$getattr2","_level","_strings2index","_objects2index","_backrefs","_line","line","_len4","_key3","oldindent","_step5","_iterator5","Math","round","index","_str_repr","replace","_iscolor","r","g","_isdate","year","month","day","_isdatetime","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","_istimedelta","days","seconds","microseconds","_ismonthdelta","months","slice","start","stop","ul4ondump","get","ul4onid","_islist","_step6","_iterator6","item","_ismap","_step7","_iterator7","_step7$value","_isdict","_isset","ValueError","_step8","_iterator8","bind","ul4","DecoderType","_Type2","_symbols$call2","_super3","decodertype","_symbols$type2","_symbols$getattr3","backrefs","persistent_objects","stack","readchar","readcharoreof","readblackchar","re_white","match","read","size","result","substring","backup","readnumber","re_digits","parseFloat","isNaN","_beginfakeloading","oldpos","escapechar","chars","codepoint","parseInt","reset","load","typecode","delimiter","c2","_readescape","Color","_r","_g","_b","_a","Date_","Date","setFullYear","setDate","setMonth","setHours","setMinutes","setSeconds","setMilliseconds","TimeDelta","_days","_seconds","_microseconds","MonthDelta","_months","pop","_endfakeloading","ul4onload","id","loadcontent","self","next","_rvalidchars","_rvalidescape","_rvalidtokens","_rvalidbraces","_bound","upper","_internal_call","context","functioncontext","bindObject","unshift","_function_is_callable","_object_is_callable","_object_is_renderable","_callfunction","TypeError","_callobject","_callrender","_call","_type","_unpackvar","lvalue","newvalue","iter","_iter","_formatsource","out","_step10","finalout","level","needlf","_iterator10","part","j","_sourceprefix","source","outerstartpos","innerstartpos","maxprefix","preprefix","_sourcesuffix","outerstoppos","innerstoppos","maxsuffix","postsuffix","_lineColFromPos","col","_eq","obj1","obj2","numbertypes","getTime","_isobject","hasOwnProperty","_step11","_iterator11","_step11$value","_step12","_iterator12","_step12$value","_step13","_iterator13","_step13$value","_step14","_iterator14","_ne","_unorderable","operator","_cmp","v1","v2","res","in1only","in2only","_lt","_le","_step15","_iterator15","_step16","_iterator16","_gt","_step17","_iterator17","_step18","_iterator18","_ge","_step19","_iterator19","_step20","_iterator20","_isiter","_step21","keys","_iterator21","_step21$value","_step22","values","_iterator22","iterator","ascii","_step23","squote","dquote","_iterator23","_step24","quote","_iterator24","code","escape","test","_lpad","_map_repr","_step25","_iterator25","_step25$value","_repr_internal","_list_repr","_step26","first","_iterator26","_set_repr","_step27","_iterator27","_object_repr","_date_repr","_date","_datetime_repr","hour","minute","second","ms","_ascii","_date_str","_datetime_str","_str","strtype","_bool","booltype","_list","listtype","_len","sequence","constructors2types","_maketype","GenericType","nonetype","undefinedtype","_isbool","_isint","inttype","_isfloat","floattype","_isstr","settype","dicttype","datetimetype","functiontype","_mod","div","floor","mod","_getattr","default_","_hasattr","hasattr","_dir","_any","iterable","_step28","_iterator28","_all","_step29","_iterator29","_isundefined","_isdefined","_isnone","datetype","colortype","timedeltatype","monthdeltatype","_istemplate","Template","TemplateClosure","_isfunction","_isexception","Exception","_isinstance","_str_repeat","rep","_list_repeat","list","_step30","_iterator30","_asjson","_str_json","_step31","_iterator31","_step32","_iterator32","_step33","_iterator33","_step33$value","_fromjson","strip","JSON","parse","Function","_asul4on","_fromul4on","_format_datetime","fmt","lang","_step34","translation","de","ml","ws","wl","xf","Xf","cf","en","fr","es","it","da","sv","nl","pt","cs","sk","pl","hr","sr","ro","hu","tr","ru","zh","ko","ja","inspec","_iterator34","getDay","_format","yearday","_week4format","_format_int","work","align","sign","alternate","minimumwidth","minimumwidthStr","exec","toUpperCase","pad","padBefore","padAfter","translations","toLowerCase","split","_extend","baseobj","assign","create","_Type3","NoneType","_super4","_Type4","UndefinedType","_super5","BoolType","_Type5","_symbols$call3","_super6","IntType","_Type6","_symbols$call4","_super7","base","FloatType","_Type7","_symbols$call5","_super8","StrType","_Type8","_symbols$call6","_super9","end","_count","_find","_rfind","old","new_","substr","lstrip","rstrip","maxsplit","splice","rsplit","lastIndexOf","splitlines","startpos","keepends","lookingAtLineEnd","lineendlen","endpos","lower","capitalize","resultlist","prefix","_step35","_iterator35","singlepre","suffix","_step36","_iterator36","singlesuf","find","rfind","startswith","endswith","ListType","_Type9","_symbols$call7","_super10","items","_step37","_iterator37","_step38","_iterator38","append","insert","DictType","_Type10","_symbols$call8","_super11","update","__proto__","_len5","_key25","realresult","_len6","_key26","_step39","_iterator39","_step39$value","_step40","_iterator40","_step40$value","_step41","_iterator41","_step41$value","others","_step42","_iterator42","_step44","_iterator44","_step44$value","_set","_step45","_iterator45","_step43","_iterator43","_step43$value","clear","_i4","_Object$entries2","_Object$entries2$_i","KeyError","SetType","_Type11","_symbols$call9","_super12","_step46","_iterator46","DateType","_Type12","_symbols$call10","_super13","weekday","calendar","firstweekday","mindaysinfirstweek","week","date","mimeformat","isoformat","DateTimeType","_Type13","_symbols$call11","_super14","microsecond","offset","refDate","weekDayDiff","weekStartYear","weekStartMonth","weekStartDay","weekStart","diff","SubAST","_do","leap","_isleap","FunctionType","_Type14","_super15","_Type15","_super16","_this2","classmodule","classname","classdoc","Context","vars","globals","builtins","indents","escapes","_output","inheritvars","withindent","replaceoutput","replacevars","_step47","_iterator47","getoutput","message","fileName","lineNumber","instance","Error","setPrototypeOf","getPrototypeOf","enumerable","writable","configurable","InternalException","_Exception","_super17","ReturnException","_InternalException","_super18","_this3","BreakException","_InternalException2","_super19","ContinueException","_InternalException3","_super20","SyntaxError","_Exception2","_super21","LValueRequiredError","_SyntaxError","_super22","_Exception3","_super23","_Exception4","_super24","_Exception5","_super25","_Exception6","_super26","NotSubscriptableError","_Exception7","_super27","_this4","ZeroDivisionError","_Exception8","_super28","IndexError","_Exception9","_super29","_this5","_Exception10","_super30","_this6","_Exception11","_super31","_this7","NotImplementedError","_Exception12","_super32","LocationError","_Exception13","_symbols$getattr4","_super33","location","_this8","_templateprefix","template","parenttemplate","templateprefix","startsourceprefix","startsource","startsourcesuffix","text","underline","startline","startcol","_symbols$getattr5","_symbols$setitem","_symbols$str2","_symbols$repr4","AST","_Proto2","_super34","startposstart","startposstop","_this9","stopposstart","stopposstop","_startline","_startcol","_stopline","_stopcol","_lineColFromPos3","_source","_lineColFromPos5","_lineColFromPos7","_lineColFromPos9","stoppos","_ul4onattrs","_decorate_exception","_handle_eval","_eval","_eval_set","_eval_modify","_step48","_iterator48","_step49","_iterator49","_defineProperty","TextAST","_AST","_super35","posstart","posstop","_this10","IndentAST","_TextAST","_super36","_step50","_iterator50","LineEndAST","_TextAST2","_super37","CodeAST","_AST2","_super38","ConstAST","_CodeAST","_super39","_this11","ItemArgBase","_CodeAST2","_super40","_eval_list","_eval_dict","_eval_call","SeqItemAST","_ItemArgBase","_super41","_this12","UnpackSeqItemAST","_ItemArgBase2","_super42","_this13","DictItemAST","_ItemArgBase3","_super43","_this14","UnpackDictItemAST","_ItemArgBase4","_super44","_this15","subitem","_step51","_iterator51","_step52","_iterator52","_step52$value","PositionalArgumentAST","_ItemArgBase5","_super45","_this16","KeywordArgumentAST","_ItemArgBase6","_super46","_this17","UnpackListArgumentAST","_ItemArgBase7","_super47","_this18","UnpackDictArgumentAST","_ItemArgBase8","_super48","_this19","_step53","_iterator53","_subitem2","_step54","_iterator54","_step54$value","ListAST","_CodeAST3","_super49","_this20","_step55","_iterator55","_step56","_iterator56","_handle_eval_list","ListComprehensionAST","_CodeAST4","_super50","varname","container","condition","_this21","localcontext","_step57","_iterator57","_step57$value","_handle_eval_set","SetAST","_CodeAST5","_super51","_this22","_step58","_iterator58","_step59","_iterator59","_symbols$getattr6","SetComprehensionAST","_CodeAST6","_super52","_this23","_get2","_getPrototypeOf","_step60","_iterator60","_step60$value","_symbols$getattr7","DictAST","_CodeAST7","_super53","_this24","_step61","_iterator61","_step62","_iterator62","_handle_eval_dict","DictComprehensionAST","_CodeAST8","_super54","_this25","_step63","_iterator63","_step63$value","GeneratorExpressionAST","_CodeAST9","_super55","_this26","_step64","_iterator64","_step64$value","VarAST","_CodeAST10","_super56","_this27","_get","_modify","_ido","UnaryAST","_CodeAST11","_super57","_this28","NegAST","_UnaryAST","_super58","BitNotAST","_UnaryAST2","_super59","NotAST","_UnaryAST3","_super60","IfAST","_CodeAST12","_super61","objif","objcond","objelse","_this29","ReturnAST","_UnaryAST4","_super62","PrintAST","_UnaryAST5","_super63","PrintXAST","_UnaryAST6","_super64","_xmlescape","BinaryAST","_CodeAST13","_super65","_this30","ItemAST","_BinaryAST","_super66","orgkey","IsAST","_BinaryAST2","_super67","IsNotAST","_BinaryAST3","_super68","EQAST","_BinaryAST4","_super69","NEAST","_BinaryAST5","_super70","LTAST","_BinaryAST6","_super71","LEAST","_BinaryAST7","_super72","GTAST","_BinaryAST8","_super73","GEAST","_BinaryAST9","_super74","ContainsAST","_BinaryAST10","_super75","NotContainsAST","_BinaryAST11","_super76","AddAST","_BinaryAST12","_super77","_BinaryAST13","_super78","_date_sub","_datetime_sub","swap","year1","yearday1","year2","yearday2","diffdays","hours1","minutes1","seconds1","hours2","minutes2","diffseconds","diffmilliseconds","MulAST","_BinaryAST14","_super79","targetsize","FloorDivAST","_BinaryAST15","_super80","TrueDivAST","_BinaryAST16","_super81","ModAST","_BinaryAST17","_super82","ShiftLeftAST","_BinaryAST18","_super83","ShiftRightAST","_BinaryAST19","_super84","BitAndAST","_BinaryAST20","_super85","BitXOrAST","_BinaryAST21","_super86","BitOrAST","_BinaryAST22","_super87","AndAST","_BinaryAST23","_super88","OrAST","_BinaryAST24","_super89","AttrAST","_CodeAST14","_super90","_this31","oldvalue","CallAST","_CodeAST15","_super91","_this32","_step65","_iterator65","_makeargs","_step66","_iterator66","_handle_eval_call","_this$_makeargs2","RenderAST","_CallAST","_super92","_this33","_step67","_iterator67","_render_object","_renderx_object","_real_render_object","_print_object","_dont_print_object","_this$_makeargs4","_handle_additional_arguments","_real_print_object","RenderXAST","_RenderAST","_super93","RenderOrPrintAST","_RenderAST2","_super94","RenderOrPrintXAST","_RenderAST3","_super95","_printx_object","RenderXOrPrintAST","_RenderAST4","_super96","RenderXOrPrintXAST","_RenderAST5","_super97","_symbols$getattr8","RenderBlockAST","_RenderAST6","_super98","_step68","_iterator68","content","closure","_symbols$getattr9","RenderBlocksAST","_RenderAST7","_super99","_step69","_iterator69","_step70","_iterator70","BlockAST","_Proto3","_symbols$type3","_symbols$repr5","_symbols$getattr10","_super100","_this34","of","SliceAST","_CodeAST16","_super101","index1","index2","_this35","ChangeVarAST","_CodeAST17","_super102","_this36","SetVarAST","_ChangeVarAST","_super103","_step71","_iterator71","_step71$value","ModifyVarAST","_ChangeVarAST2","_super104","_step72","_iterator72","_step72$value","_handle_eval_modify","_operator","AddVarAST","_ModifyVarAST","_super105","SubVarAST","_ModifyVarAST2","_super106","MulVarAST","_ModifyVarAST3","_super107","TrueDivVarAST","_ModifyVarAST4","_super108","FloorDivVarAST","_ModifyVarAST5","_super109","ModVarAST","_ModifyVarAST6","_super110","ShiftLeftVarAST","_ModifyVarAST7","_super111","ShiftRightVarAST","_ModifyVarAST8","_super112","BitAndVarAST","_ModifyVarAST9","_super113","BitXOrVarAST","_ModifyVarAST10","_super114","BitOrVarAST","_ModifyVarAST11","_super115","_symbols$getattr11","_CodeAST18","_super116","_this37","_step73","_iterator73","_step74","_iterator74","ForBlockAST","_BlockAST","_super117","_this38","_step75","truel","_iterator75","subname","_str_varname","_step76","_iterator76","_step76$value","WhileBlockAST","_BlockAST2","_super118","_this39","BreakAST","_CodeAST19","_super119","ContinueAST","_CodeAST20","_super120","ConditionalBlocksAST","_BlockAST3","_super121","_step77","_iterator77","block","_execute","ConditionalBlockAST","_BlockAST4","_super122","_this40","_strname","IfBlockAST","_ConditionalBlockAST","_super123","ElIfBlockAST","_ConditionalBlockAST2","_super124","ElseBlockAST","_BlockAST5","_super125","_symbols$getattr12","_symbols$render","_symbols$call12","_BlockAST6","_super126","whitespace","_this41","docposstart","docposstop","_asts","_renderbound","renders","_rendersbound","SignatureAST","_step78","_iterator78","loaded_api_version","_callbound","ul4type","_CodeAST21","_super127","_this42","_step79","_iterator79","_step80","_iterator80","_step81","_iterator81","_symbols$render2","_symbols$call13","_symbols$getattr13","_Proto4","_super128","_this43","tag","endtag","docpos","_rgb","_csv","_chr","_ord","_hex","number","_oct","_bin","_min","minvalue","testvalue","_max","_sum","_first","_last","_sorted","reverse","cmp","sort","s1","s2","keyvalue","_i5","_sort","_range","higher","step","_slice","_urlquote","_urlunquote","decodeURIComponent","_reversed","_random","random","_randrange","width","_randchoice","iscolor","_round","digits","threshold","pow","_floor","_ceil","ceil","_md5","_scrypt","salt","_css","startsWith","parts","color","cssColors","_mix","_step82","weight","sumweights","_iterator82","_enumerate","_isfirst","isfirst","_islast","lastitem","_isfirstlast","_enumfl","_zip","iterables","_step83","iters","_iterator83","_i7","_iters","_abs","_hls","h","l","m1","m2","_v","hue","_hsv","p","now","utcnow","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","today","Module","_symbols$getattr14","_symbols$repr6","__name__","__doc__","_i8","_Object$entries3","_Object$entries3$_i","_ul4on_loads","_ul4on_dumps","isclose","rel_tol","abs_tol","Infinity","cos","sin","tan","sqrt","AttrGetterType","_Type16","_symbols$call14","_super129","AttrGetter","attrgettertype","_symbols$type4","_symbols$call15","attrnames","_step84","_iterator84","_getone","_step85","_iterator85","_attrgetter","getone","dottedname","_step86","_iterator86","_step87","_iterator87","dottedattrname","isstr","lastIndex","jan1","jan1weekday","ColorType","_Type17","_symbols$call16","_super130","_symbols$type5","_symbols$repr7","_symbols$str3","_Symbol$iterator","_symbols$getattr15","_symbols$getitem","_symbols$eq2","_Proto5","_super131","_this44","light","sat","lum","hls","hlsa","hsv","hsva","withhue","witha","withlight","abslight","rellight","withsat","withlum","abslum","rellum","invert","combine","rc","gc","bc","maxc","max","minc","min","factor","lum_old","_interpolate","invf","purple","aqua","maroon","red","orange","yellow","olive","fuchsia","white","lime","green","navy","blue","teal","black","silver","gray","magenta","cyan","_Proto6","_symbols$type6","_symbols$repr8","_symbols$str4","_symbols$eq3","_symbols$lt","_symbols$le","_symbols$gt","_symbols$ge","_super132","_this45","TimeDeltaType","_Type18","_symbols$call17","_super133","_Proto7","_symbols$type7","_symbols$repr9","_symbols$str5","_symbols$bool2","_symbols$abs","_symbols$eq4","_symbols$lt2","_symbols$le2","_symbols$gt2","_symbols$ge2","_symbols$neg","_symbols$add","_symbols$radd","_symbols$sub","_symbols$rsub","_symbols$mul","_symbols$rmul","_symbols$truediv","_symbols$floordiv","_symbols$getattr16","_super134","_this46","total_microseconds","total_seconds","minutes","hours","_adddatetime","millisecond","_adddate","myValue","otherValue","hasSeconds","hasMicroseconds","MonthDeltaType","_Type19","_symbols$call18","_super135","_symbols$type8","_symbols$repr10","_symbols$str6","_symbols$bool3","_symbols$abs2","_symbols$eq5","_symbols$lt3","_symbols$le3","_symbols$gt3","_symbols$ge3","_symbols$neg2","_symbols$add2","_symbols$radd2","_symbols$sub2","_symbols$rsub2","_symbols$mul2","_symbols$rmul2","_symbols$truediv2","_symbols$floordiv2","_symbols$getattr17","_Proto8","_super136","_this47","targetmonth","_math","pi","PI","E","tau","attrgetter","_ul4","_ul4on","_color","css","mix","int","float","dict","format","any","all","zip","isundefined","isdefined","isnone","isbool","isint","isfloat","isdate","isdatetime","istimedelta","ismonthdelta","istemplate","isfunction","islist","isset","isdict","isexception","isinstance","asjson","fromjson","asul4on","fromul4on","enumerate","islast","isfirstlast","enumfl","datetime","timedelta","monthdelta","rgb","xmlescape","csv","chr","ord","hex","oct","bin","sum","last","sorted","range","urlquote","urlunquote","reversed","randrange","randchoice","scrypt","ul4on","math","_i9","_constructors","_constructors$_i","_datetime","_float","defaultvalue","_int","_map2object","_step9","newobj","_iterator9","_step9$value","_monthdelta","_rpad","_stacktrace","_timedelta","report_exc","console","error","_console","texts","style","em","focus","errors","_i10","_errors"],"mappings":"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"}