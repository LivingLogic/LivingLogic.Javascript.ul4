{"version":3,"sources":["../src/ul4.js"],"names":["root","ul4","isamd","define","amd","iscommon","module","exports","md5F","window","md5","version","_registry","_havemap","Map","prototype","forEach","_havemapconstructor","size","error","_haveset","Set","_havesetconstructor","_makemap","map","items","i","length","key","value","set","_setmap","__proto__","_emptymap","_getmap","get","_emptyset","_Set","_makeset","add","register","name","f","ul4onname","dumps","obj","indent","encoder","Encoder","dump","finish","loads","data","registry","decoder","Decoder","load","_level","_strings2index","_ids2index","_backrefs","line","push","args","oldindent","join","_line","type","Math","round","index","_str_repr","replace","_iscolor","r","g","b","a","_isdate","year","month","day","_isdatetime","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","_istimedelta","days","seconds","microseconds","_ismonthdelta","months","slice","start","stop","ul4ondump","__id__","_islist","_ismap","_isdict","_isset","ValueError","_repr","pos","backrefs","stack","charAt","re_white","c","match","result","substring","re_digits","readcharoreof","parseFloat","isNaN","oldpos","escapechar","chars","read","codepoint","parseInt","String","fromCharCode","typecode","readblackchar","readnumber","readchar","delimiter","c2","_readescape","Color","_r","_g","_b","_a","Date","setFullYear","setDate","setMonth","setHours","setMinutes","setSeconds","setMilliseconds","TimeDelta","_days","_seconds","_microseconds","MonthDelta","_months","backup","pop","_beginfakeloading","constructor","_endfakeloading","ul4onload","self","next","done","_rvalidchars","_rvalidescape","_rvalidtokens","_rvalidbraces","_inherit","baseobj","attrs","Object","assign","create","_map2object","newobj","TypeError","_bound","upper","_stacktrace","exc","output","Exception","toString","context","_internal_call","functioncontext","signature","needscontext","needsobject","kwargs","finalargs","ArgumentError","bindObject","bindArray","unshift","apply","_callfunction","_ul4_name","_ul4_signature","_ul4_needsobject","_ul4_needscontext","_callobject","_ul4_callsignature","_ul4_callneedsobject","_ul4_callneedscontext","__call__","_callrender","_ul4_rendersignature","_ul4_renderneedsobject","_ul4_renderneedscontext","__render__","_call","_type","_unpackvar","lvalue","newvalue","iter","_iter","item","concat","_formatsource","out","finalout","level","needlf","part","j","_eq","obj1","obj2","numbertypes","__eq__","indexOf","getTime","_isobject","hasOwnProperty","has","_ne","__ne__","_unorderable","operator","_cmp","v1","v2","res","_isul4set","in1only","in2only","_lt","__lt__","eq","_le","__le__","_gt","__gt__","_ge","__ge__","_isiter","__iter__","keys","values","str","ascii","squote","dquote","quote","code","charCodeAt","escape","test","_lpad","_date_repr","_date","_datetime_repr","hour","minute","second","ms","_map_repr","v","_repr_internal","_list_repr","_set_repr","_object_repr","__repr__","_ascii","_date_str","_datetime_str","_str","__str__","_bool","__bool__","_int","base","_isint","floor","_float","_list","_set","_len","sequence","ul4type","Protocol","_mod","div","mod","_getattr","attrname","default_","proto","getattr","AttributeError","_hasattr","hasattr","_dir","dir","_any","iterable","_all","_isundefined","_isdefined","_isnone","_isbool","_isfloat","_isstr","call","_istemplate","Template","TemplateClosure","_isfunction","_isexception","_isanyset","__type__","Proto","_str_repeat","rep","_list_repeat","list","_str_json","_asjson","_fromjson","string","StrProtocol","strip","JSON","parse","Function","_asul4on","_fromul4on","_format_datetime","fmt","lang","translation","de","ml","ws","wl","xf","Xf","cf","en","fr","es","it","da","sv","nl","pt","cs","sk","pl","hr","sr","ro","hu","tr","ru","zh","ko","ja","inspec","getDay","_format","DateTimeProtocol","yearday","_week4format","_format_int","work","fill","align","sign","alternate","minimumwidth","minimumwidthStr","exec","neg","toUpperCase","pad","padBefore","translations","toLowerCase","split","len","_rpad","_nextid","other","Signature","argNames","remargs","remkwargs","nextDefault","lastArgname","argName","defaultValue","substr","decname","arg","prefix","argObject","expose","count","options","ListProtocol","DateProtocol","SetProtocol","MapProtocol","ObjectProtocol","__getattr__","attr","realattr","object","sub","end","_count","_find","_rfind","old","new_","sep","splice","lstrip","lastIndexOf","rstrip","keepends","lookingAtLineEnd","startpos","lineendlen","endpos","resultlist","singlepre","suffix","singlesuf","find","rfind","rsplit","splitlines","lower","capitalize","startswith","endswith","append","insert","_update","clear","update","weekday","firstweekday","mindaysinfirstweek","calendar","d","week","mimeformat","isoformat","offset","refDate","weekDayDiff","weekStartYear","weekStartMonth","weekStartDay","weekStart","diff","SubAST","_do","leap","_isleap","microsecond","realresult","Context","vars","indents","escapes","_output","message","fileName","lineNumber","instance","Error","setPrototypeOf","getPrototypeOf","enumerable","writable","configurable","InternalException","ReturnException","BreakException","ContinueException","SyntaxError","LValueRequiredError","NotSubscriptableError","ZeroDivisionError","IndexError","LocationError","location","template","parenttemplate","first","templateprefix","_templateprefix","sourceprefix","source","sourcesuffix","text","underline","col","AST","_col","_ul4onattrs","undefined","_eval","_decorate_exception","_eval_set","_eval_modify","_source","of","outerstartpos","innerstartpos","fullsource","maxprefix","preprefix","outerstoppos","innerstoppos","maxsuffix","postsuffix","_calculateLineCol","TextAST","IndentAST","_text","LineEndAST","CodeAST","ConstAST","ItemArgBase","_eval_list","_eval_dict","_eval_call","SeqItemAST","_handle_eval","UnpackSeqItemAST","DictItemAST","UnpackDictItemAST","subitem","PosArgAST","KeywordArgAST","UnpackListArgAST","UnpackDictArgAST","ListAST","_handle_eval_list","ListCompAST","varname","container","condition","localcontext","inheritvars","varitems","_handle_eval_set","SetAST","SetCompAST","DictAST","_handle_eval_dict","DictCompAST","GenExprAST","VarAST","_get","_modify","functions","_ido","UnaryAST","NegAST","__neg__","BitNotAST","NotAST","IfAST","objif","objcond","objelse","condvalue","ReturnAST","PrintAST","PrintXAST","_xmlescape","BinaryAST","ItemAST","orgkey","__getitem__","__setitem__","IsAST","IsNotAST","EQAST","NEAST","LTAST","LEAST","GTAST","GEAST","ContainsAST","__contains__","NotContainsAST","AddAST","__add__","__radd__","__sub__","__rsub__","_date_sub","_datetime_sub","swap","t","year1","yearday1","year2","yearday2","diffdays","hours1","minutes1","seconds1","hours2","minutes2","seconds2","diffseconds","diffmilliseconds","MulAST","__mul__","__rmul__","targetsize","FloorDivAST","__floordiv__","__rfloordiv__","TrueDivAST","__truediv__","__rtruediv__","ModAST","ShiftLeftAST","ShiftRightAST","BitAndAST","BitXOrAST","BitOrAST","AndAST","OrAST","AttrAST","__setattr__","oldvalue","CallAST","_handle_eval_call","_makeargs","RenderAST","_reprname","tag","withindent","_handle_additional_arguments","RenderXAST","RenderBlockAST","closure","content","RenderBlocksAST","BlockAST","SliceAST","index1","index2","SetVarAST","ModifyVarAST","_handle_eval_modify","_operator","AddVarAST","SubVarAST","MulVarAST","TrueDivVarAST","FloorDivVarAST","ModVarAST","ShiftLeftVarAST","ShiftRightVarAST","BitAndVarAST","BitXOrVarAST","BitOrVarAST","ForBlockAST","_str_varname","WhileBlockAST","cond","BreakAST","ContinueAST","CondBlockAST","block","execute","_execute","ConditionalBlockAST","_strname","IfBlockAST","ElIfBlockAST","ElseBlockAST","whitespace","startdelim","enddelim","docpos","_asts","doc","render","_renderbound","renders","_rendersbound","SignatureAST","clone","replaceoutput","getoutput","_callbound","params","param","endtag","_rgb","_csv","_chr","_ord","_hex","number","_oct","_bin","_min","_max","_sum","_first","_last","_sorted","reverse","cmp","sort","keyvalue","s1","s2","_range","step","higher","abs","_slice","_urlquote","encodeURIComponent","_urlunquote","decodeURIComponent","_reversed","_random","random","_randrange","width","n","_randchoice","iscolor","_round","x","digits","threshold","pow","_md5","require","_enumerate","_isfirst","isfirst","_islast","lastitem","_isfirstlast","_enumfl","_zip","iterables","iters","_abs","__abs__","_datetime","_timedelta","_monthdelta","_hls","h","l","s","_v","m1","m2","hue","_hsv","p","q","defaultvalue","now","utcnow","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","today","repr","int","float","bool","format","any","all","zip","isundefined","isdefined","isnone","isbool","isint","isfloat","isstr","isdate","isdatetime","istimedelta","ismonthdelta","istemplate","isfunction","islist","isset","isdict","isexception","asjson","fromjson","asul4on","fromul4on","enumerate","islast","isfirstlast","enumfl","date","datetime","timedelta","monthdelta","rgb","hls","hsv","xmlescape","csv","chr","ord","hex","oct","bin","min","max","sum","last","sorted","range","urlquote","urlunquote","reversed","randrange","randchoice","lastIndex","_week","jan1","jan1weekday","others","lum","hlsa","hsva","witha","withlum","abslum","rellum","maxc","minc","rc","gc","bc","_js_Date","total_microseconds","total_seconds","minutes","hours","millisecond","_adddate","_adddatetime","myValue","otherValue","hasSeconds","hasMicroseconds","targetmonth","classes"],"mappings":"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","file":"ul4.js","sourcesContent":["/*!\n * UL4/UL4ON JavaScript Library\n * http://www.livinglogic.de/Python/ul4c/\n * http://www.livinglogic.de/Python/ul4on/\n *\n * Copyright 2011-2018 by LivingLogic AG, Bayreuth/Germany\n * Copyright 2011-2018 by Walter Dörwald\n *\n * All Rights Reserved\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/*jslint vars: true */\n\n;(function(){\n\tlet root = this, ul4 = {};\n\n\tlet isamd = typeof(define) === \"function\" && define.amd;\n\tlet iscommon = typeof(module) === \"object\" && module.exports;\n\n\tif (isamd)\n\t{\n\t\t// AMD\n\t\tdefine(['blueimp-md5'], function (md5F)\n\t\t{\n\t\t\twindow.md5 = md5F;\n\n\t\t\treturn ul4;\n\t\t});\n\t}\n\telse if (iscommon)\n\t{\n\t\t// COMMONJS\n\t\tmodule.exports.ul4 = ul4;\n\t}\n\telse\n\t{\n\t\t// DEFAULT\n\t\troot.ul4 = ul4;\n\t}\n\n\tul4.version = \"46\";\n\n\t//\n\t// UL4ON\n\t//\n\n\tul4._registry = {};\n\n\tul4._havemap = (typeof(Map) === \"function\" && typeof(Map.prototype.forEach) === \"function\");\n\n\tul4._havemapconstructor = (function ()\n\t{\n\t\tif (ul4._havemap)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tif (new Map([[1, 2]]).size == 1)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcatch (error)\n\t\t\t{\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t})();\n\n\tul4._haveset = (typeof(Set) === \"function\" && typeof(Set.prototype.forEach) === \"function\");\n\n\tul4._havesetconstructor = (function ()\n\t{\n\t\tif (ul4._haveset)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tif (new Set([1, 2]).size == 2)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcatch (error)\n\t\t\t{\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t})();\n\n\t// helper functions that work with Maps and objects\n\tif (ul4._havemap)\n\t{\n\t\tul4._makemap = function _makemap(...items)\n\t\t{\n\t\t\tlet map = new Map();\n\n\t\t\tfor (let i = 0; i < items.length; ++i)\n\t\t\t{\n\t\t\t\tlet [key, value] = items[i];\n\t\t\t\tmap.set(key, value);\n\t\t\t}\n\t\t\treturn map;\n\t\t};\n\n\t\tul4._setmap = function _setmap(map, key, value)\n\t\t{\n\t\t\tif (map.__proto__ === Map.prototype)\n\t\t\t\tmap.set(key, value);\n\t\t\telse\n\t\t\t\tmap[key] = value;\n\t\t};\n\n\t\tul4._emptymap = function _emptymap()\n\t\t{\n\t\t\treturn new Map();\n\t\t};\n\n\t\tul4._getmap = function _getmap(map, key, value)\n\t\t{\n\t\t\tif (map.__proto__ === Map.prototype)\n\t\t\t\treturn map.get(key);\n\t\t\telse\n\t\t\t\treturn map[key];\n\t\t};\n\t}\n\telse\n\t{\n\t\tul4._makemap = function _makemap(...items)\n\t\t{\n\t\t\tlet map = {};\n\n\t\t\tfor (let i = 0; i < items.length; ++i)\n\t\t\t{\n\t\t\t\tlet [key, value] = items[i];\n\t\t\t\tmap[key] = value;\n\t\t\t}\n\t\t\treturn map;\n\t\t};\n\n\t\tul4._setmap = function _setmap(map, key, value)\n\t\t{\n\t\t\tmap[key] = value;\n\t\t};\n\n\t\tul4._emptymap = function _emptymap()\n\t\t{\n\t\t\treturn {};\n\t\t};\n\n\t\tul4._getmap = function _getmap(map, key, value)\n\t\t{\n\t\t\treturn map[key];\n\t\t};\n\t}\n\n\t// Function used for making sets, when the Set constructor doesn't work (or we don't have sets)\n\tif (ul4._haveset)\n\t{\n\t\tul4._emptyset = function _emptyset()\n\t\t{\n\t\t\treturn new Set();\n\t\t};\n\t}\n\telse\n\t{\n\t\tul4._emptyset = function _emptyset()\n\t\t{\n\t\t\treturn new ul4._Set();\n\t\t};\n\t}\n\n\tul4._makeset = function _makeset(...items)\n\t{\n\t\tlet set = ul4._emptyset();\n\n\t\tfor (let i = 0; i < items.length; ++i)\n\t\t\tset.add(items[i]);\n\t\treturn set;\n\t};\n\n\t// Register the constructor function ``f`` under the name ``name`` with the UL4ON machinery\n\tul4.register = function register(name, f)\n\t{\n\t\tf.prototype.ul4onname = name;\n\t\tul4._registry[name] = f;\n\t};\n\n\t// Return a string that contains the object ``obj`` in the UL4ON serialization format\n\tul4.dumps = function dumps(obj, indent)\n\t{\n\t\tlet encoder = new ul4.Encoder(indent);\n\t\tencoder.dump(obj);\n\t\treturn encoder.finish();\n\t};\n\n\t// Load an object from the string ``data``.\n\t// ``data`` must contain the object in the UL4ON serialization format\n\t// ``registry`` may be null or a dictionary mapping type names to constructor functions\n\tul4.loads = function loads(data, registry)\n\t{\n\t\tlet decoder = new ul4.Decoder(data, registry);\n\t\treturn decoder.load();\n\t};\n\n\t// Helper class for encoding\n\tul4.Encoder = class Encoder\n\t{\n\t\t// Create a new Encoder object\n\t\tconstructor(indent=null)\n\t\t{\n\t\t\tthis.indent = indent;\n\t\t\tthis.data = [];\n\t\t\tthis._level = 0;\n\t\t\tthis._strings2index = {};\n\t\t\tthis._ids2index = {};\n\t\t\tthis._backrefs = 0;\n\t\t}\n\n\t\t_line(line, ...args)\n\t\t{\n\t\t\tif (this.indent !== null)\n\t\t\t{\n\t\t\t\tfor (let i = 0; i < this._level; ++i)\n\t\t\t\t\tthis.data.push(this.indent);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (this.data.length)\n\t\t\t\t\tthis.data.push(\" \");\n\t\t\t}\n\t\t\tthis.data.push(line);\n\n\t\t\tif (args.length)\n\t\t\t{\n\t\t\t\tlet oldindent = this.indent;\n\t\t\t\tthis.indent = null;\n\t\t\t\tfor (let i = 0; i < args.length; ++i)\n\t\t\t\t\tthis.dump(args[i]);\n\t\t\t\tthis.indent = oldindent;\n\t\t\t}\n\n\t\t\tif (this.indent !== null)\n\t\t\t\tthis.data.push(\"\\n\");\n\t\t}\n\n\t\t// Return the complete string written to the buffer\n\t\tfinish()\n\t\t{\n\t\t\treturn this.data.join(\"\");\n\t\t}\n\n\t\tdump(obj)\n\t\t{\n\t\t\tif (obj === null)\n\t\t\t\tthis._line(\"n\");\n\t\t\telse if (typeof(obj) == \"boolean\")\n\t\t\t\tthis._line(obj ? \"bT\" : \"bF\");\n\t\t\telse if (typeof(obj) == \"number\")\n\t\t\t{\n\t\t\t\tlet type = (Math.round(obj) == obj) ? \"i\" : \"f\";\n\t\t\t\tthis._line(type + obj);\n\t\t\t}\n\t\t\telse if (typeof(obj) == \"string\")\n\t\t\t{\n\t\t\t\tlet index = this._strings2index[obj];\n\t\t\t\tif (typeof(index) !== \"undefined\")\n\t\t\t\t{\n\t\t\t\t\tthis._line(\"^\" + index);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis._strings2index[obj] = this._backrefs++;\n\t\t\t\t\tlet dump = ul4._str_repr(obj).replace(\"<\", \"\\\\x3c\");\n\t\t\t\t\tthis._line(\"S\" + dump);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._iscolor(obj))\n\t\t\t\tthis._line(\"c\", obj.r(), obj.g(), obj.b(), obj.a());\n\t\t\telse if (ul4._isdate(obj))\n\t\t\t\tthis._line(\"x\", obj.year(), obj.month(), obj.day());\n\t\t\telse if (ul4._isdatetime(obj))\n\t\t\t\tthis._line(\"z\", obj.getFullYear(), obj.getMonth()+1, obj.getDate(), obj.getHours(), obj.getMinutes(), obj.getSeconds(), obj.getMilliseconds() * 1000);\n\t\t\telse if (ul4._istimedelta(obj))\n\t\t\t\tthis._line(\"t\", obj.days(), obj.seconds(), obj.microseconds());\n\t\t\telse if (ul4._ismonthdelta(obj))\n\t\t\t\tthis._line(\"m\", obj.months());\n\t\t\telse if (obj instanceof ul4.slice)\n\t\t\t\tthis._line(\"r\", obj.start, obj.stop);\n\t\t\telse if (obj.ul4onname && obj.ul4ondump)\n\t\t\t{\n\t\t\t\tif (obj.__id__)\n\t\t\t\t{\n\t\t\t\t\tlet index = this._ids2index[obj.__id__];\n\t\t\t\t\tif (typeof(index) != \"undefined\")\n\t\t\t\t\t{\n\t\t\t\t\t\tthis._line(\"^\" + index);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis._ids2index[obj.__id__] = this._backrefs++;\n\t\t\t\t}\n\t\t\t\tthis._line(\"O\", obj.ul4onname);\n\t\t\t\t++this._level;\n\t\t\t\tobj.ul4ondump(this);\n\t\t\t\t--this._level;\n\t\t\t\tthis._line(\")\");\n\t\t\t}\n\t\t\telse if (ul4._islist(obj))\n\t\t\t{\n\t\t\t\tthis._line(\"l\");\n\t\t\t\t++this._level;\n\t\t\t\tfor (let i = 0; i < obj.length; ++i)\n\t\t\t\t\tthis.dump(obj[i]);\n\t\t\t\t--this._level;\n\t\t\t\tthis._line(\"]\");\n\t\t\t}\n\t\t\telse if (ul4._ismap(obj))\n\t\t\t{\n\t\t\t\tthis._line(\"e\");\n\t\t\t\t++this._level;\n\t\t\t\tobj.forEach(function(value, key) {\n\t\t\t\t\tthis.dump(key);\n\t\t\t\t\tthis.dump(value);\n\t\t\t\t}, this);\n\t\t\t\t--this._level;\n\t\t\t\tthis._line(\"}\");\n\t\t\t}\n\t\t\telse if (ul4._isdict(obj))\n\t\t\t{\n\t\t\t\tthis._line(\"d\");\n\t\t\t\t++this._level;\n\t\t\t\tfor (let key in obj)\n\t\t\t\t{\n\t\t\t\t\tthis.dump(key);\n\t\t\t\t\tthis.dump(obj[key]);\n\t\t\t\t}\n\t\t\t\t--this._level;\n\t\t\t\tthis._line(\"}\");\n\t\t\t}\n\t\t\telse if (ul4._isset(obj))\n\t\t\t{\n\t\t\t\tthis._line(\"y\");\n\t\t\t\t++this._level;\n\t\t\t\tobj.forEach(function(value) {\n\t\t\t\t\tthis.dump(value);\n\t\t\t\t}, this);\n\t\t\t\t--this._level;\n\t\t\t\tthis._line(\"}\");\n\t\t\t}\n\t\t\telse\n\t\t\t\tthrow new ul4.ValueError(\"can't create UL4ON dump of object \" + ul4._repr(obj));\n\t\t}\n\t};\n\n\t// Helper class for decoding\n\tul4.Decoder = class Decoder\n\t{\n\t\t// Creates a new decoder for reading from the string ``data``\n\t\tconstructor(data, registry)\n\t\t{\n\t\t\tthis.data = data;\n\t\t\tthis.pos = 0;\n\t\t\tthis.backrefs = [];\n\t\t\tthis.registry = typeof(registry) === \"undefined\" ? null : registry;\n\t\t\tthis.stack = []; // Use for informative error messages\n\t\t}\n\n\t\t// Read a character from the buffer\n\t\treadchar()\n\t\t{\n\t\t\tif (this.pos >= this.data.length)\n\t\t\t\tthrow new ul4.ValueError(\"UL4 decoder at EOF\");\n\t\t\treturn this.data.charAt(this.pos++);\n\t\t}\n\n\t\t// Read a character from the buffer (return null on eof)\n\t\treadcharoreof()\n\t\t{\n\t\t\tif (this.pos >= this.data.length)\n\t\t\t\treturn null;\n\t\t\treturn this.data.charAt(this.pos++);\n\t\t}\n\n\t\t// Read next not-whitespace character from the buffer\n\t\treadblackchar()\n\t\t{\n\t\t\tlet re_white = /\\s/;\n\n\t\t\tfor (;;)\n\t\t\t{\n\t\t\t\tif (this.pos >= this.data.length)\n\t\t\t\t\tthrow new ul4.ValueError(\"UL4 decoder at EOF at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\tlet c = this.data.charAt(this.pos++);\n\t\t\t\tif (!c.match(re_white))\n\t\t\t\t\treturn c;\n\t\t\t}\n\t\t}\n\n\t\t// Read ``size`` characters from the buffer\n\t\tread(size)\n\t\t{\n\t\t\tif (this.pos+size > this.length)\n\t\t\t\tsize = this.length-this.pos;\n\t\t\tlet result = this.data.substring(this.pos, this.pos+size);\n\t\t\tthis.pos += size;\n\t\t\treturn result;\n\t\t}\n\n\t\t// \"unread\" one character\n\t\tbackup()\n\t\t{\n\t\t\t--this.pos;\n\t\t}\n\n\t\t// Read a number from the buffer\n\t\treadnumber()\n\t\t{\n\t\t\tlet re_digits = /[-+0123456789.eE]/, value = \"\";\n\t\t\tfor (;;)\n\t\t\t{\n\t\t\t\tlet c = this.readcharoreof();\n\t\t\t\tif (c !== null && c.match(re_digits))\n\t\t\t\t\tvalue += c;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet result = parseFloat(value);\n\t\t\t\t\tif (isNaN(result))\n\t\t\t\t\t\tthrow new ul4.ValueError(\"invalid number, got \" + ul4._repr(\"value\") + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t_beginfakeloading()\n\t\t{\n\t\t\tlet oldpos = this.backrefs.length;\n\t\t\tthis.backrefs.push(null);\n\t\t\treturn oldpos;\n\t\t}\n\n\t\t_endfakeloading(oldpos, value)\n\t\t{\n\t\t\tthis.backrefs[oldpos] = value;\n\t\t}\n\n\t\t_readescape(escapechar, length)\n\t\t{\n\t\t\tlet chars = this.read(length);\n\t\t\tif (chars.length != length)\n\t\t\t\tthrow new ul4.ValueError(\"broken escape \" + ul4._repr(\"\\\\\" + escapechar + chars) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\tlet codepoint = parseInt(chars, 16);\n\t\t\tif (isNaN(codepoint))\n\t\t\t\tthrow new ul4.ValueError(\"broken escape \" + ul4._repr(\"\\\\\" + escapechar + chars) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\treturn String.fromCharCode(codepoint);\n\t\t}\n\n\t\t// Load the next object from the buffer\n\t\tload()\n\t\t{\n\t\t\tlet typecode = this.readblackchar();\n\t\t\tlet result;\n\t\t\tswitch (typecode)\n\t\t\t{\n\t\t\t\tcase \"^\":\n\t\t\t\t\treturn this.backrefs[this.readnumber()];\n\t\t\t\tcase \"n\":\n\t\t\t\tcase \"N\":\n\t\t\t\t\tif (typecode === \"N\")\n\t\t\t\t\t\tthis.backrefs.push(null);\n\t\t\t\t\treturn null;\n\t\t\t\tcase \"b\":\n\t\t\t\tcase \"B\":\n\t\t\t\t\tresult = this.readchar();\n\t\t\t\t\tif (result === \"T\")\n\t\t\t\t\t\tresult = true;\n\t\t\t\t\telse if (result === \"F\")\n\t\t\t\t\t\tresult = false;\n\t\t\t\t\telse\n\t\t\t\t\t\tthrow new ul4.ValueError(\"wrong value for boolean, expected 'T' or 'F', got \" + ul4._repr(result) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\t\tif (typecode === \"B\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"i\":\n\t\t\t\tcase \"I\":\n\t\t\t\tcase \"f\":\n\t\t\t\tcase \"F\":\n\t\t\t\t\tresult = this.readnumber();\n\t\t\t\t\tif (typecode === \"I\" || typecode === \"F\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"s\":\n\t\t\t\tcase \"S\":\n\t\t\t\t\tresult = [];\n\t\t\t\t\tlet delimiter = this.readblackchar();\n\t\t\t\t\tfor (;;)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet c = this.readchar();\n\t\t\t\t\t\tif (c == delimiter)\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tif (c == \"\\\\\")\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet c2 = this.readchar();\n\t\t\t\t\t\t\tif (c2 == \"\\\\\")\n\t\t\t\t\t\t\t\tresult.push(\"\\\\\");\n\t\t\t\t\t\t\telse if (c2 == \"n\")\n\t\t\t\t\t\t\t\tresult.push(\"\\n\");\n\t\t\t\t\t\t\telse if (c2 == \"r\")\n\t\t\t\t\t\t\t\tresult.push(\"\\r\");\n\t\t\t\t\t\t\telse if (c2 == \"t\")\n\t\t\t\t\t\t\t\tresult.push(\"\\t\");\n\t\t\t\t\t\t\telse if (c2 == \"f\")\n\t\t\t\t\t\t\t\tresult.push(\"\\u000c\");\n\t\t\t\t\t\t\telse if (c2 == \"b\")\n\t\t\t\t\t\t\t\tresult.push(\"\\u0008\");\n\t\t\t\t\t\t\telse if (c2 == \"a\")\n\t\t\t\t\t\t\t\tresult.push(\"\\u0007\");\n\t\t\t\t\t\t\telse if (c2 == \"'\")\n\t\t\t\t\t\t\t\tresult.push(\"'\");\n\t\t\t\t\t\t\telse if (c2 == '\"')\n\t\t\t\t\t\t\t\tresult.push('\"');\n\t\t\t\t\t\t\telse if (c2 == \"x\")\n\t\t\t\t\t\t\t\tresult.push(this._readescape(\"x\", 2));\n\t\t\t\t\t\t\telse if (c2 == \"u\")\n\t\t\t\t\t\t\t\tresult.push(this._readescape(\"u\", 4));\n\t\t\t\t\t\t\telse if (c2 == \"U\")\n\t\t\t\t\t\t\t\tresult.push(this._readescape(\"U\", 8));\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tresult.push(\"\\\\\" + c2);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tresult.push(c);\n\t\t\t\t\t}\n\t\t\t\t\tresult = result.join(\"\");\n\t\t\t\t\tif (typecode === \"S\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"c\":\n\t\t\t\tcase \"C\":\n\t\t\t\t\tresult = new ul4.Color();\n\t\t\t\t\tif (typecode === \"C\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\tresult._r = this.load();\n\t\t\t\t\tresult._g = this.load();\n\t\t\t\t\tresult._b = this.load();\n\t\t\t\t\tresult._a = this.load();\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"x\":\n\t\t\t\tcase \"X\":\n\t\t\t\t{\n\t\t\t\t\tlet year = this.load();\n\t\t\t\t\tlet month = this.load();\n\t\t\t\t\tlet day = this.load();\n\t\t\t\t\tresult = new ul4.Date(year, month, day);\n\t\t\t\t\tif (typecode === \"X\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\tcase \"z\":\n\t\t\t\tcase \"Z\":\n\t\t\t\t\tresult = new Date();\n\t\t\t\t\tresult.setFullYear(this.load());\n\t\t\t\t\tresult.setDate(1);\n\t\t\t\t\tresult.setMonth(this.load() - 1);\n\t\t\t\t\tresult.setDate(this.load());\n\t\t\t\t\tresult.setHours(this.load());\n\t\t\t\t\tresult.setMinutes(this.load());\n\t\t\t\t\tresult.setSeconds(this.load());\n\t\t\t\t\tresult.setMilliseconds(this.load()/1000);\n\t\t\t\t\tif (typecode === \"Z\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"t\":\n\t\t\t\tcase \"T\":\n\t\t\t\t\tresult = new ul4.TimeDelta();\n\t\t\t\t\tresult._days = this.load();\n\t\t\t\t\tresult._seconds = this.load();\n\t\t\t\t\tresult._microseconds = this.load();\n\t\t\t\t\tif (typecode === \"T\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"r\":\n\t\t\t\tcase \"R\":\n\t\t\t\t\tresult = new ul4.slice();\n\t\t\t\t\tif (typecode === \"R\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\tresult.start = this.load();\n\t\t\t\t\tresult.stop = this.load();\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"m\":\n\t\t\t\tcase \"M\":\n\t\t\t\t\tresult = new ul4.MonthDelta();\n\t\t\t\t\tif (typecode === \"M\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\tresult._months = this.load();\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"l\":\n\t\t\t\tcase \"L\":\n\t\t\t\t\tthis.stack.push(\"list\");\n\t\t\t\t\tresult = [];\n\t\t\t\t\tif (typecode === \"L\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\tfor (;;)\n\t\t\t\t\t{\n\t\t\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\t\t\tif (typecode === \"]\")\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tthis.backup();\n\t\t\t\t\t\tresult.push(this.load());\n\t\t\t\t\t}\n\t\t\t\t\tthis.stack.pop();\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"d\":\n\t\t\t\tcase \"D\":\n\t\t\t\tcase \"e\":\n\t\t\t\tcase \"E\":\n\t\t\t\t\tif (!ul4._havemap && (typecode == \"e\" || typecode == \"E\"))\n\t\t\t\t\t\tthrow new ul4.ValueError(\"ordered dictionaries are not supported at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\t\tresult = ul4._emptymap();\n\t\t\t\t\tthis.stack.push(typecode === \"d\" || typecode === \"D\" ? \"dict\" : \"odict\");\n\t\t\t\t\tif (typecode === \"D\" || typecode === \"E\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\tfor (;;)\n\t\t\t\t\t{\n\t\t\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\t\t\tif (typecode === \"}\")\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tthis.backup();\n\t\t\t\t\t\tlet key = this.load();\n\t\t\t\t\t\tlet value = this.load();\n\t\t\t\t\t\tul4._setmap(result, key, value);\n\t\t\t\t\t}\n\t\t\t\t\tthis.stack.pop();\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"y\":\n\t\t\t\tcase \"Y\":\n\t\t\t\t\tthis.stack.push(\"set\");\n\t\t\t\t\tresult = ul4._makeset();\n\t\t\t\t\tif (typecode === \"Y\")\n\t\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\t\tfor (;;)\n\t\t\t\t\t{\n\t\t\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\t\t\tif (typecode === \"}\")\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tthis.backup();\n\t\t\t\t\t\tresult.add(this.load());\n\t\t\t\t\t}\n\t\t\t\t\tthis.stack.pop();\n\t\t\t\t\treturn result;\n\t\t\t\tcase \"o\":\n\t\t\t\tcase \"O\":\n\t\t\t\t{\n\t\t\t\t\tlet oldpos;\n\t\t\t\t\tif (typecode === \"O\")\n\t\t\t\t\t\toldpos = this._beginfakeloading();\n\t\t\t\t\tlet name = this.load();\n\t\t\t\t\tthis.stack.push(name);\n\t\t\t\t\tlet constructor;\n\t\t\t\t\tif (this.registry !== null)\n\t\t\t\t\t{\n\t\t\t\t\t\tconstructor = this.registry[name];\n\t\t\t\t\t\tif (typeof(constructor) === \"undefined\")\n\t\t\t\t\t\t\tconstructor = ul4._registry[name];\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tconstructor = ul4._registry[name];\n\t\t\t\t\tif (typeof(constructor) === \"undefined\")\n\t\t\t\t\t\tthrow new ul4.ValueError(\"can't load object of type \" + ul4._repr(name) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\t\tresult = new constructor();\n\t\t\t\t\tif (typecode === \"O\")\n\t\t\t\t\t\tthis._endfakeloading(oldpos, result);\n\t\t\t\t\tresult.ul4onload(this);\n\t\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\t\tif (typecode !== \")\")\n\t\t\t\t\t\tthrow new ul4.ValueError(\"object terminator ')' for object of type '\" + name + \"' expected, got \" + ul4._repr(typecode) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\t\tthis.stack.pop();\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new ul4.ValueError(\"unknown typecode \" + ul4._repr(typecode) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t}\n\t\t}\n\n\t\t// Return an iterator for loading the content of a object\n\t\tloadcontent()\n\t\t{\n\t\t\tlet self = this;\n\t\t\treturn {\n\t\t\t\tnext: function()\n\t\t\t\t{\n\t\t\t\t\tlet typecode = self.readblackchar();\n\t\t\t\t\t// Always \"unread\" the typecode even at the end\n\t\t\t\t\t// so that at the end of a call to ul4onload()\n\t\t\t\t\t// the next input is the \"end of object\" marker\n\t\t\t\t\t// no matter whether ul4onload() uses loadcontent() or not.\n\t\t\t\t\tself.backup();\n\t\t\t\t\tif (typecode == \")\")\n\t\t\t\t\t\treturn {done: true};\n\t\t\t\t\telse\n\t\t\t\t\t\treturn {done: false, value: self.load()};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t};\n\n\t//\n\t// UL4\n\t//\n\n\t// REs for parsing JSON\n\tul4._rvalidchars = /^[\\],:{}\\s]*$/;\n\tul4._rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\n\tul4._rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\n\tul4._rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g;\n\n\t/// Helper functions\n\n\t// Clone an object and extend it\n\tul4._inherit = function _inherit(baseobj, attrs)\n\t{\n\t\treturn Object.assign(Object.create(baseobj), attrs);\n\t};\n\n\t// Convert a map to an object\n\tul4._map2object = function _map2object(obj)\n\t{\n\t\tif (ul4._ismap(obj))\n\t\t{\n\t\t\tlet newobj = {};\n\t\t\tobj.forEach(function(value, key){\n\t\t\t\tif (typeof(key) !== \"string\")\n\t\t\t\t\tthrow ul4.TypeError.create(\"keys must be strings\");\n\t\t\t\tnewobj[key] = value;\n\t\t\t});\n\t\t\treturn newobj;\n\t\t}\n\t\treturn obj;\n\t};\n\n\t// Clip a number to the range [0;max)\n\tul4._bound = function _bound(value, upper)\n\t{\n\t\tif (value < 0)\n\t\t\treturn 0;\n\t\telse if (value > upper)\n\t\t\treturn upper;\n\t\telse\n\t\t\treturn value;\n\t};\n\n\t// Create a pretty stacktrace from an exception\n\tul4._stacktrace = function _stacktrace(exc)\n\t{\n\t\tlet output = (exc instanceof ul4.Exception ? exc.constructor.name + \": \" : \"\") + exc.toString();\n\t\tif (exc.context)\n\t\t\toutput = ul4._stacktrace(exc.context) + \"\\n\\n\" + output;\n\t\treturn output;\n\t};\n\n\t// Call a function ``f`` with UL4 argument handling\n\tul4._internal_call = function _internal_call(context, f, name, functioncontext, signature, needscontext, needsobject, args, kwargs)\n\t{\n\t\tlet finalargs;\n\t\tif (needsobject)\n\t\t{\n\t\t\tif (signature === null)\n\t\t\t{\n\t\t\t\tif (args.length)\n\t\t\t\t\tthrow new ul4.ArgumentError(ul4._repr(f) + \" doesn't support positional arguments!\");\n\t\t\t\tfinalargs = [kwargs];\n\t\t\t}\n\t\t\telse\n\t\t\t\tfinalargs = [signature.bindObject(name, args, kwargs)];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (signature === null)\n\t\t\t\tthrow new ul4.ArgumentError(ul4._repr(f) + \" doesn't support positional arguments!\");\n\t\t\tfinalargs = signature.bindArray(name, args, kwargs);\n\t\t}\n\t\tif (needscontext)\n\t\t\tfinalargs.unshift(context);\n\t\treturn f.apply(functioncontext, finalargs);\n\t};\n\n\tul4._callfunction = function _callfunction(context, f, args, kwargs)\n\t{\n\t\tlet name = f._ul4_name || f.name;\n\t\tif (typeof(f._ul4_signature) === \"undefined\" || typeof(f._ul4_needsobject) === \"undefined\" || typeof(f._ul4_needscontext) === \"undefined\")\n\t\t\tthrow new ul4.TypeError(ul4._repr(f) + \" is not callable by UL4\");\n\t\treturn ul4._internal_call(context, f, name, ul4, f._ul4_signature, f._ul4_needscontext, f._ul4_needsobject, args, kwargs);\n\t};\n\n\tul4._callobject = function _callobject(context, obj, args, kwargs)\n\t{\n\t\tif (typeof(obj._ul4_callsignature) === \"undefined\" || typeof(obj._ul4_callneedsobject) === \"undefined\" || typeof(obj._ul4_callneedscontext) === \"undefined\")\n\t\t\tthrow new ul4.TypeError(ul4._repr(obj) + \" is not callable by UL4\");\n\t\treturn ul4._internal_call(context, obj.__call__, obj.name, obj, obj._ul4_callsignature, obj._ul4_callneedscontext, obj._ul4_callneedsobject, args, kwargs);\n\t};\n\n\tul4._callrender = function _callrender(context, obj, args, kwargs)\n\t{\n\t\tif (typeof(obj._ul4_rendersignature) === \"undefined\" || typeof(obj._ul4_renderneedsobject) === \"undefined\" || typeof(obj._ul4_renderneedscontext) === \"undefined\")\n\t\t\tthrow new ul4.TypeError(ul4._repr(obj) + \" is not renderable by UL4\");\n\t\treturn ul4._internal_call(context, obj.__render__, obj.name, obj, obj._ul4_rendersignature, obj._ul4_renderneedscontext, obj._ul4_renderneedsobject, args, kwargs);\n\t};\n\n\tul4._call = function _call(context, f, args, kwargs)\n\t{\n\t\tif (typeof(f) === \"function\")\n\t\t\treturn ul4._callfunction(context, f, args, kwargs);\n\t\telse if (f && typeof(f.__call__) === \"function\")\n\t\t\treturn ul4._callobject(context, f, args, kwargs);\n\t\telse\n\t\t\tthrow new ul4.TypeError(ul4._type(f) + \" is not callable\");\n\t};\n\n\tul4._unpackvar = function _unpackvar(lvalue, value)\n\t{\n\t\tif (!ul4._islist(lvalue))\n\t\t\treturn [[lvalue, value]];\n\t\telse\n\t\t{\n\t\t\tlet newvalue = [];\n\t\t\tlet iter = ul4._iter(value);\n\n\t\t\tfor (let i = 0;;++i)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\n\t\t\t\tif (item.done)\n\t\t\t\t{\n\t\t\t\t\tif (i === lvalue.length)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\telse\n\t\t\t\t\t\tthrow new ul4.ValueError(\"need \" + lvalue.length + \" value\" + (lvalue.length === 1 ? \"\" : \"s\") + \" to unpack, got \" + i);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (i < lvalue.length)\n\t\t\t\t\t\tnewvalue = newvalue.concat(ul4._unpackvar(lvalue[i], item.value));\n\t\t\t\t\telse\n\t\t\t\t\t\tthrow new ul4.ValueError(\"too many values to unpack (expected \" + lvalue.length + \")\");\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn newvalue;\n\t\t}\n\t};\n\n\tul4._formatsource = function _formatsource(out)\n\t{\n\t\tlet finalout = [];\n\t\tlet level = 0, needlf = false;\n\t\tfor (let i = 0; i < out.length; ++i)\n\t\t{\n\t\t\tlet part = out[i];\n\t\t\tif (typeof(part) === \"number\")\n\t\t\t{\n\t\t\t\tlevel += part;\n\t\t\t\tneedlf = true;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (needlf)\n\t\t\t\t{\n\t\t\t\t\tfinalout.push(\"\\n\");\n\t\t\t\t\tfor (let j = 0; j < level; ++j)\n\t\t\t\t\t\tfinalout.push(\"\\t\");\n\t\t\t\t\tneedlf = false;\n\t\t\t\t}\n\t\t\t\tfinalout.push(part);\n\t\t\t}\n\t\t}\n\t\tif (needlf)\n\t\t\tfinalout.push(\"\\n\");\n\t\treturn finalout.join(\"\");\n\t};\n\n\t// Compare ``obj1`` and ``obj2`` if they have the same value\n\tul4._eq = function _eq(obj1, obj2)\n\t{\n\t\tlet numbertypes = [\"boolean\", \"number\"];\n\n\t\tif (obj1 && typeof(obj1.__eq__) === \"function\")\n\t\t\treturn obj1.__eq__(obj2);\n\t\telse if (obj2 && typeof(obj2.__eq__) === \"function\")\n\t\t\treturn obj2.__eq__(obj1);\n\t\telse if (obj1 === null)\n\t\t\treturn obj2 === null;\n\t\telse if (numbertypes.indexOf(typeof(obj1)) != -1)\n\t\t{\n\t\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\t\treturn obj1 == obj2;\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t\telse if (typeof(obj1) === \"string\")\n\t\t{\n\t\t\tif (typeof(obj2) === \"string\")\n\t\t\t\treturn obj1 == obj2;\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t\telse if (ul4._isdatetime(obj1))\n\t\t{\n\t\t\tif (ul4._isdatetime(obj2))\n\t\t\t\treturn obj1.getTime() == obj2.getTime();\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t\telse if (ul4._islist(obj1))\n\t\t{\n\t\t\tif (ul4._islist(obj2))\n\t\t\t{\n\t\t\t\t// Shortcut, if it's the same object\n\t\t\t\tif (obj1 === obj2)\n\t\t\t\t\treturn true;\n\t\t\t\tif (obj1.length != obj2.length)\n\t\t\t\t\treturn false;\n\t\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tif (!ul4._eq(obj1[i], obj2[i])) // This might lead to infinite recursion and a stackoverflow, but it does in all implementations\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t\telse if (ul4._isobject(obj1))\n\t\t{\n\t\t\tif (ul4._isobject(obj2))\n\t\t\t{\n\t\t\t\t// Shortcut, if it's the same object\n\t\t\t\tif (obj1 === obj2)\n\t\t\t\t\treturn true;\n\t\t\t\t// Test that each attribute of ``obj1`` can also be found in ``obj2`` and has the same value\n\t\t\t\tfor (let key in obj1)\n\t\t\t\t{\n\t\t\t\t\tif (obj2.hasOwnProperty(key))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!ul4._eq(obj1[key], obj2[key]))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// Test that each attribute of ``obj2`` is alos in ``obj1`` (the value has been tested before)\n\t\t\t\tfor (let key in obj2)\n\t\t\t\t{\n\t\t\t\t\tif (!obj1.hasOwnProperty(key))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse if (ul4._ismap(obj2))\n\t\t\t{\n\t\t\t\t// Test that each attribute of ``obj1`` can also be found in ``obj2`` and has the same value\n\t\t\t\tfor (let key in obj1)\n\t\t\t\t{\n\t\t\t\t\tif (obj2.has(key))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!ul4._eq(obj1[key], obj2.get(key)))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\t// Test that each attribute of ``obj2`` is alos in ``obj1`` (the value has been tested before)\n\t\t\t\tlet result = true;\n\t\t\t\tobj2.forEach(function(value, key) {\n\t\t\t\t\tif (!obj1.hasOwnProperty(key))\n\t\t\t\t\t\tresult = false;\n\t\t\t\t}, this);\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t\telse if (ul4._ismap(obj1))\n\t\t{\n\t\t\tif (ul4._isobject(obj2))\n\t\t\t{\n\t\t\t\t// Test that each attribute of ``obj1`` can also be found in ``obj2`` and has the same value\n\t\t\t\tobj1.forEach(function(value, key) {\n\t\t\t\t\tif (!obj2.hasOwnProperty(key))\n\t\t\t\t\t\treturn false;\n\t\t\t\t\telse if (!ul4._eq(obj1.get(key), obj2[key]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}, this);\n\t\t\t\t// Test that each attribute of ``obj2`` is alos in ``obj1`` (the value has been tested before)\n\t\t\t\tfor (let key in obj2)\n\t\t\t\t{\n\t\t\t\t\tif (!obj1.has(key))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse if (ul4._ismap(obj2))\n\t\t\t{\n\t\t\t\t// Shortcut, if it's the same object\n\t\t\t\tif (obj1 === obj2)\n\t\t\t\t\treturn true;\n\t\t\t\tif (obj1.size != obj2.size)\n\t\t\t\t\treturn false;\n\t\t\t\tlet result = true;\n\t\t\t\t// Test that each attribute of ``obj1`` can also be found in ``obj2`` and has the same value\n\t\t\t\tobj1.forEach(function(value, key) {\n\t\t\t\t\tif (!obj2.has(key))\n\t\t\t\t\t\tresult = false;\n\t\t\t\t\telse if (!ul4._eq(obj1.get(key), obj2.get(key)))\n\t\t\t\t\t\tresult = false;\n\t\t\t\t});\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t\telse if (ul4._isset(obj1))\n\t\t{\n\t\t\t// We don't have to test for ``ul4._Set`` as ``ul4._Set`` implements ``__eq__``\n\t\t\tif (ul4._isset(obj2))\n\t\t\t{\n\t\t\t\t// Shortcut, if it's the same object\n\t\t\t\tif (obj1 === obj2)\n\t\t\t\t\treturn true;\n\t\t\t\tif (obj1.size != obj2.size)\n\t\t\t\t\treturn false;\n\t\t\t\tlet result = true;\n\t\t\t\tobj1.forEach(function(value) {\n\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\tresult = false;\n\t\t\t\t});\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\t\telse\n\t\t\treturn obj1 === obj2;\n\t};\n\n\t// Compare ``obj1`` and ``obj2`` if they don't have the same value\n\tul4._ne = function _ne(obj1, obj2)\n\t{\n\t\tif (obj1 && typeof(obj1.__ne__) === \"function\")\n\t\t\treturn obj1.__ne__(obj2);\n\t\telse if (obj2 && typeof(obj2.__ne__) === \"function\")\n\t\t\treturn obj2.__ne__(obj1);\n\t\telse\n\t\t\treturn !ul4._eq(obj1, obj2);\n\t};\n\n\tul4._unorderable = function _unorderable(operator, obj1, obj2)\n\t{\n\t\tthrow new ul4.TypeError(\"unorderable types: \" + ul4._type(obj1) + \" \" + operator + \" \" + ul4._type(obj2));\n\t};\n\n\t// Return:\n\t// -1 when ``obj1 < obj2``,\n\t//  0 when ``obj1 == obj2``,\n\t//  1 when ``obj1 > obj2``,\n\t//  null when ``obj1`` and ``obj2`` are comparable, but neither of the previous cases holds (only for sets)\n\t// raise TypeError if objects are uncomparable\n\t// This the purpose of ``_cmp`` is to support implementation of <, <=, > and >=\n\t// and dicts/maps are not comparable with the operator ``_cmp`` does not support dicts/maps\n\n\tul4._cmp = function _cmp(operator, obj1, obj2)\n\t{\n\t\tlet numbertypes = [\"boolean\", \"number\"];\n\n\t\tif (numbertypes.indexOf(typeof(obj1)) != -1)\n\t\t{\n\t\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\t\treturn (obj1 > obj2) - (obj1 < obj2);\n\t\t}\n\t\telse if (typeof(obj1) === \"string\")\n\t\t{\n\t\t\tif (typeof(obj2) === \"string\")\n\t\t\t\treturn (obj1 > obj2) - (obj1 < obj2);\n\t\t}\n\t\telse if (ul4._isdatetime(obj1))\n\t\t{\n\t\t\tif (ul4._isdatetime(obj2))\n\t\t\t{\n\t\t\t\tlet v1 = obj1.getTime(), v2 = obj2.getTime();\n\t\t\t\treturn (v1 > v2) - (v1 < v2);\n\t\t\t}\n\t\t}\n\t\telse if (ul4._islist(obj1))\n\t\t{\n\t\t\tif (ul4._islist(obj2))\n\t\t\t{\n\t\t\t\tif (obj1 === obj2)\n\t\t\t\t\treturn 0;\n\t\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\tlet res = ul4._cmp(operator, obj1[i], obj2[i]);\n\t\t\t\t\tif (res)\n\t\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t\treturn obj2.length > obj1.length ? -1 : 0;\n\t\t\t}\n\t\t}\n\t\telse if (ul4._isset(obj1) || ul4._isul4set(obj1))\n\t\t{\n\t\t\tif (ul4._isset(obj2) || ul4._isul4set(obj2))\n\t\t\t{\n\t\t\t\tlet in1only = false;\n\t\t\t\tlet in2only = false;\n\n\t\t\t\tfor (let iter = _iter(obj1);;)\n\t\t\t\t{\n\t\t\t\t\tlet item = iter.next();\n\t\t\t\t\tif (item.done)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tif (!obj2.has(item.value))\n\t\t\t\t\t{\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (let iter = _iter(obj2);;)\n\t\t\t\t{\n\t\t\t\t\tlet item = iter.next();\n\t\t\t\t\tif (item.done)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tif (!obj1.has(item.value))\n\t\t\t\t\t{\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (in1only)\n\t\t\t\t{\n\t\t\t\t\tif (in2only)\n\t\t\t\t\t\treturn null;\n\t\t\t\t\telse\n\t\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (in2only)\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\telse\n\t\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn ul4._unorderable(operator, obj1, obj2);\n\t};\n\n\t// Return whether ``obj1 < obj2``\n\tul4._lt = function _lt(obj1, obj2)\n\t{\n\t\tlet numbertypes = [\"boolean\", \"number\"];\n\n\t\tif (obj1 && typeof(obj1.__lt__) === \"function\")\n\t\t\treturn obj1.__lt__(obj2);\n\t\telse if (numbertypes.indexOf(typeof(obj1)) != -1)\n\t\t{\n\t\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\t\treturn obj1 < obj2;\n\t\t}\n\t\telse if (typeof(obj1) === \"string\")\n\t\t{\n\t\t\tif (typeof(obj2) === \"string\")\n\t\t\t\treturn obj1 < obj2;\n\t\t}\n\t\telse if (ul4._isdatetime(obj1))\n\t\t{\n\t\t\tif (ul4._isdatetime(obj2))\n\t\t\t\treturn obj1.getTime() < obj2.getTime();\n\t\t}\n\t\telse if (ul4._islist(obj1))\n\t\t{\n\t\t\tif (ul4._islist(obj2))\n\t\t\t{\n\t\t\t\tif (obj1 === obj2)\n\t\t\t\t\treturn false;\n\t\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\t\treturn false;\n\t\t\t\t\tlet eq = ul4._eq(obj1[i], obj2[i]);\n\t\t\t\t\tif (!eq)\n\t\t\t\t\t\treturn ul4._lt(obj1[i], obj2[i]);\n\t\t\t\t}\n\t\t\t\treturn obj1.length < obj2.length;\n\t\t\t}\n\t\t}\n\t\t// FIXME: Set comparison\n\t\telse if (ul4._isset(obj1))\n\t\t{\n\t\t\tif (ul4._isset(obj2))\n\t\t\t{\n\t\t\t\tif (ul4._isset(obj2))\n\t\t\t\t{\n\t\t\t\t\tfor (let key in obj1)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj2.has(obj1[key]))\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t}\n\t\t\t\t\tfor (let key in obj2)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj1.has(obj2[key]))\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t\t{\n\t\t\t\t\tfor (let key in obj1)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj2.items[obj1[key]])\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t}\n\t\t\t\t\tfor (let value in obj2.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t{\n\t\t\t\tif (ul4._isset(obj2))\n\t\t\t\t{\n\t\t\t\t\tfor (let value in obj1.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (let key in obj2)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj1.items[obj2[key]])\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t\t{\n\t\t\t\t\tfor (let value in obj1.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj2.items[value])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (let value in obj2.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj1.items[value])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\tul4._unorderable(operator, obj1, obj2);\n\n\t\t\tif (in1only)\n\t\t\t{\n\t\t\t\tif (in2only)\n\t\t\t\t\treturn null;\n\t\t\t\telse\n\t\t\t\t\treturn 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (in2only)\n\t\t\t\t\treturn -1;\n\t\t\t\telse\n\t\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t\tul4._unorderable(\"<\", obj1, obj2);\n\t};\n\n\t// Return whether ``obj1 <= obj2``\n\tul4._le = function _le(obj1, obj2)\n\t{\n\t\tlet numbertypes = [\"boolean\", \"number\"];\n\n\t\tif (obj1 && typeof(obj1.__le__) === \"function\")\n\t\t\treturn obj1.__le__(obj2);\n\t\tif (numbertypes.indexOf(typeof(obj1)) != -1)\n\t\t{\n\t\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\t\treturn obj1 <= obj2;\n\t\t}\n\t\telse if (typeof(obj1) === \"string\")\n\t\t{\n\t\t\tif (typeof(obj2) === \"string\")\n\t\t\t\treturn obj1 <= obj2;\n\t\t}\n\t\telse if (ul4._isdatetime(obj1))\n\t\t{\n\t\t\tif (ul4._isdatetime(obj2))\n\t\t\t\treturn obj1.getTime() <= obj2.getTime();\n\t\t}\n\t\telse if (ul4._islist(obj1))\n\t\t{\n\t\t\tif (ul4._islist(obj2))\n\t\t\t{\n\t\t\t\tif (obj1 === obj2)\n\t\t\t\t\treturn true;\n\t\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\t\treturn false;\n\t\t\t\t\tlet eq = ul4._eq(obj1[i], obj2[i]);\n\t\t\t\t\tif (!eq)\n\t\t\t\t\t\treturn ul4._lt(obj1[i], obj2[i]);\n\t\t\t\t}\n\t\t\t\treturn obj1.length <= obj2.length;\n\t\t\t}\n\t\t}\n\t\t// FIXME: Set comparison\n\t\telse if (ul4._isset(obj1) || ul4._isul4set(obj1))\n\t\t{\n\t\t\tlet in1only = false;\n\t\t\tlet in2only = false;\n\n\t\t\tif (ul4._isset(obj2))\n\t\t\t{\n\t\t\t\tif (ul4._isset(obj2))\n\t\t\t\t{\n\t\t\t\t\tobj1.forEach(function(value) {\n\t\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t});\n\t\t\t\t\tobj2.forEach(function(value) {\n\t\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t\t{\n\t\t\t\t\tobj1.forEach(function(value) {\n\t\t\t\t\t\tif (!obj2.items[value])\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t});\n\t\t\t\t\tfor (let value in obj2.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t{\n\t\t\t\tif (ul4._isset(obj2))\n\t\t\t\t{\n\t\t\t\t\tfor (let value in obj1.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tobj2.forEach(function(value) {\n\t\t\t\t\t\tif (!obj1.items[value])\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t\t{\n\t\t\t\t\tfor (let value in obj1.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj2.items[value])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (let value in obj2.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj1.items[value])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\tul4._unorderable(operator, obj1, obj2);\n\n\t\t\tif (in1only)\n\t\t\t{\n\t\t\t\tif (in2only)\n\t\t\t\t\treturn null;\n\t\t\t\telse\n\t\t\t\t\treturn 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (in2only)\n\t\t\t\t\treturn -1;\n\t\t\t\telse\n\t\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t\tul4._unorderable(\"<=\", obj1, obj2);\n\t};\n\n\t// Return whether ``obj1 > obj2``\n\tul4._gt = function _gt(obj1, obj2)\n\t{\n\t\tlet numbertypes = [\"boolean\", \"number\"];\n\n\t\tif (obj1 && typeof(obj1.__gt__) === \"function\")\n\t\t\treturn obj1.__gt__(obj2);\n\t\tif (numbertypes.indexOf(typeof(obj1)) != -1)\n\t\t{\n\t\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\t\treturn obj1 > obj2;\n\t\t}\n\t\telse if (typeof(obj1) === \"string\")\n\t\t{\n\t\t\tif (typeof(obj2) === \"string\")\n\t\t\t\treturn obj1 > obj2;\n\t\t}\n\t\telse if (ul4._isdatetime(obj1))\n\t\t{\n\t\t\tif (ul4._isdatetime(obj2))\n\t\t\t\treturn obj1.getTime() > obj2.getTime();\n\t\t}\n\t\telse if (ul4._islist(obj1))\n\t\t{\n\t\t\tif (ul4._islist(obj2))\n\t\t\t{\n\t\t\t\tif (obj1 === obj2)\n\t\t\t\t\treturn false;\n\t\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tlet eq = ul4._eq(obj1[i], obj2[i]);\n\t\t\t\t\tif (!eq)\n\t\t\t\t\t\treturn ul4._gt(obj1[i], obj2[i]);\n\t\t\t\t}\n\t\t\t\treturn obj1.length > obj2.length;\n\t\t\t}\n\t\t}\n\t\t// FIXME: Set comparison\n\t\telse if (ul4._isset(obj1) || ul4._isul4set(obj1))\n\t\t{\n\t\t\tlet in1only = false;\n\t\t\tlet in2only = false;\n\n\t\t\tif (ul4._isset(obj2))\n\t\t\t{\n\t\t\t\tif (ul4._isset(obj2))\n\t\t\t\t{\n\t\t\t\t\tobj1.forEach(function(value) {\n\t\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t});\n\t\t\t\t\tobj2.forEach(function(value) {\n\t\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t\t{\n\t\t\t\t\tobj1.forEach(function(value) {\n\t\t\t\t\t\tif (!obj2.items[value])\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t});\n\t\t\t\t\tobj2.forEach(function(value) {\n\t\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t{\n\t\t\t\tif (ul4._isset(obj2))\n\t\t\t\t{\n\t\t\t\t\tfor (let value in obj1.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tobj2.forEach(function(value) {\n\t\t\t\t\t\tif (!obj1.items[value])\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t\t{\n\t\t\t\t\tfor (let value in obj1.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj2.items[value])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (let value in obj2.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj1.items[value])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\tul4._unorderable(operator, obj1, obj2);\n\n\t\t\tif (in1only)\n\t\t\t{\n\t\t\t\tif (in2only)\n\t\t\t\t\treturn null;\n\t\t\t\telse\n\t\t\t\t\treturn 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (in2only)\n\t\t\t\t\treturn -1;\n\t\t\t\telse\n\t\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t\tul4._unorderable(\">\", obj1, obj2);\n\t};\n\n\t// Return whether ``obj1 >= obj2``\n\tul4._ge = function _ge(obj1, obj2)\n\t{\n\t\tlet numbertypes = [\"boolean\", \"number\"];\n\n\t\tif (obj1 && typeof(obj1.__ge__) === \"function\")\n\t\t\treturn obj1.__ge__(obj2);\n\t\telse if (numbertypes.indexOf(typeof(obj1)) != -1)\n\t\t{\n\t\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\t\treturn obj1 >= obj2;\n\t\t}\n\t\telse if (typeof(obj1) === \"string\")\n\t\t{\n\t\t\tif (typeof(obj2) === \"string\")\n\t\t\t\treturn obj1 >= obj2;\n\t\t}\n\t\telse if (ul4._isdatetime(obj1))\n\t\t{\n\t\t\tif (ul4._isdatetime(obj2))\n\t\t\t\treturn obj1.getTime() >= obj2.getTime();\n\t\t}\n\t\telse if (ul4._islist(obj1))\n\t\t{\n\t\t\tif (ul4._islist(obj2))\n\t\t\t{\n\t\t\t\tif (obj1 === obj2)\n\t\t\t\t\treturn true;\n\t\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tlet eq = ul4._eq(obj1[i], obj2[i]);\n\t\t\t\t\tif (!eq)\n\t\t\t\t\t\treturn ul4._gt(obj1[i], obj2[i]);\n\t\t\t\t}\n\t\t\t\treturn obj1.length >= obj2.length;\n\t\t\t}\n\t\t}\n\t\t// FIXME: Set comparison\n\t\telse if (ul4._isset(obj1) || ul4._isul4set(obj1))\n\t\t{\n\t\t\tlet in1only = false;\n\t\t\tlet in2only = false;\n\n\t\t\tif (ul4._isset(obj2))\n\t\t\t{\n\t\t\t\tif (ul4._isset(obj2))\n\t\t\t\t{\n\t\t\t\t\tobj1.forEach(function(value) {\n\t\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t});\n\t\t\t\t\tobj2.forEach(function(value) {\n\t\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t\t{\n\t\t\t\t\tobj1.forEach(function(value) {\n\t\t\t\t\t\tif (!obj2.items[value])\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t});\n\t\t\t\t\tfor (let value in obj2.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t{\n\t\t\t\tif (ul4._isset(obj2))\n\t\t\t\t{\n\t\t\t\t\tfor (let value in obj1.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tobj2.forEach(function(value, key) {\n\t\t\t\t\t\tif (!obj1.items[value])\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if (ul4._isul4set(obj2))\n\t\t\t\t{\n\t\t\t\t\tfor (let value in obj1.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj2.items[value])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin1only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (let value in obj2.items)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (!obj1.items[value])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tin2only = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\tul4._unorderable(operator, obj1, obj2);\n\n\t\t\tif (in1only)\n\t\t\t{\n\t\t\t\tif (in2only)\n\t\t\t\t\treturn null;\n\t\t\t\telse\n\t\t\t\t\treturn 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (in2only)\n\t\t\t\t\treturn -1;\n\t\t\t\telse\n\t\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t\tul4._unorderable(\">=\", obj1, obj2);\n\t};\n\n\t// Return an iterator for ``obj``\n\tul4._iter = function _iter(obj)\n\t{\n\t\tif (typeof(obj) === \"string\" || ul4._islist(obj))\n\t\t{\n\t\t\treturn {\n\t\t\t\tindex: 0,\n\t\t\t\tnext: function()\n\t\t\t\t{\n\t\t\t\t\tif (this.index < obj.length)\n\t\t\t\t\t\treturn {value: obj[this.index++], done: false};\n\t\t\t\t\telse\n\t\t\t\t\t\treturn {done: true};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\telse if (ul4._isiter(obj))\n\t\t\treturn obj;\n\t\telse if (obj !== null && typeof(obj.__iter__) === \"function\")\n\t\t\treturn obj.__iter__();\n\t\telse if (ul4._ismap(obj))\n\t\t{\n\t\t\tlet keys = [];\n\t\t\tobj.forEach(function(value, key) {\n\t\t\t\tkeys.push(key);\n\t\t\t});\n\t\t\treturn {\n\t\t\t\tindex: 0,\n\t\t\t\tnext: function()\n\t\t\t\t{\n\t\t\t\t\tif (this.index >= keys.length)\n\t\t\t\t\t\treturn {done: true};\n\t\t\t\t\treturn {value: keys[this.index++], done: false};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\telse if (ul4._isset(obj))\n\t\t{\n\t\t\tlet values = [];\n\t\t\tobj.forEach(function(item) {\n\t\t\t\tvalues.push(item);\n\t\t\t});\n\t\t\treturn {\n\t\t\t\tindex: 0,\n\t\t\t\tnext: function()\n\t\t\t\t{\n\t\t\t\t\tif (this.index >= values.length)\n\t\t\t\t\t\treturn {done: true};\n\t\t\t\t\treturn {value: values[this.index++], done: false};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\telse if (ul4._isul4set(obj))\n\t\t{\n\t\t\treturn ul4._iter(obj.items);\n\t\t}\n\t\telse if (ul4._isobject(obj))\n\t\t{\n\t\t\tlet keys = [];\n\t\t\tfor (let key in obj)\n\t\t\t\tkeys.push(key);\n\t\t\treturn {\n\t\t\t\tindex: 0,\n\t\t\t\tnext: function()\n\t\t\t\t{\n\t\t\t\t\tif (this.index >= keys.length)\n\t\t\t\t\t\treturn {done: true};\n\t\t\t\t\treturn {value: keys[this.index++], done: false};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tthrow new ul4.TypeError(ul4._type(obj) + \" object is not iterable\");\n\t};\n\n\tul4._str_repr = function _str_repr(str, ascii)\n\t{\n\t\tlet result = \"\";\n\t\tlet squote = false, dquote = false;\n\n\t\tfor (let i = 0; i < str.length; ++i)\n\t\t{\n\t\t\tlet c = str[i];\n\t\t\tif (c == '\"')\n\t\t\t{\n\t\t\t\tdquote = true;\n\t\t\t\tif (squote)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\telse if (c == \"'\")\n\t\t\t{\n\t\t\t\tsquote = true;\n\t\t\t\tif (dquote)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\t// Prefer single quotes: Only use double quotes if the string contains single quotes, but no double quotes\n\t\tlet quote = (squote && !dquote) ? '\"' : \"'\";\n\n\t\tfor (let i = 0; i < str.length; ++i)\n\t\t{\n\t\t\tlet c = str[i];\n\t\t\tswitch (c)\n\t\t\t{\n\t\t\t\tcase '\"':\n\t\t\t\t\tresult += (quote == c) ? '\\\\\"' : c;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"'\":\n\t\t\t\t\tresult += (quote == c) ? \"\\\\'\" : c;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"\\\\\":\n\t\t\t\t\tresult += \"\\\\\\\\\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"\\t\":\n\t\t\t\t\tresult += \"\\\\t\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"\\n\":\n\t\t\t\t\tresult += \"\\\\n\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"\\r\":\n\t\t\t\t\tresult += \"\\\\r\";\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tlet code = c.charCodeAt(0);\n\t\t\t\t\tlet escape;\n\t\t\t\t\tif (code < 32)\n\t\t\t\t\t\tescape = 2;\n\t\t\t\t\telse if (code < 0x7f)\n\t\t\t\t\t\tescape = 0;\n\t\t\t\t\telse if (!ascii && !/[\\u007f-\\u00a0\\u00ad\\u0378-\\u0379\\u0380-\\u0383\\u038b\\u038d\\u03a2\\u0530\\u0557-\\u0558\\u0560\\u0588\\u058b-\\u058c\\u0590\\u05c8-\\u05cf\\u05eb-\\u05ef\\u05f5-\\u0605\\u061c-\\u061d\\u06dd\\u070e-\\u070f\\u074b-\\u074c\\u07b2-\\u07bf\\u07fb-\\u07ff\\u082e-\\u082f\\u083f\\u085c-\\u085d\\u085f-\\u089f\\u08b5-\\u08e2\\u0984\\u098d-\\u098e\\u0991-\\u0992\\u09a9\\u09b1\\u09b3-\\u09b5\\u09ba-\\u09bb\\u09c5-\\u09c6\\u09c9-\\u09ca\\u09cf-\\u09d6\\u09d8-\\u09db\\u09de\\u09e4-\\u09e5\\u09fc-\\u0a00\\u0a04\\u0a0b-\\u0a0e\\u0a11-\\u0a12\\u0a29\\u0a31\\u0a34\\u0a37\\u0a3a-\\u0a3b\\u0a3d\\u0a43-\\u0a46\\u0a49-\\u0a4a\\u0a4e-\\u0a50\\u0a52-\\u0a58\\u0a5d\\u0a5f-\\u0a65\\u0a76-\\u0a80\\u0a84\\u0a8e\\u0a92\\u0aa9\\u0ab1\\u0ab4\\u0aba-\\u0abb\\u0ac6\\u0aca\\u0ace-\\u0acf\\u0ad1-\\u0adf\\u0ae4-\\u0ae5\\u0af2-\\u0af8\\u0afa-\\u0b00\\u0b04\\u0b0d-\\u0b0e\\u0b11-\\u0b12\\u0b29\\u0b31\\u0b34\\u0b3a-\\u0b3b\\u0b45-\\u0b46\\u0b49-\\u0b4a\\u0b4e-\\u0b55\\u0b58-\\u0b5b\\u0b5e\\u0b64-\\u0b65\\u0b78-\\u0b81\\u0b84\\u0b8b-\\u0b8d\\u0b91\\u0b96-\\u0b98\\u0b9b\\u0b9d\\u0ba0-\\u0ba2\\u0ba5-\\u0ba7\\u0bab-\\u0bad\\u0bba-\\u0bbd\\u0bc3-\\u0bc5\\u0bc9\\u0bce-\\u0bcf\\u0bd1-\\u0bd6\\u0bd8-\\u0be5\\u0bfb-\\u0bff\\u0c04\\u0c0d\\u0c11\\u0c29\\u0c3a-\\u0c3c\\u0c45\\u0c49\\u0c4e-\\u0c54\\u0c57\\u0c5b-\\u0c5f\\u0c64-\\u0c65\\u0c70-\\u0c77\\u0c80\\u0c84\\u0c8d\\u0c91\\u0ca9\\u0cb4\\u0cba-\\u0cbb\\u0cc5\\u0cc9\\u0cce-\\u0cd4\\u0cd7-\\u0cdd\\u0cdf\\u0ce4-\\u0ce5\\u0cf0\\u0cf3-\\u0d00\\u0d04\\u0d0d\\u0d11\\u0d3b-\\u0d3c\\u0d45\\u0d49\\u0d4f-\\u0d56\\u0d58-\\u0d5e\\u0d64-\\u0d65\\u0d76-\\u0d78\\u0d80-\\u0d81\\u0d84\\u0d97-\\u0d99\\u0db2\\u0dbc\\u0dbe-\\u0dbf\\u0dc7-\\u0dc9\\u0dcb-\\u0dce\\u0dd5\\u0dd7\\u0de0-\\u0de5\\u0df0-\\u0df1\\u0df5-\\u0e00\\u0e3b-\\u0e3e\\u0e5c-\\u0e80\\u0e83\\u0e85-\\u0e86\\u0e89\\u0e8b-\\u0e8c\\u0e8e-\\u0e93\\u0e98\\u0ea0\\u0ea4\\u0ea6\\u0ea8-\\u0ea9\\u0eac\\u0eba\\u0ebe-\\u0ebf\\u0ec5\\u0ec7\\u0ece-\\u0ecf\\u0eda-\\u0edb\\u0ee0-\\u0eff\\u0f48\\u0f6d-\\u0f70\\u0f98\\u0fbd\\u0fcd\\u0fdb-\\u0fff\\u10c6\\u10c8-\\u10cc\\u10ce-\\u10cf\\u1249\\u124e-\\u124f\\u1257\\u1259\\u125e-\\u125f\\u1289\\u128e-\\u128f\\u12b1\\u12b6-\\u12b7\\u12bf\\u12c1\\u12c6-\\u12c7\\u12d7\\u1311\\u1316-\\u1317\\u135b-\\u135c\\u137d-\\u137f\\u139a-\\u139f\\u13f6-\\u13f7\\u13fe-\\u13ff\\u1680\\u169d-\\u169f\\u16f9-\\u16ff\\u170d\\u1715-\\u171f\\u1737-\\u173f\\u1754-\\u175f\\u176d\\u1771\\u1774-\\u177f\\u17de-\\u17df\\u17ea-\\u17ef\\u17fa-\\u17ff\\u180e-\\u180f\\u181a-\\u181f\\u1878-\\u187f\\u18ab-\\u18af\\u18f6-\\u18ff\\u191f\\u192c-\\u192f\\u193c-\\u193f\\u1941-\\u1943\\u196e-\\u196f\\u1975-\\u197f\\u19ac-\\u19af\\u19ca-\\u19cf\\u19db-\\u19dd\\u1a1c-\\u1a1d\\u1a5f\\u1a7d-\\u1a7e\\u1a8a-\\u1a8f\\u1a9a-\\u1a9f\\u1aae-\\u1aaf\\u1abf-\\u1aff\\u1b4c-\\u1b4f\\u1b7d-\\u1b7f\\u1bf4-\\u1bfb\\u1c38-\\u1c3a\\u1c4a-\\u1c4c\\u1c80-\\u1cbf\\u1cc8-\\u1ccf\\u1cf7\\u1cfa-\\u1cff\\u1df6-\\u1dfb\\u1f16-\\u1f17\\u1f1e-\\u1f1f\\u1f46-\\u1f47\\u1f4e-\\u1f4f\\u1f58\\u1f5a\\u1f5c\\u1f5e\\u1f7e-\\u1f7f\\u1fb5\\u1fc5\\u1fd4-\\u1fd5\\u1fdc\\u1ff0-\\u1ff1\\u1ff5\\u1fff-\\u200f\\u2028-\\u202f\\u205f-\\u206f\\u2072-\\u2073\\u208f\\u209d-\\u209f\\u20bf-\\u20cf\\u20f1-\\u20ff\\u218c-\\u218f\\u23fb-\\u23ff\\u2427-\\u243f\\u244b-\\u245f\\u2b74-\\u2b75\\u2b96-\\u2b97\\u2bba-\\u2bbc\\u2bc9\\u2bd2-\\u2beb\\u2bf0-\\u2bff\\u2c2f\\u2c5f\\u2cf4-\\u2cf8\\u2d26\\u2d28-\\u2d2c\\u2d2e-\\u2d2f\\u2d68-\\u2d6e\\u2d71-\\u2d7e\\u2d97-\\u2d9f\\u2da7\\u2daf\\u2db7\\u2dbf\\u2dc7\\u2dcf\\u2dd7\\u2ddf\\u2e43-\\u2e7f\\u2e9a\\u2ef4-\\u2eff\\u2fd6-\\u2fef\\u2ffc-\\u3000\\u3040\\u3097-\\u3098\\u3100-\\u3104\\u312e-\\u3130\\u318f\\u31bb-\\u31bf\\u31e4-\\u31ef\\u321f\\u32ff\\u4db6-\\u4dbf\\u9fd6-\\u9fff\\ua48d-\\ua48f\\ua4c7-\\ua4cf\\ua62c-\\ua63f\\ua6f8-\\ua6ff\\ua7ae-\\ua7af\\ua7b8-\\ua7f6\\ua82c-\\ua82f\\ua83a-\\ua83f\\ua878-\\ua87f\\ua8c5-\\ua8cd\\ua8da-\\ua8df\\ua8fe-\\ua8ff\\ua954-\\ua95e\\ua97d-\\ua97f\\ua9ce\\ua9da-\\ua9dd\\ua9ff\\uaa37-\\uaa3f\\uaa4e-\\uaa4f\\uaa5a-\\uaa5b\\uaac3-\\uaada\\uaaf7-\\uab00\\uab07-\\uab08\\uab0f-\\uab10\\uab17-\\uab1f\\uab27\\uab2f\\uab66-\\uab6f\\uabee-\\uabef\\uabfa-\\uabff\\ud7a4-\\ud7af\\ud7c7-\\ud7ca\\ud7fc-\\uf8ff\\ufa6e-\\ufa6f\\ufada-\\ufaff\\ufb07-\\ufb12\\ufb18-\\ufb1c\\ufb37\\ufb3d\\ufb3f\\ufb42\\ufb45\\ufbc2-\\ufbd2\\ufd40-\\ufd4f\\ufd90-\\ufd91\\ufdc8-\\ufdef\\ufdfe-\\ufdff\\ufe1a-\\ufe1f\\ufe53\\ufe67\\ufe6c-\\ufe6f\\ufe75\\ufefd-\\uff00\\uffbf-\\uffc1\\uffc8-\\uffc9\\uffd0-\\uffd1\\uffd8-\\uffd9\\uffdd-\\uffdf\\uffe7\\uffef-\\ufffb\\ufffe-\\uffff]/.test(c))\n\t\t\t\t\t\tescape = 0;\n\t\t\t\t\telse if (code <= 0xff)\n\t\t\t\t\t\tescape = 2;\n\t\t\t\t\telse if (code <= 0xffff)\n\t\t\t\t\t\tescape = 4;\n\t\t\t\t\telse\n\t\t\t\t\t\tescape = 8;\n\n\t\t\t\t\tif (escape === 0)\n\t\t\t\t\t\tresult += c;\n\t\t\t\t\telse if (escape === 2)\n\t\t\t\t\t\tresult += \"\\\\x\" + ul4._lpad(code.toString(16), \"0\", 2);\n\t\t\t\t\telse if (escape === 4)\n\t\t\t\t\t\tresult += \"\\\\u\" + ul4._lpad(code.toString(16), \"0\", 4);\n\t\t\t\t\telse\n\t\t\t\t\t\tresult += \"\\\\U\" + ul4._lpad(code.toString(16), \"0\", 8);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn quote + result + quote;\n\t};\n\n\tul4._date_repr = function _date_repr(obj, ascii)\n\t{\n\t\tlet year = obj._date.getFullYear();\n\t\tlet month = obj._date.getMonth()+1;\n\t\tlet day = obj._date.getDate();\n\t\tlet result = \"@(\" + year + \"-\" + ul4._lpad(month.toString(), \"0\", 2) + \"-\" + ul4._lpad(day.toString(), \"0\", 2) + \")\";\n\t\treturn result;\n\t};\n\n\tul4._datetime_repr = function _datetime_repr(obj, ascii)\n\t{\n\t\tlet year = obj.getFullYear();\n\t\tlet month = obj.getMonth()+1;\n\t\tlet day = obj.getDate();\n\t\tlet hour = obj.getHours();\n\t\tlet minute = obj.getMinutes();\n\t\tlet second = obj.getSeconds();\n\t\tlet ms = obj.getMilliseconds();\n\t\tlet result = \"@(\" + year + \"-\" + ul4._lpad(month.toString(), \"0\", 2) + \"-\" + ul4._lpad(day.toString(), \"0\", 2) + \"T\";\n\n\t\tif (hour || minute || second || ms)\n\t\t{\n\t\t\tresult += ul4._lpad(hour.toString(), \"0\", 2) + \":\" + ul4._lpad(minute.toString(), \"0\", 2);\n\t\t\tif (second || ms)\n\t\t\t{\n\t\t\t\tresult += \":\" + ul4._lpad(second.toString(), \"0\", 2);\n\t\t\t\tif (ms)\n\t\t\t\t\tresult += \".\" + ul4._lpad(ms.toString(), \"0\", 3) + \"000\";\n\t\t\t}\n\t\t}\n\t\tresult += \")\";\n\n\t\treturn result;\n\t};\n\n\tul4._map_repr = function _map_repr(obj, ascii)\n\t{\n\t\tlet v = [];\n\t\tv.push(\"{\");\n\n\t\tlet i = 0;\n\t\tobj.forEach(function(value, key) {\n\t\t\tif (i++)\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(ul4._repr_internal(key, ascii));\n\t\t\tv.push(\": \");\n\t\t\tv.push(ul4._repr_internal(value, ascii));\n\t\t});\n\n\t\tv.push(\"}\");\n\t\treturn v.join(\"\");\n\t};\n\n\tul4._list_repr = function _list_repr(obj, ascii)\n\t{\n\t\tlet v = [];\n\t\tv.push(\"[\");\n\t\tfor (let i = 0; i < obj.length; ++i)\n\t\t{\n\t\t\tlet item = obj[i];\n\t\t\tif (i)\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(ul4._repr_internal(item, ascii));\n\t\t}\n\t\tv.push(\"]\");\n\t\treturn v.join(\"\");\n\t};\n\n\tul4._set_repr = function _set_repr(obj, ascii)\n\t{\n\t\tlet v = [];\n\t\tv.push(\"{\");\n\t\tif (!obj.size)\n\t\t\tv.push(\"/\");\n\t\telse\n\t\t{\n\t\t\tlet i = 0;\n\t\t\tobj.forEach(function(value) {\n\t\t\t\tif (i++)\n\t\t\t\t\tv.push(\", \");\n\t\t\t\tv.push(ul4._repr_internal(value, ascii));\n\t\t\t});\n\t\t}\n\t\tv.push(\"}\");\n\t\treturn v.join(\"\");\n\t};\n\n\tul4._object_repr = function _object_repr(obj, ascii)\n\t{\n\t\tlet v = [];\n\t\tv.push(\"{\");\n\t\tlet i = 0;\n\t\tfor (let key in obj)\n\t\t{\n\t\t\tif (!obj.hasOwnProperty(key))\n\t\t\t\tcontinue;\n\t\t\tif (i++)\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(ul4._repr_internal(key, ascii));\n\t\t\tv.push(\": \");\n\t\t\tv.push(ul4._repr_internal(obj[key], ascii));\n\t\t}\n\t\tv.push(\"}\");\n\t\treturn v.join(\"\");\n\t};\n\n\tul4._repr_internal = function _repr_internal(obj, ascii)\n\t{\n\t\tif (obj === null)\n\t\t\treturn \"None\";\n\t\telse if (obj === false)\n\t\t\treturn \"False\";\n\t\telse if (obj === true)\n\t\t\treturn \"True\";\n\t\telse if (typeof(obj) === \"string\")\n\t\t\treturn ul4._str_repr(obj, ascii);\n\t\telse if (typeof(obj) === \"number\")\n\t\t\treturn \"\" + obj;\n\t\telse if (typeof(obj) === \"function\")\n\t\t\tif (obj._ul4_name || obj.name)\n\t\t\t\treturn \"<function \" + (obj._ul4_name || obj.name) + \">\";\n\t\t\telse\n\t\t\t\treturn \"<anonymous function>\";\n\t\telse if (ul4._isdate(obj))\n\t\t\treturn ul4._date_repr(obj, ascii);\n\t\telse if (ul4._isdatetime(obj))\n\t\t\treturn ul4._datetime_repr(obj, ascii);\n\t\telse if (typeof(obj) === \"undefined\")\n\t\t\treturn \"<undefined>\";\n\t\telse if (typeof(obj) === \"object\" && typeof(obj.__repr__) === \"function\")\n\t\t\treturn obj.__repr__();\n\t\telse if (ul4._islist(obj))\n\t\t\treturn ul4._list_repr(obj, ascii);\n\t\telse if (ul4._ismap(obj))\n\t\t\treturn ul4._map_repr(obj, ascii);\n\t\telse if (ul4._isset(obj))\n\t\t\treturn ul4._set_repr(obj, ascii);\n\t\telse if (ul4._isobject(obj))\n\t\t\treturn ul4._object_repr(obj, ascii);\n\t\treturn \"?\";\n\t};\n\n\t// Return a string representation of ``obj``: If possible this should be an object literal supported by UL4, otherwise the output should be bracketed with ``<`` and ``>``\n\tul4._repr = function _repr(obj)\n\t{\n\t\treturn ul4._repr_internal(obj, false);\n\t};\n\n\tul4._ascii = function _ascii(obj)\n\t{\n\t\treturn ul4._repr_internal(obj, true);\n\t};\n\n\tul4._date_str = function _date_str(obj)\n\t{\n\t\tlet year = obj._date.getFullYear();\n\t\tlet month = obj._date.getMonth()+1;\n\t\tlet day = obj._date.getDate();\n\n\t\treturn year + \"-\" + ul4._lpad(month.toString(), \"0\", 2) + \"-\" + ul4._lpad(day.toString(), \"0\", 2);\n\t};\n\n\tul4._datetime_str = function _datetime_str(obj)\n\t{\n\t\tlet year = obj.getFullYear();\n\t\tlet month = obj.getMonth()+1;\n\t\tlet day = obj.getDate();\n\t\tlet hour = obj.getHours();\n\t\tlet minute = obj.getMinutes();\n\t\tlet second = obj.getSeconds();\n\t\tlet ms = obj.getMilliseconds();\n\n\t\tlet result = year + \"-\" + ul4._lpad(month.toString(), \"0\", 2) + \"-\" + ul4._lpad(day.toString(), \"0\", 2) + \" \" + ul4._lpad(hour.toString(), \"0\", 2) + \":\" + ul4._lpad(minute.toString(), \"0\", 2);\n\t\tif (second || ms)\n\t\t{\n\t\t\tresult += \":\" + ul4._lpad(second.toString(), \"0\", 2);\n\t\t\tif (ms)\n\t\t\t\tresult += \".\" + ul4._lpad(ms.toString(), \"0\", 3) + \"000\";\n\t\t}\n\t\treturn result;\n\t};\n\n\tul4._str = function _str(obj)\n\t{\n\t\tif (typeof(obj) === \"undefined\")\n\t\t\treturn \"\";\n\t\telse if (obj === null)\n\t\t\treturn \"\";\n\t\telse if (obj === false)\n\t\t\treturn \"False\";\n\t\telse if (obj === true)\n\t\t\treturn \"True\";\n\t\telse if (typeof(obj) === \"string\")\n\t\t\treturn obj;\n\t\telse if (typeof(obj) === \"number\")\n\t\t\treturn obj.toString();\n\t\telse if (ul4._isdate(obj))\n\t\t\treturn ul4._date_str(obj);\n\t\telse if (ul4._isdatetime(obj))\n\t\t\treturn ul4._datetime_str(obj);\n\t\telse if (ul4._islist(obj))\n\t\t\treturn ul4._list_repr(obj);\n\t\telse if (ul4._isset(obj))\n\t\t\treturn ul4._set_repr(obj);\n\t\telse if (ul4._ismap(obj))\n\t\t\treturn ul4._map_repr(obj);\n\t\telse if (typeof(obj) === \"object\" && typeof(obj.__str__) === \"function\")\n\t\t\treturn obj.__str__();\n\t\telse if (typeof(obj) === \"object\" && typeof(obj.__repr__) === \"function\")\n\t\t\treturn obj.__repr__();\n\t\telse if (ul4._isobject(obj))\n\t\t\treturn ul4._object_repr(obj);\n\t\treturn \"?\";\n\t};\n\n\t// Convert ``obj`` to bool, according to its \"truth value\"\n\tul4._bool = function _bool(obj)\n\t{\n\t\tif (typeof(obj) === \"undefined\" || obj === null || obj === false || obj === 0 || obj === \"\")\n\t\t\treturn false;\n\t\telse\n\t\t{\n\t\t\tif (typeof(obj) === \"object\", typeof(obj.__bool__) === \"function\")\n\t\t\t\treturn obj.__bool__();\n\t\t\tif (ul4._islist(obj))\n\t\t\t\treturn obj.length !== 0;\n\t\t\telse if (ul4._ismap(obj) || ul4._isset(obj))\n\t\t\t\treturn obj.size != 0;\n\t\t\telse if (ul4._isobject(obj))\n\t\t\t{\n\t\t\t\tfor (let key in obj)\n\t\t\t\t{\n\t\t\t\t\tif (!obj.hasOwnProperty(key))\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t};\n\n\t// Convert ``obj`` to an integer (if ``base`` is given ``obj`` must be a string and ``base`` is the base for the conversion (default is 10))\n\tul4._int = function _int(obj, base)\n\t{\n\t\tlet result;\n\t\tif (base !== null)\n\t\t{\n\t\t\tif (typeof(obj) !== \"string\" || !ul4._isint(base))\n\t\t\t\tthrow new ul4.TypeError(\"int() requires a string and an integer\");\n\t\t\tresult = parseInt(obj, base);\n\t\t\tif (result.toString() == \"NaN\")\n\t\t\t\tthrow new ul4.TypeError(\"invalid literal for int()\");\n\t\t\treturn result;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (typeof(obj) == \"string\")\n\t\t\t{\n\t\t\t\tresult = parseInt(obj);\n\t\t\t\tif (result.toString() == \"NaN\")\n\t\t\t\tthrow new ul4.TypeError(\"invalid literal for int()\");\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\telse if (typeof(obj) == \"number\")\n\t\t\t\treturn Math.floor(obj);\n\t\t\telse if (obj === true)\n\t\t\t\treturn 1;\n\t\t\telse if (obj === false)\n\t\t\t\treturn 0;\n\t\t\tthrow new ul4.TypeError(\"int() argument must be a string or a number\");\n\t\t}\n\t};\n\n\t// Convert ``obj`` to a float\n\tul4._float = function _float(obj)\n\t{\n\t\tif (typeof(obj) === \"string\")\n\t\t\treturn parseFloat(obj);\n\t\telse if (typeof(obj) === \"number\")\n\t\t\treturn obj;\n\t\telse if (obj === true)\n\t\t\treturn 1.0;\n\t\telse if (obj === false)\n\t\t\treturn 0.0;\n\t\tthrow new ul4.TypeError(\"float() argument must be a string or a number\");\n\t};\n\n\t// Convert ``obj`` to a list\n\tul4._list = function _list(obj)\n\t{\n\t\tlet iter = ul4._iter(obj);\n\n\t\tlet result = [];\n\t\tfor (;;)\n\t\t{\n\t\t\tlet value = iter.next();\n\t\t\tif (value.done)\n\t\t\t\treturn result;\n\t\t\tresult.push(value.value);\n\t\t}\n\t};\n\n\t// Convert ``obj`` to a set\n\tul4._set = function _set(obj)\n\t{\n\t\tlet iter = ul4._iter(obj);\n\n\t\tlet result = ul4._emptyset();\n\t\tfor (;;)\n\t\t{\n\t\t\tlet value = iter.next();\n\t\t\tif (value.done)\n\t\t\t\treturn result;\n\t\t\tresult.add(value.value);\n\t\t}\n\t};\n\n\t// Return the length of ``sequence``\n\tul4._len = function _len(sequence)\n\t{\n\t\tif (typeof(sequence) == \"string\" || ul4._islist(sequence))\n\t\t\treturn sequence.length;\n\t\telse if (ul4._ismap(sequence) || ul4._isset(sequence))\n\t\t\treturn sequence.size;\n\t\telse if (ul4._isobject(sequence))\n\t\t{\n\t\t\tlet i = 0;\n\t\t\tfor (let key in sequence)\n\t\t\t\t++i;\n\t\t\treturn i;\n\t\t}\n\t\tthrow new ul4.TypeError(\"object of type '\" + ul4._type(sequence) + \"' has no len()\");\n\t};\n\n\tul4._type = function _type(obj)\n\t{\n\t\tif (obj === null)\n\t\t\treturn \"none\";\n\t\telse if (obj === false || obj === true)\n\t\t\treturn \"bool\";\n\t\telse if (typeof(obj) === \"undefined\")\n\t\t\treturn \"undefined\";\n\t\telse if (typeof(obj) === \"number\")\n\t\t\treturn Math.round(obj) == obj ? \"int\" : \"float\";\n\t\telse if (typeof(obj) === \"function\")\n\t\t\treturn \"function\";\n\t\telse\n\t\t{\n\t\t\tif (typeof(obj.ul4type) === \"function\")\n\t\t\t\treturn obj.ul4type();\n\t\t\telse\n\t\t\t\treturn ul4.Protocol.get(obj).ul4type(obj);\n\t\t}\n\t};\n\n\t// (this is non-trivial, because it follows the Python semantic of ``-5 % 2`` being ``1``)\n\tul4._mod = function _mod(obj1, obj2)\n\t{\n\t\tlet div = Math.floor(obj1 / obj2);\n\t\tlet mod = obj1 - div * obj2;\n\n\t\tif (mod !== 0 && ((obj2 < 0 && mod > 0) || (obj2 > 0 && mod < 0)))\n\t\t{\n\t\t\tmod += obj2;\n\t\t\t--div;\n\t\t}\n\t\treturn obj1 - div * obj2;\n\t},\n\n\t// Return the attribute with the name ``attrname`` of the object ``obj``\n\t// If ``obj`` doesn't have such an attribute, return ``default_``\n\tul4._getattr = function _getattr(obj, attrname, default_=null)\n\t{\n\t\tlet proto = ul4.Protocol.get(obj);\n\t\ttry\n\t\t{\n\t\t\treturn proto.getattr(obj, attrname);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (exc instanceof ul4.AttributeError && exc.obj === obj)\n\t\t\t\treturn default_;\n\t\t\telse\n\t\t\t\tthrow exc;\n\t\t}\n\t};\n\n\t// Return wether the object ``obj`` has an attribute with the name ``attrname``\n\tul4._hasattr = function _hasattr(obj, attrname)\n\t{\n\t\tlet proto = ul4.Protocol.get(obj);\n\t\treturn proto.hasattr(obj, attrname);\n\t};\n\n\t// Return the names of the attributes of the object ``obj`` as a set.\n\tul4._dir = function _dir(obj)\n\t{\n\t\tlet proto = ul4.Protocol.get(obj);\n\t\treturn proto.dir();\n\t};\n\n\t// Return whether any of the items in ``iterable`` are true\n\tul4._any = function _any(iterable)\n\t{\n\t\tif (typeof(iterable) == \"string\")\n\t\t{\n\t\t\tfor (let i = 0; i < iterable.length; ++i)\n\t\t\t{\n\t\t\t\tif (iterable[i] !== '\\x00')\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (let iter = ul4._iter(iterable);;)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\treturn false;\n\t\t\t\tif (ul4._bool(item.value))\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t};\n\n\t// Return whether all of the items in ``iterable`` are true\n\tul4._all = function _all(iterable)\n\t{\n\t\tif (typeof(iterable) == \"string\")\n\t\t{\n\t\t\tfor (let i = 0; i < iterable.length; ++i)\n\t\t\t{\n\t\t\t\tif (iterable[i] === '\\x00')\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (let iter = ul4._iter(iterable);;)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\treturn true;\n\t\t\t\tif (!ul4._bool(item.value))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t};\n\n\t// Check if ``obj`` is undefined\n\tul4._isundefined = function _isundefined(obj)\n\t{\n\t\treturn typeof(obj) === \"undefined\";\n\t};\n\n\n\t// Check if ``obj`` is *not* undefined\n\tul4._isdefined = function _isdefined(obj)\n\t{\n\t\treturn typeof(obj) !== \"undefined\";\n\t};\n\n\t// Check if ``obj`` is ``None``\n\tul4._isnone = function _isnone(obj)\n\t{\n\t\treturn obj === null;\n\t};\n\n\t// Check if ``obj`` is a boolean\n\tul4._isbool = function _isbool(obj)\n\t{\n\t\treturn typeof(obj) == \"boolean\";\n\t};\n\n\t// Check if ``obj`` is a int\n\tul4._isint = function _isint(obj)\n\t{\n\t\treturn (typeof(obj) == \"number\") && Math.round(obj) == obj;\n\t};\n\n\t// Check if ``obj`` is a float\n\tul4._isfloat = function _isfloat(obj)\n\t{\n\t\treturn (typeof(obj) == \"number\") && Math.round(obj) != obj;\n\t};\n\n\t// Check if ``obj`` is a string\n\tul4._isstr = function _isstr(obj)\n\t{\n\t\treturn typeof(obj) == \"string\";\n\t};\n\n\t// Check if ``obj`` is a datetime\n\tul4._isdatetime = function _isdate(obj)\n\t{\n\t\treturn Object.prototype.toString.call(obj) == \"[object Date]\";\n\t};\n\n\tul4._isdate = function _isdate(obj)\n\t{\n\t\treturn (obj instanceof ul4.Date);\n\t};\n\n\t// Check if ``obj`` is a color\n\tul4._iscolor = function _iscolor(obj)\n\t{\n\t\treturn (obj instanceof ul4.Color);\n\t};\n\n\t// Check if ``obj`` is a timedelta object\n\tul4._istimedelta = function _istimedelta(obj)\n\t{\n\t\treturn (obj instanceof ul4.TimeDelta);\n\t};\n\n\t// Check if ``obj`` is a monthdelta object\n\tul4._ismonthdelta = function _ismonthdelta(obj)\n\t{\n\t\treturn (obj instanceof ul4.MonthDelta);\n\t};\n\n\t// Check if ``obj`` is a template\n\tul4._istemplate = function _istemplate(obj)\n\t{\n\t\treturn (obj instanceof ul4.Template || obj instanceof ul4.TemplateClosure);\n\t};\n\n\t// Check if ``obj`` is a function\n\tul4._isfunction = function _isfunction(obj)\n\t{\n\t\treturn typeof(obj) === \"function\" || (Object.prototype.toString.call(obj) == \"[object Object]\" && (obj instanceof ul4.Template || obj instanceof ul4.TemplateClosure));\n\t};\n\n\t// Check if ``obj`` is a list\n\tul4._islist = function _islist(obj)\n\t{\n\t\treturn Object.prototype.toString.call(obj) == \"[object Array]\";\n\t};\n\n\t// Check if ``obj`` is a set\n\tul4._isset = function _isset(obj)\n\t{\n\t\treturn Object.prototype.toString.call(obj) == \"[object Set]\";\n\t};\n\n\t// Check if ``obj`` is an exception (at least a UL4 exception)\n\tul4._isexception = function _isexception(obj)\n\t{\n\t\treturn (obj instanceof ul4.Exception);\n\t};\n\n\tul4._isul4set = function _isul4set(obj)\n\t{\n\t\treturn (obj instanceof ul4._Set);\n\t};\n\n\tul4._isanyset = function _isanyset(obj)\n\t{\n\t\treturn (ul4._isset(obj) || ul4._isul4set(obj));\n\t};\n\n\t// Check if ``obj`` is an iterator\n\tul4._isiter = function _isiter(obj)\n\t{\n\t\treturn obj !== null && typeof(obj) === \"object\" && typeof(obj.next) === \"function\";\n\t};\n\n\t// Check if ``obj`` is a JS object\n\tul4._isobject = function _isobject(obj)\n\t{\n\t\treturn Object.prototype.toString.call(obj) == \"[object Object]\" && typeof(obj.__type__) === \"undefined\" && !(obj instanceof ul4.Proto);\n\t};\n\n\tif (ul4._havemap)\n\t{\n\t\t// Check if ``obj`` is a ``Map``\n\t\tul4._ismap = function _ismap(obj)\n\t\t{\n\t\t\treturn obj !== null && typeof(obj) === \"object\" && typeof(obj.__proto__) === \"object\" && obj.__proto__ === Map.prototype;\n\t\t};\n\n\t\t// Check if ``obj`` is a dict (i.e. a normal Javascript object or a ``Map``)\n\t\tul4._isdict = function _isdict(obj)\n\t\t{\n\t\t\treturn ul4._isobject(obj) || ul4._ismap(obj);\n\t\t};\n\t}\n\telse\n\t{\n\t\tul4._ismap = function _ismap(obj)\n\t\t{\n\t\t\treturn false;\n\t\t};\n\n\t\tul4._isdict = function _isdict(obj)\n\t\t{\n\t\t\treturn ul4._isobject(obj);\n\t\t};\n\t}\n\n\t// Repeat string ``str`` ``rep`` times\n\tul4._str_repeat = function _str_repeat(str, rep)\n\t{\n\t\tlet result = \"\";\n\t\tfor (; rep>0; --rep)\n\t\t\tresult += str;\n\t\treturn result;\n\t};\n\n\tul4._list_repeat = function _list_repeat(list, rep)\n\t{\n\t\tlet result = [];\n\t\tfor (; rep>0; --rep)\n\t\t\tfor (let i = 0; i < list.length; ++i)\n\t\t\t\tresult.push(list[i]);\n\t\treturn result;\n\t};\n\n\tul4._str_json = function _str_json(str)\n\t{\n\t\tlet result = \"\";\n\t\tfor (let i = 0; i < str.length; ++i)\n\t\t{\n\t\t\tlet c = str[i];\n\t\t\tswitch (c)\n\t\t\t{\n\t\t\t\tcase \"\\r\":\n\t\t\t\t\tresult += \"\\\\r\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"\\n\":\n\t\t\t\t\tresult += \"\\\\n\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"\\t\":\n\t\t\t\t\tresult += \"\\\\t\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"\\\\\":\n\t\t\t\t\tresult += \"\\\\\\\\\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase '\"':\n\t\t\t\t\tresult += '\\\\\"';\n\t\t\t\t\tbreak;\n\t\t\t\tcase '<':\n\t\t\t\t\tresult += '\\\\u003c';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tlet code = c.charCodeAt(0);\n\t\t\t\t\tif (code >= 32 && code < 128)\n\t\t\t\t\t\tresult += c;\n\t\t\t\t\telse\n\t\t\t\t\t\tresult += \"\\\\u\" + ul4._lpad(code.toString(16), \"0\", 4);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn '\"' + result + '\"';\n\t};\n\n\t// Encodes ``obj`` in the Javascript Object Notation (see http://json.org/; with support for dates, colors and templates)\n\tul4._asjson = function _asjson(obj)\n\t{\n\t\tif (obj === null)\n\t\t\treturn \"null\";\n\t\telse if (typeof(obj) === \"undefined\")\n\t\t\treturn \"undefined\";\n\t\telse if (obj === false)\n\t\t\treturn \"false\";\n\t\telse if (obj === true)\n\t\t\treturn \"true\";\n\t\telse if (typeof(obj) === \"string\")\n\t\t\treturn ul4._str_json(obj);\n\t\telse if (typeof(obj) === \"number\")\n\t\t{\n\t\t\treturn \"\" + obj;\n\t\t}\n\t\telse if (ul4._islist(obj))\n\t\t{\n\t\t\tlet v = [];\n\t\t\tv.push(\"[\");\n\t\t\tfor (let i = 0; i < obj.length; ++i)\n\t\t\t{\n\t\t\t\tif (i != 0)\n\t\t\t\t\tv.push(\", \");\n\t\t\t\tv.push(ul4._asjson(obj[i]));\n\t\t\t}\n\t\t\tv.push(\"]\");\n\t\t\treturn v.join(\"\");\n\t\t}\n\t\telse if (ul4._ismap(obj))\n\t\t{\n\t\t\tlet v = [];\n\t\t\tv.push(\"{\");\n\t\t\tlet i = 0;\n\t\t\tobj.forEach(function(value, key) {\n\t\t\t\tif (i++)\n\t\t\t\t\tv.push(\", \");\n\t\t\t\tv.push(ul4._asjson(key));\n\t\t\t\tv.push(\": \");\n\t\t\t\tv.push(ul4._asjson(value));\n\t\t\t});\n\t\t\tv.push(\"}\");\n\t\t\treturn v.join(\"\");\n\t\t}\n\t\telse if (ul4._isobject(obj))\n\t\t{\n\t\t\tlet v = [];\n\t\t\tv.push(\"{\");\n\t\t\tlet i = 0;\n\t\t\tfor (let key in obj)\n\t\t\t{\n\t\t\t\tif (i++)\n\t\t\t\t\tv.push(\", \");\n\t\t\t\tv.push(ul4._asjson(key));\n\t\t\t\tv.push(\": \");\n\t\t\t\tv.push(ul4._asjson(obj[key]));\n\t\t\t}\n\t\t\tv.push(\"}\");\n\t\t\treturn v.join(\"\");\n\t\t}\n\t\telse if (ul4._isdate(obj))\n\t\t{\n\t\t\treturn \"new ul4.Date(\" + obj._date.getFullYear() + \", \" + (obj._date.getMonth()+1) + \", \" + obj._date.getDate() + \")\";\n\t\t}\n\t\telse if (ul4._isdatetime(obj))\n\t\t{\n\t\t\treturn \"new Date(\" + obj.getFullYear() + \", \" + obj.getMonth() + \", \" + obj.getDate() + \", \" + obj.getHours() + \", \" + obj.getMinutes() + \", \" + obj.getSeconds() + \", \" + obj.getMilliseconds() + \")\";\n\t\t}\n\t\telse if (ul4._istimedelta(obj))\n\t\t{\n\t\t\treturn \"new ul4.TimeDelta(\" + obj._days + \", \" + obj._seconds + \", \" + obj._microseconds + \")\";\n\t\t}\n\t\telse if (ul4._ismonthdelta(obj))\n\t\t{\n\t\t\treturn \"new ul4.MonthDelta(\" + obj._months + \")\";\n\t\t}\n\t\telse if (ul4._iscolor(obj))\n\t\t{\n\t\t\treturn \"new ul4.Color(\" + obj._r + \", \" + obj._g + \", \" + obj._b + \", \" + obj._a + \")\";\n\t\t}\n\t\telse if (ul4._istemplate(obj))\n\t\t{\n\t\t\treturn \"ul4.Template.loads(\" + ul4._repr(obj.dumps()) + \")\";\n\t\t}\n\t\tthrow new ul4.TypeError(\"asjson() requires a serializable object\");\n\t};\n\n\t// Decodes the string ``string`` from the Javascript Object Notation (see http://json.org/) and returns the resulting object\n\tul4._fromjson = function _fromjson(string)\n\t{\n\t\t// The following is from jQuery's parseJSON function\n\t\tstring = ul4.StrProtocol.strip(string);\n\t\tif (root.JSON && root.JSON.parse)\n\t\t\treturn root.JSON.parse(string);\n\t\tif (ul4._rvalidchars.test(string.replace(ul4._rvalidescape, \"@\").replace(ul4._rvalidtokens, \"]\").replace(ul4._rvalidbraces, \"\")))\n\t\t\treturn (new Function(\"return \" + string))();\n\t\tthrow new ul4.TypeError(\"invalid JSON\");\n\t};\n\n\t// Encodes ``obj`` in the UL4 Object Notation format\n\tul4._asul4on = function _asul4on(obj)\n\t{\n\t\treturn ul4.dumps(obj);\n\t};\n\n\t// Decodes the string ``string`` from the UL4 Object Notation format and returns the resulting decoded object\n\tul4._fromul4on = function _fromul4on(string)\n\t{\n\t\treturn ul4.loads(string);\n\t};\n\n\tul4._format_datetime = function _format_datetime(obj, fmt, lang)\n\t{\n\t\tlet translations = {\n\t\t\tde: {\n\t\t\t\tms: [\"Jan\", \"Feb\", \"M\\u00e4r\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\"],\n\t\t\t\tml: [\"Januar\", \"Februar\", \"M\\u00e4rz\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\"],\n\t\t\t\tws: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n\t\t\t\twl: [\"Sonntag\", \"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\"],\n\t\t\t\txf: \"%d.%m.%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\ten: {\n\t\t\t\tms: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n\t\t\t\tml: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n\t\t\t\tws: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n\t\t\t\twl: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n\t\t\t\txf: \"%m/%d/%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %I:%M:%S %p\"\n\t\t\t},\n\t\t\tfr: {\n\t\t\t\tms: [\"janv.\", \"f\\u00e9vr.\", \"mars\", \"avril\", \"mai\", \"juin\", \"juil.\", \"ao\\u00fbt\", \"sept.\", \"oct.\", \"nov.\", \"d\\u00e9c.\"],\n\t\t\t\tml: [\"janvier\", \"f\\u00e9vrier\", \"mars\", \"avril\", \"mai\", \"juin\", \"juillet\", \"ao\\u00fbt\", \"septembre\", \"octobre\", \"novembre\", \"d\\u00e9cembre\"],\n\t\t\t\tws: [\"dim.\", \"lun.\", \"mar.\", \"mer.\", \"jeu.\", \"ven.\", \"sam.\"],\n\t\t\t\twl: [\"dimanche\", \"lundi\", \"mardi\", \"mercredi\", \"jeudi\", \"vendredi\", \"samedi\"],\n\t\t\t\txf: \"%d/%m/%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\tes: {\n\t\t\t\tms: [\"ene\", \"feb\", \"mar\", \"abr\", \"may\", \"jun\", \"jul\", \"ago\", \"sep\", \"oct\", \"nov\", \"dic\"],\n\t\t\t\tml: [\"enero\", \"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\", \"julio\", \"agosto\", \"septiembre\", \"octubre\", \"noviembre\", \"diciembre\"],\n\t\t\t\tws: [\"dom\", \"lun\", \"mar\", \"mi\\u00e9\", \"jue\", \"vie\", \"s\\u00e1b\"],\n\t\t\t\twl: [\"domingo\", \"lunes\", \"martes\", \"mi\\u00e9rcoles\", \"jueves\", \"viernes\", \"s\\u00e1bado\"],\n\t\t\t\txf: \"%d/%m/%y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\tit: {\n\t\t\t\tms: [\"gen\", \"feb\", \"mar\", \"apr\", \"mag\", \"giu\", \"lug\", \"ago\", \"set\", \"ott\", \"nov\", \"dic\"],\n\t\t\t\tml: [\"gennaio\", \"febbraio\", \"marzo\", \"aprile\", \"maggio\", \"giugno\", \"luglio\", \"agosto\", \"settembre\", \"ottobre\", \"novembre\", \"dicembre\"],\n\t\t\t\tws: [\"dom\", \"lun\", \"mar\", \"mer\", \"gio\", \"ven\", \"sab\"],\n\t\t\t\twl: [\"domenica\", \"luned\\u00ec\", \"marted\\u00ec\", \"mercoled\\u00ec\", \"gioved\\u00ec\", \"venerd\\u00ec\", \"sabato\"],\n\t\t\t\txf: \"%d/%m/%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\tda: {\n\t\t\t\tms: [\"jan\", \"feb\", \"mar\", \"apr\", \"maj\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n\t\t\t\tml: [\"januar\", \"februar\", \"marts\", \"april\", \"maj\", \"juni\", \"juli\", \"august\", \"september\", \"oktober\", \"november\", \"december\"],\n\t\t\t\tws: [\"s\\u00f8n\", \"man\", \"tir\", \"ons\", \"tor\", \"fre\", \"l\\u00f8r\"],\n\t\t\t\twl: [\"s\\u00f8ndag\", \"mandag\", \"tirsdag\", \"onsdag\", \"torsdag\", \"fredag\", \"l\\u00f8rdag\"],\n\t\t\t\txf: \"%d-%m-%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\tsv: {\n\t\t\t\tms: [\"jan\", \"feb\", \"mar\", \"apr\", \"maj\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n\t\t\t\tml: [\"januari\", \"februari\", \"mars\", \"april\", \"maj\", \"juni\", \"juli\", \"augusti\", \"september\", \"oktober\", \"november\", \"december\"],\n\t\t\t\tws: [\"s\\u00f6n\", \"m\\u00e5n\", \"tis\", \"ons\", \"tor\", \"fre\", \"l\\u00f6r\"],\n\t\t\t\twl: [\"s\\u00f6ndag\", \"m\\u00e5ndag\", \"tisdag\", \"onsdag\", \"torsdag\", \"fredag\", \"l\\u00f6rdag\"],\n\t\t\t\txf: \"%Y-%m-%d\",\n\t\t\t\tXf: \"%H.%M.%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H.%M.%S\"\n\t\t\t},\n\t\t\tnl: {\n\t\t\t\tms: [\"jan\", \"feb\", \"mrt\", \"apr\", \"mei\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n\t\t\t\tml: [\"januari\", \"februari\", \"maart\", \"april\", \"mei\", \"juni\", \"juli\", \"augustus\", \"september\", \"oktober\", \"november\", \"december\"],\n\t\t\t\tws: [\"zo\", \"ma\", \"di\", \"wo\", \"do\", \"vr\", \"za\"],\n\t\t\t\twl: [\"zondag\", \"maandag\", \"dinsdag\", \"woensdag\", \"donderdag\", \"vrijdag\", \"zaterdag\"],\n\t\t\t\txf: \"%d-%m-%y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\tpt: {\n\t\t\t\tms: [\"Jan\", \"Fev\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Out\", \"Nov\", \"Dez\"],\n\t\t\t\tml: [\"Janeiro\", \"Fevereiro\", \"Mar\\u00e7o\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"],\n\t\t\t\tws: [\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"S\\u00e1b\"],\n\t\t\t\twl: [\"Domingo\", \"Segunda\", \"Ter\\u00e7a\", \"Quarta\", \"Quinta\", \"Sexta\", \"S\\u00e1bado\"],\n\t\t\t\txf: \"%d-%m-%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\tcs: {\n\t\t\t\tms: [\"led\", \"\\u00fano\", \"b\\u0159e\", \"dub\", \"kv\\u011b\", \"\\u010den\", \"\\u010dec\", \"srp\", \"z\\u00e1\\u0159\", \"\\u0159\\u00edj\", \"lis\", \"pro\"],\n\t\t\t\tml: [\"leden\", \"\\u00fanor\", \"b\\u0159ezen\", \"duben\", \"kv\\u011bten\", \"\\u010derven\", \"\\u010dervenec\", \"srpen\", \"z\\u00e1\\u0159\\u00ed\", \"\\u0159\\u00edjen\", \"listopad\", \"prosinec\"],\n\t\t\t\tws: [\"Ne\", \"Po\", \"\\u00dat\", \"St\", \"\\u010ct\", \"P\\u00e1\", \"So\"],\n\t\t\t\twl: [\"Ned\\u011ble\", \"Pond\\u011bl\\u00ed\", \"\\u00dater\\u00fd\", \"St\\u0159eda\", \"\\u010ctvrtek\", \"P\\u00e1tek\", \"Sobota\"],\n\t\t\t\txf: \"%d.%m.%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a\\u00a0%d.\\u00a0%B\\u00a0%Y,\\u00a0%H:%M:%S\"\n\t\t\t},\n\t\t\tsk: {\n\t\t\t\tms: [\"jan\", \"feb\", \"mar\", \"apr\", \"m\\u00e1j\", \"j\\u00fan\", \"j\\u00fal\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n\t\t\t\tml: [\"janu\\u00e1r\", \"febru\\u00e1r\", \"marec\", \"apr\\u00edl\", \"m\\u00e1j\", \"j\\u00fan\", \"j\\u00fal\", \"august\", \"september\", \"okt\\u00f3ber\", \"november\", \"december\"],\n\t\t\t\tws: [\"Ne\", \"Po\", \"Ut\", \"St\", \"\\u0160t\", \"Pi\", \"So\"],\n\t\t\t\twl: [\"Nede\\u013ea\", \"Pondelok\", \"Utorok\", \"Streda\", \"\\u0160tvrtok\", \"Piatok\", \"Sobota\"],\n\t\t\t\txf: \"%d.%m.%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a\\u00a0%d.\\u00a0%B\\u00a0%Y,\\u00a0%H:%M:%S\"\n\t\t\t},\n\t\t\tpl: {\n\t\t\t\tms: [\"sty\", \"lut\", \"mar\", \"kwi\", \"maj\", \"cze\", \"lip\", \"sie\", \"wrz\", \"pa\\u017a\", \"lis\", \"gru\"],\n\t\t\t\tml: [\"stycze\\u0144\", \"luty\", \"marzec\", \"kwiecie\\u0144\", \"maj\", \"czerwiec\", \"lipiec\", \"sierpie\\u0144\", \"wrzesie\\u0144\", \"pa\\u017adziernik\", \"listopad\", \"grudzie\\u0144\"],\n\t\t\t\tws: [\"nie\", \"pon\", \"wto\", \"\\u015bro\", \"czw\", \"pi\\u0105\", \"sob\"],\n\t\t\t\twl: [\"niedziela\", \"poniedzia\\u0142ek\", \"wtorek\", \"\\u015broda\", \"czwartek\", \"pi\\u0105tek\", \"sobota\"],\n\t\t\t\txf: \"%d.%m.%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a, %d %b %Y, %H:%M:%S\"\n\t\t\t},\n\t\t\thr: {\n\t\t\t\tms: [\"Sij\", \"Vel\", \"O\\u017eu\", \"Tra\", \"Svi\", \"Lip\", \"Srp\", \"Kol\", \"Ruj\", \"Lis\", \"Stu\", \"Pro\"],\n\t\t\t\tml: [\"Sije\\u010danj\", \"Velja\\u010da\", \"O\\u017eujak\", \"Travanj\", \"Svibanj\", \"Lipanj\", \"Srpanj\", \"Kolovoz\", \"Rujan\", \"Listopad\", \"Studeni\", \"Prosinac\"],\n\t\t\t\tws: [\"Ned\", \"Pon\", \"Uto\", \"Sri\", \"\\u010cet\", \"Pet\", \"Sub\"],\n\t\t\t\twl: [\"Nedjelja\", \"Ponedjeljak\", \"Utorak\", \"Srijeda\", \"\\u010cetvrtak\", \"Petak\", \"Subota\"],\n\t\t\t\txf: \"%d.%m.%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\tsr: {\n\t\t\t\tms: [\"\\u0458\\u0430\\u043d\", \"\\u0444\\u0435\\u0431\", \"\\u043c\\u0430\\u0440\", \"\\u0430\\u043f\\u0440\", \"\\u043c\\u0430\\u0458\", \"\\u0458\\u0443\\u043d\", \"\\u0458\\u0443\\u043b\", \"\\u0430\\u0432\\u0433\", \"\\u0441\\u0435\\u043f\", \"\\u043e\\u043a\\u0442\", \"\\u043d\\u043e\\u0432\", \"\\u0434\\u0435\\u0446\"],\n\t\t\t\tml: [\"\\u0458\\u0430\\u043d\\u0443\\u0430\\u0440\", \"\\u0444\\u0435\\u0431\\u0440\\u0443\\u0430\\u0440\", \"\\u043c\\u0430\\u0440\\u0442\", \"\\u0430\\u043f\\u0440\\u0438\\u043b\", \"\\u043c\\u0430\\u0458\", \"\\u0458\\u0443\\u043d\", \"\\u0458\\u0443\\u043b\", \"\\u0430\\u0432\\u0433\\u0443\\u0441\\u0442\", \"\\u0441\\u0435\\u043f\\u0442\\u0435\\u043c\\u0431\\u0430\\u0440\", \"\\u043e\\u043a\\u0442\\u043e\\u0431\\u0430\\u0440\", \"\\u043d\\u043e\\u0432\\u0435\\u043c\\u0431\\u0430\\u0440\", \"\\u0434\\u0435\\u0446\\u0435\\u043c\\u0431\\u0430\\u0440\"],\n\t\t\t\tws: [\"\\u043d\\u0435\\u0434\", \"\\u043f\\u043e\\u043d\", \"\\u0443\\u0442\\u043e\", \"\\u0441\\u0440\\u0435\", \"\\u0447\\u0435\\u0442\", \"\\u043f\\u0435\\u0442\", \"\\u0441\\u0443\\u0431\"],\n\t\t\t\twl: [\"\\u043d\\u0435\\u0434\\u0435\\u0459\\u0430\", \"\\u043f\\u043e\\u043d\\u0435\\u0434\\u0435\\u0459\\u0430\\u043a\", \"\\u0443\\u0442\\u043e\\u0440\\u0430\\u043a\", \"\\u0441\\u0440\\u0435\\u0434\\u0430\", \"\\u0447\\u0435\\u0442\\u0432\\u0440\\u0442\\u0430\\u043a\", \"\\u043f\\u0435\\u0442\\u0430\\u043a\", \"\\u0441\\u0443\\u0431\\u043e\\u0442\\u0430\"],\n\t\t\t\txf: \"%d.%m.%Y.\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%A, %d. %B %Y. %H:%M:%S\"\n\t\t\t},\n\t\t\tro: {\n\t\t\t\tms: [\"ian\", \"feb\", \"mar\", \"apr\", \"mai\", \"iun\", \"iul\", \"aug\", \"sep\", \"oct\", \"nov\", \"dec\"],\n\t\t\t\tml: [\"ianuarie\", \"februarie\", \"martie\", \"aprilie\", \"mai\", \"iunie\", \"iulie\", \"august\", \"septembrie\", \"octombrie\", \"noiembrie\", \"decembrie\"],\n\t\t\t\tws: [\"Du\", \"Lu\", \"Ma\", \"Mi\", \"Jo\", \"Vi\", \"Sb\"],\n\t\t\t\twl: [\"duminic\\u0103\", \"luni\", \"mar\\u0163i\", \"miercuri\", \"joi\", \"vineri\", \"s\\u00e2mb\\u0103t\\u0103\"],\n\t\t\t\txf: \"%d.%m.%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\thu: {\n\t\t\t\tms: [\"jan\", \"febr\", \"m\\u00e1rc\", \"\\u00e1pr\", \"m\\u00e1j\", \"j\\u00fan\", \"j\\u00fal\", \"aug\", \"szept\", \"okt\", \"nov\", \"dec\"],\n\t\t\t\tml: [\"janu\\u00e1r\", \"febru\\u00e1r\", \"m\\u00e1rcius\", \"\\u00e1prilis\", \"m\\u00e1jus\", \"j\\u00fanius\", \"j\\u00falius\", \"augusztus\", \"szeptember\", \"okt\\u00f3ber\", \"november\", \"december\"],\n\t\t\t\tws: [\"v\", \"h\", \"k\", \"sze\", \"cs\", \"p\", \"szo\"],\n\t\t\t\twl: [\"vas\\u00e1rnap\", \"h\\u00e9tf\\u0151\", \"kedd\", \"szerda\", \"cs\\u00fct\\u00f6rt\\u00f6k\", \"p\\u00e9ntek\", \"szombat\"],\n\t\t\t\txf: \"%Y-%m-%d\",\n\t\t\t\tXf: \"%H.%M.%S\",\n\t\t\t\tcf: \"%Y. %b. %d., %A, %H.%M.%S\"\n\t\t\t},\n\t\t\ttr: {\n\t\t\t\tms: [\"Oca\", \"\\u015eub\", \"Mar\", \"Nis\", \"May\", \"Haz\", \"Tem\", \"A\\u011fu\", \"Eyl\", \"Eki\", \"Kas\", \"Ara\"],\n\t\t\t\tml: [\"Ocak\", \"\\u015eubat\", \"Mart\", \"Nisan\", \"May\\u0131s\", \"Haziran\", \"Temmuz\", \"A\\u011fustos\", \"Eyl\\u00fcl\", \"Ekim\", \"Kas\\u0131m\", \"Aral\\u0131k\"],\n\t\t\t\tws: [\"Paz\", \"Pzt\", \"Sal\", \"\\u00c7r\\u015f\", \"Pr\\u015f\", \"Cum\", \"Cts\"],\n\t\t\t\twl: [\"Pazar\", \"Pazartesi\", \"Sal\\u0131\", \"\\u00c7ar\\u015famba\", \"Per\\u015fembe\", \"Cuma\", \"Cumartesi\"],\n\t\t\t\txf: \"%d-%m-%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\tru: {\n\t\t\t\tms: [\"\\u042f\\u043d\\u0432\", \"\\u0424\\u0435\\u0432\", \"\\u041c\\u0430\\u0440\", \"\\u0410\\u043f\\u0440\", \"\\u041c\\u0430\\u0439\", \"\\u0418\\u044e\\u043d\", \"\\u0418\\u044e\\u043b\", \"\\u0410\\u0432\\u0433\", \"\\u0421\\u0435\\u043d\", \"\\u041e\\u043a\\u0442\", \"\\u041d\\u043e\\u044f\", \"\\u0414\\u0435\\u043a\"],\n\t\t\t\tml: [\"\\u042f\\u043d\\u0432\\u0430\\u0440\\u044c\", \"\\u0424\\u0435\\u0432\\u0440\\u0430\\u043b\\u044c\", \"\\u041c\\u0430\\u0440\\u0442\", \"\\u0410\\u043f\\u0440\\u0435\\u043b\\u044c\", \"\\u041c\\u0430\\u0439\", \"\\u0418\\u044e\\u043d\\u044c\", \"\\u0418\\u044e\\u043b\\u044c\", \"\\u0410\\u0432\\u0433\\u0443\\u0441\\u0442\", \"\\u0421\\u0435\\u043d\\u0442\\u044f\\u0431\\u0440\\u044c\", \"\\u041e\\u043a\\u0442\\u044f\\u0431\\u0440\\u044c\", \"\\u041d\\u043e\\u044f\\u0431\\u0440\\u044c\", \"\\u0414\\u0435\\u043a\\u0430\\u0431\\u0440\\u044c\"],\n\t\t\t\tws: [\"\\u0412\\u0441\\u043a\", \"\\u041f\\u043d\\u0434\", \"\\u0412\\u0442\\u0440\", \"\\u0421\\u0440\\u0434\", \"\\u0427\\u0442\\u0432\", \"\\u041f\\u0442\\u043d\", \"\\u0421\\u0431\\u0442\"],\n\t\t\t\twl: [\"\\u0412\\u043e\\u0441\\u043a\\u0440\\u0435\\u0441\\u0435\\u043d\\u044c\\u0435\", \"\\u041f\\u043e\\u043d\\u0435\\u0434\\u0435\\u043b\\u044c\\u043d\\u0438\\u043a\", \"\\u0412\\u0442\\u043e\\u0440\\u043d\\u0438\\u043a\", \"\\u0421\\u0440\\u0435\\u0434\\u0430\", \"\\u0427\\u0435\\u0442\\u0432\\u0435\\u0440\\u0433\", \"\\u041f\\u044f\\u0442\\u043d\\u0438\\u0446\\u0430\", \"\\u0421\\u0443\\u0431\\u0431\\u043e\\u0442\\u0430\"],\n\t\t\t\txf: \"%d.%m.%Y\",\n\t\t\t\tXf: \"%H:%M:%S\",\n\t\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t\t},\n\t\t\tzh: {\n\t\t\t\tms: [\" 1\\u6708\", \" 2\\u6708\", \" 3\\u6708\", \" 4\\u6708\", \" 5\\u6708\", \" 6\\u6708\", \" 7\\u6708\", \" 8\\u6708\", \" 9\\u6708\", \"10\\u6708\", \"11\\u6708\", \"12\\u6708\"],\n\t\t\t\tml: [\"\\u4e00\\u6708\", \"\\u4e8c\\u6708\", \"\\u4e09\\u6708\", \"\\u56db\\u6708\", \"\\u4e94\\u6708\", \"\\u516d\\u6708\", \"\\u4e03\\u6708\", \"\\u516b\\u6708\", \"\\u4e5d\\u6708\", \"\\u5341\\u6708\", \"\\u5341\\u4e00\\u6708\", \"\\u5341\\u4e8c\\u6708\"],\n\t\t\t\tws: [\"\\u65e5\", \"\\u4e00\", \"\\u4e8c\", \"\\u4e09\", \"\\u56db\", \"\\u4e94\", \"\\u516d\"],\n\t\t\t\twl: [\"\\u661f\\u671f\\u65e5\", \"\\u661f\\u671f\\u4e00\", \"\\u661f\\u671f\\u4e8c\", \"\\u661f\\u671f\\u4e09\", \"\\u661f\\u671f\\u56db\", \"\\u661f\\u671f\\u4e94\", \"\\u661f\\u671f\\u516d\"],\n\t\t\t\txf: \"%Y\\u5e74%b%d\\u65e5\",\n\t\t\t\tXf: \"%H\\u65f6%M\\u5206%S\\u79d2\",\n\t\t\t\tcf: \"%Y\\u5e74%b%d\\u65e5 %A %H\\u65f6%M\\u5206%S\\u79d2\"\n\t\t\t},\n\t\t\tko: {\n\t\t\t\tms: [\" 1\\uc6d4\", \" 2\\uc6d4\", \" 3\\uc6d4\", \" 4\\uc6d4\", \" 5\\uc6d4\", \" 6\\uc6d4\", \" 7\\uc6d4\", \" 8\\uc6d4\", \" 9\\uc6d4\", \"10\\uc6d4\", \"11\\uc6d4\", \"12\\uc6d4\"],\n\t\t\t\tml: [\"1\\uc6d4\", \"2\\uc6d4\", \"3\\uc6d4\", \"4\\uc6d4\", \"5\\uc6d4\", \"6\\uc6d4\", \"7\\uc6d4\", \"8\\uc6d4\", \"9\\uc6d4\", \"10\\uc6d4\", \"11\\uc6d4\", \"12\\uc6d4\"],\n\t\t\t\tws: [\"\\uc77c\", \"\\uc6d4\", \"\\ud654\", \"\\uc218\", \"\\ubaa9\", \"\\uae08\", \"\\ud1a0\"],\n\t\t\t\twl: [\"\\uc77c\\uc694\\uc77c\", \"\\uc6d4\\uc694\\uc77c\", \"\\ud654\\uc694\\uc77c\", \"\\uc218\\uc694\\uc77c\", \"\\ubaa9\\uc694\\uc77c\", \"\\uae08\\uc694\\uc77c\", \"\\ud1a0\\uc694\\uc77c\"],\n\t\t\t\txf: \"%Y\\ub144 %B %d\\uc77c\",\n\t\t\t\tXf: \"%H\\uc2dc %M\\ubd84 %S\\ucd08\",\n\t\t\t\tcf: \"%Y\\ub144 %B %d\\uc77c (%a) %p %I\\uc2dc %M\\ubd84 %S\\ucd08\"\n\t\t\t},\n\t\t\tja: {\n\t\t\t\tms: [\" 1\\u6708\", \" 2\\u6708\", \" 3\\u6708\", \" 4\\u6708\", \" 5\\u6708\", \" 6\\u6708\", \" 7\\u6708\", \" 8\\u6708\", \" 9\\u6708\", \"10\\u6708\", \"11\\u6708\", \"12\\u6708\"],\n\t\t\t\tml: [\"1\\u6708\", \"2\\u6708\", \"3\\u6708\", \"4\\u6708\", \"5\\u6708\", \"6\\u6708\", \"7\\u6708\", \"8\\u6708\", \"9\\u6708\", \"10\\u6708\", \"11\\u6708\", \"12\\u6708\"],\n\t\t\t\tws: [\"\\u65e5\", \"\\u6708\", \"\\u706b\", \"\\u6c34\", \"\\u6728\", \"\\u91d1\", \"\\u571f\"],\n\t\t\t\twl: [\"\\u65e5\\u66dc\\u65e5\", \"\\u6708\\u66dc\\u65e5\", \"\\u706b\\u66dc\\u65e5\", \"\\u6c34\\u66dc\\u65e5\", \"\\u6728\\u66dc\\u65e5\", \"\\u91d1\\u66dc\\u65e5\", \"\\u571f\\u66dc\\u65e5\"],\n\t\t\t\txf: \"%Y\\u5e74%B%d\\u65e5\",\n\t\t\t\tXf: \"%H\\u6642%M\\u5206%S\\u79d2\",\n\t\t\t\tcf: \"%Y\\u5e74%B%d\\u65e5 %H\\u6642%M\\u5206%S\\u79d2\"\n\t\t\t}\n\t\t};\n\n\t\tlet translation = translations[lang];\n\n\t\tlet result = [];\n\t\tlet inspec = false;\n\t\tfor (let i = 0; i < fmt.length; ++i)\n\t\t{\n\t\t\tlet c = fmt[i];\n\t\t\tif (inspec)\n\t\t\t{\n\t\t\t\tswitch (c)\n\t\t\t\t{\n\t\t\t\t\tcase \"a\":\n\t\t\t\t\t\tc = translation.ws[obj.getDay()];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"A\":\n\t\t\t\t\t\tc = translation.wl[obj.getDay()];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"b\":\n\t\t\t\t\t\tc = translation.ms[obj.getMonth()];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"B\":\n\t\t\t\t\t\tc = translation.ml[obj.getMonth()];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"c\":\n\t\t\t\t\t\tc = ul4._format(obj, translation.cf, lang);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"d\":\n\t\t\t\t\t\tc = ul4._lpad(obj.getDate(), \"0\", 2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"f\":\n\t\t\t\t\t\tc = ul4._lpad(obj.getMilliseconds(), \"0\", 3) + \"000\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"H\":\n\t\t\t\t\t\tc = ul4._lpad(obj.getHours(), \"0\", 2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"I\":\n\t\t\t\t\t\tc = ul4._lpad(((obj.getHours()-1) % 12)+1, \"0\", 2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"j\":\n\t\t\t\t\t\tc = ul4._lpad(ul4.DateTimeProtocol.yearday(obj), \"0\", 3);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"m\":\n\t\t\t\t\t\tc = ul4._lpad(obj.getMonth()+1, \"0\", 2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"M\":\n\t\t\t\t\t\tc = ul4._lpad(obj.getMinutes(), \"0\", 2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"p\":\n\t\t\t\t\t\tc = obj.getHours() < 12 ? \"AM\" : \"PM\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"S\":\n\t\t\t\t\t\tc = ul4._lpad(obj.getSeconds(), \"0\", 2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"U\":\n\t\t\t\t\t\tc = ul4._lpad(ul4._week4format(obj, 6), \"0\", 2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"w\":\n\t\t\t\t\t\tc = obj.getDay();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"W\":\n\t\t\t\t\t\tc = ul4._lpad(ul4._week4format(obj, 0), \"0\", 2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"x\":\n\t\t\t\t\t\tc = ul4._format(obj, translation.xf, lang);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"X\":\n\t\t\t\t\t\tc = ul4._format(obj, translation.Xf, lang);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"y\":\n\t\t\t\t\t\tc = (obj.getFullYear() % 100).toString();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"Y\":\n\t\t\t\t\t\tc = obj.getFullYear().toString();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"z\":\n\t\t\t\t\t\t// UTC offset in the form +HHMM or -HHMM\n\t\t\t\t\t\tc = \"\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"Z\":\n\t\t\t\t\t\t// Time zone name\n\t\t\t\t\t\tc = \"\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.push(c);\n\t\t\t\tinspec = false;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (c == \"%\")\n\t\t\t\t\tinspec = true;\n\t\t\t\telse\n\t\t\t\t\tresult.push(c);\n\t\t\t}\n\t\t}\n\t\treturn result.join(\"\");\n\t};\n\n\tul4._format_int = function _format_int(obj, fmt, lang)\n\t{\n\t\tlet work = fmt;\n\n\t\t// Defaults\n\t\tlet fill = ' ';\n\t\tlet align = '>'; // '<', '>', '=' or '^'\n\t\tlet sign = '-'; // '+', '-' or ' '\n\t\tlet alternate = false;\n\t\tlet minimumwidth = 0;\n\t\tlet type = 'd'; // 'b', 'c', 'd', 'o', 'x', 'X' or 'n'\n\n\t\t// Determine output type\n\t\tif (/[bcdoxXn]$/.test(work))\n\t\t{\n\t\t\ttype = work.substring(work.length-1);\n\t\t\twork = work.substring(0, work.length-1);\n\t\t}\n\n\t\t// Extract minimum width\n\t\tif (/\\d+$/.test(work))\n\t\t{\n\t\t\tlet minimumwidthStr = /\\d+$/.exec(work);\n\t\t\twork = work.replace(/\\d+$/, \"\");\n\t\t\tif (/^0/.test(minimumwidthStr))\n\t\t\t{\n\t\t\t\talign = '=';\n\t\t\t\tfill = '0';\n\t\t\t}\n\t\t\tminimumwidth = parseInt(minimumwidthStr);\n\t\t}\n\n\t\t// Alternate form?\n\t\tif (/#$/.test(work))\n\t\t{\n\t\t\talternate = true;\n\t\t\twork = work.substring(0, work.length-1);\n\t\t}\n\n\t\t// Determine sign\n\t\tif (/[+ -]$/.test(work))\n\t\t{\n\t\t\tif (type == 'c')\n\t\t\t\tthrow new ul4.ValueError(\"sign not allowed for integer format type 'c'\");\n\t\t\tsign = work.substring(work.length-1);\n\t\t\twork = work.substring(0, work.length-1);\n\t\t}\n\n\t\t// Extract fill and align char\n\t\tif (work.length >= 3)\n\t\t\tthrow new ul4.ValueError(\"illegal integer format string \" + ul4._repr(fmt));\n\t\telse if (work.length == 2)\n\t\t{\n\t\t\tif (/[<>=^]$/.test(work))\n\t\t\t{\n\t\t\t\talign = work[1];\n\t\t\t\tfill = work[0];\n\t\t\t}\n\t\t\telse\n\t\t\t\tthrow new ul4.ValueError(\"illegal integer format string \" + ul4._repr(fmt));\n\t\t}\n\t\telse if (work.length == 1)\n\t\t{\n\t\t\tif (/^[<>=^]$/.test(work))\n\t\t\t\talign = work;\n\t\t\telse\n\t\t\t\tthrow new ul4.ValueError(\"illegal integer format string \" + ul4._repr(fmt));\n\t\t}\n\n\t\t// Basic number formatting\n\t\tlet neg = obj < 0;\n\n\t\tif (neg)\n\t\t\tobj = -obj;\n\n\t\tlet output;\n\t\tswitch (type)\n\t\t{\n\t\t\tcase 'b':\n\t\t\t\toutput = obj.toString(2);\n\t\t\t\tbreak;\n\t\t\tcase 'c':\n\t\t\t\tif (neg || obj > 65535)\n\t\t\t\t\tthrow new ul4.ValueError(\"value out of bounds for c format\");\n\t\t\t\toutput = String.fromCharCode(obj);\n\t\t\t\tbreak;\n\t\t\tcase 'd':\n\t\t\t\toutput = obj.toString();\n\t\t\t\tbreak;\n\t\t\tcase 'o':\n\t\t\t\toutput = obj.toString(8);\n\t\t\t\tbreak;\n\t\t\tcase 'x':\n\t\t\t\toutput = obj.toString(16);\n\t\t\t\tbreak;\n\t\t\tcase 'X':\n\t\t\t\toutput = obj.toString(16).toUpperCase();\n\t\t\t\tbreak;\n\t\t\tcase 'n':\n\t\t\t\t// FIXME: locale formatting\n\t\t\t\toutput = obj.toString();\n\t\t\t\tbreak;\n\t\t}\n\n\t\t// The rest of the formatting\n\t\tif (align === '=')\n\t\t{\n\t\t\tif (neg || sign !== '-')\n\t\t\t\t--minimumwidth;\n\t\t\tif (alternate && (type === 'b' || type === 'o' || type === 'x' || type === 'X'))\n\t\t\t\tminimumwidth -= 2;\n\n\t\t\tif (output.length < minimumwidth)\n\t\t\t\toutput = ul4._str_repeat(fill, minimumwidth-output.length) + output;\n\n\t\t\tif (alternate && (type === 'b' || type === 'o' || type === 'x' || type === 'X'))\n\t\t\t\toutput = \"0\" + type + output;\n\n\t\t\tif (neg)\n\t\t\t\toutput = \"-\" + output;\n\t\t\telse if (sign != '-')\n\t\t\t\toutput = sign + output;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (alternate && (type == 'b' || type == 'o' || type == 'x' || type == 'X'))\n\t\t\t\toutput = \"0\" + type + output;\n\t\t\tif (neg)\n\t\t\t\toutput = \"-\" + output;\n\t\t\telse if (sign != '-')\n\t\t\t\toutput = sign + output;\n\t\t\tif (output.length < minimumwidth)\n\t\t\t{\n\t\t\t\tif (align == '<')\n\t\t\t\t\toutput = output + ul4._str_repeat(fill, minimumwidth-output.length);\n\t\t\t\telse if (align == '>')\n\t\t\t\t\toutput = ul4._str_repeat(fill, minimumwidth-output.length) + output;\n\t\t\t\telse // if (align == '^')\n\t\t\t\t{\n\t\t\t\t\tlet pad = minimumwidth - output.length;\n\t\t\t\t\tlet padBefore = Math.floor(pad/2);\n\t\t\t\t\tlet padAfter = pad-padBefore;\n\t\t\t\t\toutput = ul4._str_repeat(fill, padBefore) + output + ul4._str_repeat(fill, padAfter);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t};\n\n\t// Format ``obj`` using the format string ``fmt`` in the language ``lang``\n\tul4._format = function _format(obj, fmt, lang)\n\t{\n\t\tif (typeof(lang) === \"undefined\" || lang === null)\n\t\t\tlang = \"en\";\n\t\telse\n\t\t{\n\t\t\tlet translations = {de: null, en: null, fr: null, es: null, it: null, da: null, sv: null, nl: null, pt: null, cs: null, sk: null, pl: null, hr: null, sr: null, ro: null, hu: null, tr: null, ru: null, zh: null, ko: null, ja: null};\n\t\t\tlang = lang.toLowerCase();\n\t\t\tif (typeof(translations[lang]) === \"undefined\")\n\t\t\t{\n\t\t\t\tlang = lang.split(/_/)[0];\n\t\t\t\tif (typeof(translations[lang]) === \"undefined\")\n\t\t\t\t\tlang = \"en\";\n\t\t\t}\n\t\t}\n\t\tif (ul4._isdate(obj))\n\t\t\treturn ul4._format_datetime(obj._date, fmt, lang);\n\t\tif (ul4._isdatetime(obj))\n\t\t\treturn ul4._format_datetime(obj, fmt, lang);\n\t\telse if (ul4._isint(obj))\n\t\t\treturn ul4._format_int(obj, fmt, lang);\n\t\telse if (obj === true)\n\t\t\treturn ul4._format_int(1, fmt, lang);\n\t\telse if (obj === false)\n\t\t\treturn ul4._format_int(0, fmt, lang);\n\t};\n\n\tul4._lpad = function _lpad(string, pad, len)\n\t{\n\t\tif (typeof(string) === \"number\")\n\t\t\tstring = string.toString();\n\t\twhile (string.length < len)\n\t\t\tstring = pad + string;\n\t\treturn string;\n\t};\n\n\tul4._rpad = function _rpad(string, pad, len)\n\t{\n\t\tif (typeof(string) === \"number\")\n\t\t\tstring = string.toString();\n\t\twhile (string.length < len)\n\t\t\tstring = string + pad;\n\t\treturn string;\n\t};\n\n\t// This is outside of ``Proto`` on purpose\n\t// This way reactive frameworks like ``Vue.js`` don't get to see it\n\t// and complain about mutating render functions when those create new objects.\n\tlet _nextid = 1;\n\n\tul4.Proto = class Proto\n\t{\n\t\tconstructor()\n\t\t{\n\t\t\tthis.__id__ = _nextid++;\n\t\t}\n\n\t\tul4type()\n\t\t{\n\t\t\treturn this.constructor.name;\n\t\t}\n\n\t\t// equality comparison of objects defaults to identity comparison\n\t\t__eq__(other)\n\t\t{\n\t\t\treturn this === other;\n\t\t}\n\n\t\t// To overwrite equality comparison, you only have to overwrite ``__eq__``,\n\t\t// ``__ne__`` will be synthesized from that\n\t\t__ne__(other)\n\t\t{\n\t\t\treturn !this.__eq__(other);\n\t\t}\n\n\t\t// For other comparison operators, each method has to be implemented:\n\t\t// ``<`` calls ``__lt__``, ``<=`` calls ``__le__``, ``>`` calls ``__gt__`` and\n\t\t// ``>=`` calls ``__ge__``\n\n\t\t__bool__()\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tul4.Signature = class Signature extends ul4.Proto\n\t{\n\t\tconstructor(...args)\n\t\t{\n\t\t\tsuper();\n\t\t\tthis.args = [];\n\t\t\tthis.argNames = {};\n\t\t\tthis.remargs = null;\n\t\t\tthis.remkwargs = null;\n\n\t\t\tlet nextDefault = false;\n\t\t\tlet lastArgname = null;\n\t\t\tfor (let i = 0; i < args.length; ++i)\n\t\t\t{\n\t\t\t\tlet argName = args[i];\n\t\t\t\tif (nextDefault)\n\t\t\t\t{\n\t\t\t\t\tthis.args.push({name: lastArgname, defaultValue: argName});\n\t\t\t\t\tthis.argNames[lastArgname] = true;\n\t\t\t\t\tnextDefault = false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (argName.substr(argName.length-1) === \"=\")\n\t\t\t\t\t{\n\t\t\t\t\t\tlastArgname = argName.substr(0, argName.length-1);\n\t\t\t\t\t\tnextDefault = true;\n\t\t\t\t\t}\n\t\t\t\t\telse if (argName.substr(0, 2) === \"**\")\n\t\t\t\t\t\tthis.remkwargs = argName.substr(2);\n\t\t\t\t\telse if (argName.substr(0, 1) === \"*\")\n\t\t\t\t\t\tthis.remargs = argName.substr(1);\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.args.push({name: argName});\n\t\t\t\t\t\tthis.argNames[argName] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Create the argument array for calling a function with this signature with the arguments available from ``args``\n\t\tbindArray(name, args, kwargs)\n\t\t{\n\t\t\tlet finalargs = [];\n\t\t\tlet decname = name !== null ? name + \"() \" : \"\";\n\n\t\t\tfor (let i = 0; i < this.args.length; ++i)\n\t\t\t{\n\t\t\t\tlet arg = this.args[i];\n\t\t\t\tif (i < args.length)\n\t\t\t\t{\n\t\t\t\t\tif (kwargs.hasOwnProperty(arg.name))\n\t\t\t\t\t\tthrow new ul4.ArgumentError(decname + \"argument \" + ul4._repr(arg.name) + \" (position \" + i + \") specified multiple times\");\n\t\t\t\t\tfinalargs.push(args[i]);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (kwargs.hasOwnProperty(arg.name))\n\t\t\t\t\t\tfinalargs.push(kwargs[arg.name]);\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tif (arg.hasOwnProperty(\"defaultValue\"))\n\t\t\t\t\t\t\tfinalargs.push(arg.defaultValue);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new ul4.ArgumentError(\"required \" + decname + \"argument \" + ul4._repr(arg.name) + \" (position \" + i + \") missing\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Do we accept additional positional arguments?\n\t\t\tif (this.remargs === null)\n\t\t\t{\n\t\t\t\t// No, but we have them -> complain\n\t\t\t\tif (args.length > this.args.length)\n\t\t\t\t{\n\t\t\t\t\tlet prefix = name === null ? \"expected\" : name + \"() expects\";\n\t\t\t\t\tthrow new ul4.ArgumentError(prefix + \" at most \" + this.args.length + \" positional argument\" + (this.args.length != 1 ? \"s\" : \"\") + \", \" + args.length + \" given\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t// Put additional positional arguments in the call into the ``*`` argument (if there are none, this pushes an empty list)\n\t\t\t\tfinalargs.push(args.slice(this.args.length));\n\t\t\t}\n\n\t\t\t// Do we accept arbitrary keyword arguments?\n\t\t\tif (this.remkwargs === null)\n\t\t\t{\n\t\t\t\t// No => complain about unknown ones\n\t\t\t\tfor (let key in kwargs)\n\t\t\t\t{\n\t\t\t\t\tif (!this.argNames[key])\n\t\t\t\t\t{\n\t\t\t\t\t\tif (name === null)\n\t\t\t\t\t\t\tthrow new ul4.ArgumentError(\"an argument named \" + ul4._repr(key) + \" isn't supported\");\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new ul4.ArgumentError(name + \"() doesn't support an argument named \" + ul4._repr(key));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t// Yes => Put the unknown ones into an object and add that to the arguments array\n\t\t\t\tlet remkwargs = ul4._emptymap();\n\t\t\t\tfor (let key in kwargs)\n\t\t\t\t{\n\t\t\t\t\tif (!this.argNames[key])\n\t\t\t\t\t\tul4._setmap(remkwargs, key, kwargs[key]);\n\t\t\t\t}\n\t\t\t\tfinalargs.push(remkwargs);\n\t\t\t}\n\n\t\t\treturn finalargs;\n\t\t}\n\n\t\t// Create the argument object for calling a function with this signature with the arguments available from ``args``\n\t\tbindObject(name, args, kwargs)\n\t\t{\n\t\t\targs = this.bindArray(name, args, kwargs);\n\t\t\tlet argObject = {};\n\t\t\tlet i;\n\t\t\tfor (i = 0; i < this.args.length; ++i)\n\t\t\t\targObject[this.args[i].name] = args[i];\n\t\t\tif (this.remargs !== null)\n\t\t\t\targObject[this.remargs] = args[i++];\n\t\t\tif (this.remkwargs !== null)\n\t\t\t\targObject[this.remkwargs] = args[i++];\n\t\t\treturn argObject;\n\t\t}\n\n\t\t__repr__()\n\t\t{\n\t\t\treturn \"<Signature \" + this.toString() + \">\";\n\t\t}\n\n\t\t__str__()\n\t\t{\n\t\t\treturn this.toString();\n\t\t}\n\n\t\ttoString()\n\t\t{\n\t\t\tlet v = [];\n\t\t\tfor (let i = 0; i < this.args.length; ++i)\n\t\t\t{\n\t\t\t\tlet arg = this.args[i];\n\t\t\t\tif (arg.hasOwnProperty(\"defaultValue\"))\n\t\t\t\t\tv.push(arg.name + \"=\" + ul4._repr(arg.defaultValue));\n\t\t\t\telse\n\t\t\t\t\tv.push(arg.name);\n\t\t\t}\n\t\t\tif (this.remargs !== null)\n\t\t\t\tv.push(\"*\" + this.remargs);\n\t\t\tif (this.remkwargs !== null)\n\t\t\t\tv.push(\"**\" + this.remkwargs);\n\t\t\treturn \"(\" + v.join(\", \") + \")\";\n\t\t}\n\t};\n\n\t// When we don't have a real ``Set`` type, emulate one that supports strings\n\tul4._Set = class _Set\n\t{\n\t\tconstructor(...items)\n\t\t{\n\t\t\tthis.items = {};\n\t\t\tthis.add(...items);\n\t\t}\n\n\t\tadd(...items)\n\t\t{\n\t\t\tfor (let i = 0; i < items.length; ++i)\n\t\t\t\tthis.items[items[i]] = true;\n\t\t}\n\n\t\tclear()\n\t\t{\n\t\t\tthis.items = {};\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tlet self = this;\n\t\t\tswitch (attrname)\n\t\t\t{\n\t\t\t\tcase \"add\":\n\t\t\t\t\treturn ul4.expose(function add(items){ self.add(...items); }, [\"*items\"]);\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new ul4.AttributeError(this, attrname);\n\t\t\t}\n\t\t}\n\n\t\t__contains__(item)\n\t\t{\n\t\t\treturn this.items[item] || false;\n\t\t}\n\n\t\thas(item)\n\t\t{\n\t\t\treturn this.items[item] || false;\n\t\t}\n\n\t\t__bool__()\n\t\t{\n\t\t\tfor (let item in this.items)\n\t\t\t{\n\t\t\t\tif (!this.items.hasOwnProperty(item))\n\t\t\t\t\tcontinue;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\t__repr__()\n\t\t{\n\t\t\tlet v = [];\n\t\t\tv.push(\"{\");\n\t\t\tlet i = 0;\n\t\t\tfor (let item in this.items)\n\t\t\t{\n\t\t\t\tif (!this.items.hasOwnProperty(item))\n\t\t\t\t\tcontinue;\n\t\t\t\tif (i++)\n\t\t\t\t\tv.push(\", \");\n\t\t\t\tv.push(ul4._repr(item));\n\t\t\t}\n\t\t\tif (!i)\n\t\t\t\tv.push(\"/\");\n\t\t\tv.push(\"}\");\n\t\t\treturn v.join(\"\");\n\t\t}\n\n\t\t__eq__(other)\n\t\t{\n\t\t\t// We'll check that everything in ``this`` is in ``other``\n\t\t\t// and if both have the same number of items they are equal\n\t\t\tif (ul4._isset(other))\n\t\t\t{\n\t\t\t\tlet count = 0;\n\t\t\t\tfor (let item in this.items)\n\t\t\t\t{\n\t\t\t\t\tif (!other.has(item))\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t// count the number of items we have\n\t\t\t\t\t++count;\n\t\t\t\t}\n\t\t\t\treturn other.size == count;\n\t\t\t}\n\t\t\telse if (ul4._isul4set(other))\n\t\t\t{\n\t\t\t\tlet count = 0;\n\t\t\t\tfor (let item in this.items)\n\t\t\t\t{\n\t\t\t\t\tif (!other[item])\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t// count the number of items we have\n\t\t\t\t\t++count;\n\t\t\t\t}\n\t\t\t\t// Subtract the number of items that ``other`` has\n\t\t\t\tfor (let item in other.items)\n\t\t\t\t\t--count;\n\t\t\t\treturn count == 0;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn false;\n\t\t}\n\n\t\t__le__(other)\n\t\t{\n\t\t\t// check that ``this`` is a subset of ``other``,\n\t\t\t// i.e. everything in ``this`` is also in ``other``\n\t\t\tif (ul4._isset(other))\n\t\t\t{\n\t\t\t\tlet count = 0;\n\t\t\t\tfor (let item in this.items)\n\t\t\t\t{\n\t\t\t\t\tif (!other.has(item))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse if (ul4._isul4set(other))\n\t\t\t{\n\t\t\t\tlet count = 0;\n\t\t\t\tfor (let item in this.items)\n\t\t\t\t{\n\t\t\t\t\tif (!other.items[item])\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse\n\t\t\t\tul4._unorderable(\"<\", this, other);\n\t\t}\n\n\t\t__ge__(other)\n\t\t{\n\t\t\t// check that ``this`` is a superset of ``other``,\n\t\t\t// i.e. everything in ``other`` is also in ``this``\n\t\t\tif (ul4._isset(other))\n\t\t\t{\n\t\t\t\tother.forEach(function(value) {\n\t\t\t\t\tif (!this.items[value])\n\t\t\t\t\t\treturn false;\n\t\t\t\t}, this);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse if (ul4._isul4set(other))\n\t\t\t{\n\t\t\t\tlet count = 0;\n\t\t\t\tfor (let key in other.items)\n\t\t\t\t{\n\t\t\t\t\tif (!this.items[key])\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse\n\t\t\t\tul4._unorderable(\"<=\", this, other);\n\t\t}\n\t};\n\n\tul4._Set.prototype.__type__ = \"set\";\n\n\t// Adds name and signature to a function/method and makes the method callable in templates\n\tul4.expose = function expose(f, signature, options)\n\t{\n\t\toptions = options || {};\n\t\tif (options.name)\n\t\t\tf._ul4_name = options.name;\n\t\tif (ul4._islist(signature))\n\t\t\tsignature = new ul4.Signature(...signature);\n\t\tf._ul4_signature = signature;\n\t\tf._ul4_needsobject = options.needsobject || false;\n\t\tf._ul4_needscontext = options.needscontext || false;\n\t};\n\n\t// Protocol objects for all builtin types\n\t// These objects are singleton, so we replace the constructor with the prototype object afterwards\n\tul4.Protocol = class Protocol\n\t{\n\t\tul4type()\n\t\t{\n\t\t\treturn this.constructor.name;\n\t\t}\n\n\t\tdir()\n\t\t{\n\t\t\treturn this.attrs;\n\t\t}\n\n\t\tget(obj)\n\t\t{\n\t\t\tif (ul4._isstr(obj))\n\t\t\t\treturn ul4.StrProtocol;\n\t\t\telse if (ul4._islist(obj))\n\t\t\t\treturn ul4.ListProtocol;\n\t\t\telse if (ul4._isdate(obj))\n\t\t\t\treturn ul4.DateProtocol;\n\t\t\telse if (ul4._isset(obj))\n\t\t\t\treturn ul4.SetProtocol;\n\t\t\telse if (ul4._ismap(obj))\n\t\t\t\treturn ul4.MapProtocol;\n\t\t\telse if (ul4._isdatetime(obj))\n\t\t\t\treturn ul4.DateTimeProtocol;\n\t\t\telse if (ul4._isobject(obj))\n\t\t\t\treturn ul4.ObjectProtocol;\n\t\t\telse\n\t\t\t\treturn ul4.Protocol;\n\t\t}\n\n\t\tgetattr(obj, attrname)\n\t\t{\n\t\t\tif (obj === null || typeof(obj) === \"undefined\")\n\t\t\t\tthrow new ul4.AttributeError(obj, attrname);\n\t\t\telse if (typeof(obj.__getattr__) === \"function\")\n\t\t\t\treturn obj.__getattr__(attrname);\n\t\t\telse if (this.attrs.has(attrname))\n\t\t\t{\n\t\t\t\tlet attr = this[attrname];\n\t\t\t\tlet realattr = function realattr(...args) {\n\t\t\t\t\treturn attr.apply(this, [obj, ...args]);\n\t\t\t\t};\n\t\t\t\trealattr.name = attr.name;\n\t\t\t\trealattr._ul4_name = attr._ul4_name || attr.name;\n\t\t\t\trealattr._ul4_signature = attr._ul4_signature;\n\t\t\t\trealattr._ul4_needsobject = attr._ul4_needsobject;\n\t\t\t\trealattr._ul4_needscontext = attr._ul4_needscontext;\n\t\t\t\treturn realattr;\n\t\t\t}\n\t\t\telse\n\t\t\t\tthrow new ul4.AttributeError(obj, attrname);\n\t\t}\n\n\t\thasattr(obj, attrname)\n\t\t{\n\t\t\tif (obj === null || typeof(obj) === \"undefined\")\n\t\t\t\treturn false;\n\t\t\telse if (typeof(obj.__getattr__) === \"function\")\n\t\t\t{\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tobj.__getattr__(attrname);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tcatch (exc)\n\t\t\t\t{\n\t\t\t\t\tif (exc instanceof ul4.AttributeError && exc.obj === object)\n\t\t\t\t\t\treturn false;\n\t\t\t\t\telse\n\t\t\t\t\t\tthrow exc;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn this.attrs.has(attrname);\n\t\t}\n\t};\n\n\tul4.Protocol = ul4.Protocol.prototype;\n\tul4.Protocol.attrs = ul4._emptyset();\n\n\tul4.StrProtocol = class StrProtocol extends ul4.Protocol.constructor\n\t{\n\t\tul4type(obj)\n\t\t{\n\t\t\treturn \"str\";\n\t\t}\n\n\t\tcount(obj, sub, start=null, end=null)\n\t\t{\n\t\t\treturn ul4._count(obj, sub, start, end);\n\t\t}\n\n\t\tfind(obj, sub, start=null, end=null)\n\t\t{\n\t\t\treturn ul4._find(obj, sub, start, end);\n\t\t}\n\n\t\trfind(obj, sub, start=null, end=null)\n\t\t{\n\t\t\treturn ul4._rfind(obj, sub, start, end);\n\t\t}\n\n\t\treplace(obj, old, new_, count=null)\n\t\t{\n\t\t\tif (count === null)\n\t\t\t\tcount = obj.length;\n\n\t\t\tlet result = [];\n\t\t\twhile (obj.length)\n\t\t\t{\n\t\t\t\tlet pos = obj.indexOf(old);\n\t\t\t\tif (pos === -1 || !count--)\n\t\t\t\t{\n\t\t\t\t\tresult.push(obj);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tresult.push(obj.substr(0, pos));\n\t\t\t\tresult.push(new_);\n\t\t\t\tobj = obj.substr(pos + old.length);\n\t\t\t}\n\t\t\treturn result.join(\"\");\n\t\t}\n\n\t\tstrip(obj, chars=null)\n\t\t{\n\t\t\tchars = chars || \" \\r\\n\\t\";\n\t\t\tif (typeof(chars) !== \"string\")\n\t\t\t\tthrow new ul4.TypeError(\"strip() requires a string argument\");\n\n\t\t\twhile (obj && chars.indexOf(obj[0]) >= 0)\n\t\t\t\tobj = obj.substr(1);\n\t\t\twhile (obj && chars.indexOf(obj[obj.length-1]) >= 0)\n\t\t\t\tobj = obj.substr(0, obj.length-1);\n\t\t\treturn obj;\n\t\t}\n\n\t\tlstrip(obj, chars=null)\n\t\t{\n\t\t\tchars = chars || \" \\r\\n\\t\";\n\t\t\tif (typeof(chars) !== \"string\")\n\t\t\t\tthrow new ul4.TypeError(\"lstrip() requires a string argument\");\n\n\t\t\twhile (obj && chars.indexOf(obj[0]) >= 0)\n\t\t\t\tobj = obj.substr(1);\n\t\t\treturn obj;\n\t\t}\n\n\t\trstrip(obj, chars=null)\n\t\t{\n\t\t\tchars = chars || \" \\r\\n\\t\";\n\t\t\tif (typeof(chars) !== \"string\")\n\t\t\t\tthrow new ul4.TypeError(\"rstrip() requires a string argument\");\n\n\t\t\twhile (obj && chars.indexOf(obj[obj.length-1]) >= 0)\n\t\t\t\tobj = obj.substr(0, obj.length-1);\n\t\t\treturn obj;\n\t\t}\n\n\t\tsplit(obj, sep=null, count=null)\n\t\t{\n\t\t\tif (sep !== null && typeof(sep) !== \"string\")\n\t\t\t\tthrow new ul4.TypeError(\"split() requires a string\");\n\n\t\t\tif (count === null)\n\t\t\t{\n\t\t\t\tlet result = obj.split(sep !== null ? sep : /[ \\n\\r\\t]+/);\n\t\t\t\tif (sep === null)\n\t\t\t\t{\n\t\t\t\t\tif (result.length && !result[0].length)\n\t\t\t\t\t\tresult.splice(0, 1);\n\t\t\t\t\tif (result.length && !result[result.length-1].length)\n\t\t\t\t\t\tresult.splice(-1);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (sep !== null)\n\t\t\t\t{\n\t\t\t\t\tlet result = [];\n\t\t\t\t\twhile (obj.length)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet pos = obj.indexOf(sep);\n\t\t\t\t\t\tif (pos === -1 || !count--)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresult.push(obj);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult.push(obj.substr(0, pos));\n\t\t\t\t\t\tobj = obj.substr(pos + sep.length);\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet result = [];\n\t\t\t\t\twhile (obj.length)\n\t\t\t\t\t{\n\t\t\t\t\t\tobj = ul4.StrProtocol.lstrip(obj, null);\n\t\t\t\t\t\tlet part;\n\t\t\t\t\t\tif (!count--)\n\t\t\t\t\t\t\t part = obj; // Take the rest of the string\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tpart = obj.split(/[ \\n\\r\\t]+/, 1)[0];\n\t\t\t\t\t\tif (part.length)\n\t\t\t\t\t\t\tresult.push(part);\n\t\t\t\t\t\tobj = obj.substr(part.length);\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\trsplit(obj, sep=null, count=null)\n\t\t{\n\t\t\tif (sep !== null && typeof(sep) !== \"string\")\n\t\t\t\tthrow new ul4.TypeError(\"rsplit() requires a string as second argument\");\n\n\t\t\tif (count === null)\n\t\t\t{\n\t\t\t\tlet result = obj.split(sep !== null ? sep : /[ \\n\\r\\t]+/);\n\t\t\t\tif (sep === null)\n\t\t\t\t{\n\t\t\t\t\tif (result.length && !result[0].length)\n\t\t\t\t\t\tresult.splice(0, 1);\n\t\t\t\t\tif (result.length && !result[result.length-1].length)\n\t\t\t\t\t\tresult.splice(-1);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (sep !== null)\n\t\t\t\t{\n\t\t\t\t\tlet result = [];\n\t\t\t\t\twhile (obj.length)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet pos = obj.lastIndexOf(sep);\n\t\t\t\t\t\tif (pos === -1 || !count--)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresult.unshift(obj);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresult.unshift(obj.substr(pos+sep.length));\n\t\t\t\t\t\tobj = obj.substr(0, pos);\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet result = [];\n\t\t\t\t\twhile (obj.length)\n\t\t\t\t\t{\n\t\t\t\t\t\tobj = ul4.StrProtocol.rstrip(obj);\n\t\t\t\t\t\tlet part;\n\t\t\t\t\t\tif (!count--)\n\t\t\t\t\t\t\t part = obj; // Take the rest of the string\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpart = obj.split(/[ \\n\\r\\t]+/);\n\t\t\t\t\t\t\tpart = part[part.length-1];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (part.length)\n\t\t\t\t\t\t\tresult.unshift(part);\n\t\t\t\t\t\tobj = obj.substr(0, obj.length-part.length);\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsplitlines(obj, keepends=false)\n\t\t{\n\t\t\tlet pos = 0;\n\t\t\tlet lookingAtLineEnd = function lookingAtLineEnd()\n\t\t\t{\n\t\t\t\tlet c = obj[pos];\n\t\t\t\tif (c === '\\n' || c == '\\u000B' || c == '\\u000C' || c == '\\u001C' || c == '\\u001D' || c == '\\u001E' || c == '\\u0085' || c == '\\u2028' || c == '\\u2029')\n\t\t\t\t\treturn 1;\n\t\t\t\tif (c === '\\r')\n\t\t\t\t{\n\t\t\t\t\tif (pos == length-1)\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\tif (obj[pos+1] === '\\n')\n\t\t\t\t\t\treturn 2;\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t};\n\n\t\t\tlet result = [], length = obj.length;\n\n\t\t\tfor (pos = 0, startpos = 0;;)\n\t\t\t{\n\t\t\t\tif (pos >= length)\n\t\t\t\t{\n\t\t\t\t\tif (startpos != pos)\n\t\t\t\t\t\tresult.push(obj.substring(startpos));\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\t\t\t\tlet lineendlen = lookingAtLineEnd();\n\t\t\t\tif (!lineendlen)\n\t\t\t\t\t++pos;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet endpos = pos + (keepends ? lineendlen : 0);\n\t\t\t\t\tresult.push(obj.substring(startpos, endpos));\n\t\t\t\t\tpos += lineendlen;\n\t\t\t\t\tstartpos = pos;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlower(obj)\n\t\t{\n\t\t\treturn obj.toLowerCase();\n\t\t}\n\n\t\tupper(obj)\n\t\t{\n\t\t\treturn obj.toUpperCase();\n\t\t}\n\n\t\tcapitalize(obj)\n\t\t{\n\t\t\tif (obj.length)\n\t\t\t\tobj = obj[0].toUpperCase() + obj.slice(1).toLowerCase();\n\t\t\treturn obj;\n\t\t}\n\n\t\tjoin(obj, iterable)\n\t\t{\n\t\t\tlet resultlist = [];\n\t\t\tfor (let iter = ul4._iter(iterable);;)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tresultlist.push(item.value);\n\t\t\t}\n\t\t\treturn resultlist.join(obj);\n\t\t}\n\n\t\tstartswith(obj, prefix)\n\t\t{\n\t\t\tif (typeof(prefix) === \"string\")\n\t\t\t\treturn obj.substr(0, prefix.length) === prefix;\n\t\t\telse if (ul4._islist(prefix))\n\t\t\t{\n\t\t\t\tfor (let i = 0; i < prefix.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet singlepre = prefix[i];\n\t\t\t\t\tif (obj.substr(0, singlepre.length) === singlepre)\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse\n\t\t\t\tthrow new ul4.TypeError(\"startswith() argument must be string\");\n\t\t}\n\n\t\tendswith(obj, suffix)\n\t\t{\n\t\t\tif (typeof(suffix) === \"string\")\n\t\t\t\treturn obj.substr(obj.length-suffix.length) === suffix;\n\t\t\telse if (ul4._islist(suffix))\n\t\t\t{\n\t\t\t\tfor (let i = 0; i < suffix.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet singlesuf = suffix[i];\n\t\t\t\t\tif (obj.substr(obj.length-singlesuf.length) === singlesuf)\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse\n\t\t\t\tthrow new ul4.TypeError(\"endswith() argument must be string or list of strings\");\n\t\t}\n\t};\n\n\tul4.StrProtocol = ul4.StrProtocol.prototype;\n\tul4.StrProtocol.attrs = ul4._makeset(\n\t\t\"split\",\n\t\t\"rsplit\",\n\t\t\"splitlines\",\n\t\t\"strip\",\n\t\t\"lstrip\",\n\t\t\"rstrip\",\n\t\t\"upper\",\n\t\t\"lower\",\n\t\t\"capitalize\",\n\t\t\"startswith\",\n\t\t\"endswith\",\n\t\t\"replace\",\n\t\t\"count\",\n\t\t\"find\",\n\t\t\"rfind\",\n\t\t\"join\"\n\t);\n\n\tul4.expose(ul4.StrProtocol.count, [\"sub\", \"start=\", null, \"end=\", null]);\n\tul4.expose(ul4.StrProtocol.find, [\"sub\", \"start=\", null, \"end=\", null]);\n\tul4.expose(ul4.StrProtocol.rfind, [\"sub\", \"start=\", null, \"end=\", null]);\n\tul4.expose(ul4.StrProtocol.replace, [\"old\", \"new\", \"count=\", null]);\n\tul4.expose(ul4.StrProtocol.strip, [\"chars=\", null]);\n\tul4.expose(ul4.StrProtocol.lstrip, [\"chars=\", null]);\n\tul4.expose(ul4.StrProtocol.rstrip, [\"chars=\", null]);\n\tul4.expose(ul4.StrProtocol.split, [\"sep=\", null, \"count=\", null]);\n\tul4.expose(ul4.StrProtocol.rsplit, [\"sep=\", null, \"count=\", null]);\n\tul4.expose(ul4.StrProtocol.splitlines, [\"keepends=\", false]);\n\tul4.expose(ul4.StrProtocol.lower, []);\n\tul4.expose(ul4.StrProtocol.upper, []);\n\tul4.expose(ul4.StrProtocol.capitalize, []);\n\tul4.expose(ul4.StrProtocol.join, [\"iterable\"]);\n\tul4.expose(ul4.StrProtocol.startswith, [\"prefix\"]);\n\tul4.expose(ul4.StrProtocol.endswith, [\"suffix\"]);\n\n\tul4.ListProtocol = class ListProtocol extends ul4.Protocol.constructor\n\t{\n\t\tul4type(obj)\n\t\t{\n\t\t\treturn \"list\";\n\t\t}\n\n\t\tappend(obj, items)\n\t\t{\n\t\t\tfor (let i = 0; i < items.length; ++i)\n\t\t\t\tobj.push(items[i]);\n\t\t\treturn null;\n\t\t}\n\n\t\tinsert(obj, pos, items)\n\t\t{\n\t\t\tif (pos < 0)\n\t\t\t\tpos += obj.length;\n\n\t\t\tfor (let i = 0; i < items.length; ++i)\n\t\t\t\tobj.splice(pos++, 0, items[i]);\n\t\t\treturn null;\n\t\t}\n\n\t\tpop(obj, pos)\n\t\t{\n\t\t\tif (pos < 0)\n\t\t\t\tpos += obj.length;\n\n\t\t\tlet result = obj[pos];\n\t\t\tobj.splice(pos, 1);\n\t\t\treturn result;\n\t\t}\n\n\t\tcount(obj, sub, start=null, end=null)\n\t\t{\n\t\t\treturn ul4._count(obj, sub, start, end);\n\t\t}\n\n\t\tfind(obj, sub, start=null, end=null)\n\t\t{\n\t\t\treturn ul4._find(obj, sub, start, end);\n\t\t}\n\n\t\trfind(obj, sub, start=null, end=null)\n\t\t{\n\t\t\treturn ul4._rfind(obj, sub, start, end);\n\t\t}\n\t};\n\n\tul4.ListProtocol = ul4.ListProtocol.prototype;\n\tul4.ListProtocol.attrs = ul4._makeset(\n\t\t\"append\",\n\t\t\"insert\",\n\t\t\"pop\",\n\t\t\"count\",\n\t\t\"find\",\n\t\t\"rfind\"\n\t);\n\n\tul4.expose(ul4.ListProtocol.append, [\"*items\"]);\n\tul4.expose(ul4.ListProtocol.insert, [\"pos\", \"*items\"]);\n\tul4.expose(ul4.ListProtocol.pop, [\"pos=\", -1]);\n\tul4.expose(ul4.ListProtocol.count, [\"sub\", \"start=\", null, \"end=\", null]);\n\tul4.expose(ul4.ListProtocol.find, [\"sub\", \"start=\", null, \"end=\", null]);\n\tul4.expose(ul4.ListProtocol.rfind, [\"sub\", \"start=\", null, \"end=\", null]);\n\n\tul4.MapProtocol = class MapProtocol extends ul4.Protocol.constructor\n\t{\n\t\tul4type(obj)\n\t\t{\n\t\t\treturn \"dict\";\n\t\t}\n\n\t\tgetattr(obj, attrname)\n\t\t{\n\t\t\tif (this.attrs.has(attrname))\n\t\t\t{\n\t\t\t\tlet attr = this[attrname];\n\t\t\t\tlet realattr = function realattr(...args) {\n\t\t\t\t\treturn attr.apply(this, [obj, ...args]);\n\t\t\t\t};\n\t\t\t\trealattr.name = attr.name;\n\t\t\t\trealattr._ul4_name = attr._ul4_name || attr.name;\n\t\t\t\trealattr._ul4_signature = attr._ul4_signature;\n\t\t\t\trealattr._ul4_needsobject = attr._ul4_needsobject;\n\t\t\t\trealattr._ul4_needscontext = attr._ul4_needscontext;\n\t\t\t\treturn realattr;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn obj.get(attrname);\n\t\t}\n\n\t\tget(obj, key, default_=null)\n\t\t{\n\t\t\tif (obj.has(key))\n\t\t\t\treturn obj.get(key);\n\t\t\treturn default_;\n\t\t}\n\n\t\titems(obj)\n\t\t{\n\t\t\tlet result = [];\n\t\t\tobj.forEach(function(value, key) {\n\t\t\t\tresult.push([key, value]);\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\n\t\tvalues(obj)\n\t\t{\n\t\t\tlet result = [];\n\t\t\tobj.forEach(function(value, key) {\n\t\t\t\tresult.push(value);\n\t\t\t});\n\t\t\treturn result;\n\t\t}\n\n\t\tupdate(obj, other, kwargs)\n\t\t{\n\t\t\treturn ul4._update(obj, other, kwargs);\n\t\t}\n\n\t\tclear(obj)\n\t\t{\n\t\t\tobj.clear();\n\t\t\treturn null;\n\t\t}\n\t};\n\n\tul4.MapProtocol = ul4.MapProtocol.prototype;\n\tul4.MapProtocol.attrs = ul4._makeset(\"get\", \"items\", \"values\", \"update\", \"clear\");\n\n\tul4.expose(ul4.MapProtocol.get, [\"key\", \"default=\", null]);\n\tul4.expose(ul4.MapProtocol.items, []);\n\tul4.expose(ul4.MapProtocol.values, []);\n\tul4.expose(ul4.MapProtocol.update, [\"*other\", \"**kwargs\"]);\n\tul4.expose(ul4.MapProtocol.clear, []);\n\n\tul4.SetProtocol = class SetProtocol extends ul4.Protocol.constructor\n\t{\n\t\tul4type(obj)\n\t\t{\n\t\t\treturn \"set\";\n\t\t}\n\n\t\tadd(obj, items)\n\t\t{\n\t\t\tfor (let i = 0; i < items.length; ++i)\n\t\t\t{\n\t\t\t\tobj.add(items[i]);\n\t\t\t}\n\t\t}\n\n\t\tclear(obj)\n\t\t{\n\t\t\tobj.clear();\n\t\t\treturn null;\n\t\t}\n\t};\n\n\tul4.SetProtocol = ul4.SetProtocol.prototype;\n\tul4.SetProtocol.attrs = ul4._makeset(\"add\", \"clear\");\n\n\tul4.expose(ul4.SetProtocol.add, [\"*items\"]);\n\tul4.expose(ul4.SetProtocol.clear, []);\n\n\tul4.DateProtocol = class DateProtocol extends ul4.Protocol.constructor\n\t{\n\t\tul4type(obj)\n\t\t{\n\t\t\treturn \"date\";\n\t\t}\n\n\t\tweekday(obj)\n\t\t{\n\t\t\treturn ul4.DateTimeProtocol.weekday(obj._date);\n\t\t}\n\n\t\tcalendar(obj, firstweekday=0, mindaysinfirstweek=4)\n\t\t{\n\t\t\treturn ul4.DateTimeProtocol.calendar(obj._date, firstweekday, mindaysinfirstweek);\n\t\t}\n\n\t\tweek(obj, firstweekday=0, mindaysinfirstweek=4)\n\t\t{\n\t\t\treturn ul4.DateProtocol.calendar(obj, firstweekday, mindaysinfirstweek)[1];\n\t\t}\n\n\t\tday(obj)\n\t\t{\n\t\t\treturn obj._date.getDate();\n\t\t}\n\n\t\tmonth(obj)\n\t\t{\n\t\t\treturn obj._date.getMonth()+1;\n\t\t}\n\n\t\tyear(obj)\n\t\t{\n\t\t\treturn obj._date.getFullYear();\n\t\t}\n\n\t\tmimeformat(obj)\n\t\t{\n\t\t\tlet weekdayname = [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"];\n\t\t\tlet monthname = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\t\t\tlet d = obj._date;\n\n\t\t\treturn weekdayname[ul4.DateTimeProtocol.weekday(d)] + \", \" + ul4._lpad(d.getDate(), \"0\", 2) + \" \" + monthname[d.getMonth()] + \" \" + d.getFullYear();\n\t\t}\n\n\t\tisoformat(obj)\n\t\t{\n\t\t\tlet d = obj._date;\n\t\t\treturn d.getFullYear() + \"-\" + ul4._lpad((d.getMonth()+1).toString(), \"0\", 2) + \"-\" + ul4._lpad(d.getDate().toString(), \"0\", 2);\n\t\t}\n\n\t\tyearday(obj)\n\t\t{\n\t\t\treturn ul4.DateTimeProtocol.yearday(obj._date);\n\t\t}\n\t};\n\n\tul4.DateProtocol = ul4.DateProtocol.prototype;\n\tul4.DateProtocol.attrs = ul4._makeset(\"weekday\", \"week\", \"calendar\", \"day\", \"month\", \"year\", \"mimeformat\", \"isoformat\", \"yearday\");\n\n\tul4.expose(ul4.DateProtocol.weekday, []);\n\tul4.expose(ul4.DateProtocol.calendar, [\"firstweekday=\", 0, \"mindaysinfirstweek=\", 4]);\n\tul4.expose(ul4.DateProtocol.week, [\"firstweekday=\", 0, \"mindaysinfirstweek=\", 4]);\n\tul4.expose(ul4.DateProtocol.day, []);\n\tul4.expose(ul4.DateProtocol.month, []);\n\tul4.expose(ul4.DateProtocol.year, []);\n\tul4.expose(ul4.DateProtocol.mimeformat, []);\n\tul4.expose(ul4.DateProtocol.isoformat, []);\n\tul4.expose(ul4.DateProtocol.yearday, []);\n\n\tul4.DateTimeProtocol = class DatetimeProtocol extends ul4.Protocol.constructor\n\t{\n\t\tul4type(obj)\n\t\t{\n\t\t\treturn \"datetime\";\n\t\t}\n\n\t\tweekday(obj)\n\t\t{\n\t\t\tlet d = obj.getDay();\n\t\t\treturn d ? d-1 : 6;\n\t\t}\n\n\t\tcalendar(obj, firstweekday=0, mindaysinfirstweek=4)\n\t\t{\n\t\t\t// Normalize parameters\n\t\t\tfirstweekday = ul4._mod(firstweekday, 7);\n\t\t\tif (mindaysinfirstweek < 1)\n\t\t\t\tmindaysinfirstweek = 1;\n\t\t\telse if (mindaysinfirstweek > 7)\n\t\t\t\tmindaysinfirstweek = 7;\n\n\t\t\t// ``obj`` might be in the first week of the next year, or last week of\n\t\t\t// the previous year, so we might have to try those too.\n\t\t\tfor (let offset = +1; offset >= -1; --offset)\n\t\t\t{\n\t\t\t\tlet year = obj.getFullYear() + offset;\n\t\t\t\t// ``refdate`` will always be in week 1\n\t\t\t\tlet refDate = new Date(year, 0, mindaysinfirstweek);\n\t\t\t\t// Go back to the start of ``refdate``s week (i.e. day 1 of week 1)\n\t\t\t\tlet weekDayDiff = ul4._mod(ul4.DateTimeProtocol.weekday(refDate) - firstweekday, 7);\n\t\t\t\tlet weekStartYear = refDate.getFullYear();\n\t\t\t\tlet weekStartMonth = refDate.getMonth();\n\t\t\t\tlet weekStartDay = refDate.getDate() - weekDayDiff;\n\t\t\t\tlet weekStart = new Date(weekStartYear, weekStartMonth, weekStartDay);\n\t\t\t\t// Is our date ``obj`` at or after day 1 of week 1?\n\t\t\t\tif (obj.getTime() >= weekStart.getTime())\n\t\t\t\t{\n\t\t\t\t\tlet diff = ul4.SubAST.prototype._do(obj, weekStart);\n\t\t\t\t\t// Add 1, because the first week is week 1, not week 0\n\t\t\t\t\tlet week = Math.floor(diff.days()/7) + 1;\n\t\t\t\t\treturn [year, week, ul4.DateTimeProtocol.weekday(obj)];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tweek(obj, firstweekday=0, mindaysinfirstweek=4)\n\t\t{\n\t\t\treturn ul4.DateTimeProtocol.calendar(obj, firstweekday, mindaysinfirstweek)[1];\n\t\t}\n\n\t\tday(obj)\n\t\t{\n\t\t\treturn obj.getDate();\n\t\t}\n\n\t\tmonth(obj)\n\t\t{\n\t\t\treturn obj.getMonth()+1;\n\t\t}\n\n\t\tyear(obj)\n\t\t{\n\t\t\treturn obj.getFullYear();\n\t\t}\n\n\t\thour(obj)\n\t\t{\n\t\t\treturn obj.getHours();\n\t\t}\n\n\t\tminute(obj)\n\t\t{\n\t\t\treturn obj.getMinutes();\n\t\t}\n\n\t\tsecond(obj)\n\t\t{\n\t\t\treturn obj.getSeconds();\n\t\t}\n\n\t\tmicrosecond(obj)\n\t\t{\n\t\t\treturn obj.getMilliseconds() * 1000;\n\t\t}\n\n\t\tmimeformat(obj)\n\t\t{\n\t\t\tlet weekdayname = [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"];\n\t\t\tlet monthname = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n\t\t\treturn weekdayname[ul4.DateTimeProtocol.weekday(obj)] + \", \" + ul4._lpad(obj.getDate(), \"0\", 2) + \" \" + monthname[obj.getMonth()] + \" \" + obj.getFullYear() + \" \" + ul4._lpad(obj.getHours(), \"0\", 2) + \":\" + ul4._lpad(obj.getMinutes(), \"0\", 2) + \":\" + ul4._lpad(obj.getSeconds(), \"0\", 2) + \" GMT\";\n\t\t}\n\n\t\tisoformat(obj)\n\t\t{\n\t\t\tlet year = obj.getFullYear();\n\t\t\tlet month = obj.getMonth()+1;\n\t\t\tlet day = obj.getDate();\n\t\t\tlet hour = obj.getHours();\n\t\t\tlet minute = obj.getMinutes();\n\t\t\tlet second = obj.getSeconds();\n\t\t\tlet ms = obj.getMilliseconds();\n\t\t\tlet result = year + \"-\" + ul4._lpad(month.toString(), \"0\", 2) + \"-\" + ul4._lpad(day.toString(), \"0\", 2) + \"T\" + ul4._lpad(hour.toString(), \"0\", 2) + \":\" + ul4._lpad(minute.toString(), \"0\", 2) + \":\" + ul4._lpad(second.toString(), \"0\", 2);\n\t\t\tif (ms)\n\t\t\t\tresult += \".\" + ul4._lpad(ms.toString(), \"0\", 3) + \"000\";\n\t\t\treturn result;\n\t\t}\n\n\t\tyearday(obj)\n\t\t{\n\t\t\tlet leap = ul4._isleap(obj) ? 1 : 0;\n\t\t\tlet day = obj.getDate();\n\t\t\tswitch (obj.getMonth())\n\t\t\t{\n\t\t\t\tcase 0:\n\t\t\t\t\treturn day;\n\t\t\t\tcase 1:\n\t\t\t\t\treturn 31 + day;\n\t\t\t\tcase 2:\n\t\t\t\t\treturn 31 + 28 + leap + day;\n\t\t\t\tcase 3:\n\t\t\t\t\treturn 31 + 28 + leap + 31 + day;\n\t\t\t\tcase 4:\n\t\t\t\t\treturn 31 + 28 + leap + 31 + 30 + day;\n\t\t\t\tcase 5:\n\t\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + day;\n\t\t\t\tcase 6:\n\t\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + day;\n\t\t\t\tcase 7:\n\t\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + day;\n\t\t\t\tcase 8:\n\t\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + 31 + day;\n\t\t\t\tcase 9:\n\t\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + 31 + 30 + day;\n\t\t\t\tcase 10:\n\t\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + 31 + 30 + 31 + day;\n\t\t\t\tcase 11:\n\t\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + 31 + 30 + 31 + 30 + day;\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.DateTimeProtocol = ul4.DateTimeProtocol.prototype;\n\tul4.DateTimeProtocol.attrs = ul4._makeset(\"weekday\", \"week\", \"calendar\", \"day\", \"month\", \"year\", \"hour\", \"minute\", \"second\", \"microsecond\", \"mimeformat\", \"isoformat\", \"yearday\");\n\n\tul4.expose(ul4.DateTimeProtocol.weekday, []);\n\tul4.expose(ul4.DateTimeProtocol.calendar, [\"firstweekday=\", 0, \"mindaysinfirstweek=\", 4]);\n\tul4.expose(ul4.DateTimeProtocol.week, [\"firstweekday=\", 0, \"mindaysinfirstweek=\", 4]);\n\tul4.expose(ul4.DateTimeProtocol.day, []);\n\tul4.expose(ul4.DateTimeProtocol.month, []);\n\tul4.expose(ul4.DateTimeProtocol.year, []);\n\tul4.expose(ul4.DateTimeProtocol.hour, []);\n\tul4.expose(ul4.DateTimeProtocol.minute, []);\n\tul4.expose(ul4.DateTimeProtocol.second, []);\n\tul4.expose(ul4.DateTimeProtocol.microsecond, []);\n\tul4.expose(ul4.DateTimeProtocol.mimeformat, []);\n\tul4.expose(ul4.DateTimeProtocol.isoformat, []);\n\tul4.expose(ul4.DateTimeProtocol.yearday, []);\n\n\tul4.ObjectProtocol = class ObjectProtocol extends ul4.Protocol.constructor\n\t{\n\t\tul4type(obj)\n\t\t{\n\t\t\treturn \"dict\";\n\t\t}\n\n\t\tgetattr(obj, attrname)\n\t\t{\n\t\t\tlet result;\n\t\t\tif (obj && typeof(obj.__getattr__) === \"function\") // test this before the generic object test\n\t\t\t\tresult = obj.__getattr__(attrname);\n\t\t\telse\n\t\t\t\tresult = obj[attrname];\n\t\t\tif (typeof(result) !== \"function\")\n\t\t\t\treturn result;\n\t\t\tlet realresult = function(...args) {\n\t\t\t\t// We can use ``apply`` here, as we know that ``obj`` is a real object.\n\t\t\t\treturn result.apply(obj, args);\n\t\t\t};\n\t\t\trealresult._ul4_name = result._ul4_name || result.name;\n\t\t\trealresult._ul4_signature = result._ul4_signature;\n\t\t\trealresult._ul4_needsobject = result._ul4_needsobject;\n\t\t\trealresult._ul4_needscontext = result._ul4_needscontext;\n\t\t\treturn realresult;\n\t\t}\n\n\t\tget(obj, key, default_=null)\n\t\t{\n\t\t\tlet result = obj[key];\n\t\t\tif (typeof(result) === \"undefined\")\n\t\t\t\treturn default_;\n\t\t\treturn result;\n\t\t}\n\n\t\titems(obj)\n\t\t{\n\t\t\tlet result = [];\n\t\t\tfor (let key in obj)\n\t\t\t\tresult.push([key, obj[key]]);\n\t\t\treturn result;\n\t\t}\n\n\t\tvalues(obj)\n\t\t{\n\t\t\tlet result = [];\n\t\t\tfor (let key in obj)\n\t\t\t\tresult.push(obj[key]);\n\t\t\treturn result;\n\t\t}\n\n\t\tclear(obj)\n\t\t{\n\t\t\tfor (let key in obj)\n\t\t\t\tdelete obj[key];\n\t\t}\n\t};\n\n\tul4.ObjectProtocol = ul4.ObjectProtocol.prototype;\n\tul4.ObjectProtocol.attrs = ul4._makeset(\"get\", \"items\", \"values\", \"update\", \"clear\");\n\n\tul4.expose(ul4.ObjectProtocol.get, [\"key\", \"default=\", null]);\n\tul4.expose(ul4.ObjectProtocol.items, []);\n\tul4.expose(ul4.ObjectProtocol.values, []);\n\tul4.expose(ul4.ObjectProtocol.clear, []);\n\n\tul4.Context = class Context\n\t{\n\t\tconstructor(vars)\n\t\t{\n\t\t\tif (vars === null || typeof(vars) === \"undefined\")\n\t\t\t\tvars = {};\n\t\t\tthis.vars = vars;\n\t\t\tthis.indents = [];\n\t\t\tthis.escapes = [];\n\t\t\tthis._output = [];\n\t\t}\n\n\t\t/* Return a clone of the ``Context``, but with a fresh empty ``vars`` objects that inherits from the previous one.\n\t\t * This is used by the various comprehensions to avoid leaking loop variables.\n\t\t */\n\t\tinheritvars()\n\t\t{\n\t\t\tlet context = Object.create(this);\n\t\t\tcontext.vars = Object.create(this.vars);\n\t\t\treturn context;\n\t\t}\n\n\t\t/* Return a clone of the ``Context`` with one additional indentation (this is used by ``RenderAST``) */\n\t\twithindent(indent)\n\t\t{\n\t\t\tlet context = Object.create(this);\n\t\t\tif (indent !== null)\n\t\t\t{\n\t\t\t\tcontext.indents = this.indents.slice();\n\t\t\t\tcontext.indents.push(indent);\n\t\t\t}\n\t\t\treturn context;\n\t\t}\n\n\t\t/* Return a clone of the ``Context`` with the output buffer replaced (this is used by ``renders`` to collect the output in a separate buffer) */\n\t\treplaceoutput()\n\t\t{\n\t\t\tlet context = Object.create(this);\n\t\t\tcontext._output = [];\n\t\t\treturn context;\n\t\t}\n\n\t\tclone(vars)\n\t\t{\n\t\t\treturn Object.create(this);\n\t\t}\n\n\t\toutput(value)\n\t\t{\n\t\t\tfor (let i = 0; i < this.escapes.length; ++i)\n\t\t\t{\n\t\t\t\tlet escape = this.escapes[i];\n\t\t\t\tvalue = escape(value);\n\t\t\t}\n\t\t\tthis._output.push(value);\n\t\t}\n\n\t\tgetoutput()\n\t\t{\n\t\t\treturn this._output.join(\"\");\n\t\t}\n\n\t\tget(name)\n\t\t{\n\t\t\treturn this.vars[name];\n\t\t}\n\n\t\tset(name, value)\n\t\t{\n\t\t\tthis.vars[name] = value;\n\t\t}\n\t};\n\n\t/// Exceptions\n\n\t// Note that extending ``Error`` doesn't work, so we do it the \"classic\" way\n\tul4.Exception = function Exception(message, fileName, lineNumber)\n\t{\n\t\tlet instance = new Error(message, fileName, lineNumber);\n\t\tObject.setPrototypeOf(instance, Object.getPrototypeOf(this));\n\t\tinstance.__id__ = _nextid++;\n\t\tinstance.context = null;\n\t\treturn instance;\n\t};\n\n\tul4.Exception.prototype = Object.create(Error.prototype, {\n\t\tconstructor: {\n\t\t\tvalue: Error,\n\t\t\tenumerable: false,\n\t\t\twritable: true,\n\t\t\tconfigurable: true\n\t\t}\n\t});\n\n\tif (Object.setPrototypeOf)\n\t\tObject.setPrototypeOf(ul4.Exception, Error);\n\telse\n\t\tul4.Exception.__proto__ = Error;\n\n\tul4.Exception.prototype.__getattr__ = function __getattr__(attrname)\n\t{\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"context\":\n\t\t\t\treturn this.context;\n\t\t\tdefault:\n\t\t\t\tthrow new ul4.AttributeError(this, attrname);\n\t\t}\n\t};\n\n\t// Exceptions used internally by UL4 for flow control\n\tul4.InternalException = class InternalException extends ul4.Exception\n\t{\n\t};\n\n\t// Control flow exceptions\n\tul4.ReturnException = class ReturnException extends ul4.InternalException\n\t{\n\t\tconstructor(result)\n\t\t{\n\t\t\tsuper(\"return\");\n\t\t\tthis.result = result;\n\t\t}\n\t};\n\n\tul4.BreakException = class BreakException extends ul4.InternalException\n\t{\n\t\tconstructor()\n\t\t{\n\t\t\tsuper(\"break\");\n\t\t}\n\t};\n\n\tul4.ContinueException = class ContinueException extends ul4.InternalException\n\t{\n\t\tconstructor()\n\t\t{\n\t\t\tsuper(\"continue\");\n\t\t}\n\t};\n\n\t// Real exceptions raised by various parts of UL4\n\tul4.SyntaxError = class SyntaxError extends ul4.Exception\n\t{\n\t};\n\n\tul4.LValueRequiredError = class LValueRequiredError extends ul4.SyntaxError\n\t{\n\t\tconstructor()\n\t\t{\n\t\t\tsuper(\"lvalue required\");\n\t\t}\n\t};\n\n\tul4.TypeError = class TypeError extends ul4.Exception\n\t{\n\t};\n\n\tul4.ValueError = class ValueError extends ul4.Exception\n\t{\n\t};\n\n\tul4.ArgumentError = class ArgumentError extends ul4.Exception\n\t{\n\t};\n\n\tul4.NotSubscriptableError = class NotSubscriptableError extends ul4.Exception\n\t{\n\t\tconstructor(obj)\n\t\t{\n\t\t\tsuper(\"Object of type \" + _type(obj) + \" is not subscriptable\");\n\t\t\tthis.obj = obj;\n\t\t}\n\n\t\ttoString()\n\t\t{\n\t\t\treturn \"Object of type \" + _type(this.obj) + \" is not subscriptable\";\n\t\t}\n\t};\n\n\tul4.ZeroDivisionError = class ZeroDivisionError extends ul4.Exception\n\t{\n\t\tconstructor()\n\t\t{\n\t\t\tsuper(\"division by zero\");\n\t\t}\n\t};\n\n\tul4.IndexError = class IndexError extends ul4.Exception\n\t{\n\t\tconstructor(obj, index)\n\t\t{\n\t\t\tsuper(\"index \" + ul4._repr(index) + \" out of range\");\n\t\t\tthis.obj = obj;\n\t\t\tthis.index = index;\n\t\t}\n\n\t\ttoString()\n\t\t{\n\t\t\treturn \"index \" + this.index + \" out of range for \" + ul4._type(this.obj);\n\t\t}\n\t};\n\n\tul4.AttributeError = class AttributeError extends ul4.Exception\n\t{\n\t\tconstructor(obj, attrname)\n\t\t{\n\t\t\tsuper(\"object of type \" + ul4._type(obj) + \" has no attribute \" + ul4._repr(attrname));\n\t\t\tthis.obj = obj;\n\t\t\tthis.attrname = attrname;\n\t\t}\n\t};\n\n\t/// Exception that wraps other exceptions while they bubble up the stack\n\tul4.LocationError = class LocationError extends ul4.Exception\n\t{\n\t\tconstructor(location)\n\t\t{\n\t\t\tsuper(\"nested exception in \" + ul4._repr(location));\n\t\t\tthis.location = location;\n\t\t}\n\n\t\t_templateprefix()\n\t\t{\n\t\t\tlet template = this.location.template;\n\t\t\tlet out = [];\n\t\t\tif (template.parenttemplate !== null)\n\t\t\t\tout.push(\"in local template \");\n\t\t\telse\n\t\t\t\tout.push(\"in template \");\n\t\t\tlet first = true;\n\t\t\twhile (template != null)\n\t\t\t{\n\t\t\t\tif (first)\n\t\t\t\t\tfirst = false;\n\t\t\t\telse\n\t\t\t\t\tout.push(\" in \");\n\t\t\t\tout.push(template.name ? ul4._repr(template.name) : \"(unnamed)\");\n\t\t\t\ttemplate = template.parenttemplate;\n\t\t\t}\n\t\t\treturn out.join(\"\");\n\t\t}\n\n\t\ttoString()\n\t\t{\n\t\t\tlet template = this.location.template;\n\t\t\tlet templateprefix = this._templateprefix();\n\n\t\t\tlet prefix = this.location.sourceprefix;\n\t\t\tlet code = this.location.source;\n\t\t\tlet suffix = this.location.sourcesuffix;\n\t\t\tprefix = ul4._repr(prefix).slice(1, -1);\n\t\t\tcode = ul4._repr(code).slice(1, -1);\n\t\t\tsuffix = ul4._repr(suffix).slice(1, -1);\n\n\t\t\tlet text = prefix + code + suffix;\n\t\t\tlet underline = ul4._str_repeat(\"\\u00a0\", prefix.length) + ul4._str_repeat(\"~\", code.length);\n\n\t\t\tlet pos = \"offset \" + this.location.pos.start + \":\" + this.location.pos.stop + \"; line \" + this.location.line + \"; col \" + this.location.col;\n\n\t\t\tlet message = templateprefix + \": \" + pos + \"\\n\" + text + \"\\n\" + underline;\n\t\t\treturn message;\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tswitch (attrname)\n\t\t\t{\n\t\t\t\tcase \"context\":\n\t\t\t\t\treturn this.context;\n\t\t\t\tcase \"location\":\n\t\t\t\t\treturn this.location;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new ul4.AttributeError(this, attrname);\n\t\t\t}\n\t\t}\n\t};\n\n\t/// Classes for the syntax tree\n\tul4.AST = class AST extends ul4.Proto\n\t{\n\t\tconstructor(template, pos)\n\t\t{\n\t\t\tsuper();\n\t\t\tthis.template = template;\n\t\t\tthis.pos = pos;\n\t\t\tthis._line = null;\n\t\t\tthis._col = null;\n\t\t}\n\n\t\tget fullsource()\n\t\t{\n\t\t\treturn this.template._source;\n\t\t}\n\n\t\tget source()\n\t\t{\n\t\t\treturn this.pos.of(this.template._source);\n\t\t}\n\n\t\tget sourceprefix()\n\t\t{\n\t\t\tlet outerstartpos = this.pos.start;\n\t\t\tlet innerstartpos = outerstartpos;\n\t\t\tlet source = this.fullsource;\n\n\t\t\tlet maxprefix = 40;\n\t\t\tlet preprefix = \"\\u2026\";\n\t\t\twhile (maxprefix > 0)\n\t\t\t{\n\t\t\t\t// We arrived at the start of the source code\n\t\t\t\tif (outerstartpos === 0)\n\t\t\t\t{\n\t\t\t\t\tpreprefix = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t// We arrived at the start of the line\n\t\t\t\tif (source.charAt(outerstartpos-1) === \"\\n\")\n\t\t\t\t{\n\t\t\t\t\tpreprefix = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t--maxprefix;\n\t\t\t\t--outerstartpos;\n\t\t\t}\n\t\t\treturn preprefix + source.substring(outerstartpos, innerstartpos);\n\t\t}\n\n\t\tget sourcesuffix()\n\t\t{\n\t\t\tlet outerstoppos = this.pos.stop;\n\t\t\tlet innerstoppos = outerstoppos;\n\t\t\tlet source = this.fullsource;\n\n\t\t\tlet maxsuffix = 40;\n\t\t\tlet postsuffix = \"\\u2026\";\n\t\t\twhile (maxsuffix > 0)\n\t\t\t{\n\t\t\t\t// We arrived at the ed of the source code\n\t\t\t\tif (outerstoppos >= source.length)\n\t\t\t\t{\n\t\t\t\t\tpostsuffix = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t// We arrived at the end of the line\n\t\t\t\tif (source.charAt(outerstoppos) === \"\\n\")\n\t\t\t\t{\n\t\t\t\t\tpostsuffix = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t--maxsuffix;\n\t\t\t\t++outerstoppos;\n\t\t\t}\n\t\t\treturn source.substring(innerstoppos, outerstoppos) + postsuffix;\n\t\t}\n\n\t\tget line()\n\t\t{\n\t\t\tif (this._line === null)\n\t\t\t\tthis._calculateLineCol();\n\t\t\treturn this._line;\n\t\t}\n\n\t\tget col()\n\t\t{\n\t\t\tif (this._col === null)\n\t\t\t\tthis._calculateLineCol();\n\t\t\treturn this._col;\n\t\t}\n\n\t\t_calculateLineCol()\n\t\t{\n\t\t\tthis._line = 1\n\t\t\tthis._col = 1;\n\t\t\tlet stop = this.pos.start;\n\t\t\tfor (let i = 0; i < stop; ++i)\n\t\t\t{\n\t\t\t\tif (this.template.source[i] === \"\\n\")\n\t\t\t\t{\n\t\t\t\t\t++this._line;\n\t\t\t\t\tthis._col = 1;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\t++this._col;\n\t\t\t}\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tif (attrname === \"type\" || attrname === \"fullsource\" || attrname === \"source\" || attrname === \"sourceprefix\" || attrname === \"sourcesuffix\" || attrname === \"line\" || attrname === \"col\")\n\t\t\t\treturn this[attrname];\n\t\t\telse if (this._ul4onattrs.indexOf(attrname) >= 0)\n\t\t\t\treturn this[attrname];\n\t\t\tthrow new ul4.AttributeError(this, attrname);\n\t\t}\n\n\t\t__setitem__(attrname, value)\n\t\t{\n\t\t\tthrow new ul4.TypeError(\"object is immutable\");\n\t\t}\n\n\t\t__str__()\n\t\t{\n\t\t\tlet out = [];\n\t\t\tthis._str(out);\n\t\t\treturn ul4._formatsource(out);\n\t\t}\n\n\t\t__repr__()\n\t\t{\n\t\t\tlet out = [];\n\t\t\tthis._repr(out);\n\t\t\treturn ul4._formatsource(out);\n\t\t}\n\n\t\t_decorate_exception(exc)\n\t\t{\n\t\t\twhile (exc.context !== undefined && exc.context !== null)\n\t\t\t\texc = exc.context;\n\t\t\texc.context = new ul4.LocationError(this);\n\t\t}\n\n\t\t_handle_eval(context)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\treturn this._eval(context);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (!(exc instanceof ul4.InternalException) && !(exc instanceof ul4.LocationError))\n\t\t\t\t\tthis._decorate_exception(exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\n\t\t_handle_eval_set(context, value)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\treturn this._eval_set(context, value);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (!(exc instanceof ul4.LocationError))\n\t\t\t\t\tthis._decorate_exception(exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\n\t\t_eval_set(context, value)\n\t\t{\n\t\t\tthrow new ul4.LValueRequiredError();\n\t\t}\n\n\t\t_handle_eval_modify(context, operator, value)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\treturn this._eval_modify(context, operator, value);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (!(exc instanceof ul4.LocationError))\n\t\t\t\t\tthis._decorate_exception(exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\n\t\t_eval_modify(context, operator, value)\n\t\t{\n\t\t\tthrow new ul4.LValueRequiredError();\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(this.source.replace(/\\r?\\n/g, ' '));\n\t\t}\n\n\t\tul4ondump(encoder)\n\t\t{\n\t\t\tfor (let i = 0; i < this._ul4onattrs.length; ++i)\n\t\t\t{\n\t\t\t\tlet attrname = this._ul4onattrs[i];\n\t\t\t\tencoder.dump(this[attrname]);\n\t\t\t}\n\t\t}\n\n\t\tul4onload(decoder)\n\t\t{\n\t\t\tfor (let i = 0; i < this._ul4onattrs.length; ++i)\n\t\t\t{\n\t\t\t\tlet attrname = this._ul4onattrs[i];\n\t\t\t\tthis[attrname] = decoder.load();\n\t\t\t}\n\t\t}\n\t};\n\n\t// used in ul4ondump/ul4ondump to automatically dump these attributes\n\tul4.AST.prototype._ul4onattrs = [\"template\", \"pos\"];\n\n\tul4.TextAST = class TextAST extends ul4.AST\n\t{\n\t\tconstructor(template, pos)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t}\n\n\t\tget text()\n\t\t{\n\t\t\treturn this.source;\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tcontext.output(this.text);\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"text \");\n\t\t\tout.push(ul4._repr(this.text));\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<TextAST \");\n\t\t\tout.push(ul4._repr(this.text));\n\t\t\tout.push(\">\");\n\t\t}\n\t};\n\n\tul4.IndentAST = class IndentAST extends ul4.TextAST\n\t{\n\t\tconstructor(template, pos, text)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis._text = text;\n\t\t}\n\n\t\tget text()\n\t\t{\n\t\t\tif (typeof(this.template) !== \"undefined\")\n\t\t\t\treturn this._text === null ? this.source : this._text;\n\t\t\telse\n\t\t\t\treturn null;\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tfor (let i = 0; i < context.indents.length; ++i)\n\t\t\t{\n\t\t\t\tlet indent = context.indents[i];\n\t\t\t\tcontext.output(indent);\n\t\t\t}\n\t\t\tcontext.output(this.text);\n\t\t}\n\n\t\tul4ondump(encoder)\n\t\t{\n\t\t\tsuper.ul4ondump(encoder);\n\n\t\t\tif (this._text === this.source)\n\t\t\t\tencoder.dump(null);\n\t\t\telse\n\t\t\t\tencoder.dump(this._text);\n\t\t}\n\n\t\tul4onload(decoder)\n\t\t{\n\t\t\tsuper.ul4onload(decoder);\n\t\t\tthis._text = decoder.load();\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"indent \");\n\t\t\tout.push(ul4._repr(this.text));\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<IndentAST \");\n\t\t\tout.push(ul4._repr(this.text));\n\t\t\tout.push(\">\");\n\t\t}\n\t};\n\n\tul4.LineEndAST = class LineEndAST extends ul4.TextAST\n\t{\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"lineend \");\n\t\t\tout.push(ul4._repr(this.text));\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<LineEndAST \");\n\t\t\tout.push(ul4._repr(this.text));\n\t\t\tout.push(\">\");\n\t\t}\n\t};\n\n\tul4.CodeAST = class CodeAST extends ul4.AST\n\t{\n\t};\n\n\tul4.ConstAST = class ConstAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, value)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.value = value;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<ConstAST value=\");\n\t\t\tout.push(ul4._repr(this.value));\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\treturn this.value;\n\t\t}\n\t};\n\n\tul4.ConstAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"value\"]);\n\n\tul4.ItemArgBase = class ItemArgBase extends ul4.CodeAST\n\t{\n\t\t_handle_eval_list(context, result)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\treturn this._eval_list(context, result);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (!(exc instanceof ul4.InternalException) && !(exc instanceof ul4.LocationError))\n\t\t\t\t\tthis._decorate_exception(exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\n\t\t_handle_eval_set(context, result)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\treturn this._eval_set(context, result);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (!(exc instanceof ul4.InternalException) && !(exc instanceof ul4.LocationError))\n\t\t\t\t\tthis._decorate_exception(exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\n\t\t_handle_eval_dict(context, result)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\treturn this._eval_dict(context, result);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (!(exc instanceof ul4.InternalException) && !(exc instanceof ul4.LocationError))\n\t\t\t\t\tthis._decorate_exception(exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\n\t\t_handle_eval_call(context, args, kwargs)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\treturn this._eval_call(context, args, kwargs);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (!(exc instanceof ul4.InternalException) && !(exc instanceof ul4.LocationError))\n\t\t\t\t\tthis._decorate_exception(exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.SeqItemAST = class SeqItemAST extends ul4.ItemArgBase\n\t{\n\t\tconstructor(template, pos, value)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.value = value;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<SeqItemAST value=\");\n\t\t\tout.push(ul4._repr(this.value));\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval_list(context, result)\n\t\t{\n\t\t\tlet value = this.value._handle_eval(context);\n\t\t\tresult.push(value);\n\t\t}\n\n\t\t_eval_set(context, result)\n\t\t{\n\t\t\tlet value = this.value._handle_eval(context);\n\t\t\tresult.add(value);\n\t\t}\n\t};\n\n\tul4.SeqItemAST.prototype._ul4onattrs = ul4.ItemArgBase.prototype._ul4onattrs.concat([\"value\"]);\n\n\tul4.UnpackSeqItemAST = class UnpackSeqItemAST extends ul4.ItemArgBase\n\t{\n\t\tconstructor(template, pos, value)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.value = value;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<UnpackSeqItemAST value=\");\n\t\t\tout.push(ul4._repr(this.value));\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval_list(context, result)\n\t\t{\n\t\t\tlet value = this.value._handle_eval(context);\n\t\t\tfor (let iter = ul4._iter(value);;)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tresult.push(item.value);\n\t\t\t}\n\t\t}\n\n\t\t_eval_set(context, result)\n\t\t{\n\t\t\tlet value = this.value._handle_eval(context);\n\t\t\tfor (let iter = ul4._iter(value);;)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tresult.add(item.value);\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.UnpackSeqItemAST.prototype._ul4onattrs = ul4.ItemArgBase.prototype._ul4onattrs.concat([\"value\"]);\n\n\tul4.DictItemAST = class DictItemAST extends ul4.ItemArgBase\n\t{\n\t\tconstructor(template, pos, key, value)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.key = key;\n\t\t\tthis.value = value;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<DictItemAST key=\");\n\t\t\tout.push(ul4._repr(this.key));\n\t\t\tout.push(\" value=\");\n\t\t\tout.push(ul4._repr(this.value));\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval_dict(context, result)\n\t\t{\n\t\t\tlet key = this.key._handle_eval(context);\n\t\t\tlet value = this.value._handle_eval(context);\n\t\t\tul4._setmap(result, key, value);\n\t\t}\n\t};\n\n\tul4.DictItemAST.prototype._ul4onattrs = ul4.ItemArgBase.prototype._ul4onattrs.concat([\"key\", \"value\"]),\n\n\tul4.UnpackDictItemAST = class UnpackDictItemAST extends ul4.ItemArgBase\n\t{\n\t\tconstructor(template, pos, item)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.item = item;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<UnpackDictItemAST item=\");\n\t\t\tout.push(ul4._repr(this.item));\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval_dict(context, result)\n\t\t{\n\t\t\tlet item = this.item._handle_eval(context);\n\t\t\tif (ul4._islist(item))\n\t\t\t{\n\t\t\t\tfor (let i = 0; i < item.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet subitem = item[i];\n\t\t\t\t\tif (!ul4._islist(subitem) || subitem.length != 2)\n\t\t\t\t\t\tthrow new ul4.ArgumentError(\"** requires a list of (key, value) pairs\");\n\t\t\t\t\tul4._setmap(result, subitem[0], subitem[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._ismap(item))\n\t\t\t{\n\t\t\t\titem.forEach(function(value, key) {\n\t\t\t\t\tul4._setmap(result, key, value);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (ul4._isobject(item))\n\t\t\t{\n\t\t\t\tfor (let key in item)\n\t\t\t\t\tul4._setmap(result, key, item[key]);\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.UnpackDictItemAST.prototype._ul4onattrs = ul4.ItemArgBase.prototype._ul4onattrs.concat([\"item\"]);\n\n\tul4.PosArgAST = class PosArgAST extends ul4.ItemArgBase\n\t{\n\t\tconstructor(template, pos, value)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.value = value;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<PosArgAST value=\");\n\t\t\tthis.value._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval_call(context, args, kwargs)\n\t\t{\n\t\t\tlet value = this.value._handle_eval(context);\n\t\t\targs.push(value);\n\t\t}\n\t};\n\n\tul4.PosArgAST.prototype._ul4onattrs = ul4.ItemArgBase.prototype._ul4onattrs.concat([\"value\"]);\n\n\tul4.KeywordArgAST = class KeywordArgAST extends ul4.ItemArgBase\n\t{\n\t\tconstructor(template, pos, name, value)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.name = name;\n\t\t\tthis.value = value;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<KeywordArgAST name=\");\n\t\t\tout.push(ul4._repr(this.name));\n\t\t\tout.push(\" value=\");\n\t\t\tthis.value._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval_call(context, args, kwargs)\n\t\t{\n\t\t\tif (kwargs.hasOwnProperty(this.name))\n\t\t\t\tthrow new ul4.ArgumentError(\"duplicate keyword argument \" + this.name);\n\t\t\tlet value = this.value._handle_eval(context);\n\t\t\tkwargs[this.name] = value;\n\t\t}\n\t};\n\n\tul4.KeywordArgAST.prototype._ul4onattrs = ul4.ItemArgBase.prototype._ul4onattrs.concat([\"name\", \"value\"]);\n\n\tul4.UnpackListArgAST = class UnpackListArgAST extends ul4.ItemArgBase\n\t{\n\t\tconstructor(template, pos, item)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.item = item;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<UnpackListArgAST item=\");\n\t\t\tthis.item._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval_call(context, args, kwargs)\n\t\t{\n\t\t\tlet item = this.item._handle_eval(context);\n\t\t\targs.push(...item);\n\t\t}\n\t};\n\n\tul4.UnpackListArgAST.prototype._ul4onattrs = ul4.ItemArgBase.prototype._ul4onattrs.concat([\"item\"]);\n\n\tul4.UnpackDictArgAST = class UnpackDictArgAST extends ul4.ItemArgBase\n\t{\n\t\tconstructor(template, pos, item)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.item = item;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<UnpackDictArgAST item=\");\n\t\t\tthis.item._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval_call(context, args, kwargs)\n\t\t{\n\t\t\tlet item = this.item._handle_eval(context);\n\t\t\tif (ul4._islist(item))\n\t\t\t{\n\t\t\t\tfor (let i = 0; i < item.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet subitem = item[i];\n\t\t\t\t\tif (!ul4._islist(subitem) || subitem.length != 2)\n\t\t\t\t\t\tthrow new ul4.ArgumentError(\"** requires a list of (key, value) pairs\");\n\t\t\t\t\tlet [key, value] = subitem;\n\t\t\t\t\tif (kwargs.hasOwnProperty(key))\n\t\t\t\t\t\tthrow new ul4.ArgumentError(\"duplicate keyword argument \" + key);\n\t\t\t\t\tkwargs[key] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._ismap(item))\n\t\t\t{\n\t\t\t\titem.forEach(function(value, key) {\n\t\t\t\t\tif (kwargs.hasOwnProperty(key))\n\t\t\t\t\t\tthrow new ul4.ArgumentError(\"duplicate keyword argument \" + key);\n\t\t\t\t\tkwargs[key] = value;\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (ul4._isobject(item))\n\t\t\t{\n\t\t\t\tfor (let key in item)\n\t\t\t\t{\n\t\t\t\t\tif (kwargs.hasOwnProperty(key))\n\t\t\t\t\t\tthrow new ul4.ArgumentError(\"duplicate keyword argument \" + key);\n\t\t\t\t\tkwargs[key] = item[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.UnpackDictArgAST.prototype._ul4onattrs = ul4.ItemArgBase.prototype._ul4onattrs.concat([\"item\"]);\n\n\tul4.ListAST = class ListAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.items = [];\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<ListAST\");\n\t\t\tfor (let i = 0; i < this.items.length; ++i)\n\t\t\t{\n\t\t\t\tlet item = this.items[i];\n\t\t\t\tout.push(\" \");\n\t\t\t\titem._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet result = [];\n\t\t\tfor (let i = 0; i < this.items.length; ++i)\n\t\t\t{\n\t\t\t\tlet item = this.items[i];\n\t\t\t\titem._handle_eval_list(context, result);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.ListAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"items\"]);\n\n\tul4.ListCompAST = class ListCompAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, item, varname, container, condition)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.item = item;\n\t\t\tthis.varname = varname;\n\t\t\tthis.container = container;\n\t\t\tthis.condition = condition;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<ListCompAST\");\n\t\t\tout.push(\" item=\");\n\t\t\tthis.item._repr(out);\n\t\t\tout.push(\" varname=\");\n\t\t\tout.push(ul4._repr(this.varname));\n\t\t\tout.push(\" container=\");\n\t\t\tthis.container._repr(out);\n\t\t\tif (this.condition !== null)\n\t\t\t{\n\t\t\t\tout.push(\" condition=\");\n\t\t\t\tthis.condition._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet container = this.container._handle_eval(context);\n\n\t\t\tlet localcontext = context.inheritvars();\n\n\t\t\tlet result = [];\n\t\t\tfor (let iter = ul4._iter(container);;)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tlet varitems = ul4._unpackvar(this.varname, item.value);\n\t\t\t\tfor (let i = 0; i < varitems.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet [lvalue, value] = varitems[i];\n\t\t\t\t\tlvalue._handle_eval_set(localcontext, value);\n\t\t\t\t}\n\t\t\t\tif (this.condition === null || ul4._bool(this.condition._handle_eval(localcontext)))\n\t\t\t\t\tresult.push(this.item._handle_eval(localcontext));\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.ListCompAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"item\", \"varname\", \"container\", \"condition\"]);\n\n\tul4.SetAST = class SetAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.items = [];\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<SetAST\");\n\t\t\tfor (let i = 0; i < this.items.length; ++i)\n\t\t\t{\n\t\t\t\tlet item = this.items[i];\n\t\t\t\tout.push(\" \");\n\t\t\t\titem._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet result = ul4._emptyset();\n\n\t\t\tfor (let i = 0; i < this.items.length; ++i)\n\t\t\t{\n\t\t\t\tlet item = this.items[i];\n\t\t\t\titem._handle_eval_set(context, result);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.SetAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"items\"]);\n\n\tul4.SetCompAST = class SetCompAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, item, varname, container, condition)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.item = item;\n\t\t\tthis.varname = varname;\n\t\t\tthis.container = container;\n\t\t\tthis.condition = condition;\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tswitch (attrname)\n\t\t\t{\n\t\t\t\tcase \"item\":\n\t\t\t\t\treturn this.item;\n\t\t\t\tcase \"varname\":\n\t\t\t\t\treturn this.varname;\n\t\t\t\tcase \"container\":\n\t\t\t\t\treturn this.container;\n\t\t\t\tcase \"condition\":\n\t\t\t\t\treturn this.condition;\n\t\t\t\tdefault:\n\t\t\t\t\treturn super.__getattr__(attrname);\n\t\t\t}\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<SetCompAST\");\n\t\t\tout.push(\" item=\");\n\t\t\tthis.item._repr(out);\n\t\t\tout.push(\" varname=\");\n\t\t\tthis.varname._repr(out);\n\t\t\tout.push(\" container=\");\n\t\t\tthis.container._repr(out);\n\t\t\tif (this.condition !== null)\n\t\t\t{\n\t\t\t\tout.push(\" condition=\");\n\t\t\t\tthis.condition._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet container = this.container._handle_eval(context);\n\n\t\t\tlet localcontext = context.inheritvars();\n\n\t\t\tlet result = ul4._emptyset();\n\t\t\tfor (let iter = ul4._iter(container);;)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tlet varitems = ul4._unpackvar(this.varname, item.value);\n\t\t\t\tfor (let i = 0; i < varitems.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet [lvalue, value] = varitems[i];\n\t\t\t\t\tlvalue._handle_eval_set(localcontext, value);\n\t\t\t\t}\n\t\t\t\tif (this.condition === null || ul4._bool(this.condition._handle_eval(localcontext)))\n\t\t\t\t\tresult.add(this.item._handle_eval(localcontext));\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.SetCompAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"item\", \"varname\", \"container\", \"condition\"]);\n\n\tul4.DictAST = class DictAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.items = [];\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tswitch (attrname)\n\t\t\t{\n\t\t\t\tcase \"items\":\n\t\t\t\t\treturn this.items;\n\t\t\t\tdefault:\n\t\t\t\t\treturn super.__getattr__(attrname);\n\t\t\t}\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<DictAST\");\n\t\t\tfor (let i = 0; i < this.items.length; ++i)\n\t\t\t{\n\t\t\t\tlet item = this.items[i];\n\t\t\t\tout.push(\" \");\n\t\t\t\titem._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet result = ul4._emptymap();\n\t\t\tfor (let i = 0; i < this.items.length; ++i)\n\t\t\t{\n\t\t\t\tlet item = this.items[i];\n\t\t\t\titem._handle_eval_dict(context, result);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.DictAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"items\"]);\n\n\tul4.DictCompAST = class DictCompAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, key, value, varname, container, condition)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.key = key;\n\t\t\tthis.value = value;\n\t\t\tthis.varname = varname;\n\t\t\tthis.container = container;\n\t\t\tthis.condition = condition;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<DictCompAST\");\n\t\t\tout.push(\" key=\");\n\t\t\tthis.key._repr(out);\n\t\t\tout.push(\" value=\");\n\t\t\tthis.value._repr(out);\n\t\t\tout.push(\" varname=\");\n\t\t\tthis.varname._repr(out);\n\t\t\tout.push(\" container=\");\n\t\t\tthis.container._repr(out);\n\t\t\tif (this.condition !== null)\n\t\t\t{\n\t\t\t\tout.push(\" condition=\");\n\t\t\t\tthis.condition._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet container = this.container._handle_eval(context);\n\n\t\t\tlet localcontext = context.inheritvars();\n\n\t\t\tlet result = ul4._emptymap();\n\n\t\t\tfor (let iter = ul4._iter(container);;)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tlet varitems = ul4._unpackvar(this.varname, item.value);\n\t\t\t\tfor (let i = 0; i < varitems.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet [lvalue, value] = varitems[i];\n\t\t\t\t\tlvalue._handle_eval_set(localcontext, value);\n\t\t\t\t}\n\t\t\t\tif (this.condition === null || ul4._bool(this.condition._handle_eval(localcontext)))\n\t\t\t\t{\n\t\t\t\t\tlet key = this.key._handle_eval(localcontext);\n\t\t\t\t\tlet value = this.value._handle_eval(localcontext);\n\t\t\t\t\tul4._setmap(result, key, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.DictCompAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"key\", \"value\", \"varname\", \"container\", \"condition\"]);\n\n\tul4.GenExprAST = class GenExprAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, item, varname, container, condition)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.item = item;\n\t\t\tthis.varname = varname;\n\t\t\tthis.container = container;\n\t\t\tthis.condition = condition;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<GenExprAST\");\n\t\t\tout.push(\" item=\");\n\t\t\tthis.item._repr(out);\n\t\t\tout.push(\" varname=\");\n\t\t\tthis.varname._repr(out);\n\t\t\tout.push(\" container=\");\n\t\t\tthis.container._repr(out);\n\t\t\tif (this.condition !== null)\n\t\t\t{\n\t\t\t\tout.push(\" condition=\");\n\t\t\t\tthis.condition._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet container = this.container._handle_eval(context);\n\t\t\tlet iter = ul4._iter(container);\n\n\t\t\tlet localcontext = context.inheritvars();\n\n\t\t\tlet self = this;\n\n\t\t\tlet result = {\n\t\t\t\tnext: function(){\n\t\t\t\t\twhile (true)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet item = iter.next();\n\t\t\t\t\t\tif (item.done)\n\t\t\t\t\t\t\treturn item;\n\t\t\t\t\t\tlet varitems = ul4._unpackvar(self.varname, item.value);\n\t\t\t\t\t\tfor (let i = 0; i < varitems.length; ++i)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet [lvalue, value] = varitems[i];\n\t\t\t\t\t\t\tlvalue._handle_eval_set(localcontext, value);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (self.condition === null || ul4._bool(self.condition._handle_eval(localcontext)))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet value = self.item._handle_eval(localcontext);\n\t\t\t\t\t\t\treturn {value: value, done: false};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.GenExprAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"item\", \"varname\", \"container\", \"condition\"]);\n\n\tul4.VarAST = class VarAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, name)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.name = name;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<VarAST name=\");\n\t\t\tout.push(ul4._repr(this.name));\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\treturn this._get(context, this.name);\n\t\t}\n\n\t\t_eval_set(context, value)\n\t\t{\n\t\t\tthis._set(context, this.name, value);\n\t\t}\n\n\t\t_eval_modify(context, operator, value)\n\t\t{\n\t\t\tthis._modify(context, operator, this.name, value);\n\t\t}\n\n\t\t_get(context, name)\n\t\t{\n\t\t\tlet result = context.get(name);\n\t\t\tif (typeof(result) === \"undefined\")\n\t\t\t\tresult = ul4.functions[name];\n\t\t\treturn result;\n\t\t}\n\n\t\t_set(context, name, value)\n\t\t{\n\t\t\tcontext.set(name, value);\n\t\t}\n\n\t\t_modify(context, operator, name, value)\n\t\t{\n\t\t\tlet newvalue = operator._ido(context.get(name), value);\n\t\t\tcontext.set(name, newvalue);\n\t\t}\n\t};\n\n\tul4.VarAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"name\"]);\n\n\tul4.UnaryAST = class UnaryAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, obj)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.obj = obj;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<\");\n\t\t\tout.push(this.constructor.name);\n\t\t\tout.push(\" obj=\");\n\t\t\tthis.obj._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet obj = this.obj._handle_eval(context);\n\t\t\treturn this._do(obj);\n\t\t}\n\t};\n\n\tul4.UnaryAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"obj\"]);\n\n\t// Negation\n\tul4.NegAST = class NegAST extends ul4.UnaryAST\n\t{\n\t\t_do(obj)\n\t\t{\n\t\t\tif (obj !== null && typeof(obj.__neg__) === \"function\")\n\t\t\t\treturn obj.__neg__();\n\t\t\treturn -obj;\n\t\t}\n\t};\n\n\t// Bitwise not\n\tul4.BitNotAST = class BitNotAST extends ul4.UnaryAST\n\t{\n\t\t_do(obj)\n\t\t{\n\t\t\treturn -obj-1;\n\t\t}\n\t};\n\n\t// Not\n\tul4.NotAST = class NotAST extends ul4.UnaryAST\n\t{\n\t\t_do(obj)\n\t\t{\n\t\t\treturn !ul4._bool(obj);\n\t\t}\n\t};\n\n\t// If expression\n\tul4.IfAST = class IfAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, objif, objcond, objelse)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.objif = objif;\n\t\t\tthis.objcond = objcond;\n\t\t\tthis.objelse = objelse;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<\");\n\t\t\tout.push(this.constructor.name);\n\t\t\tout.push(+1);\n\t\t\tout.push(\"objif=\");\n\t\t\tthis.objif._repr(out);\n\t\t\tout.push(0);\n\t\t\tout.push(\"objcond=\");\n\t\t\tthis.objcond._repr(out);\n\t\t\tout.push(0);\n\t\t\tout.push(\"objelse=\");\n\t\t\tthis.objelse._repr(out);\n\t\t\tout.push(-1);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet result;\n\t\t\tlet condvalue = this.objcond._handle_eval(context);\n\t\t\tif (ul4._bool(condvalue))\n\t\t\t\tresult = this.objif._handle_eval(context);\n\t\t\telse\n\t\t\t\tresult = this.objelse._handle_eval(context);\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.IfAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"objif\", \"objcond\", \"objelse\"]);\n\n\tul4.ReturnAST = class ReturnAST extends ul4.UnaryAST\n\t{\n\t\t_eval(context)\n\t\t{\n\t\t\tlet result = this.obj._handle_eval(context);\n\t\t\tthrow new ul4.ReturnException(result);\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"return \");\n\t\t\tthis.obj._str(out);\n\t\t}\n\t};\n\n\tul4.PrintAST = class PrintAST extends ul4.UnaryAST\n\t{\n\t\t_eval(context)\n\t\t{\n\t\t\tlet obj = this.obj._handle_eval(context);\n\t\t\tlet output = ul4._str(obj);\n\t\t\tcontext.output(output);\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"print \");\n\t\t\tthis.obj._str(out);\n\t\t}\n\t};\n\n\tul4.PrintXAST = class PrintXAST extends ul4.UnaryAST\n\t{\n\t\t_eval(context)\n\t\t{\n\t\t\tlet obj = this.obj._handle_eval(context);\n\t\t\tlet output = ul4._xmlescape(obj);\n\t\t\tcontext.output(output);\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"printx \");\n\t\t\tthis.obj._str(out);\n\t\t}\n\t};\n\n\tul4.BinaryAST = class BinaryAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, obj1, obj2)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.obj1 = obj1;\n\t\t\tthis.obj2 = obj2;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<\");\n\t\t\tout.push(this.constructor.name);\n\t\t\tout.push(\" obj1=\");\n\t\t\tthis.obj1._repr(out);\n\t\t\tout.push(\" obj2=\");\n\t\t\tthis.obj2._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet obj1 = this.obj1._handle_eval(context);\n\t\t\tlet obj2 = this.obj2._handle_eval(context);\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\tul4.BinaryAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"obj1\", \"obj2\"]);\n\n\t// Item access and assignment: dict[key], list[index], string[index], color[index]\n\tul4.ItemAST = class ItemAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tlet result = this._get(obj1, obj2);\n\t\t\treturn result;\n\t\t}\n\n\t\t_eval_set(context, value)\n\t\t{\n\t\t\tlet obj1 = this.obj1._handle_eval(context);\n\t\t\tlet obj2 = this.obj2._handle_eval(context);\n\t\t\tthis._set(obj1, obj2, value);\n\t\t}\n\n\t\t_eval_modify(context, operator, value)\n\t\t{\n\t\t\tlet obj1 = this.obj1._handle_eval(context);\n\t\t\tlet obj2 = this.obj2._handle_eval(context);\n\t\t\tthis._modify(operator, obj1, obj2, value);\n\t\t}\n\n\t\t_get(container, key)\n\t\t{\n\t\t\tif (typeof(container) === \"string\" || ul4._islist(container))\n\t\t\t{\n\t\t\t\tif (key instanceof ul4.slice)\n\t\t\t\t{\n\t\t\t\t\tlet start = key.start, stop = key.stop;\n\t\t\t\t\tif (typeof(start) === \"undefined\" || start === null)\n\t\t\t\t\t\tstart = 0;\n\t\t\t\t\tif (typeof(stop) === \"undefined\" || stop === null)\n\t\t\t\t\t\tstop = container.length;\n\t\t\t\t\treturn container.slice(start, stop);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet orgkey = key;\n\t\t\t\t\tif (key < 0)\n\t\t\t\t\t\tkey += container.length;\n\t\t\t\t\tif (key < 0 || key >= container.length)\n\t\t\t\t\t\tthrow new ul4.IndexError(container, orgkey);\n\t\t\t\t\treturn container[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (container && typeof(container.__getitem__) === \"function\") // objects without ``_getitem__`` don't support item access\n\t\t\t\treturn container.__getitem__(key);\n\t\t\telse if (ul4._ismap(container))\n\t\t\t\treturn container.get(key);\n\t\t\telse\n\t\t\t\tthrow new ul4.TypeError(ul4._type(container) + \" object is not subscriptable\");\n\t\t}\n\n\t\t_set(container, key, value)\n\t\t{\n\t\t\tif (ul4._islist(container))\n\t\t\t{\n\t\t\t\tif (key instanceof ul4.slice)\n\t\t\t\t{\n\t\t\t\t\tlet start = key.start, stop = key.stop;\n\t\t\t\t\tif (start === null)\n\t\t\t\t\t\tstart = 0;\n\t\t\t\t\telse if (start < 0)\n\t\t\t\t\t\tstart += container.length;\n\t\t\t\t\tif (start < 0)\n\t\t\t\t\t\tstart = 0;\n\t\t\t\t\telse if (start > container.length)\n\t\t\t\t\t\tstart = container.length;\n\t\t\t\t\tif (stop === null)\n\t\t\t\t\t\tstop = container.length;\n\t\t\t\t\telse if (stop < 0)\n\t\t\t\t\t\tstop += container.length;\n\t\t\t\t\tif (stop < 0)\n\t\t\t\t\t\tstop = 0;\n\t\t\t\t\telse if (stop > container.length)\n\t\t\t\t\t\tstop = container.length;\n\t\t\t\t\tif (stop < start)\n\t\t\t\t\t\tstop = start;\n\t\t\t\t\tcontainer.splice(start, stop-start); // Remove old element\n\t\t\t\t\tfor (let iter = ul4._iter(value);;)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet item = iter.next();\n\t\t\t\t\t\tif (item.done)\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcontainer.splice(start++, 0, item.value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet orgkey = key;\n\t\t\t\t\tif (key < 0)\n\t\t\t\t\t\tkey += container.length;\n\t\t\t\t\tif (key < 0 || key >= container.length)\n\t\t\t\t\t\tthrow new ul4.IndexError(container, orgkey);\n\t\t\t\t\tcontainer[key] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (container && typeof(container.__setitem__) === \"function\") // test this before the generic object test\n\t\t\t\tcontainer.__setitem__(key, value);\n\t\t\telse if (ul4._ismap(container))\n\t\t\t\tcontainer.set(key, value);\n\t\t\telse if (ul4._isobject(container))\n\t\t\t\tcontainer[key] = value;\n\t\t\telse\n\t\t\t\tthrow new ul4.NotSubscriptableError(container);\n\t\t}\n\n\t\t_modify(operator, container, key, value)\n\t\t{\n\t\t\tthis._set(container, key, operator._ido(this._get(container, key), value));\n\t\t}\n\t};\n\n\t// Identifty test operator ``is``\n\tul4.IsAST = class IsAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\treturn obj1 === obj2;\n\t\t}\n\t};\n\n\t// Inverted identity test operator ``is not``\n\tul4.IsNotAST = class IsNotAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\treturn obj1 !== obj2;\n\t\t}\n\t};\n\n\t// Comparison operator ==\n\tul4.EQAST = class EQAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\treturn ul4._eq(obj1, obj2);\n\t\t}\n\t};\n\n\t// Comparison operator !=\n\tul4.NEAST = class NEAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\treturn ul4._ne(obj1, obj2);\n\t\t}\n\t};\n\n\t// Comparison operator <\n\tul4.LTAST = class LTAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\treturn ul4._lt(obj1, obj2);\n\t\t}\n\t};\n\n\t// Comparison operator <=\n\tul4.LEAST = class LEAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\treturn ul4._le(obj1, obj2);\n\t\t}\n\t};\n\n\t// Comparison operator >\n\tul4.GTAST = class GTAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\treturn ul4._gt(obj1, obj2);\n\t\t}\n\t};\n\n\t// Comparison operator >=\n\tul4.GEAST = class GEAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\treturn ul4._ge(obj1, obj2);\n\t\t}\n\t};\n\n\t// Containment test: string in string, obj in list, key in dict, value in rgb\n\tul4.ContainsAST = class ContainsAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj, container)\n\t\t{\n\t\t\tif (typeof(obj) === \"string\" && typeof(container) === \"string\")\n\t\t\t{\n\t\t\t\treturn container.indexOf(obj) !== -1;\n\t\t\t}\n\t\t\telse if (ul4._islist(container))\n\t\t\t{\n\t\t\t\treturn container.indexOf(obj) !== -1;\n\t\t\t}\n\t\t\telse if (container && typeof(container.__contains__) === \"function\") // test this before the generic object test\n\t\t\t\treturn container.__contains__(obj);\n\t\t\telse if (ul4._ismap(container) || ul4._isset(container))\n\t\t\t\treturn container.has(obj);\n\t\t\telse if (ul4._isobject(container))\n\t\t\t{\n\t\t\t\tfor (let key in container)\n\t\t\t\t{\n\t\t\t\t\tif (key === obj)\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse if (ul4._iscolor(container))\n\t\t\t{\n\t\t\t\treturn container._r === obj || container._g === obj || container._b === obj || container._a === obj;\n\t\t\t}\n\t\t\tthrow new ul4.TypeError(ul4._type(container) + \" object is not iterable\");\n\t\t}\n\t};\n\n\t// Inverted containment test\n\tul4.NotContainsAST = class NotContainsAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj, container)\n\t\t{\n\t\t\treturn !ul4.ContainsAST.prototype._do(obj, container);\n\t\t}\n\t};\n\n\t// Addition: num + num, string + string\n\tul4.AddAST = class AddAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tif (obj1 && typeof(obj1.__add__) === \"function\")\n\t\t\t\treturn obj1.__add__(obj2);\n\t\t\telse if (obj2 && typeof(obj2.__radd__) === \"function\")\n\t\t\t\treturn obj2.__radd__(obj1);\n\t\t\tif (obj1 === null || obj2 === null)\n\t\t\t\tthrow new ul4.TypeError(ul4._type(this.obj1) + \" + \" + ul4._type(this.obj2) + \" is not supported\");\n\t\t\tif (ul4._islist(obj1) && ul4._islist(obj2))\n\t\t\t\treturn [...obj1, ...obj2];\n\t\t\telse\n\t\t\t\treturn obj1 + obj2;\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\tif (ul4._islist(obj1) && ul4._islist(obj2))\n\t\t\t{\n\t\t\t\tul4.ListProtocol.append(obj1, obj2);\n\t\t\t\treturn obj1;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\t// Substraction: num - num\n\tul4.SubAST = class SubAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tif (obj1 && typeof(obj1.__sub__) === \"function\")\n\t\t\t\treturn obj1.__sub__(obj2);\n\t\t\telse if (obj2 && typeof(obj2.__rsub__) === \"function\")\n\t\t\t\treturn obj2.__rsub__(obj1);\n\t\t\telse if (ul4._isdate(obj1) && ul4._isdate(obj2))\n\t\t\t\treturn this._date_sub(obj1, obj2);\n\t\t\telse if (ul4._isdatetime(obj1) && ul4._isdatetime(obj2))\n\t\t\t\treturn this._datetime_sub(obj1, obj2);\n\t\t\tif (obj1 === null || obj2 === null)\n\t\t\t\tthrow new ul4.TypeError(ul4._type(this.obj1) + \" - \" + ul4._type(this.obj2) + \" is not supported\");\n\t\t\treturn obj1 - obj2;\n\t\t}\n\n\t\t_date_sub(obj1, obj2)\n\t\t{\n\t\t\treturn this._datetime_sub(obj1._date, obj2._date);\n\t\t}\n\n\t\t_datetime_sub(obj1, obj2)\n\t\t{\n\t\t\tlet swap = (obj2 > obj1);\n\n\t\t\tif (swap)\n\t\t\t{\n\t\t\t\tlet t = obj1;\n\t\t\t\tobj1 = obj2;\n\t\t\t\tobj2 = t;\n\t\t\t}\n\t\t\t// From now on obj1 is > than obj2\n\n\t\t\tlet year1 = obj1.getFullYear();\n\t\t\tlet yearday1 = ul4.DateTimeProtocol.yearday(obj1);\n\t\t\tlet year2 = obj2.getFullYear();\n\t\t\tlet yearday2 = ul4.DateTimeProtocol.yearday(obj2);\n\n\t\t\tlet diffdays = 0;\n\n\t\t\twhile (year1 > year2)\n\t\t\t{\n\t\t\t\tdiffdays += ul4.DateProtocol.yearday(ul4._date(year2, 12, 31));\n\t\t\t\t++year2;\n\t\t\t}\n\t\t\tdiffdays += yearday1 - yearday2;\n\n\t\t\tlet hours1 = obj1.getHours();\n\t\t\tlet minutes1 = obj1.getMinutes();\n\t\t\tlet seconds1 = obj1.getSeconds();\n\t\t\tlet hours2 = obj2.getHours();\n\t\t\tlet minutes2 = obj2.getMinutes();\n\t\t\tlet seconds2 = obj2.getSeconds();\n\n\t\t\tlet diffseconds = (seconds1 - seconds2) + 60 * ((minutes1 - minutes2) + 60 * (hours1 - hours2));\n\n\t\t\tlet diffmilliseconds = obj1.getMilliseconds() - obj2.getMilliseconds();\n\n\t\t\tif (swap)\n\t\t\t{\n\t\t\t\tdiffdays = -diffdays;\n\t\t\t\tdiffseconds = -diffseconds;\n\t\t\t\tdiffmilliseconds = -diffmilliseconds;\n\t\t\t}\n\t\t\treturn new ul4.TimeDelta(diffdays, diffseconds, 1000*diffmilliseconds);\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\n\t// Multiplication: num * num, int * str, str * int, int * list, list * int\n\tul4.MulAST = class MulAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tif (obj1 && typeof(obj1.__mul__) === \"function\")\n\t\t\t\treturn obj1.__mul__(obj2);\n\t\t\telse if (obj2 && typeof(obj2.__rmul__) === \"function\")\n\t\t\t\treturn obj2.__rmul__(obj1);\n\t\t\tif (obj1 === null || obj2 === null)\n\t\t\t\tthrow new ul4.TypeError(ul4._type(obj1) + \" * \" + ul4._type(obj2) + \" not supported\");\n\t\t\telse if (ul4._isint(obj1) || ul4._isbool(obj1))\n\t\t\t{\n\t\t\t\tif (typeof(obj2) === \"string\")\n\t\t\t\t{\n\t\t\t\t\tif (obj1 < 0)\n\t\t\t\t\t\tthrow new ul4.ValueError(\"repetition counter must be positive\");\n\t\t\t\t\treturn ul4._str_repeat(obj2, obj1);\n\t\t\t\t}\n\t\t\t\telse if (ul4._islist(obj2))\n\t\t\t\t{\n\t\t\t\t\tif (obj1 < 0)\n\t\t\t\t\t\tthrow new ul4.ValueError(\"repetition counter must be positive\");\n\t\t\t\t\treturn ul4._list_repeat(obj2, obj1);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (ul4._isint(obj2) || ul4._isbool(obj2))\n\t\t\t{\n\t\t\t\tif (typeof(obj1) === \"string\")\n\t\t\t\t{\n\t\t\t\t\tif (obj2 < 0)\n\t\t\t\t\t\tthrow new ul4.ValueError(\"repetition counter must be positive\");\n\t\t\t\t\treturn ul4._str_repeat(obj1, obj2);\n\t\t\t\t}\n\t\t\t\telse if (ul4._islist(obj1))\n\t\t\t\t{\n\t\t\t\t\tif (obj2 < 0)\n\t\t\t\t\t\tthrow new ul4.ValueError(\"repetition counter must be positive\");\n\t\t\t\t\treturn ul4._list_repeat(obj1, obj2);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn obj1 * obj2;\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\tif (ul4._islist(obj1) && ul4._isint(obj2))\n\t\t\t{\n\t\t\t\tif (obj2 > 0)\n\t\t\t\t{\n\t\t\t\t\tlet i = 0;\n\t\t\t\t\tlet targetsize = obj1.length * obj2;\n\t\t\t\t\twhile (obj1.length < targetsize)\n\t\t\t\t\t\tobj1.push(obj1[i++]);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tobj1.splice(0, obj1.length);\n\t\t\t\treturn obj1;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\t// Truncating division\n\tul4.FloorDivAST = class FloorDivAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tif (obj1 && typeof(obj1.__floordiv__) === \"function\")\n\t\t\t\treturn obj1.__floordiv__(obj2);\n\t\t\telse if (obj2 && typeof(obj2.__rfloordiv__) === \"function\")\n\t\t\t\treturn obj2.__rfloordiv__(obj1);\n\t\t\tif (obj1 === null || obj2 === null)\n\t\t\t\tthrow new ul4.TypeError(ul4._type(obj1) + \" // \" + ul4._type(obj2) + \" not supported\");\n\t\t\telse if (typeof(obj1) === \"number\" && typeof(obj2) === \"number\" && obj2 === 0)\n\t\t\t\tthrow new ul4.ZeroDivisionError();\n\t\t\treturn Math.floor(obj1 / obj2);\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\t// \"Real\" division\n\tul4.TrueDivAST = class TrueDivAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tif (obj1 && typeof(obj1.__truediv__) === \"function\")\n\t\t\t\treturn obj1.__truediv__(obj2);\n\t\t\telse if (obj2 && typeof(obj2.__rtruediv__) === \"function\")\n\t\t\t\treturn obj2.__rtruediv__(obj1);\n\t\t\tif (obj1 === null || obj2 === null)\n\t\t\t\tthrow new ul4.TypeError(ul4._type(obj1) + \" / \" + ul4._type(obj2) + \" not supported\");\n\t\t\telse if (typeof(obj1) === \"number\" && typeof(obj2) === \"number\" && obj2 === 0)\n\t\t\t\tthrow new ul4.ZeroDivisionError();\n\t\t\treturn obj1 / obj2;\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\t// Modulo\n\tul4.ModAST = class ModAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\treturn ul4._mod(obj1, obj2);\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\t// Bitwise left shift\n\tul4.ShiftLeftAST = class ShiftLeftAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tif (obj2 === false)\n\t\t\t\tobj2 = 0;\n\t\t\telse if (obj2 === true)\n\t\t\t\tobj2 = 1;\n\t\t\tif (obj2 < 0)\n\t\t\t\treturn ul4.ShiftRightAST.prototype._do(obj1, -obj2);\n\t\t\tif (obj1 === false)\n\t\t\t\tobj1 = 0;\n\t\t\telse if (obj1 === true)\n\t\t\t\tobj1 = 1;\n\t\t\twhile (obj2--)\n\t\t\t\tobj1 *= 2;\n\t\t\treturn obj1;\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\t// Bitwise right shift\n\tul4.ShiftRightAST = class ShiftRightAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tif (obj2 === false)\n\t\t\t\tobj2 = 0;\n\t\t\telse if (obj2 === true)\n\t\t\t\tobj2 = 1;\n\t\t\tif (obj2 < 0)\n\t\t\t\treturn ul4.ShiftLeftAST.prototype._do(obj1, -obj2);\n\t\t\tif (obj1 === false)\n\t\t\t\tobj1 = 0;\n\t\t\telse if (obj1 === true)\n\t\t\t\tobj1 = 1;\n\t\t\twhile (obj2--)\n\t\t\t\tobj1 /= 2;\n\t\t\treturn Math.floor(obj1);\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\t// Bitwise and\n\tul4.BitAndAST = class BitAndAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tif (obj2 === false)\n\t\t\t\tobj2 = 0;\n\t\t\telse if (obj2 === true)\n\t\t\t\tobj2 = 1;\n\t\t\treturn obj1 & obj2;\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\t// Bitwise exclusive or\n\tul4.BitXOrAST = class BitXOrAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tif (obj2 === false)\n\t\t\t\tobj2 = 0;\n\t\t\telse if (obj2 === true)\n\t\t\t\tobj2 = 1;\n\t\t\treturn obj1 ^ obj2;\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\t// Bitwise or\n\tul4.BitOrAST = class BitOrAST extends ul4.BinaryAST\n\t{\n\t\t_do(obj1, obj2)\n\t\t{\n\t\t\tif (obj2 === false)\n\t\t\t\tobj2 = 0;\n\t\t\telse if (obj2 === true)\n\t\t\t\tobj2 = 1;\n\t\t\treturn obj1 | obj2;\n\t\t}\n\n\t\t_ido(obj1, obj2)\n\t\t{\n\t\t\treturn this._do(obj1, obj2);\n\t\t}\n\t};\n\n\tul4.AndAST = class AndAST extends ul4.BinaryAST\n\t{\n\t\t_eval(context)\n\t\t{\n\t\t\tlet obj1 = this.obj1._handle_eval(context);\n\t\t\tif (!ul4._bool(obj1))\n\t\t\t\treturn obj1;\n\t\t\tlet obj2 = this.obj2._handle_eval(context);\n\t\t\treturn obj2;\n\t\t}\n\t};\n\n\tul4.OrAST = class OrAST extends ul4.BinaryAST\n\t{\n\t\t_eval(context)\n\t\t{\n\t\t\tlet obj1 = this.obj1._handle_eval(context);\n\t\t\tif (ul4._bool(obj1))\n\t\t\t\treturn obj1;\n\t\t\tlet obj2 = this.obj2._handle_eval(context);\n\t\t\treturn obj2;\n\t\t}\n\t};\n\n\tul4.AttrAST = class AttrAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, obj, attrname)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.obj = obj;\n\t\t\tthis.attrname = attrname;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<AttrAST\");\n\t\t\tout.push(\" obj=\");\n\t\t\tthis.obj._repr(out);\n\t\t\tout.push(\" attrname=\");\n\t\t\tout.push(ul4._repr(this.attrname));\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet obj = this.obj._handle_eval(context);\n\t\t\tlet result = this._get(obj, this.attrname);\n\t\t\treturn result;\n\t\t}\n\n\t\t_eval_set(context, value)\n\t\t{\n\t\t\tlet obj = this.obj._handle_eval(context);\n\t\t\tthis._set(obj, this.attrname, value);\n\t\t}\n\n\t\t_eval_modify(context, operator, value)\n\t\t{\n\t\t\tlet obj = this.obj._handle_eval(context);\n\t\t\tthis._modify(operator, obj, this.attrname, value);\n\t\t}\n\n\t\t_get(object, attrname)\n\t\t{\n\t\t\tlet proto = ul4.Protocol.get(object);\n\t\t\ttry\n\t\t\t{\n\t\t\t\treturn proto.getattr(object, attrname);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (exc instanceof ul4.AttributeError && exc.obj === object)\n\t\t\t\t\treturn undefined;\n\t\t\t\telse\n\t\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\n\t\t_set(object, attrname, value)\n\t\t{\n\t\t\tif (typeof(object) === \"object\" && typeof(object.__setattr__) === \"function\")\n\t\t\t\tobject.__setattr__(attrname, value);\n\t\t\telse if (ul4._ismap(object))\n\t\t\t\tobject.set(attrname, value);\n\t\t\telse if (ul4._isobject(object))\n\t\t\t\tobject[attrname] = value;\n\t\t\telse\n\t\t\t\tthrow new ul4.TypeError(ul4._type(object) + \" object has no writable attributes\");\n\t\t}\n\n\t\t_modify(operator, object, attrname, value)\n\t\t{\n\t\t\tlet oldvalue = this._get(object, attrname);\n\t\t\tlet newvalue = operator._ido(oldvalue, value);\n\t\t\tthis._set(object, attrname, newvalue);\n\t\t}\n\t};\n\n\tul4.AttrAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"obj\", \"attrname\"]);\n\n\tul4.CallAST = class CallAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, obj, args)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.obj = obj;\n\t\t\tthis.args = args;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<CallAST\");\n\t\t\tout.push(\" obj=\");\n\t\t\tthis.obj._repr(out);\n\t\t\tfor (let i = 0; i < this.args.length; ++i)\n\t\t\t{\n\t\t\t\tlet arg = this.args[i];\n\t\t\t\tout.push(\" \");\n\t\t\t\targ._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_makeargs(context)\n\t\t{\n\t\t\tlet args = [], kwargs = {};\n\t\t\tfor (let i = 0; i < this.args.length; ++i)\n\t\t\t{\n\t\t\t\tlet arg = this.args[i];\n\t\t\t\targ._handle_eval_call(context, args, kwargs);\n\t\t\t}\n\t\t\treturn {args: args, kwargs: kwargs};\n\t\t}\n\n\t\t_handle_eval(context)\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\treturn this._eval(context);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tthis._decorate_exception(exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet obj = this.obj._handle_eval(context);\n\t\t\tlet args = this._makeargs(context);\n\t\t\tlet result = ul4._call(context, obj, args.args, args.kwargs);\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.CallAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"obj\", \"args\"]);\n\n\tul4.RenderAST = class RenderAST extends ul4.CallAST\n\t{\n\t\tconstructor(template, pos, obj, args)\n\t\t{\n\t\t\tsuper(template, pos, obj, args);\n\t\t\tthis.indent = null;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<\");\n\t\t\tout.push(this._reprname);\n\t\t\tout.push(\"<RenderAST\");\n\t\t\tout.push(\" indent=\");\n\t\t\tout.push(ul4._repr(this.indent));\n\t\t\tout.push(\" obj=\");\n\t\t\tthis.obj._repr(out);\n\t\t\tout.push(0);\n\t\t\tfor (let i = 0; i < this.args.length; ++i)\n\t\t\t{\n\t\t\t\tlet arg = this.args[i];\n\t\t\t\tout.push(\" \");\n\t\t\t\targ._repr(out);\n\t\t\t\tout.push(0);\n\t\t\t}\n\t\t\tout.push(-1);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"render \");\n\t\t\tout.push(this.tag.code.replace(/\\r?\\n/g, ' '));\n\t\t\tif (this.indent !== null)\n\t\t\t{\n\t\t\t\tout.push(\" with indent \");\n\t\t\t\tout.push(ul4._repr(this.indent.text));\n\t\t\t}\n\t\t}\n\n\t\t_handle_eval(context)\n\t\t{\n\t\t\tlet localcontext = context.withindent(this.indent !== null ? this.indent.text : null);\n\t\t\tlet obj = this.obj._handle_eval(localcontext);\n\t\t\tlet args = this._makeargs(localcontext);\n\t\t\tthis._handle_additional_arguments(localcontext, args);\n\n\t\t\ttry\n\t\t\t{\n\t\t\t\tlet result = ul4._callrender(localcontext, obj, args.args, args.kwargs);\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tthis._decorate_exception(exc);\n\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\n\t\t_handle_additional_arguments(context, args)\n\t\t{\n\t\t}\n\t};\n\n\tul4.RenderAST.prototype._ul4onattrs = ul4.CallAST.prototype._ul4onattrs.concat([\"indent\"]);\n\tul4.RenderAST.prototype._reprname = \"RenderAST\";\n\n\tul4.RenderXAST = class RenderXAST extends ul4.RenderAST\n\t{\n\t\t_handle_eval(context)\n\t\t{\n\t\t\tcontext.escapes.push(ul4._xmlescape);\n\n\t\t\tlet result = null;\n\t\t\ttry\n\t\t\t{\n\t\t\t\tresult = super._handle_eval(context);\n\t\t\t}\n\t\t\tfinally\n\t\t\t{\n\t\t\t\tcontext.escapes.splice(context.escapes.length-1, 1);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.RenderBlockAST = class RenderBlockAST extends ul4.RenderAST\n\t{\n\t\t_handle_additional_arguments(context, args)\n\t\t{\n\t\t\tif (args.kwargs.hasOwnProperty(\"content\"))\n\t\t\t\tthrow new ul4.ArgumentError(\"duplicate keyword argument content\");\n\t\t\tlet closure = new ul4.TemplateClosure(this.content, this.content.signature, context.vars);\n\t\t\targs.kwargs.content = closure;\n\t\t}\n\t};\n\n\tul4.RenderBlockAST.prototype._ul4onattrs = ul4.RenderAST.prototype._ul4onattrs.concat([\"content\"]);\n\n\tul4.RenderBlocksAST = class RenderBlocksAST extends ul4.RenderAST\n\t{\n\t\t_handle_additional_arguments(context, args)\n\t\t{\n\t\t\tlet localcontext = context.inheritvars();\n\t\t\tul4.BlockAST.prototype._eval.call(this, localcontext);\n\n\t\t\tfor (let key in localcontext.vars)\n\t\t\t{\n\t\t\t\tif (localcontext.vars.hasOwnProperty(key))\n\t\t\t\t{\n\t\t\t\t\tif (key in args.kwargs)\n\t\t\t\t\t\tthrow new ul4.ArgumentError(\"duplicate keyword argument \" + key);\n\t\t\t\t\targs.kwargs[key] = localcontext.get(key);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.RenderBlocksAST.prototype._ul4onattrs = ul4.RenderAST.prototype._ul4onattrs.concat([\"content\"]);\n\n\t// Slice object\n\tul4.slice = class slice extends ul4.Proto\n\t{\n\t\tconstructor(start, stop)\n\t\t{\n\t\t\tsuper();\n\t\t\tthis.start = start;\n\t\t\tthis.stop = stop;\n\t\t}\n\n\t\tof(string)\n\t\t{\n\t\t\tlet start = this.start || 0;\n\t\t\tlet stop = this.stop === null ? string.length : this.stop;\n\t\t\treturn string.slice(start, stop);\n\t\t}\n\n\t\t__repr__()\n\t\t{\n\t\t\treturn \"slice(\" + ul4._repr(this.start) + \", \" + ul4._repr(this.stop) + \", None)\";\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tswitch (attrname)\n\t\t\t{\n\t\t\t\tcase \"start\":\n\t\t\t\t\treturn this.start;\n\t\t\t\tcase \"stop\":\n\t\t\t\t\treturn this.stop;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new ul4.AttributeError(this, attrname);\n\t\t\t}\n\t\t}\n\t};\n\n\n\t// List/String slice\n\tul4.SliceAST = class SliceAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, index1, index2)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.index1 = index1;\n\t\t\tthis.index2 = index2;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<SliceAST\");\n\t\t\tif (this.index1 !== null)\n\t\t\t{\n\t\t\t\tout.push(\" index1=\");\n\t\t\t\tthis.index1._repr(out);\n\t\t\t}\n\t\t\tif (this.index2 !== null)\n\t\t\t{\n\t\t\t\tout.push(\" index2=\");\n\t\t\t\tthis.index2._repr(out);\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet index1 = this.index1 !== null ? this.index1._handle_eval(context) : null;\n\t\t\tlet index2 = this.index2 !== null ? this.index2._handle_eval(context) : null;\n\t\t\treturn new ul4.slice(index1, index2);\n\t\t}\n\t};\n\n\tul4.SliceAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"index1\", \"index2\"]);\n\n\tul4.SetVarAST = class SetVarAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos, lvalue, value)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.lvalue = lvalue;\n\t\t\tthis.value = value;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<\");\n\t\t\tout.push(this.constructor.name);\n\t\t\tout.push(\" lvalue=\");\n\t\t\tout.push(ul4._repr(this.lvalue));\n\t\t\tout.push(\" value=\");\n\t\t\tthis.value._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet value = this.value._handle_eval(context);\n\t\t\tlet items = ul4._unpackvar(this.lvalue, value);\n\t\t\tfor (let i = 0; i < items.length; ++i)\n\t\t\t{\n\t\t\t\tlet [lvalue, value] = items[i];\n\t\t\t\tlvalue._handle_eval_set(context, value);\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.SetVarAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"lvalue\", \"value\"]);\n\n\tul4.ModifyVarAST = class ModifyVarAST extends ul4.SetVarAST\n\t{\n\t\t_eval(context)\n\t\t{\n\t\t\tlet value = this.value._handle_eval(context);\n\t\t\tlet items = ul4._unpackvar(this.lvalue, value);\n\t\t\tfor (let i = 0; i < items.length; ++i)\n\t\t\t{\n\t\t\t\tlet [lvalue, value] = items[i];\n\t\t\t\tlvalue._handle_eval_modify(context, this._operator, value);\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.AddVarAST = class AddVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.AddVarAST.prototype._operator = ul4.AddAST.prototype;\n\n\tul4.SubVarAST = class SubVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.SubVarAST.prototype._operator = ul4.SubAST.prototype;\n\n\tul4.MulVarAST = class MulVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.MulVarAST.prototype._operator = ul4.MulAST.prototype;\n\n\tul4.TrueDivVarAST = class TrueDivVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.TrueDivVarAST.prototype._operator = ul4.TrueDivAST.prototype;\n\n\tul4.FloorDivVarAST = class FloorDivVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.FloorDivVarAST.prototype._operator = ul4.FloorDivAST.prototype;\n\n\tul4.ModVarAST = class ModVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.ModVarAST.prototype._operator = ul4.ModAST.prototype;\n\n\tul4.ShiftLeftVarAST = class ShiftLeftVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.ShiftLeftVarAST.prototype._operator = ul4.ShiftLeftAST.prototype;\n\n\tul4.ShiftRightVarAST = class ShiftRightVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.ShiftRightVarAST.prototype._operator = ul4.ShiftRightAST.prototype;\n\n\tul4.BitAndVarAST = class BitAndVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.BitAndVarAST.prototype._operator = ul4.BitAndAST.prototype;\n\n\tul4.BitXOrVarAST = class BitXOrVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.BitXOrVarAST.prototype._operator = ul4.BitXOrAST.prototype;\n\n\tul4.BitOrVarAST = class BitOrVarAST extends ul4.ModifyVarAST\n\t{\n\t};\n\n\tul4.BitOrVarAST.prototype._operator = ul4.BitOrAST.prototype;\n\n\tul4.BlockAST = class BlockAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.content = [];\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tfor (let i = 0; i < this.content.length; ++i)\n\t\t\t{\n\t\t\t\tlet item = this.content[i];\n\t\t\t\titem._handle_eval(context);\n\t\t\t}\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tif (this.content.length)\n\t\t\t{\n\t\t\t\tfor (let i = 0; i < this.content.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet item = this.content[i];\n\t\t\t\t\titem._str(out);\n\t\t\t\t\tout.push(0);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tout.push(\"pass\");\n\t\t\t\tout.push(0);\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.BlockAST.prototype._ul4onattrs = ul4.CodeAST.prototype._ul4onattrs.concat([\"content\"]);\n\n\tul4.ForBlockAST = class ForBlockAST extends ul4.BlockAST\n\t{\n\t\tconstructor(template, pos, varname, container)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.varname = varname;\n\t\t\tthis.container = container;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<ForBlockAST\");\n\t\t\tout.push(\" varname=\");\n\t\t\tout.push(ul4._repr(this.varname));\n\t\t\tout.push(\" container=\");\n\t\t\tthis.container._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_str_varname(out, varname)\n\t\t{\n\t\t\tif (ul4._islist(varname))\n\t\t\t{\n\t\t\t\tout.push(\"(\");\n\t\t\t\tfor (let i = 0; i < varname.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tif (i)\n\t\t\t\t\t\tout.push(\", \");\n\t\t\t\t\tthis._str_varname(out, varname[i]);\n\t\t\t\t}\n\t\t\t\tif (varname.length == 1)\n\t\t\t\t\tout.push(\",\");\n\t\t\t\tout.push(\")\");\n\t\t\t}\n\t\t\telse\n\t\t\t\tvarname._str(out);\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet container = this.container._handle_eval(context);\n\n\t\t\tfor (let iter = ul4._iter(container);;)\n\t\t\t{\n\t\t\t\tlet value = iter.next();\n\t\t\t\tif (value.done)\n\t\t\t\t\tbreak;\n\t\t\t\tlet varitems = ul4._unpackvar(this.varname, value.value);\n\t\t\t\tfor (let i = 0; i < varitems.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet [lvalue, value] = varitems[i];\n\t\t\t\t\tlvalue._handle_eval_set(context, value);\n\t\t\t\t}\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\t// We can't call _handle_eval() here, as this would in turn call this function again, leading to infinite recursion\n\t\t\t\t\t// But we don't have to, as wrapping original exception in ``Error`` has already been done by the lower levels\n\t\t\t\t\tsuper._eval(context);\n\t\t\t\t}\n\t\t\t\tcatch (exc)\n\t\t\t\t{\n\t\t\t\t\tif (exc instanceof ul4.BreakException)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\telse if (exc instanceof ul4.ContinueException)\n\t\t\t\t\t\t;\n\t\t\t\t\telse\n\t\t\t\t\t\tthrow exc;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"for \");\n\t\t\tthis._str_varname(out, this.varname);\n\t\t\tout.push(\" in \");\n\t\t\tthis.container._str(out);\n\t\t\tout.push(\":\");\n\t\t\tout.push(+1);\n\t\t\tul4.BlockAST.prototype._str.call(this, out);\n\t\t\tout.push(-1);\n\t\t}\n\t};\n\n\tul4.ForBlockAST.prototype._ul4onattrs = ul4.BlockAST.prototype._ul4onattrs.concat([\"varname\", \"container\"]);\n\n\tul4.WhileBlockAST = class WhileBlockAST extends ul4.BlockAST\n\t{\n\t\tconstructor(template, pos, condition)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.condition = condition;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<WhileAST\");\n\t\t\tout.push(\" condition=\");\n\t\t\tthis.condition._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"while \");\n\t\t\tthis.condition._repr(out);\n\t\t\tout.push(\":\");\n\t\t\tout.push(+1);\n\t\t\tul4.BlockAST.prototype._str.call(this, out);\n\t\t\tout.push(-1);\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\twhile (true)\n\t\t\t{\n\t\t\t\tlet cond = this.condition._handle_eval(context);\n\t\t\t\tif (!ul4._bool(cond))\n\t\t\t\t\tbreak;\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\t// We can't call _handle_eval() here, as this would in turn call this function again, leading to infinite recursion\n\t\t\t\t\t// But we don't have to, as wrapping the original exception in ``Error`` has already been done by the lower levels\n\t\t\t\t\tsuper._eval(context);\n\t\t\t\t}\n\t\t\t\tcatch (exc)\n\t\t\t\t{\n\t\t\t\t\tif (exc instanceof ul4.BreakException)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\telse if (exc instanceof ul4.ContinueException)\n\t\t\t\t\t\t;\n\t\t\t\t\telse\n\t\t\t\t\t\tthrow exc;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.WhileBlockAST.prototype._ul4onattrs = ul4.BlockAST.prototype._ul4onattrs.concat([\"condition\"]);\n\n\tul4.BreakAST = class BreakAST extends ul4.CodeAST\n\t{\n\t\t_eval(context)\n\t\t{\n\t\t\tthrow new ul4.BreakException();\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"break\");\n\t\t\tout.push(0);\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<BreakAST>\");\n\t\t}\n\t};\n\n\tul4.ContinueAST = class ContinueAST extends ul4.CodeAST\n\t{\n\t\t_eval(context)\n\t\t{\n\t\t\tthrow new ul4.ContinueException();\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"continue\");\n\t\t\tout.push(0);\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<ContinueAST>\");\n\t\t}\n\t};\n\n\tul4.CondBlockAST = class CondBlockAST extends ul4.BlockAST\n\t{\n\t\t_eval(context)\n\t\t{\n\t\t\tfor (let i = 0; i < this.content.length; ++i)\n\t\t\t{\n\t\t\t\tlet block = this.content[i];\n\t\t\t\tlet execute = block._execute(context);\n\t\t\t\tif (execute)\n\t\t\t\t{\n\t\t\t\t\tblock._handle_eval(context);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tul4.ConditionalBlockAST = class ConditionalBlockAST extends  ul4.BlockAST\n\t{\n\t\tconstructor(template, pos, condition)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.condition = condition;\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<\");\n\t\t\tout.push(this.constructor.name);\n\t\t\tout.push(\" condition=\");\n\t\t\tthis.condition._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(this._strname);\n\t\t\tout.push(\" \");\n\t\t\tthis.condition._str(out);\n\t\t\tout.push(\":\");\n\t\t\tout.push(+1);\n\t\t\tul4.BlockAST.prototype._str.call(this, out);\n\t\t\tout.push(-1);\n\t\t}\n\n\t\t_execute(context)\n\t\t{\n\t\t\tlet cond = this.condition._handle_eval(context);\n\t\t\tlet result = ul4._bool(cond);\n\t\t\treturn result;\n\t\t}\n\t};\n\n\tul4.ConditionalBlockAST.prototype._ul4onattrs = ul4.BlockAST.prototype._ul4onattrs.concat([\"condition\"]);\n\n\tul4.IfBlockAST = class IfBlockAST extends ul4.ConditionalBlockAST\n\t{\n\t};\n\n\tul4.IfBlockAST.prototype._strname = \"if\";\n\n\tul4.ElIfBlockAST = class ElIfBlockAST extends ul4.ConditionalBlockAST\n\t{\n\t};\n\n\tul4.ElIfBlockAST.prototype._strname = \"else if\";\n\n\tul4.ElseBlockAST = class ElseBlockAST extends ul4.BlockAST\n\t{\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<ElseAST\");\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"else:\");\n\t\t\tout.push(+1);\n\t\t\tul4.BlockAST.prototype._str.call(this, out);\n\t\t\tout.push(-1);\n\t\t}\n\n\t\t_execute(context)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tul4.Template = class Template extends ul4.BlockAST\n\t{\n\t\tconstructor(template, pos, source, name, whitespace, startdelim, enddelim, signature)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis._source = source;\n\t\t\tthis.name = name;\n\t\t\tthis.whitespace = whitespace;\n\t\t\tthis.startdelim = startdelim;\n\t\t\tthis.enddelim = enddelim;\n\t\t\tthis.docpos = null;\n\t\t\tthis.signature = signature;\n\t\t\tthis._asts = null;\n\t\t\tthis._ul4_callsignature = signature;\n\t\t\tthis._ul4_rendersignature = signature;\n\t\t\tthis.parenttemplate = null;\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tlet self = this;\n\t\t\tswitch (attrname)\n\t\t\t{\n\t\t\t\tcase \"content\":\n\t\t\t\t\treturn this.content;\n\t\t\t\tcase \"source\":\n\t\t\t\t\treturn this.source;\n\t\t\t\tcase \"name\":\n\t\t\t\t\treturn this.name;\n\t\t\t\tcase \"whitespace\":\n\t\t\t\t\treturn this.whitespace;\n\t\t\t\tcase \"startdelim\":\n\t\t\t\t\treturn this.startdelim;\n\t\t\t\tcase \"enddelim\":\n\t\t\t\t\treturn this.enddelim;\n\t\t\t\tcase \"doc\":\n\t\t\t\t\treturn this.doc();\n\t\t\t\tcase \"signature\":\n\t\t\t\t\treturn this.signature;\n\t\t\t\tcase \"parenttemplate\":\n\t\t\t\t\treturn this.parenttemplate;\n\t\t\t\tcase \"render\":\n\t\t\t\t\tlet render = function render(context, vars){ self._renderbound(context, vars); };\n\t\t\t\t\tul4.expose(render, this.signature, {needscontext: true, needsobject: true});\n\t\t\t\t\treturn render;\n\t\t\t\tcase \"renders\":\n\t\t\t\t\tlet renders = function renders(context, vars){ return self._rendersbound(context, vars); };\n\t\t\t\t\tul4.expose(renders, this.signature, {needscontext: true, needsobject: true});\n\t\t\t\t\treturn renders;\n\t\t\t\tdefault:\n\t\t\t\t\treturn super.__getattr__(attrname);\n\t\t\t}\n\t\t}\n\n\t\tul4ondump(encoder)\n\t\t{\n\t\t\tlet signature;\n\t\t\tencoder.dump(ul4.version);\n\t\t\tencoder.dump(this.name);\n\t\t\tencoder.dump(this._source);\n\t\t\tencoder.dump(this.whitespace);\n\t\t\tencoder.dump(this.startdelim);\n\t\t\tencoder.dump(this.enddelim);\n\t\t\tencoder.dump(this.docpos);\n\t\t\tencoder.dump(this.parenttemplate);\n\t\t\tif (this.signature === null || this.signature instanceof ul4.SignatureAST)\n\t\t\t\tsignature = this.signature;\n\t\t\telse\n\t\t\t{\n\t\t\t\tsignature = [];\n\t\t\t\tfor (let i = 0; i < this.signature.args.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet arg = this.signature.args[i];\n\t\t\t\t\tif (typeof(arg.defaultValue) === \"undefined\")\n\t\t\t\t\t\tsignature.push(arg.name);\n\t\t\t\t\telse\n\t\t\t\t\t\tsignature.push(arg.name+\"=\", arg.defaultValue);\n\t\t\t\t}\n\t\t\t\tif (this.signature.remargs !== null)\n\t\t\t\t\tsignature.push(\"*\" + this.signature.remargs);\n\t\t\t\tif (this.signature.remkwargs !== null)\n\t\t\t\t\tsignature.push(\"**\" + this.signature.remkwargs);\n\t\t\t}\n\t\t\tencoder.dump(signature);\n\t\t\tsuper.ul4ondump(encoder);\n\t\t}\n\n\t\tul4onload(decoder)\n\t\t{\n\t\t\tlet version = decoder.load();\n\t\t\tlet signature;\n\n\t\t\tif (version === null)\n\t\t\t\tthrow new ul4.ValueError(\"UL4ON doesn't support templates in 'source' format in Javascript implementation\");\n\n\t\t\tif (version !== ul4.version)\n\t\t\t\tthrow new ul4.ValueError(\"invalid version, expected \" + ul4.version + \", got \" + version);\n\n\t\t\tthis.name = decoder.load();\n\t\t\tthis._source = decoder.load();\n\t\t\tthis.whitespace = decoder.load();\n\t\t\tthis.startdelim = decoder.load();\n\t\t\tthis.enddelim = decoder.load();\n\t\t\tthis.docpos = decoder.load();\n\t\t\tthis.parenttemplate = decoder.load();\n\t\t\tsignature = decoder.load();\n\t\t\tif (ul4._islist(signature))\n\t\t\t\tsignature = new ul4.Signature(...signature);\n\t\t\tthis.signature = signature;\n\t\t\tthis._ul4_callsignature = signature;\n\t\t\tthis._ul4_rendersignature = signature;\n\t\t\tsuper.ul4onload(decoder);\n\t\t}\n\n\t\tloads(string)\n\t\t{\n\t\t\treturn ul4.loads(string);\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet signature = null;\n\t\t\tif (this.signature !== null)\n\t\t\t\tsignature = this.signature._handle_eval(context);\n\t\t\tlet closure = new ul4.TemplateClosure(this, signature, context.vars);\n\t\t\tcontext.set(this.name, closure);\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<Template\");\n\t\t\tif (this.name !== null)\n\t\t\t{\n\t\t\t\tout.push(\" name=\");\n\t\t\t\tout.push(ul4._repr(this.name));\n\t\t\t}\n\t\t\tout.push(\" whitespace=\");\n\t\t\tout.push(ul4._repr(this.whitespace));\n\t\t\tif (this.startdelim !== \"<?\")\n\t\t\t{\n\t\t\t\tout.push(\" startdelim=\");\n\t\t\t\tout.push(ul4._repr(this.startdelim));\n\t\t\t}\n\t\t\tif (this.enddelim !== \"?>\")\n\t\t\t{\n\t\t\t\tout.push(\" enddelim=\");\n\t\t\t\tout.push(ul4._repr(this.enddelim));\n\t\t\t}\n\t\t\tout.push(\">\");\n\t\t}\n\n\t\t_str(out)\n\t\t{\n\t\t\tout.push(\"def \");\n\t\t\tout.push(this.name ? this.name : \"unnamed\");\n\t\t\tout.push(\":\");\n\t\t\tout.push(+1);\n\t\t\tul4.BlockAST.prototype._str.call(this, out);\n\t\t\tout.push(-1);\n\t\t}\n\n\t\t_renderbound(context, vars)\n\t\t{\n\t\t\tlet localcontext = context.clone();\n\t\t\tlocalcontext.vars = vars;\n\t\t\ttry\n\t\t\t{\n\t\t\t\tul4.BlockAST.prototype._eval.call(this, localcontext);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (!(exc instanceof ul4.ReturnException))\n\t\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\n\t\t__render__(context, vars)\n\t\t{\n\t\t\tthis._renderbound(context, vars);\n\t\t}\n\n\t\trender(context, vars)\n\t\t{\n\t\t\tthis._renderbound(context, vars);\n\t\t}\n\n\t\t_rendersbound(context, vars)\n\t\t{\n\t\t\tlet localcontext = context.replaceoutput();\n\t\t\tthis._renderbound(localcontext, vars);\n\t\t\treturn localcontext.getoutput();\n\t\t}\n\n\t\trenders(vars)\n\t\t{\n\t\t\tvars = vars || {};\n\t\t\tlet context = new ul4.Context();\n\t\t\tif (this.signature !== null)\n\t\t\t\tvars = this.signature.bindObject(this.name, [], vars);\n\t\t\treturn this._rendersbound(context, vars);\n\t\t}\n\n\t\tdoc()\n\t\t{\n\t\t\treturn this.docpos != null ? this.docpos.of(this._source) : null;\n\t\t}\n\n\t\t_callbound(context, vars)\n\t\t{\n\t\t\tlet localcontext = context.clone();\n\t\t\tlocalcontext.vars = vars;\n\t\t\ttry\n\t\t\t{\n\t\t\t\tul4.BlockAST.prototype._eval.call(this, localcontext);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (exc instanceof ul4.ReturnException)\n\t\t\t\t\treturn exc.result;\n\t\t\t\telse\n\t\t\t\t\tthrow exc;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\tcall(vars)\n\t\t{\n\t\t\tvars = vars || {};\n\t\t\tlet context = new ul4.Context();\n\t\t\tif (this.signature !== null)\n\t\t\t\tvars = this.signature.bindObject(this.name, [], vars);\n\t\t\treturn this._callbound(context, vars);\n\t\t}\n\n\t\t__call__(context, vars)\n\t\t{\n\t\t\treturn this._callbound(context, vars);\n\t\t}\n\n\t\tul4type()\n\t\t{\n\t\t\treturn \"template\";\n\t\t}\n\t};\n\n\tul4.Template.prototype._ul4_callneedsobject = true;\n\tul4.Template.prototype._ul4_callneedscontext = true;\n\tul4.Template.prototype._ul4_renderneedsobject = true;\n\tul4.Template.prototype._ul4_renderneedscontext = true;\n\n\tul4.SignatureAST = class SignatureAST extends ul4.CodeAST\n\t{\n\t\tconstructor(template, pos)\n\t\t{\n\t\t\tsuper(template, pos);\n\t\t\tthis.params = [];\n\t\t}\n\n\t\tul4ondump(encoder)\n\t\t{\n\t\t\tsuper.ul4ondump(encoder);\n\n\t\t\tlet dump = [];\n\n\t\t\tfor (let i = 0; i < this.params.length; ++i)\n\t\t\t{\n\t\t\t\tlet param = this.params[i];\n\t\t\t\tif (param[1] === null)\n\t\t\t\t\tdump.push(param[0]);\n\t\t\t\telse\n\t\t\t\t\tdump.push(param);\n\t\t\t}\n\t\t\tencoder.dump(dump);\n\t\t}\n\n\t\tul4onload(decoder)\n\t\t{\n\t\t\tsuper.ul4onload(decoder);\n\t\t\tlet dump = decoder.load();\n\t\t\tthis.params = [];\n\t\t\tfor (let i = 0; i < dump.length; ++i)\n\t\t\t{\n\t\t\t\tlet param = dump[i];\n\t\t\t\tif (typeof(param) === \"string\")\n\t\t\t\t\tthis.params.push([param, null]);\n\t\t\t\telse\n\t\t\t\t\tthis.params.push(param);\n\t\t\t}\n\t\t}\n\n\t\t_eval(context)\n\t\t{\n\t\t\tlet args = [];\n\t\t\tfor (let i = 0; i < this.params.length; ++i)\n\t\t\t{\n\t\t\t\tlet param = this.params[i];\n\t\t\t\tif (param[1] === null)\n\t\t\t\t\targs.push(param[0]);\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\targs.push(param[0] + \"=\");\n\t\t\t\t\targs.push(param[1]._handle_eval(context));\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn new ul4.Signature(...args);\n\t\t}\n\n\t\t_repr(out)\n\t\t{\n\t\t\tout.push(\"<\");\n\t\t\tout.push(this.constructor.name);\n\t\t\tout.push(\" params=\");\n\t\t\tthis.params._repr(out);\n\t\t\tout.push(\">\");\n\t\t}\n\t};\n\n\tul4.TemplateClosure = class TemplateClosure extends ul4.Proto\n\t{\n\t\tconstructor(template, signature, vars)\n\t\t{\n\t\t\tsuper();\n\t\t\tthis.template = template;\n\t\t\tthis.signature = signature;\n\t\t\tthis.vars = vars;\n\t\t\tthis._ul4_callsignature = signature;\n\t\t\tthis._ul4_rendersignature = signature;\n\t\t\t// Copy over the required attribute from the template\n\t\t\tthis.name = template.name;\n\t\t\tthis.tag = template.tag;\n\t\t\tthis.endtag = template.endtag;\n\t\t\tthis._source = template._source;\n\t\t\tthis.startdelim = template.startdelim;\n\t\t\tthis.enddelim = template.enddelim;\n\t\t\tthis.docpos = template.docpos;\n\t\t\tthis.content = template.content;\n\t\t}\n\n\t\t__render__(context, vars)\n\t\t{\n\t\t\tthis.template._renderbound(context, ul4._inherit(this.vars, vars));\n\t\t}\n\n\t\trender(context, vars)\n\t\t{\n\t\t\tthis.template._renderbound(context, ul4._inherit(this.vars, vars));\n\t\t}\n\n\t\t__call__(context, vars)\n\t\t{\n\t\t\treturn this.template._callbound(context, ul4._inherit(this.vars, vars));\n\t\t}\n\n\t\t_renderbound(context, vars)\n\t\t{\n\t\t\tthis.template._renderbound(context, ul4._inherit(this.vars, vars));\n\t\t}\n\n\t\t_rendersbound(context, vars)\n\t\t{\n\t\t\treturn this.template._rendersbound(context, ul4._inherit(this.vars, vars));\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tlet self = this;\n\t\t\tswitch (attrname)\n\t\t\t{\n\t\t\t\tcase \"render\":\n\t\t\t\t\tlet render = function render(context, vars){ self._renderbound(context, vars); };\n\t\t\t\t\tul4.expose(render, this.signature, {needscontext: true, needsobject: true});\n\t\t\t\t\treturn render;\n\t\t\t\tcase \"renders\":\n\t\t\t\t\tlet renders = function renders(context, vars){ return self._rendersbound(context, vars); };\n\t\t\t\t\tul4.expose(renders, this.signature, {needscontext: true, needsobject: true});\n\t\t\t\t\treturn renders;\n\t\t\t\tcase \"signature\":\n\t\t\t\t\treturn this.signature;\n\t\t\t\tdefault:\n\t\t\t\t\treturn this.template.__getattr__(attrname);\n\t\t\t}\n\t\t}\n\n\t\tul4type()\n\t\t{\n\t\t\treturn \"template\";\n\t\t}\n\t};\n\n\tul4.TemplateClosure.prototype._ul4_callneedsobject = true;\n\tul4.TemplateClosure.prototype._ul4_callneedscontext = true;\n\tul4.TemplateClosure.prototype._ul4_renderneedsobject = true;\n\tul4.TemplateClosure.prototype._ul4_renderneedscontext = true;\n\n\t// Create a color object from the red, green, blue and alpha values ``r``, ``g``, ``b`` and ``b``\n\tul4._rgb = function _rgb(r, g, b, a)\n\t{\n\t\treturn new this.Color(255*r, 255*g, 255*b, 255*a);\n\t};\n\n\t// Convert ``obj`` to a string and escape the characters ``&``, ``<``, ``>``, ``'`` and ``\"`` with their XML character/entity reference\n\tul4._xmlescape = function _xmlescape(obj)\n\t{\n\t\tobj = ul4._str(obj);\n\t\tobj = obj.replace(/&/g, \"&amp;\");\n\t\tobj = obj.replace(/</g, \"&lt;\");\n\t\tobj = obj.replace(/>/g, \"&gt;\");\n\t\tobj = obj.replace(/'/g, \"&#39;\");\n\t\tobj = obj.replace(/\"/g, \"&quot;\");\n\t\treturn obj;\n\t};\n\n\t// Convert ``obj`` to a string suitable for output into a CSV file\n\tul4._csv = function _csv(obj)\n\t{\n\t\tif (obj === null)\n\t\t\treturn \"\";\n\t\telse if (typeof(obj) !== \"string\")\n\t\t\tobj = ul4._repr(obj);\n\t\tif (obj.indexOf(\",\") !== -1 || obj.indexOf('\"') !== -1 || obj.indexOf(\"\\n\") !== -1)\n\t\t\tobj = '\"' + obj.replace(/\"/g, '\"\"') + '\"';\n\t\treturn obj;\n\t};\n\n\t// Return a string containing one character with the codepoint ``i``\n\tul4._chr = function _chr(i)\n\t{\n\t\tif (typeof(i) != \"number\")\n\t\t\tthrow new ul4.TypeError(\"chr() requires an int\");\n\t\treturn String.fromCharCode(i);\n\t};\n\n\t// Return the codepoint for the one and only character in the string ``c``\n\tul4._ord = function _ord(c)\n\t{\n\t\tif (typeof(c) != \"string\" || c.length != 1)\n\t\t\tthrow new ul4.TypeError(\"ord() requires a string of length 1\");\n\t\treturn c.charCodeAt(0);\n\t};\n\n\t// Convert an integer to a hexadecimal string\n\tul4._hex = function _hex(number)\n\t{\n\t\tif (typeof(number) != \"number\")\n\t\t\tthrow new ul4.TypeError(\"hex() requires an int\");\n\t\tif (number < 0)\n\t\t\treturn \"-0x\" + number.toString(16).substr(1);\n\t\telse\n\t\t\treturn \"0x\" + number.toString(16);\n\t};\n\n\t// Convert an integer to a octal string\n\tul4._oct = function _oct(number)\n\t{\n\t\tif (typeof(number) != \"number\")\n\t\t\tthrow new ul4.TypeError(\"oct() requires an int\");\n\t\tif (number < 0)\n\t\t\treturn \"-0o\" + number.toString(8).substr(1);\n\t\telse\n\t\t\treturn \"0o\" + number.toString(8);\n\t};\n\n\t// Convert an integer to a binary string\n\tul4._bin = function _bin(number)\n\t{\n\t\tif (typeof(number) != \"number\")\n\t\t\tthrow new ul4.TypeError(\"bin() requires an int\");\n\t\tif (number < 0)\n\t\t\treturn \"-0b\" + number.toString(2).substr(1);\n\t\telse\n\t\t\treturn \"0b\" + number.toString(2);\n\t};\n\n\t// Return the minimum value\n\tul4._min = function _min(obj)\n\t{\n\t\tif (obj.length == 0)\n\t\t\tthrow new ul4.ArgumentError(\"min() requires at least 1 argument, 0 given\");\n\t\telse if (obj.length == 1)\n\t\t\tobj = obj[0];\n\t\tlet iter = ul4._iter(obj);\n\t\tlet result;\n\t\tlet first = true;\n\t\twhile (true)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t{\n\t\t\t\tif (first)\n\t\t\t\t\tthrow new ul4.ValueError(\"min() argument is an empty sequence!\");\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\tif (first || (item.value < result))\n\t\t\t\tresult = item.value;\n\t\t\tfirst = false;\n\t\t}\n\t};\n\n\t// Return the maximum value\n\tul4._max = function _max(obj)\n\t{\n\t\tif (obj.length == 0)\n\t\t\tthrow new ul4.ArgumentError(\"max() requires at least 1 argument, 0 given\");\n\t\telse if (obj.length == 1)\n\t\t\tobj = obj[0];\n\t\tlet iter = ul4._iter(obj);\n\t\tlet result;\n\t\tlet first = true;\n\t\twhile (true)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t{\n\t\t\t\tif (first)\n\t\t\t\t\tthrow new ul4.ValueError(\"max() argument is an empty sequence!\");\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\tif (first || (item.value > result))\n\t\t\t\tresult = item.value;\n\t\t\tfirst = false;\n\t\t}\n\t};\n\n\t// Return the of the values from the iterable starting with ``start`` (default ``0``)\n\tul4._sum = function _sum(iterable, start=0)\n\t{\n\t\tfor (let iter = ul4._iter(iterable);;)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\tbreak;\n\t\t\tstart += item.value;\n\t\t}\n\t\treturn start;\n\t};\n\n\t// Return the first value produced by iterating through ``iterable`` (defaulting to ``defaultValue`` if the iterator is empty)\n\tul4._first = function _first(iterable, defaultValue=null)\n\t{\n\t\tlet item = ul4._iter(iterable).next();\n\t\treturn item.done ? defaultValue : item.value;\n\t};\n\n\t// Return the last value produced by iterating through ``iterable`` (defaulting to ``defaultValue`` if the iterator is empty)\n\tul4._last = function _last(iterable, defaultValue=null)\n\t{\n\t\tlet value = defaultValue;\n\n\t\tfor (let iter = ul4._iter(iterable);;)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\tbreak;\n\t\t\tvalue = item.value;\n\t\t}\n\t\treturn value;\n\t};\n\n\t// Return a sorted version of ``iterable``\n\tul4._sorted = function _sorted(context, iterable, key=null, reverse=false)\n\t{\n\t\tif (key === null)\n\t\t{\n\t\t\t// FIXME: stability\n\t\t\tlet cmp = reverse ? function cmp(a, b)\n\t\t\t{\n\t\t\t\treturn -ul4._cmp(\"<=>\", a, b);\n\t\t\t} : function cmp(a, b)\n\t\t\t{\n\t\t\t\treturn ul4._cmp(\"<=>\", a, b);\n\t\t\t};\n\t\t\tlet result = ul4._list(iterable);\n\t\t\tresult.sort(cmp);\n\t\t\treturn result;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlet sort = [];\n\n\t\t\tfor (let i = 0, iter = ul4._iter(iterable);;++i)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tlet keyvalue = ul4._call(context, key, [item.value], {});\n\t\t\t\t// For a stable sorting we have to use the nagative index if\n\t\t\t\t// reverse sorting is specified\n\t\t\t\tsort.push([keyvalue, reverse ? -i : i, item.value]);\n\t\t\t}\n\t\t\tcmp = function cmp(s1, s2)\n\t\t\t{\n\t\t\t\tlet res = ul4._cmp(\"<=>\", s1[0], s2[0]);\n\t\t\t\tif (res)\n\t\t\t\t\treturn reverse ? -res : res;\n\t\t\t\tres = ul4._cmp(\"<=>\", s1[1], s2[1]);\n\t\t\t\treturn reverse ? -res : res;\n\t\t\t};\n\n\t\t\tsort.sort(cmp);\n\n\t\t\tlet result = [];\n\t\t\tfor (let i = 0; i < sort.length; ++i)\n\t\t\t{\n\t\t\t\tlet item = sort[i];\n\t\t\t\tresult.push(item[2]);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t};\n\n\t// Return a iterable object iterating from ``start`` up to (but not including) ``stop`` with a step size of ``step``\n\tul4._range = function _range(args)\n\t{\n\t\tlet start, stop, step;\n\t\tif (args.length < 1)\n\t\t\tthrow new ul4.ArgumentError(\"required range() argument missing\");\n\t\telse if (args.length > 3)\n\t\t\tthrow new ul4.ArgumentError(\"range() expects at most 3 positional arguments, \" + args.length + \" given\");\n\t\telse if (args.length == 1)\n\t\t{\n\t\t\tstart = 0;\n\t\t\tstop = args[0];\n\t\t\tstep = 1;\n\t\t}\n\t\telse if (args.length == 2)\n\t\t{\n\t\t\tstart = args[0];\n\t\t\tstop = args[1];\n\t\t\tstep = 1;\n\t\t}\n\t\telse if (args.length == 3)\n\t\t{\n\t\t\tstart = args[0];\n\t\t\tstop = args[1];\n\t\t\tstep = args[2];\n\t\t}\n\t\tlet lower, higher;\n\t\tif (step === 0)\n\t\t\tthrow new ul4.ValueError(\"range() requires a step argument != 0\");\n\t\telse if (step > 0)\n\t\t{\n\t\t\tlower = start;\n\t\t\thigher = stop;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlower = stop;\n\t\t\thigher = start;\n\t\t}\n\t\tlet length = (lower < higher) ? Math.floor((higher - lower - 1)/Math.abs(step)) + 1 : 0;\n\n\t\treturn {\n\t\t\tindex: 0,\n\t\t\tnext: function()\n\t\t\t{\n\t\t\t\tif (this.index >= length)\n\t\t\t\t\treturn {done: true};\n\t\t\t\treturn {value: start + (this.index++) * step, done: false};\n\t\t\t}\n\t\t};\n\t};\n\n\t// Return a iterable object returning a slice from the argument\n\tul4._slice = function _slice(args)\n\t{\n\t\tlet iterable, start, stop, step;\n\t\tif (args.length < 2)\n\t\t\tthrow new ul4.ArgumentError(\"required slice() argument missing\");\n\t\telse if (args.length > 4)\n\t\t\tthrow new ul4.ArgumentError(\"slice() expects at most 4 positional arguments, \" + args.length + \" given\");\n\t\telse if (args.length == 2)\n\t\t{\n\t\t\titerable = args[0];\n\t\t\tstart = 0;\n\t\t\tstop = args[1];\n\t\t\tstep = 1;\n\t\t}\n\t\telse if (args.length == 3)\n\t\t{\n\t\t\titerable = args[0];\n\t\t\tstart = args[1] !== null ? args[1] : 0;\n\t\t\tstop = args[2];\n\t\t\tstep = 1;\n\t\t}\n\t\telse if (args.length == 4)\n\t\t{\n\t\t\titerable = args[0];\n\t\t\tstart = args[1] !== null ? args[1] : 0;\n\t\t\tstop = args[2];\n\t\t\tstep = args[3] !== null ? args[3] : 1;\n\t\t}\n\t\tif (start < 0)\n\t\t\tthrow new ul4.ValueError(\"slice() requires a start argument >= 0\");\n\t\tif (stop < 0)\n\t\t\tthrow new ul4.ValueError(\"slice() requires a stop argument >= 0\");\n\t\tif (step <= 0)\n\t\t\tthrow new ul4.ValueError(\"slice() requires a step argument > 0\");\n\n\t\tlet next = start, count = 0;\n\t\tlet iter = ul4._iter(iterable);\n\t\treturn {\n\t\t\tnext: function() {\n\t\t\t\tlet result;\n\t\t\t\twhile (count < next)\n\t\t\t\t{\n\t\t\t\t\tresult = iter.next();\n\t\t\t\t\tif (result.done)\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t++count;\n\t\t\t\t}\n\t\t\t\tif (stop !== null && count >= stop)\n\t\t\t\t\treturn {done: true};\n\t\t\t\tresult = iter.next();\n\t\t\t\tif (result.done)\n\t\t\t\t\treturn result;\n\t\t\t\t++count;\n\t\t\t\tnext += step;\n\t\t\t\tif (stop !== null && next > stop)\n\t\t\t\t\tnext = stop;\n\t\t\t\treturn result;\n\t\t\t}\n\t\t};\n\t};\n\n\t// ``%`` escape unsafe characters in the string ``string``\n\tul4._urlquote = function _urlquote(string)\n\t{\n\t\treturn encodeURIComponent(string);\n\t};\n\n\t// The inverse function of ``urlquote``\n\tul4._urlunquote = function _urlunquote(string)\n\t{\n\t\treturn decodeURIComponent(string);\n\t};\n\n\t// Return a reverse iterator over ``sequence``\n\tul4._reversed = function _reversed(sequence)\n\t{\n\t\tif (typeof(sequence) != \"string\" && !ul4._islist(sequence)) // We don't have to materialize strings or lists\n\t\t\tsequence = ul4._list(sequence);\n\t\treturn {\n\t\t\tindex: sequence.length-1,\n\t\t\tnext: function() {\n\t\t\t\treturn this.index >= 0 ? {value: sequence[this.index--], done: false} : {done: true};\n\t\t\t}\n\t\t};\n\t};\n\n\t// Returns a random number in the interval ``[0;1[``\n\tul4._random = function _random()\n\t{\n\t\treturn Math.random();\n\t};\n\n\t// Return a randomly select item from ``range(start, stop, step)``\n\tul4._randrange = function _randrange(args)\n\t{\n\t\tlet start, stop, step;\n\t\tif (args.length < 1)\n\t\t\tthrow new ul4.ArgumentError(\"required randrange() argument missing\");\n\t\telse if (args.length > 3)\n\t\t\tthrow new ul4.ArgumentError(\"randrange() expects at most 3 positional arguments, \" + args.length + \" given\");\n\t\telse if (args.length == 1)\n\t\t{\n\t\t\tstart = 0;\n\t\t\tstop = args[0];\n\t\t\tstep = 1;\n\t\t}\n\t\telse if (args.length == 2)\n\t\t{\n\t\t\tstart = args[0];\n\t\t\tstop = args[1];\n\t\t\tstep = 1;\n\t\t}\n\t\telse if (args.length == 3)\n\t\t{\n\t\t\tstart = args[0];\n\t\t\tstop = args[1];\n\t\t\tstep = args[2];\n\t\t}\n\t\tlet width = stop-start;\n\n\t\tlet value = Math.random();\n\n\t\tlet n;\n\t\tif (step > 0)\n\t\t\tn = Math.floor((width + step - 1) / step);\n\t\telse if (step < 0)\n\t\t\tn = Math.floor((width + step + 1) / step);\n\t\telse\n\t\t\tthrow new ul4.ValueError(\"randrange() requires a step argument != 0\");\n\t\treturn start + step*Math.floor(value * n);\n\t};\n\n\t// Return a random item/char from the list/string ``sequence``\n\tul4._randchoice = function _randchoice(sequence)\n\t{\n\t\tlet iscolor = ul4._iscolor(sequence);\n\t\tif (typeof(sequence) !== \"string\" && !ul4._islist(sequence) && !iscolor)\n\t\t\tthrow new ul4.TypeError(\"randchoice() requires a string or list\");\n\t\tif (iscolor)\n\t\t\tsequence = ul4._list(sequence);\n\t\treturn sequence[Math.floor(Math.random() * sequence.length)];\n\t};\n\n\t// Round a number ``x`` to ``digits`` decimal places (may be negative)\n\tul4._round = function _round(x, digits=0)\n\t{\n\t\tif (digits)\n\t\t{\n\t\t\tlet threshold = Math.pow(10, digits);\n\t\t\treturn Math.round(x*threshold)/threshold;\n\t\t}\n\t\telse\n\t\t\treturn Math.round(x);\n\t};\n\n\t// Return a hex-encode MD5 hash of the argument\n\t// This uses the md5 function from https://github.com/blueimp/JavaScript-MD5\n\tif (iscommon)\n\t{\n\t\tul4._md5 = function _md5(string)\n\t\t{\n\t\t\tlet md5 = require('blueimp-md5');\n\t\t\treturn md5(string);\n\t\t};\n\t}\n\telse\n\t{\n\t\tul4._md5 = function _md5(string)\n\t\t{\n\t\t\treturn md5(string);\n\t\t};\n\t}\n\n\t// Return an iterator over ``[index, item]`` lists from the iterable object ``iterable``. ``index`` starts at ``start`` (defaulting to 0)\n\tul4._enumerate = function _enumerate(iterable, start=0)\n\t{\n\t\treturn {\n\t\t\titer: ul4._iter(iterable),\n\t\t\tindex: start,\n\t\t\tnext: function() {\n\t\t\t\tlet item = this.iter.next();\n\t\t\t\treturn item.done ? item : {value: [this.index++, item.value], done: false};\n\t\t\t}\n\t\t};\n\t};\n\n\t// Return an iterator over ``[isfirst, item]`` lists from the iterable object ``iterable`` (``isfirst`` is true for the first item, false otherwise)\n\tul4._isfirst = function _isfirst(iterable)\n\t{\n\t\tlet iter = ul4._iter(iterable);\n\t\tlet isfirst = true;\n\t\treturn {\n\t\t\tnext: function() {\n\t\t\t\tlet item = iter.next();\n\t\t\t\tlet result = item.done ? item : {value: [isfirst, item.value], done: false};\n\t\t\t\tisfirst = false;\n\t\t\t\treturn result;\n\t\t\t}\n\t\t};\n\t};\n\n\t// Return an iterator over ``[islast, item]`` lists from the iterable object ``iterable`` (``islast`` is true for the last item, false otherwise)\n\tul4._islast = function _islast(iterable)\n\t{\n\t\tlet iter = ul4._iter(iterable);\n\t\tlet lastitem = iter.next();\n\t\treturn {\n\t\t\tnext: function() {\n\t\t\t\tif (lastitem.done)\n\t\t\t\t\treturn lastitem;\n\t\t\t\tlet item = iter.next();\n\t\t\t\tlet result = {value: [item.done, lastitem.value], done: false};\n\t\t\t\tlastitem = item;\n\t\t\t\treturn result;\n\t\t\t}\n\t\t};\n\t};\n\n\t// Return an iterator over ``[isfirst, islast, item]`` lists from the iterable object ``iterable`` (``isfirst`` is true for the first item, ``islast`` is true for the last item. Both are false otherwise)\n\tul4._isfirstlast = function _isfirstlast(iterable)\n\t{\n\t\tlet iter = ul4._iter(iterable);\n\t\tlet isfirst = true;\n\t\tlet lastitem = iter.next();\n\t\treturn {\n\t\t\tnext: function() {\n\t\t\t\tif (lastitem.done)\n\t\t\t\t\treturn lastitem;\n\t\t\t\tlet item = iter.next();\n\t\t\t\tlet result = {value: [isfirst, item.done, lastitem.value], done: false};\n\t\t\t\tlastitem = item;\n\t\t\t\tisfirst = false;\n\t\t\t\treturn result;\n\t\t\t}\n\t\t};\n\t};\n\n\t// Return an iterator over ``[index, isfirst, islast, item]`` lists from the iterable object ``iterable`` (``isfirst`` is true for the first item, ``islast`` is true for the last item. Both are false otherwise)\n\tul4._enumfl = function _enumfl(iterable, start=0)\n\t{\n\t\tlet iter = ul4._iter(iterable);\n\t\tlet i = start;\n\t\tlet isfirst = true;\n\t\tlet lastitem = iter.next();\n\t\treturn {\n\t\t\tnext: function() {\n\t\t\t\tif (lastitem.done)\n\t\t\t\t\treturn lastitem;\n\t\t\t\tlet item = iter.next();\n\t\t\t\tlet result = {value: [i++, isfirst, item.done, lastitem.value], done: false};\n\t\t\t\tlastitem = item;\n\t\t\t\tisfirst = false;\n\t\t\t\treturn result;\n\t\t\t}\n\t\t};\n\t};\n\n\t// Return an iterator over lists, where the i'th list consists of all i'th items from the arguments (terminating when the shortest argument ends)\n\tul4._zip = function _zip(iterables)\n\t{\n\t\tlet result;\n\t\tif (iterables.length)\n\t\t{\n\t\t\tlet iters = [];\n\t\t\tfor (let i = 0; i < iterables.length; ++i)\n\t\t\t\titers.push(ul4._iter(iterables[i]));\n\n\t\t\treturn {\n\t\t\t\tnext: function() {\n\t\t\t\t\tlet items = [];\n\t\t\t\t\tfor (let i = 0; i < iters.length; ++i)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet item = iters[i].next();\n\t\t\t\t\t\tif (item.done)\n\t\t\t\t\t\t\treturn item;\n\t\t\t\t\t\titems.push(item.value);\n\t\t\t\t\t}\n\t\t\t\t\treturn {value: items, done: false};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn {\n\t\t\t\tnext: function() {\n\t\t\t\t\treturn {done: true};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t};\n\n\t// Return the absolute value for the number ``number``\n\tul4._abs = function _abs(number)\n\t{\n\t\tif (number !== null && typeof(number.__abs__) === \"function\")\n\t\t\treturn number.__abs__();\n\t\treturn Math.abs(number);\n\t};\n\n\t// Return a ``Date`` object from the arguments passed in\n\tul4._date = function _date(year, month, day)\n\t{\n\t\treturn new ul4.Date(year, month, day);\n\t};\n\n\tul4._datetime = function _datetime(year, month, day, hour=0, minute=0, second=0, microsecond=0)\n\t{\n\t\treturn new Date(year, month-1, day, hour, minute, second, microsecond/1000);\n\t};\n\n\t// Return a ``TimeDelta`` object from the arguments passed in\n\tul4._timedelta = function _timedelta(days=0, seconds=0, microseconds=0)\n\t{\n\t\treturn new this.TimeDelta(days, seconds, microseconds);\n\t};\n\n\t// Return a ``MonthDelta`` object from the arguments passed in\n\tul4._monthdelta = function _monthdelta(months=0)\n\t{\n\t\treturn new this.MonthDelta(months);\n\t};\n\n\t// Return a ``Color`` object from the hue, luminescence, saturation and alpha values ``h``, ``l``, ``s`` and ``a`` (i.e. using the HLS color model)\n\tul4._hls = function _hls(h, l, s, a)\n\t{\n\t\tlet _v = function(m1, m2, hue)\n\t\t{\n\t\t\thue = hue % 1.0;\n\t\t\tif (hue < 1/6)\n\t\t\t\treturn m1 + (m2-m1)*hue*6.0;\n\t\t\telse if (hue < 0.5)\n\t\t\t\treturn m2;\n\t\t\telse if (hue < 2/3)\n\t\t\t\treturn m1 + (m2-m1)*(2/3-hue)*6.0;\n\t\t\treturn m1;\n\t\t};\n\n\t\tlet m1, m2;\n\t\tif (typeof(a) === \"undefined\")\n\t\t\ta = 1;\n\t\tif (s === 0.0)\n\t\t\treturn ul4._rgb(l, l, l, a);\n\t\tif (l <= 0.5)\n\t\t\tm2 = l * (1.0+s);\n\t\telse\n\t\t\tm2 = l+s-(l*s);\n\t\tm1 = 2.0*l - m2;\n\t\treturn ul4._rgb(_v(m1, m2, h+1/3), _v(m1, m2, h), _v(m1, m2, h-1/3), a);\n\t};\n\n\t// Return a ``Color`` object from the hue, saturation, value and alpha values ``h``, ``s``, ``v`` and ``a`` (i.e. using the HSV color model)\n\tul4._hsv = function _hsv(h, s, v, a)\n\t{\n\t\tif (s === 0.0)\n\t\t\treturn ul4._rgb(v, v, v, a);\n\t\tlet i = Math.floor(h*6.0);\n\t\tlet f = (h*6.0) - i;\n\t\tlet p = v*(1.0 - s);\n\t\tlet q = v*(1.0 - s*f);\n\t\tlet t = v*(1.0 - s*(1.0-f));\n\t\tswitch (i%6)\n\t\t{\n\t\t\tcase 0:\n\t\t\t\treturn ul4._rgb(v, t, p, a);\n\t\t\tcase 1:\n\t\t\t\treturn ul4._rgb(q, v, p, a);\n\t\t\tcase 2:\n\t\t\t\treturn ul4._rgb(p, v, t, a);\n\t\t\tcase 3:\n\t\t\t\treturn ul4._rgb(p, q, v, a);\n\t\t\tcase 4:\n\t\t\t\treturn ul4._rgb(t, p, v, a);\n\t\t\tcase 5:\n\t\t\t\treturn ul4._rgb(v, p, q, a);\n\t\t}\n\t};\n\n\t// Return the item with the key ``key`` from the dict ``container``. If ``container`` doesn't have this key, return ``defaultvalue``\n\tul4._get = function _get(container, key, defaultvalue)\n\t{\n\t\tif (ul4._ismap(container))\n\t\t{\n\t\t\tif (container.has(key))\n\t\t\t\treturn container.get(key);\n\t\t\treturn defaultvalue;\n\t\t}\n\t\telse if (ul4._isobject(container))\n\t\t{\n\t\t\tlet result = container[key];\n\t\t\tif (typeof(result) === \"undefined\")\n\t\t\t\treturn defaultvalue;\n\t\t\treturn result;\n\t\t}\n\t\tthrow new ul4.TypeError(\"get() requires a dict\");\n\t};\n\n\t// Return a ``Date`` object for the current time\n\tul4.now = function now()\n\t{\n\t\treturn new Date();\n\t};\n\n\t// Return a ``Date`` object for the current time in UTC\n\tul4.utcnow = function utcnow()\n\t{\n\t\tlet now = new Date();\n\t\t// FIXME: The timezone is wrong for the new ``Date`` object.\n\t\treturn new Date(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), now.getUTCHours(), now.getUTCMinutes(), now.getUTCSeconds(), now.getUTCMilliseconds());\n\t};\n\n\t// Return an ``ul4.Date`` object for today\n\tul4.today = function today()\n\t{\n\t\tlet now = new Date();\n\t\treturn new ul4.Date(now.getFullYear(), now.getMonth()+1, now.getDate());\n\t};\n\n\tul4.functions = {\n\t\trepr: ul4._repr,\n\t\tascii: ul4._ascii,\n\t\tstr: ul4._str,\n\t\tint: ul4._int,\n\t\tfloat: ul4._float,\n\t\tlist: ul4._list,\n\t\tset: ul4._set,\n\t\tbool: ul4._bool,\n\t\tlen: ul4._len,\n\t\ttype: ul4._type,\n\t\tformat: ul4._format,\n\t\tany: ul4._any,\n\t\tall: ul4._all,\n\t\tzip: ul4._zip,\n\t\tgetattr: ul4._getattr,\n\t\thasattr: ul4._hasattr,\n\t\tdir: ul4._dir,\n\t\tisundefined: ul4._isundefined,\n\t\tisdefined: ul4._isdefined,\n\t\tisnone: ul4._isnone,\n\t\tisbool: ul4._isbool,\n\t\tisint: ul4._isint,\n\t\tisfloat: ul4._isfloat,\n\t\tisstr: ul4._isstr,\n\t\tisdate: ul4._isdate,\n\t\tisdatetime: ul4._isdatetime,\n\t\tiscolor: ul4._iscolor,\n\t\tistimedelta: ul4._istimedelta,\n\t\tismonthdelta: ul4._ismonthdelta,\n\t\tistemplate: ul4._istemplate,\n\t\tisfunction: ul4._isfunction,\n\t\tislist: ul4._islist,\n\t\tisset: ul4._isanyset,\n\t\tisdict: ul4._isdict,\n\t\tisexception: ul4._isexception,\n\t\tasjson: ul4._asjson,\n\t\tfromjson: ul4._fromjson,\n\t\tasul4on: ul4._asul4on,\n\t\tfromul4on: ul4._fromul4on,\n\t\tnow: ul4.now,\n\t\tutcnow: ul4.utcnow,\n\t\ttoday: ul4.today,\n\t\tenumerate: ul4._enumerate,\n\t\tisfirst: ul4._isfirst,\n\t\tislast: ul4._islast,\n\t\tisfirstlast: ul4._isfirstlast,\n\t\tenumfl: ul4._enumfl,\n\t\tabs: ul4._abs,\n\t\tdate: ul4._date,\n\t\tdatetime: ul4._datetime,\n\t\ttimedelta: ul4._timedelta,\n\t\tmonthdelta: ul4._monthdelta,\n\t\trgb: ul4._rgb,\n\t\thls: ul4._hls,\n\t\thsv: ul4._hsv,\n\t\txmlescape: ul4._xmlescape,\n\t\tcsv: ul4._csv,\n\t\tchr: ul4._chr,\n\t\tord: ul4._ord,\n\t\thex: ul4._hex,\n\t\toct: ul4._oct,\n\t\tbin: ul4._bin,\n\t\tmin: ul4._min,\n\t\tmax: ul4._max,\n\t\tsum: ul4._sum,\n\t\tfirst: ul4._first,\n\t\tlast: ul4._last,\n\t\tsorted: ul4._sorted,\n\t\trange: ul4._range,\n\t\tslice: ul4._slice,\n\t\turlquote: ul4._urlquote,\n\t\turlunquote: ul4._urlunquote,\n\t\treversed: ul4._reversed,\n\t\trandom: ul4._random,\n\t\trandrange: ul4._randrange,\n\t\trandchoice: ul4._randchoice,\n\t\tround: ul4._round,\n\t\tmd5: ul4._md5\n\t};\n\n\tul4.expose(ul4._repr, [\"obj\"], {name: \"repr\"});\n\tul4.expose(ul4._ascii, [\"obj\"], {name: \"ascii\"});\n\tul4.expose(ul4._str, [\"obj=\", \"\"], {name: \"str\"});\n\tul4.expose(ul4._int, [\"obj=\", 0, \"base=\", null], {name: \"int\"});\n\tul4.expose(ul4._float, [\"obj=\", 0.0], {name: \"float\"});\n\tul4.expose(ul4._list, [\"iterable=\", []], {name: \"list\"});\n\tul4.expose(ul4._set, [\"iterable=\", []], {name: \"set\"});\n\tul4.expose(ul4._bool, [\"obj=\", false], {name: \"bool\"});\n\tul4.expose(ul4._len, [\"sequence\"], {name: \"len\"});\n\tul4.expose(ul4._type, [\"obj\"], {name: \"type\"});\n\tul4.expose(ul4._format, [\"obj\", \"fmt\", \"lang=\", null], {name: \"format\"});\n\tul4.expose(ul4._any, [\"iterable\"], {name: \"any\"});\n\tul4.expose(ul4._all, [\"iterable\"], {name: \"all\"});\n\tul4.expose(ul4._zip, [\"*iterables\"], {name: \"zip\"});\n\tul4.expose(ul4._getattr, [\"obj\", \"attrname\", \"default=\", null], {name: \"getattr\"});\n\tul4.expose(ul4._hasattr, [\"obj\", \"attrname\"], {name: \"hasattr\"});\n\tul4.expose(ul4._dir, [\"obj\"], {name: \"dir\"});\n\tul4.expose(ul4._isundefined, [\"obj\"], {name: \"isundefined\"});\n\tul4.expose(ul4._isdefined, [\"obj\"], {name: \"isdefined\"});\n\tul4.expose(ul4._isnone, [\"obj\"], {name: \"isnone\"});\n\tul4.expose(ul4._isbool, [\"obj\"], {name: \"isbool\"});\n\tul4.expose(ul4._isint, [\"obj\"], {name: \"isint\"});\n\tul4.expose(ul4._isfloat, [\"obj\"], {name: \"isfloat\"});\n\tul4.expose(ul4._isstr, [\"obj\"], {name: \"isstr\"});\n\tul4.expose(ul4._isdate, [\"obj\"], {name: \"isdate\"});\n\tul4.expose(ul4._isdatetime, [\"obj\"], {name: \"isdatetime\"});\n\tul4.expose(ul4._iscolor, [\"obj\"], {name: \"iscolor\"});\n\tul4.expose(ul4._istimedelta, [\"obj\"], {name: \"istimedelta\"});\n\tul4.expose(ul4._ismonthdelta, [\"obj\"], {name: \"ismonthdelta\"});\n\tul4.expose(ul4._istemplate, [\"obj\"], {name: \"istemplate\"});\n\tul4.expose(ul4._isfunction, [\"obj\"], {name: \"isfunction\"});\n\tul4.expose(ul4._islist, [\"obj\"], {name: \"islist\"});\n\tul4.expose(ul4._isanyset, [\"obj\"], {name: \"isset\"});\n\tul4.expose(ul4._isdict, [\"obj\"], {name: \"isdict\"});\n\tul4.expose(ul4._isexception, [\"obj\"], {name: \"isexception\"});\n\tul4.expose(ul4._asjson, [\"obj\"], {name: \"asjson\"});\n\tul4.expose(ul4._fromjson, [\"string\"], {name: \"fromjson\"});\n\tul4.expose(ul4._asul4on, [\"obj\"], {name: \"asul4on\"});\n\tul4.expose(ul4._fromul4on, [\"string\"], {name: \"fromul4on\"});\n\tul4.expose(ul4.now, []);\n\tul4.expose(ul4.utcnow, []);\n\tul4.expose(ul4.today, []);\n\tul4.expose(ul4._enumerate, [\"iterable\", \"start=\", 0], {name: \"enumerate\"});\n\tul4.expose(ul4._isfirst, [\"iterable\"], {name: \"isfirst\"});\n\tul4.expose(ul4._islast, [\"iterable\"], {name: \"islast\"});\n\tul4.expose(ul4._isfirstlast, [\"iterable\"], {name: \"isfirstlast\"});\n\tul4.expose(ul4._enumfl, [\"iterable\", \"start=\", 0], {name: \"enumfl\"});\n\tul4.expose(ul4._abs, [\"number\"], {name: \"abs\"});\n\tul4.expose(ul4._date, [\"year\", \"month\", \"day\"], {name: \"date\"});\n\tul4.expose(ul4._datetime, [\"year\", \"month\", \"day\", \"hour=\", 0, \"minute=\", 0, \"second=\", 0, \"microsecond=\", 0], {name: \"datetime\"});\n\tul4.expose(ul4._timedelta, [\"days=\", 0, \"seconds=\", 0, \"microseconds=\", 0], {name: \"timedelta\"});\n\tul4.expose(ul4._monthdelta, [\"months=\", 0], {name: \"monthdelta\"});\n\tul4.expose(ul4._rgb, [\"r\", \"g\", \"b\", \"a=\", 1.0], {name: \"rgb\"});\n\tul4.expose(ul4._hls, [\"h\", \"l\", \"s\", \"a=\", 1.0], {name: \"hls\"});\n\tul4.expose(ul4._hsv, [\"h\", \"s\", \"v\", \"a=\", 1.0], {name: \"hsv\"});\n\tul4.expose(ul4._xmlescape, [\"obj\"], {name: \"xmlescape\"});\n\tul4.expose(ul4._csv, [\"obj\"], {name: \"csv\"});\n\tul4.expose(ul4._chr, [\"i\"], {name: \"chr\"});\n\tul4.expose(ul4._ord, [\"c\"], {name: \"ord\"});\n\tul4.expose(ul4._hex, [\"number\"], {name: \"hex\"});\n\tul4.expose(ul4._oct, [\"number\"], {name: \"oct\"});\n\tul4.expose(ul4._bin, [\"number\"], {name: \"bin\"});\n\tul4.expose(ul4._min, [\"*obj\"], {name: \"min\"});\n\tul4.expose(ul4._max, [\"*obj\"], {name: \"max\"});\n\tul4.expose(ul4._sum, [\"iterable\", \"start=\", 0], {name: \"sum\"});\n\tul4.expose(ul4._first, [\"iterable\", \"default=\", null], {name: \"first\"});\n\tul4.expose(ul4._last, [\"iterable\", \"default=\", null], {name: \"last\"});\n\tul4.expose(ul4._sorted, [\"iterable\", \"key=\", null, \"reverse=\", false], {name: \"sorted\", needscontext: true});\n\tul4.expose(ul4._range, [\"*args\"], {name: \"range\"});\n\tul4.expose(ul4._slice, [\"*args\"], {name: \"slice\"});\n\tul4.expose(ul4._urlquote, [\"string\"], {name: \"urlquote\"});\n\tul4.expose(ul4._urlunquote, [\"string\"], {name: \"urlunquote\"});\n\tul4.expose(ul4._reversed, [\"sequence\"], {name: \"reversed\"});\n\tul4.expose(ul4._random, [], {name: \"random\"});\n\tul4.expose(ul4._randrange, [\"*args\"], {name: \"randrange\"});\n\tul4.expose(ul4._randchoice, [\"sequence\"], {name: \"randchoice\"});\n\tul4.expose(ul4._round, [\"x\", \"digit=\", 0], {name: \"round\"});\n\tul4.expose(ul4._md5, [\"string\"], {name: \"md5\"});\n\n\t// Functions implementing UL4 methods\n\tul4._count = function _count(obj, sub, start=null, end=null)\n\t{\n\t\tif (start < 0)\n\t\t\tstart += obj.length;\n\t\tif (start === null)\n\t\t\tstart = 0;\n\n\t\tif (end < 0)\n\t\t\tend += obj.length;\n\t\tif (end === null)\n\t\t\tend = obj.length;\n\n\t\tlet isstr = ul4._isstr(obj);\n\n\t\tif (isstr && !sub.length)\n\t\t{\n\t\t\tif (end < 0 || start > obj.length || start > end)\n\t\t\t\treturn 0;\n\t\t\tlet result = end - start + 1;\n\t\t\tif (result > obj.length + 1)\n\t\t\t\tresult = obj.length + 1;\n\t\t\treturn result;\n\t\t}\n\n\t\tstart = ul4._bound(start, obj.length);\n\t\tend = ul4._bound(end, obj.length);\n\n\t\tlet count = 0;\n\t\tif (ul4._islist(obj))\n\t\t{\n\t\t\tfor (let i = start; i < end; ++i)\n\t\t\t{\n\t\t\t\tif (ul4._eq(obj[i], sub))\n\t\t\t\t\t++count;\n\t\t\t}\n\t\t\treturn count;\n\t\t}\n\t\telse // string\n\t\t{\n\t\t\tlet lastIndex = start;\n\n\t\t\tfor (;;)\n\t\t\t{\n\t\t\t\tlastIndex = obj.indexOf(sub, lastIndex);\n\t\t\t\tif (lastIndex == -1)\n\t\t\t\t\tbreak;\n\t\t\t\tif (lastIndex + sub.length > end)\n\t\t\t\t\tbreak;\n\t\t\t\t++count;\n\t\t\t\tlastIndex += sub.length;\n\t\t\t}\n\t\t\treturn count;\n\t\t}\n\t};\n\n\tul4._find = function _find(obj, sub, start=null, end=null)\n\t{\n\t\tif (start < 0)\n\t\t\tstart += obj.length;\n\t\tif (start === null)\n\t\t\tstart = 0;\n\t\tif (end < 0)\n\t\t\tend += obj.length;\n\t\tif (end === null)\n\t\t\tend = obj.length;\n\t\tstart = ul4._bound(start, obj.length);\n\t\tend = ul4._bound(end, obj.length);\n\n\t\tif (start !== 0 || end !== obj.length)\n\t\t{\n\t\t\tif (typeof(obj) == \"string\")\n\t\t\t\tobj = obj.substring(start, end);\n\t\t\telse\n\t\t\t\tobj = obj.slice(start, end);\n\t\t}\n\t\tlet result = obj.indexOf(sub);\n\t\tif (result !== -1)\n\t\t\tresult += start;\n\t\treturn result;\n\t};\n\n\tul4._rfind = function _rfind(obj, sub, start=null, end=null)\n\t{\n\t\tif (start < 0)\n\t\t\tstart += obj.length;\n\t\tif (start === null)\n\t\t\tstart = 0;\n\t\tif (end < 0)\n\t\t\tend += obj.length;\n\t\tif (end === null)\n\t\t\tend = obj.length;\n\t\tstart = ul4._bound(start, obj.length);\n\t\tend = ul4._bound(end, obj.length);\n\n\t\tif (start !== 0 || end !== obj.length)\n\t\t{\n\t\t\tif (typeof(obj) == \"string\")\n\t\t\t\tobj = obj.substring(start, end);\n\t\t\telse\n\t\t\t\tobj = obj.slice(start, end);\n\t\t}\n\t\tlet result = obj.lastIndexOf(sub);\n\t\tif (result !== -1)\n\t\t\tresult += start;\n\t\treturn result;\n\t};\n\n\tul4._week4format = function _week(obj, firstweekday=null)\n\t{\n\t\tif (firstweekday === null)\n\t\t\tfirstweekday = 0;\n\t\telse\n\t\t\tfirstweekday %= 7;\n\n\t\tlet yearday = ul4.DateTimeProtocol.yearday(obj)+6;\n\t\tlet jan1 = new Date(obj.getFullYear(), 0, 1);\n\t\tlet jan1weekday = jan1.getDay();\n\t\tif (--jan1weekday < 0)\n\t\t\tjan1weekday = 6;\n\n\t\twhile (jan1weekday != firstweekday)\n\t\t{\n\t\t\t--yearday;\n\t\t\tif (++jan1weekday == 7)\n\t\t\t\tjan1weekday = 0;\n\t\t}\n\t\treturn Math.floor(yearday/7);\n\t};\n\n\tul4._isleap = function _isleap(obj)\n\t{\n\t\treturn new Date(obj.getFullYear(), 1, 29).getMonth() === 1;\n\t};\n\n\tul4._update = function _update(obj, others, kwargs)\n\t{\n\t\tif (!ul4._isdict(obj))\n\t\t\tthrow new ul4.TypeError(\"update() requires a dict\");\n\t\tfor (let i = 0; i < others.length; ++i)\n\t\t{\n\t\t\tlet other = others[i];\n\t\t\tif (ul4._ismap(other))\n\t\t\t{\n\t\t\t\tother.forEach(function(value, key) {\n\t\t\t\t\tul4._setmap(obj, key, value);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse if (ul4._isobject(other))\n\t\t\t{\n\t\t\t\tfor (let key in other)\n\t\t\t\t\tul4._setmap(obj, key, other[key]);\n\t\t\t}\n\t\t\telse if (ul4._islist(other))\n\t\t\t{\n\t\t\t\tfor (let i = 0; i < other.length; ++i)\n\t\t\t\t{\n\t\t\t\t\tlet item = other[i];\n\t\t\t\t\tif (!ul4._islist(item) || (item.length != 2))\n\t\t\t\t\t\tthrow new ul4.TypeError(\"update() requires a dict or a list of (key, value) pairs\");\n\t\t\t\t\tul4._setmap(obj, item[0], item[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\tthrow new ul4.TypeError(\"update() requires a dict or a list of (key, value) pairs\");\n\t\t}\n\t\tkwargs.forEach(function(value, key) {\n\t\t\tul4._setmap(obj, key, value);\n\t\t});\n\t\treturn null;\n\t};\n\n\tul4.Color = class Color extends ul4.Proto\n\t{\n\t\tconstructor(r=0, g=0, b=0, a=255)\n\t\t{\n\t\t\tsuper();\n\t\t\tthis._r = r;\n\t\t\tthis._g = g;\n\t\t\tthis._b = b;\n\t\t\tthis._a = a;\n\t\t}\n\n\t\t__repr__()\n\t\t{\n\t\t\tlet r = ul4._lpad(this._r.toString(16), \"0\", 2);\n\t\t\tlet g = ul4._lpad(this._g.toString(16), \"0\", 2);\n\t\t\tlet b = ul4._lpad(this._b.toString(16), \"0\", 2);\n\t\t\tlet a = ul4._lpad(this._a.toString(16), \"0\", 2);\n\t\t\tif (this._a !== 0xff)\n\t\t\t{\n\t\t\t\tif (r[0] === r[1] && g[0] === g[1] && b[0] === b[1] && a[0] === a[1])\n\t\t\t\t\treturn \"#\" + r[0] + g[0] + b[0] + a[0];\n\t\t\t\telse\n\t\t\t\t\treturn \"#\" + r + g + b + a;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (r[0] === r[1] && g[0] === g[1] && b[0] === b[1])\n\t\t\t\t\treturn \"#\" + r[0] + g[0] + b[0];\n\t\t\t\telse\n\t\t\t\t\treturn \"#\" + r + g + b;\n\t\t\t}\n\t\t}\n\n\t\t__str__()\n\t\t{\n\t\t\tif (this._a !== 0xff)\n\t\t\t{\n\t\t\t\treturn \"rgba(\" + this._r + \", \" + this._g + \", \" + this._b + \", \" + (this._a/255) + \")\";\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet r = ul4._lpad(this._r.toString(16), \"0\", 2);\n\t\t\t\tlet g = ul4._lpad(this._g.toString(16), \"0\", 2);\n\t\t\t\tlet b = ul4._lpad(this._b.toString(16), \"0\", 2);\n\t\t\t\tif (r[0] === r[1] && g[0] === g[1] && b[0] === b[1])\n\t\t\t\t\treturn \"#\" + r[0] + g[0] + b[0];\n\t\t\t\telse\n\t\t\t\t\treturn \"#\" + r + g + b;\n\t\t\t}\n\t\t}\n\n\t\t__iter__()\n\t\t{\n\t\t\treturn {\n\t\t\t\tobj: this,\n\t\t\t\tindex: 0,\n\t\t\t\tnext: function() {\n\t\t\t\t\tif (this.index == 0)\n\t\t\t\t\t{\n\t\t\t\t\t\t++this.index;\n\t\t\t\t\t\treturn {value: this.obj._r, done: false};\n\t\t\t\t\t}\n\t\t\t\t\telse if (this.index == 1)\n\t\t\t\t\t{\n\t\t\t\t\t\t++this.index;\n\t\t\t\t\t\treturn {value: this.obj._g, done: false};\n\t\t\t\t\t}\n\t\t\t\t\telse if (this.index == 2)\n\t\t\t\t\t{\n\t\t\t\t\t\t++this.index;\n\t\t\t\t\t\treturn {value: this.obj._b, done: false};\n\t\t\t\t\t}\n\t\t\t\t\telse if (this.index == 3)\n\t\t\t\t\t{\n\t\t\t\t\t\t++this.index;\n\t\t\t\t\t\treturn {value: this.obj._a, done: false};\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\treturn {done: true};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tlet self = this;\n\t\t\tswitch (attrname)\n\t\t\t{\n\t\t\t\tcase \"r\":\n\t\t\t\t\tlet r = function r(){ return self._r; };\n\t\t\t\t\tul4.expose(r, []);\n\t\t\t\t\treturn r;\n\t\t\t\tcase \"g\":\n\t\t\t\t\tlet g = function g(){ return self._g; };\n\t\t\t\t\tul4.expose(g, []);\n\t\t\t\t\treturn g;\n\t\t\t\tcase \"b\":\n\t\t\t\t\tlet b = function b(){ return self._b; };\n\t\t\t\t\tul4.expose(b, []);\n\t\t\t\t\treturn b;\n\t\t\t\tcase \"a\":\n\t\t\t\t\tlet a = function a(){ return self._a; };\n\t\t\t\t\tul4.expose(a, []);\n\t\t\t\t\treturn a;\n\t\t\t\tcase \"lum\":\n\t\t\t\t\tlet lum = function lum(){ return self.lum(); };\n\t\t\t\t\tul4.expose(lum, []);\n\t\t\t\t\treturn lum;\n\t\t\t\tcase \"hls\":\n\t\t\t\t\tlet hls = function hls(){ return self.hls(); };\n\t\t\t\t\tul4.expose(hls, []);\n\t\t\t\t\treturn hls;\n\t\t\t\tcase \"hlsa\":\n\t\t\t\t\tlet hlsa = function hlsa(){ return self.hlsa(); };\n\t\t\t\t\tul4.expose(hlsa, []);\n\t\t\t\t\treturn hlsa;\n\t\t\t\tcase \"hsv\":\n\t\t\t\t\tlet hsv = function hsv(){ return self.hsv(); };\n\t\t\t\t\tul4.expose(hsv, []);\n\t\t\t\t\treturn hsv;\n\t\t\t\tcase \"hsva\":\n\t\t\t\t\tlet hsva = function hsva(){ return self.hsva(); };\n\t\t\t\t\tul4.expose(hsva, []);\n\t\t\t\t\treturn hsva;\n\t\t\t\tcase \"witha\":\n\t\t\t\t\tlet witha = function witha(a){ return self.witha(a); };\n\t\t\t\t\tul4.expose(witha, [\"a\"]);\n\t\t\t\t\treturn witha;\n\t\t\t\tcase \"withlum\":\n\t\t\t\t\tlet withlum = function withlum(lum){ return self.withlum(lum); };\n\t\t\t\t\tul4.expose(withlum, [\"lum\"]);\n\t\t\t\t\treturn withlum;\n\t\t\t\tcase \"abslum\":\n\t\t\t\t\tlet abslum = function abslum(lum){ return self.abslum(lum); };\n\t\t\t\t\tul4.expose(abslum, [\"lum\"]);\n\t\t\t\t\treturn abslum;\n\t\t\t\tcase \"rellum\":\n\t\t\t\t\tlet rellum = function rellum(lum){ return self.rellum(lum); };\n\t\t\t\t\tul4.expose(rellum, [\"lum\"]);\n\t\t\t\t\treturn rellum;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new ul4.AttributeError(this, attrname);\n\t\t\t}\n\t\t}\n\n\t\t__getitem__(key)\n\t\t{\n\t\t\tlet orgkey = key;\n\t\t\tif (key < 0)\n\t\t\t\tkey += 4;\n\t\t\tswitch (key)\n\t\t\t{\n\t\t\t\tcase 0:\n\t\t\t\t\treturn this._r;\n\t\t\t\tcase 1:\n\t\t\t\t\treturn this._g;\n\t\t\t\tcase 2:\n\t\t\t\t\treturn this._b;\n\t\t\t\tcase 3:\n\t\t\t\t\treturn this._a;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new ul4.IndexError(this, orgkey);\n\t\t\t}\n\t\t}\n\n\t\t__eq__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.Color)\n\t\t\t\treturn this._r == other._r && this._g == other._g && this._b == other._b && this._a == other._a;\n\t\t\treturn false;\n\t\t}\n\n\t\tr()\n\t\t{\n\t\t\t\treturn this._r;\n\t\t}\n\n\t\tg()\n\t\t{\n\t\t\treturn this._g;\n\t\t}\n\n\t\tb()\n\t\t{\n\t\t\treturn this._b;\n\t\t}\n\n\t\ta()\n\t\t{\n\t\t\treturn this._a;\n\t\t}\n\n\t\tlum()\n\t\t{\n\t\t\treturn this.hls()[1];\n\t\t}\n\n\t\thls()\n\t\t{\n\t\t\tlet r = this._r/255.0;\n\t\t\tlet g = this._g/255.0;\n\t\t\tlet b = this._b/255.0;\n\t\t\tlet maxc = Math.max(r, g, b);\n\t\t\tlet minc = Math.min(r, g, b);\n\t\t\tlet h, l, s;\n\t\t\tlet rc, gc, bc;\n\n\t\t\tl = (minc+maxc)/2.0;\n\t\t\tif (minc == maxc)\n\t\t\t\treturn [0.0, l, 0.0];\n\t\t\tif (l <= 0.5)\n\t\t\t\ts = (maxc-minc) / (maxc+minc);\n\t\t\telse\n\t\t\t\ts = (maxc-minc) / (2.0-maxc-minc);\n\t\t\trc = (maxc-r) / (maxc-minc);\n\t\t\tgc = (maxc-g) / (maxc-minc);\n\t\t\tbc = (maxc-b) / (maxc-minc);\n\t\t\tif (r == maxc)\n\t\t\t\th = bc-gc;\n\t\t\telse if (g == maxc)\n\t\t\t\th = 2.0+rc-bc;\n\t\t\telse\n\t\t\t\th = 4.0+gc-rc;\n\t\t\th = (h/6.0) % 1.0;\n\t\t\treturn [h, l, s];\n\t\t}\n\n\t\thlsa()\n\t\t{\n\t\t\tlet hls = this.hls();\n\t\t\treturn hls.concat(this._a/255.0);\n\t\t}\n\n\t\thsv()\n\t\t{\n\t\t\tlet r = this._r/255.0;\n\t\t\tlet g = this._g/255.0;\n\t\t\tlet b = this._b/255.0;\n\t\t\tlet maxc = Math.max(r, g, b);\n\t\t\tlet minc = Math.min(r, g, b);\n\t\t\tlet v = maxc;\n\t\t\tif (minc == maxc)\n\t\t\t\treturn [0.0, 0.0, v];\n\t\t\tlet s = (maxc-minc) / maxc;\n\t\t\tlet rc = (maxc-r) / (maxc-minc);\n\t\t\tlet gc = (maxc-g) / (maxc-minc);\n\t\t\tlet bc = (maxc-b) / (maxc-minc);\n\t\t\tlet h;\n\t\t\tif (r == maxc)\n\t\t\t\th = bc-gc;\n\t\t\telse if (g == maxc)\n\t\t\t\th = 2.0+rc-bc;\n\t\t\telse\n\t\t\t\th = 4.0+gc-rc;\n\t\t\th = (h/6.0) % 1.0;\n\t\t\treturn [h, s, v];\n\t\t}\n\n\t\thsva()\n\t\t{\n\t\t\tlet hsv = this.hsv();\n\t\t\treturn hsv.concat(this._a/255.0);\n\t\t}\n\n\t\twitha(a)\n\t\t{\n\t\t\tif (typeof(a) !== \"number\")\n\t\t\t\tthrow new ul4.TypeError(\"witha() requires a number\");\n\t\t\treturn new ul4.Color(this._r, this._g, this._b, a);\n\t\t}\n\n\t\twithlum(lum)\n\t\t{\n\t\t\tif (typeof(lum) !== \"number\")\n\t\t\t\tthrow new ul4.TypeError(\"witha() requires a number\");\n\t\t\tlet hlsa = this.hlsa();\n\t\t\treturn ul4._hls(hlsa[0], lum, hlsa[2], hlsa[3]);\n\t\t}\n\n\t\tul4type()\n\t\t{\n\t\t\treturn \"color\";\n\t\t}\n\t};\n\n\tul4.expose(ul4.Color.prototype.r, []);\n\tul4.expose(ul4.Color.prototype.g, []);\n\tul4.expose(ul4.Color.prototype.b, []);\n\tul4.expose(ul4.Color.prototype.a, []);\n\tul4.expose(ul4.Color.prototype.lum, []);\n\tul4.expose(ul4.Color.prototype.hls, []);\n\tul4.expose(ul4.Color.prototype.hlsa, []);\n\tul4.expose(ul4.Color.prototype.hsv, []);\n\tul4.expose(ul4.Color.prototype.hsva, []);\n\tul4.expose(ul4.Color.prototype.witha, [\"a\"]);\n\tul4.expose(ul4.Color.prototype.withlum, [\"lum\"]);\n\n\t_js_Date = Date;\n\n\tul4.Date = class Date extends ul4.Proto\n\t{\n\t\tconstructor(year, month, day)\n\t\t{\n\t\t\tsuper();\n\t\t\tthis._date = new _js_Date(year, month-1, day);\n\t\t}\n\n\t\t__repr__()\n\t\t{\n\t\t\treturn '@(' + this.__str__() + \")\";\n\t\t}\n\n\t\t__str__()\n\t\t{\n\t\t\treturn ul4._lpad(this._date.getFullYear(), \"0\", 4) + \"-\" + ul4._lpad(this._date.getMonth()+1, \"0\", 2) + \"-\" + ul4._lpad(this._date.getDate(), \"0\", 2);\n\t\t}\n\n\t\t__eq__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.Date)\n\t\t\t\treturn this._date.getTime() === other._date.getTime();\n\t\t\treturn false;\n\t\t}\n\n\t\t__lt__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.Date)\n\t\t\t\treturn this._date < other._date;\n\t\t\tul4._unorderable(\"<\", this, other);\n\t\t}\n\n\t\t__le__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.Date)\n\t\t\t\treturn this._date <= other._date;\n\t\t\tul4._unorderable(\"<=\", this, other);\n\t\t}\n\n\t\t__gt__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.Date)\n\t\t\t\treturn this._date > other._date;\n\t\t\tul4._unorderable(\">\", this, other);\n\t\t}\n\n\t\t__ge__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.Date)\n\t\t\t\treturn this._date >= other._date;\n\t\t\tul4._unorderable(\">=\", this, other);\n\t\t}\n\n\t\tyear()\n\t\t{\n\t\t\treturn this._date.getFullYear();\n\t\t}\n\n\t\tmonth()\n\t\t{\n\t\t\treturn this._date.getMonth()+1;\n\t\t}\n\n\t\tday()\n\t\t{\n\t\t\treturn this._date.getDate();\n\t\t}\n\n\t\tul4type()\n\t\t{\n\t\t\treturn \"date\";\n\t\t}\n\t};\n\n\n\tul4.TimeDelta = class TimeDelta extends ul4.Proto\n\t{\n\t\tconstructor(days=0, seconds=0, microseconds=0)\n\t\t{\n\t\t\tsuper();\n\t\t\tlet total_microseconds = Math.floor((days * 86400 + seconds)*1000000 + microseconds);\n\n\t\t\tmicroseconds = ul4.ModAST.prototype._do(total_microseconds, 1000000);\n\t\t\tlet total_seconds = Math.floor(total_microseconds / 1000000);\n\t\t\tseconds = ul4.ModAST.prototype._do(total_seconds, 86400);\n\t\t\tdays = Math.floor(total_seconds / 86400);\n\t\t\tif (seconds < 0)\n\t\t\t{\n\t\t\t\tseconds += 86400;\n\t\t\t\t--days;\n\t\t\t}\n\n\t\t\tthis._microseconds = microseconds;\n\t\t\tthis._seconds = seconds;\n\t\t\tthis._days = days;\n\t\t}\n\n\t\t__repr__()\n\t\t{\n\t\t\tlet v = [], first = true;\n\t\t\tv.push(\"timedelta(\");\n\t\t\tif (this._days)\n\t\t\t{\n\t\t\t\tv.push(\"days=\" + this._days);\n\t\t\t\tfirst = false;\n\t\t\t}\n\t\t\tif (this._seconds)\n\t\t\t{\n\t\t\t\tif (!first)\n\t\t\t\t\tv.push(\", \");\n\t\t\t\tv.push(\"seconds=\" + this._seconds);\n\t\t\t\tfirst = false;\n\t\t\t}\n\t\t\tif (this._microseconds)\n\t\t\t{\n\t\t\t\tif (!first)\n\t\t\t\t\tv.push(\", \");\n\t\t\t\tv.push(\"microseconds=\" + this._microseconds);\n\t\t\t}\n\t\t\tv.push(\")\");\n\t\t\treturn v.join(\"\");\n\t\t}\n\n\t\t__str__()\n\t\t{\n\t\t\tlet v = [];\n\t\t\tif (this._days)\n\t\t\t{\n\t\t\t\tv.push(this._days + \" day\");\n\t\t\t\tif (this._days !== -1 && this._days !== 1)\n\t\t\t\t\tv.push(\"s\");\n\t\t\t\tv.push(\", \");\n\t\t\t}\n\t\t\tlet seconds = this._seconds % 60;\n\t\t\tlet minutes = Math.floor(this._seconds / 60);\n\t\t\tlet hours = Math.floor(minutes / 60);\n\t\t\tminutes = minutes % 60;\n\n\t\t\tv.push(\"\" + hours);\n\t\t\tv.push(\":\");\n\t\t\tv.push(ul4._lpad(minutes.toString(), \"0\", 2));\n\t\t\tv.push(\":\");\n\t\t\tv.push(ul4._lpad(seconds.toString(), \"0\", 2));\n\t\t\tif (this._microseconds)\n\t\t\t{\n\t\t\t\tv.push(\".\");\n\t\t\t\tv.push(ul4._lpad(this._microseconds.toString(), \"0\", 6));\n\t\t\t}\n\t\t\treturn v.join(\"\");\n\t\t}\n\n\t\t__bool__()\n\t\t{\n\t\t\treturn this._days !== 0 || this._seconds !== 0 || this._microseconds !== 0;\n\t\t}\n\n\t\t__abs__()\n\t\t{\n\t\t\treturn this._days < 0 ? new ul4.TimeDelta(-this._days, -this._seconds, -this._microseconds) : this;\n\t\t}\n\n\t\t__eq__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.TimeDelta)\n\t\t\t\treturn (this._days === other._days) && (this._seconds === other._seconds) && (this._microseconds === other._microseconds);\n\t\t\treturn false;\n\t\t}\n\n\t\t__lt__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.TimeDelta)\n\t\t\t{\n\t\t\t\tif (this._days != other._days)\n\t\t\t\t\treturn this._days < other._days;\n\t\t\t\tif (this._seconds != other._seconds)\n\t\t\t\t\treturn this._seconds < other._seconds;\n\t\t\t\treturn this._microseconds < other._microseconds;\n\t\t\t}\n\t\t\tul4._unorderable(\"<\", this, other);\n\t\t}\n\n\t\t__le__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.TimeDelta)\n\t\t\t{\n\t\t\t\tif (this._days != other._days)\n\t\t\t\t\treturn this._days < other._days;\n\t\t\t\tif (this._seconds != other._seconds)\n\t\t\t\t\treturn this._seconds < other._seconds;\n\t\t\t\treturn this._microseconds <= other._microseconds;\n\t\t\t}\n\t\t\tul4._unorderable(\"<=\", this, other);\n\t\t}\n\n\t\t__gt__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.TimeDelta)\n\t\t\t{\n\t\t\t\tif (this._days != other._days)\n\t\t\t\t\treturn this._days > other._days;\n\t\t\t\tif (this._seconds != other._seconds)\n\t\t\t\t\treturn this._seconds > other._seconds;\n\t\t\t\treturn this._microseconds > other._microseconds;\n\t\t\t}\n\t\t\tul4._unorderable(\">\", this, other);\n\t\t}\n\n\t\t__ge__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.TimeDelta)\n\t\t\t{\n\t\t\t\tif (this._days != other._days)\n\t\t\t\t\treturn this._days > other._days;\n\t\t\t\tif (this._seconds != other._seconds)\n\t\t\t\t\treturn this._seconds > other._seconds;\n\t\t\t\treturn this._microseconds >= other._microseconds;\n\t\t\t}\n\t\t\tul4._unorderable(\">=\", this, other);\n\t\t}\n\n\t\t__neg__()\n\t\t{\n\t\t\treturn new ul4.TimeDelta(-this._days, -this._seconds, -this._microseconds);\n\t\t}\n\n\t\tadddate(date, days)\n\t\t{\n\t\t\tlet year = date._date.getFullYear();\n\t\t\tlet month = date._date.getMonth();\n\t\t\tlet day = date._date.getDate() + days;\n\t\t\treturn new ul4.Date(year, month, day);\n\t\t}\n\n\t\t_adddatetime(date, days, seconds, microseconds)\n\t\t{\n\t\t\tlet year = date.getFullYear();\n\t\t\tlet month = date.getMonth();\n\t\t\tlet day = date.getDate() + days;\n\t\t\tlet hour = date.getHours();\n\t\t\tlet minute = date.getMinutes();\n\t\t\tlet second = date.getSeconds() + seconds;\n\t\t\tlet millisecond = date.getMilliseconds() + microseconds/1000;\n\t\t\treturn new Date(year, month, day, hour, minute, second, millisecond);\n\t\t}\n\n\t\t__add__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.TimeDelta)\n\t\t\t\treturn new ul4.TimeDelta(this._days + other._days, this._seconds + other._seconds, this._microseconds + other._microseconds);\n\t\t\telse if (ul4._isdate(other))\n\t\t\t\treturn this._adddate(other, this._days);\n\t\t\telse if (ul4._isdatetime(other))\n\t\t\t\treturn this._adddatetime(other, this._days, this._seconds, this._microseconds);\n\t\t\tthrow new ul4.TypeError(ul4._type(this) + \" + \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__radd__(other)\n\t\t{\n\t\t\tif (ul4._isdate(other))\n\t\t\t\treturn this._adddate(other, this._days);\n\t\t\telse if (ul4._isdatetime(other))\n\t\t\t\treturn this._adddatetime(other, this._days, this._seconds, this._microseconds);\n\t\t\tthrow new ul4.TypeError(ul4._type(this) + \" + \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__sub__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.TimeDelta)\n\t\t\t\treturn new ul4.TimeDelta(this._days - other._days, this._seconds - other._seconds, this._microseconds - other._microseconds);\n\t\t\tthrow new ul4.TypeError(ul4._type(this) + \" - \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__rsub__(other)\n\t\t{\n\t\t\tif (ul4._isdate(other))\n\t\t\t\treturn this._adddate(other, -this._days);\n\t\t\telse if (ul4._isdatetime(other))\n\t\t\t\treturn this._adddatetime(other, -this._days, -this._seconds, -this._microseconds);\n\t\t\tthrow new ul4.TypeError(ul4._type(this) + \" - \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__mul__(other)\n\t\t{\n\t\t\tif (typeof(other) === \"number\")\n\t\t\t\treturn new ul4.TimeDelta(this._days * other, this._seconds * other, this._microseconds * other);\n\t\t\tthrow new ul4.TypeError(ul4._type(this) + \" * \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__rmul__(other)\n\t\t{\n\t\t\tif (typeof(other) === \"number\")\n\t\t\t\treturn new ul4.TimeDelta(this._days * other, this._seconds * other, this._microseconds * other);\n\t\t\tthrow new ul4.TypeError(ul4._type(this) + \" * \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__truediv__(other)\n\t\t{\n\t\t\tif (typeof(other) === \"number\")\n\t\t\t{\n\t\t\t\treturn new ul4.TimeDelta(this._days / other, this._seconds / other, this._microseconds / other);\n\t\t\t}\n\t\t\telse if (other instanceof ul4.TimeDelta)\n\t\t\t{\n\t\t\t\tlet myValue = this._days;\n\t\t\t\tlet otherValue = other._days;\n\t\t\t\tlet hasSeconds = this._seconds || other._seconds;\n\t\t\t\tlet hasMicroseconds = this._microseconds || other._microseconds;\n\t\t\t\tif (hasSeconds || hasMicroseconds)\n\t\t\t\t{\n\t\t\t\t\tmyValue = myValue*86400+this._seconds;\n\t\t\t\t\totherValue = otherValue*86400 + other._seconds;\n\t\t\t\t\tif (hasMicroseconds)\n\t\t\t\t\t{\n\t\t\t\t\t\tmyValue = myValue * 1000000 + this._microseconds;\n\t\t\t\t\t\totherValue = otherValue * 1000000 + other._microseconds;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn myValue/otherValue;\n\t\t\t}\n\t\t\tthrow new ul4.TypeError(ul4._type(this) + \" / \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tlet self = this;\n\t\t\tswitch (attrname)\n\t\t\t{\n\t\t\t\tcase \"days\":\n\t\t\t\t\tlet days = function days(){ return self._days; };\n\t\t\t\t\tul4.expose(days, []);\n\t\t\t\t\treturn days;\n\t\t\t\tcase \"seconds\":\n\t\t\t\t\tlet seconds = function seconds(){ return self._seconds; };\n\t\t\t\t\tul4.expose(seconds, []);\n\t\t\t\t\treturn seconds;\n\t\t\t\tcase \"microseconds\":\n\t\t\t\t\tlet microseconds = function microseconds(){ return self._microseconds; };\n\t\t\t\t\tul4.expose(microseconds, []);\n\t\t\t\t\treturn microseconds;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new ul4.AttributeError(this, attrname);\n\t\t\t}\n\t\t}\n\n\t\tdays()\n\t\t{\n\t\t\treturn this._days;\n\t\t}\n\n\t\tseconds()\n\t\t{\n\t\t\treturn this._seconds;\n\t\t}\n\n\t\tmicroseconds()\n\t\t{\n\t\t\treturn this._microseconds;\n\t\t}\n\n\t\tul4type()\n\t\t{\n\t\t\treturn \"timedelta\";\n\t\t}\n\t};\n\n\n\tul4.MonthDelta = class MonthDelta extends ul4.Proto\n\t{\n\t\tconstructor(months=0)\n\t\t{\n\t\t\tsuper();\n\t\t\tthis._months = months;\n\t\t}\n\n\t\t__repr__()\n\t\t{\n\t\t\tif (!this._months)\n\t\t\t\treturn \"monthdelta()\";\n\t\t\treturn \"monthdelta(\" + this._months + \")\";\n\t\t}\n\n\t\t__str__()\n\t\t{\n\t\t\tif (this._months)\n\t\t\t{\n\t\t\t\tif (this._months !== -1 && this._months !== 1)\n\t\t\t\t\treturn this._months + \" months\";\n\t\t\t\treturn this._months + \" month\";\n\t\t\t}\n\t\t\treturn \"0 months\";\n\t\t}\n\n\t\ttoString()\n\t\t{\n\t\t\treturn this.__str__();\n\t\t}\n\n\t\t__bool__()\n\t\t{\n\t\t\treturn this._months !== 0;\n\t\t}\n\n\t\t__abs__()\n\t\t{\n\t\t\treturn this._months < 0 ? new ul4.MonthDelta(-this._months) : this;\n\t\t}\n\n\t\t__eq__(other)\n\t\t{\n\t\t\tif (other instanceof MonthDelta)\n\t\t\t\treturn this._months === other._months;\n\t\t\treturn false;\n\t\t}\n\n\t\t__lt__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.MonthDelta)\n\t\t\t\treturn this._months < other._months;\n\t\t\tul4._unorderable(\"<\", this, other);\n\t\t}\n\n\t\t__le__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.MonthDelta)\n\t\t\t\treturn this._months <= other._months;\n\t\t\tul4._unorderable(\"<=\", this, other);\n\t\t}\n\n\t\t__gt__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.MonthDelta)\n\t\t\t\treturn this._months > other._months;\n\t\t\tul4._unorderable(\">\", this, other);\n\t\t}\n\n\t\t__ge__(other)\n\t\t{\n\t\t\tif (other instanceof ul4.MonthDelta)\n\t\t\t\treturn this._months >= other._months;\n\t\t\tul4._unorderable(\">=\", this, other);\n\t\t}\n\n\t\t__neg__()\n\t\t{\n\t\t\treturn new ul4.MonthDelta(-this._months);\n\t\t}\n\n\t\t_adddate(date, months)\n\t\t{\n\t\t\tlet result = this._adddatetime(date._date, months);\n\t\t\treturn new ul4.Date(result.getFullYear(), result.getMonth()+1, result.getDate());\n\t\t}\n\n\t\t_adddatetime(date, months)\n\t\t{\n\t\t\tlet year = date.getFullYear();\n\t\t\tlet month = date.getMonth() + months;\n\t\t\tlet day = date.getDate();\n\t\t\tlet hour = date.getHours();\n\t\t\tlet minute = date.getMinutes();\n\t\t\tlet second = date.getSeconds();\n\t\t\tlet millisecond = date.getMilliseconds();\n\n\t\t\twhile (true)\n\t\t\t{\n\t\t\t\t// As the month might be out of bounds, we have to find out, what the real target month is\n\t\t\t\tlet targetmonth = new Date(year, month, 1, hour, minute, second, millisecond).getMonth();\n\t\t\t\tlet result = new Date(year, month, day, hour, minute, second, millisecond);\n\t\t\t\tif (result.getMonth() === targetmonth)\n\t\t\t\t\treturn result;\n\t\t\t\t--day;\n\t\t\t}\n\t\t}\n\n\t\t__add__(other)\n\t\t{\n\t\t\tif (ul4._ismonthdelta(other))\n\t\t\t\treturn new ul4.MonthDelta(this._months + other._months);\n\t\t\telse if (ul4._isdate(other))\n\t\t\t\treturn this._adddate(other, this._months);\n\t\t\telse if (ul4._isdatetime(other))\n\t\t\t\treturn this._adddatetime(other, this._months);\n\t\t\tthrow new ul4.ArgumentError(ul4._type(this) + \" + \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__radd__(other)\n\t\t{\n\t\t\tif (ul4._isdate(other))\n\t\t\t\treturn this._adddate(other, this._months);\n\t\t\telse if (ul4._isdatetime(other))\n\t\t\t\treturn this._adddatetime(other, this._months);\n\t\t\tthrow new ul4.ArgumentError(ul4._type(this) + \" + \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__sub__(other)\n\t\t{\n\t\t\tif (ul4._ismonthdelta(other))\n\t\t\t\treturn new ul4.MonthDelta(this._months - other._months);\n\t\t\tthrow new ul4.ArgumentError(ul4._type(this) + \" - \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__rsub__(other)\n\t\t{\n\t\t\tif (ul4._isdate(other))\n\t\t\t\treturn this._adddate(other, -this._months);\n\t\t\telse if (ul4._isdatetime(other))\n\t\t\t\treturn this._adddatetime(other, -this._months);\n\t\t\tthrow new ul4.ArgumentError(ul4._type(this) + \" - \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__mul__(other)\n\t\t{\n\t\t\tif (typeof(other) === \"number\")\n\t\t\t\treturn new ul4.MonthDelta(this._months * Math.floor(other));\n\t\t\tthrow new ul4.ArgumentError(ul4._type(this) + \" * \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__rmul__(other)\n\t\t{\n\t\t\tif (typeof(other) === \"number\")\n\t\t\t\treturn new ul4.MonthDelta(this._months * Math.floor(other));\n\t\t\tthrow new ul4.ArgumentError(ul4._type(this) + \" * \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__floordiv__(other)\n\t\t{\n\t\t\tif (typeof(other) === \"number\")\n\t\t\t\treturn new ul4.MonthDelta(Math.floor(this._months / other));\n\t\t\telse if (ul4._ismonthdelta(other))\n\t\t\t\treturn Math.floor(this._months / other._months);\n\t\t\tthrow new ul4.ArgumentError(ul4._type(this) + \" // \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__truediv__(other)\n\t\t{\n\t\t\tif (ul4._ismonthdelta(other))\n\t\t\t\treturn this._months / other._months;\n\t\t\tthrow new ul4.ArgumentError(ul4._type(this) + \" / \" + ul4._type(other) + \" not supported\");\n\t\t}\n\n\t\t__getattr__(attrname)\n\t\t{\n\t\t\tlet self = this;\n\t\t\tswitch (attrname)\n\t\t\t{\n\t\t\t\tcase \"months\":\n\t\t\t\t\tlet months = function months(){ return self._months; };\n\t\t\t\t\tul4.expose(months, []);\n\t\t\t\t\treturn months;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new ul4.AttributeError(this, attrname);\n\t\t\t}\n\t\t}\n\n\t\tmonths()\n\t\t{\n\t\t\treturn this._months;\n\t\t}\n\n\t\tul4type()\n\t\t{\n\t\t\treturn \"monthdelta\";\n\t\t}\n\t};\n\n\tconst classes = [\n\t\tul4.TextAST,\n\t\tul4.IndentAST,\n\t\tul4.LineEndAST,\n\t\tul4.ConstAST,\n\t\tul4.SeqItemAST,\n\t\tul4.UnpackSeqItemAST,\n\t\tul4.DictItemAST,\n\t\tul4.UnpackDictItemAST,\n\t\tul4.PosArgAST,\n\t\tul4.KeywordArgAST,\n\t\tul4.UnpackListArgAST,\n\t\tul4.UnpackDictArgAST,\n\t\tul4.ListAST,\n\t\tul4.ListCompAST,\n\t\tul4.DictAST,\n\t\tul4.DictCompAST,\n\t\tul4.SetAST,\n\t\tul4.SetCompAST,\n\t\tul4.GenExprAST,\n\t\tul4.VarAST,\n\t\tul4.NotAST,\n\t\tul4.NegAST,\n\t\tul4.BitNotAST,\n\t\tul4.IfAST,\n\t\tul4.ReturnAST,\n\t\tul4.PrintAST,\n\t\tul4.PrintXAST,\n\t\tul4.ItemAST,\n\t\tul4.IsAST,\n\t\tul4.IsNotAST,\n\t\tul4.EQAST,\n\t\tul4.NEAST,\n\t\tul4.LTAST,\n\t\tul4.LEAST,\n\t\tul4.GTAST,\n\t\tul4.GEAST,\n\t\tul4.NotContainsAST,\n\t\tul4.ContainsAST,\n\t\tul4.AddAST,\n\t\tul4.SubAST,\n\t\tul4.MulAST,\n\t\tul4.FloorDivAST,\n\t\tul4.TrueDivAST,\n\t\tul4.ModAST,\n\t\tul4.ShiftLeftAST,\n\t\tul4.ShiftRightAST,\n\t\tul4.BitAndAST,\n\t\tul4.BitXOrAST,\n\t\tul4.BitOrAST,\n\t\tul4.AndAST,\n\t\tul4.OrAST,\n\t\tul4.SliceAST,\n\t\tul4.AttrAST,\n\t\tul4.CallAST,\n\t\tul4.RenderAST,\n\t\tul4.RenderXAST,\n\t\tul4.RenderBlockAST,\n\t\tul4.RenderBlocksAST,\n\t\tul4.SetVarAST,\n\t\tul4.AddVarAST,\n\t\tul4.SubVarAST,\n\t\tul4.MulVarAST,\n\t\tul4.TrueDivVarAST,\n\t\tul4.FloorDivVarAST,\n\t\tul4.ModVarAST,\n\t\tul4.ShiftLeftVarAST,\n\t\tul4.ShiftRightVarAST,\n\t\tul4.BitAndVarAST,\n\t\tul4.BitXOrVarAST,\n\t\tul4.BitOrVarAST,\n\t\tul4.ForBlockAST,\n\t\tul4.WhileBlockAST,\n\t\tul4.BreakAST,\n\t\tul4.ContinueAST,\n\t\tul4.CondBlockAST,\n\t\tul4.IfBlockAST,\n\t\tul4.ElIfBlockAST,\n\t\tul4.ElseBlockAST,\n\t\tul4.SignatureAST,\n\t\tul4.Template\n\t];\n\n\tfor (let i = 0; i < classes.length; ++i)\n\t{\n\t\tlet constructor = classes[i];\n\t\tlet ul4onname = constructor.name;\n\t\tif (ul4onname.substr(ul4onname.length-3) === \"AST\")\n\t\t\tul4onname = ul4onname.substr(0, ul4onname.length-3);\n\t\tul4onname = ul4onname.toLowerCase();\n\t\tconstructor.prototype.type = ul4onname;\n\t\tul4.register(\"de.livinglogic.ul4.\" + ul4onname, constructor);\n\t}\n})();\n"]}