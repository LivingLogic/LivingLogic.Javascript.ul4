{"version":3,"file":"ul4.js","sources":["../../node_modules/blueimp-md5/js/md5.js","../../src/ul4.js"],"sourcesContent":["/*\n * JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\n\n/* global define */\n\n/* eslint-disable strict */\n\n;(function ($) {\n  'use strict'\n\n  /**\n   * Add integers, wrapping at 2^32.\n   * This uses 16-bit operations internally to work around bugs in interpreters.\n   *\n   * @param {number} x First integer\n   * @param {number} y Second integer\n   * @returns {number} Sum\n   */\n  function safeAdd(x, y) {\n    var lsw = (x & 0xffff) + (y & 0xffff)\n    var msw = (x >> 16) + (y >> 16) + (lsw >> 16)\n    return (msw << 16) | (lsw & 0xffff)\n  }\n\n  /**\n   * Bitwise rotate a 32-bit number to the left.\n   *\n   * @param {number} num 32-bit number\n   * @param {number} cnt Rotation count\n   * @returns {number} Rotated number\n   */\n  function bitRotateLeft(num, cnt) {\n    return (num << cnt) | (num >>> (32 - cnt))\n  }\n\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} q q\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5cmn(q, a, b, x, s, t) {\n    return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5ff(a, b, c, d, x, s, t) {\n    return md5cmn((b & c) | (~b & d), a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5gg(a, b, c, d, x, s, t) {\n    return md5cmn((b & d) | (c & ~d), a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5hh(a, b, c, d, x, s, t) {\n    return md5cmn(b ^ c ^ d, a, b, x, s, t)\n  }\n  /**\n   * Basic operation the algorithm uses.\n   *\n   * @param {number} a a\n   * @param {number} b b\n   * @param {number} c c\n   * @param {number} d d\n   * @param {number} x x\n   * @param {number} s s\n   * @param {number} t t\n   * @returns {number} Result\n   */\n  function md5ii(a, b, c, d, x, s, t) {\n    return md5cmn(c ^ (b | ~d), a, b, x, s, t)\n  }\n\n  /**\n   * Calculate the MD5 of an array of little-endian words, and a bit length.\n   *\n   * @param {Array} x Array of little-endian words\n   * @param {number} len Bit length\n   * @returns {Array<number>} MD5 Array\n   */\n  function binlMD5(x, len) {\n    /* append padding */\n    x[len >> 5] |= 0x80 << len % 32\n    x[(((len + 64) >>> 9) << 4) + 14] = len\n\n    var i\n    var olda\n    var oldb\n    var oldc\n    var oldd\n    var a = 1732584193\n    var b = -271733879\n    var c = -1732584194\n    var d = 271733878\n\n    for (i = 0; i < x.length; i += 16) {\n      olda = a\n      oldb = b\n      oldc = c\n      oldd = d\n\n      a = md5ff(a, b, c, d, x[i], 7, -680876936)\n      d = md5ff(d, a, b, c, x[i + 1], 12, -389564586)\n      c = md5ff(c, d, a, b, x[i + 2], 17, 606105819)\n      b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330)\n      a = md5ff(a, b, c, d, x[i + 4], 7, -176418897)\n      d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426)\n      c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341)\n      b = md5ff(b, c, d, a, x[i + 7], 22, -45705983)\n      a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416)\n      d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417)\n      c = md5ff(c, d, a, b, x[i + 10], 17, -42063)\n      b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162)\n      a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682)\n      d = md5ff(d, a, b, c, x[i + 13], 12, -40341101)\n      c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290)\n      b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329)\n\n      a = md5gg(a, b, c, d, x[i + 1], 5, -165796510)\n      d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632)\n      c = md5gg(c, d, a, b, x[i + 11], 14, 643717713)\n      b = md5gg(b, c, d, a, x[i], 20, -373897302)\n      a = md5gg(a, b, c, d, x[i + 5], 5, -701558691)\n      d = md5gg(d, a, b, c, x[i + 10], 9, 38016083)\n      c = md5gg(c, d, a, b, x[i + 15], 14, -660478335)\n      b = md5gg(b, c, d, a, x[i + 4], 20, -405537848)\n      a = md5gg(a, b, c, d, x[i + 9], 5, 568446438)\n      d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690)\n      c = md5gg(c, d, a, b, x[i + 3], 14, -187363961)\n      b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501)\n      a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467)\n      d = md5gg(d, a, b, c, x[i + 2], 9, -51403784)\n      c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473)\n      b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734)\n\n      a = md5hh(a, b, c, d, x[i + 5], 4, -378558)\n      d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463)\n      c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562)\n      b = md5hh(b, c, d, a, x[i + 14], 23, -35309556)\n      a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060)\n      d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353)\n      c = md5hh(c, d, a, b, x[i + 7], 16, -155497632)\n      b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640)\n      a = md5hh(a, b, c, d, x[i + 13], 4, 681279174)\n      d = md5hh(d, a, b, c, x[i], 11, -358537222)\n      c = md5hh(c, d, a, b, x[i + 3], 16, -722521979)\n      b = md5hh(b, c, d, a, x[i + 6], 23, 76029189)\n      a = md5hh(a, b, c, d, x[i + 9], 4, -640364487)\n      d = md5hh(d, a, b, c, x[i + 12], 11, -421815835)\n      c = md5hh(c, d, a, b, x[i + 15], 16, 530742520)\n      b = md5hh(b, c, d, a, x[i + 2], 23, -995338651)\n\n      a = md5ii(a, b, c, d, x[i], 6, -198630844)\n      d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415)\n      c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905)\n      b = md5ii(b, c, d, a, x[i + 5], 21, -57434055)\n      a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571)\n      d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606)\n      c = md5ii(c, d, a, b, x[i + 10], 15, -1051523)\n      b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799)\n      a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359)\n      d = md5ii(d, a, b, c, x[i + 15], 10, -30611744)\n      c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380)\n      b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649)\n      a = md5ii(a, b, c, d, x[i + 4], 6, -145523070)\n      d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379)\n      c = md5ii(c, d, a, b, x[i + 2], 15, 718787259)\n      b = md5ii(b, c, d, a, x[i + 9], 21, -343485551)\n\n      a = safeAdd(a, olda)\n      b = safeAdd(b, oldb)\n      c = safeAdd(c, oldc)\n      d = safeAdd(d, oldd)\n    }\n    return [a, b, c, d]\n  }\n\n  /**\n   * Convert an array of little-endian words to a string\n   *\n   * @param {Array<number>} input MD5 Array\n   * @returns {string} MD5 string\n   */\n  function binl2rstr(input) {\n    var i\n    var output = ''\n    var length32 = input.length * 32\n    for (i = 0; i < length32; i += 8) {\n      output += String.fromCharCode((input[i >> 5] >>> i % 32) & 0xff)\n    }\n    return output\n  }\n\n  /**\n   * Convert a raw string to an array of little-endian words\n   * Characters >255 have their high-byte silently ignored.\n   *\n   * @param {string} input Raw input string\n   * @returns {Array<number>} Array of little-endian words\n   */\n  function rstr2binl(input) {\n    var i\n    var output = []\n    output[(input.length >> 2) - 1] = undefined\n    for (i = 0; i < output.length; i += 1) {\n      output[i] = 0\n    }\n    var length8 = input.length * 8\n    for (i = 0; i < length8; i += 8) {\n      output[i >> 5] |= (input.charCodeAt(i / 8) & 0xff) << i % 32\n    }\n    return output\n  }\n\n  /**\n   * Calculate the MD5 of a raw string\n   *\n   * @param {string} s Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rstrMD5(s) {\n    return binl2rstr(binlMD5(rstr2binl(s), s.length * 8))\n  }\n\n  /**\n   * Calculates the HMAC-MD5 of a key and some data (raw strings)\n   *\n   * @param {string} key HMAC key\n   * @param {string} data Raw input string\n   * @returns {string} Raw MD5 string\n   */\n  function rstrHMACMD5(key, data) {\n    var i\n    var bkey = rstr2binl(key)\n    var ipad = []\n    var opad = []\n    var hash\n    ipad[15] = opad[15] = undefined\n    if (bkey.length > 16) {\n      bkey = binlMD5(bkey, key.length * 8)\n    }\n    for (i = 0; i < 16; i += 1) {\n      ipad[i] = bkey[i] ^ 0x36363636\n      opad[i] = bkey[i] ^ 0x5c5c5c5c\n    }\n    hash = binlMD5(ipad.concat(rstr2binl(data)), 512 + data.length * 8)\n    return binl2rstr(binlMD5(opad.concat(hash), 512 + 128))\n  }\n\n  /**\n   * Convert a raw string to a hex string\n   *\n   * @param {string} input Raw input string\n   * @returns {string} Hex encoded string\n   */\n  function rstr2hex(input) {\n    var hexTab = '0123456789abcdef'\n    var output = ''\n    var x\n    var i\n    for (i = 0; i < input.length; i += 1) {\n      x = input.charCodeAt(i)\n      output += hexTab.charAt((x >>> 4) & 0x0f) + hexTab.charAt(x & 0x0f)\n    }\n    return output\n  }\n\n  /**\n   * Encode a string as UTF-8\n   *\n   * @param {string} input Input string\n   * @returns {string} UTF8 string\n   */\n  function str2rstrUTF8(input) {\n    return unescape(encodeURIComponent(input))\n  }\n\n  /**\n   * Encodes input string as raw MD5 string\n   *\n   * @param {string} s Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rawMD5(s) {\n    return rstrMD5(str2rstrUTF8(s))\n  }\n  /**\n   * Encodes input string as Hex encoded string\n   *\n   * @param {string} s Input string\n   * @returns {string} Hex encoded string\n   */\n  function hexMD5(s) {\n    return rstr2hex(rawMD5(s))\n  }\n  /**\n   * Calculates the raw HMAC-MD5 for the given key and data\n   *\n   * @param {string} k HMAC key\n   * @param {string} d Input string\n   * @returns {string} Raw MD5 string\n   */\n  function rawHMACMD5(k, d) {\n    return rstrHMACMD5(str2rstrUTF8(k), str2rstrUTF8(d))\n  }\n  /**\n   * Calculates the Hex encoded HMAC-MD5 for the given key and data\n   *\n   * @param {string} k HMAC key\n   * @param {string} d Input string\n   * @returns {string} Raw MD5 string\n   */\n  function hexHMACMD5(k, d) {\n    return rstr2hex(rawHMACMD5(k, d))\n  }\n\n  /**\n   * Calculates MD5 value for a given string.\n   * If a key is provided, calculates the HMAC-MD5 value.\n   * Returns a Hex encoded string unless the raw argument is given.\n   *\n   * @param {string} string Input string\n   * @param {string} [key] HMAC key\n   * @param {boolean} [raw] Raw output switch\n   * @returns {string} MD5 output\n   */\n  function md5(string, key, raw) {\n    if (!key) {\n      if (!raw) {\n        return hexMD5(string)\n      }\n      return rawMD5(string)\n    }\n    if (!raw) {\n      return hexHMACMD5(key, string)\n    }\n    return rawHMACMD5(key, string)\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return md5\n    })\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = md5\n  } else {\n    $.md5 = md5\n  }\n})(this)\n","/*!\n * UL4/UL4ON JavaScript Library\n * http://www.livinglogic.de/Python/ul4c/\n * http://www.livinglogic.de/Python/ul4on/\n *\n * Copyright 2011-2023 by LivingLogic AG, Bayreuth/Germany\n * Copyright 2011-2023 by Walter DÃ¶rwald\n *\n * All Rights Reserved\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/*jslint vars: true */\n\n// Version of this Javascript package\nimport packageInfo from '../package.json';\n\nexport const version = packageInfo.version;\n\n// Version of the UL4 API\n// I.e. this version should be compatible with the Python and Java\n// implementations that support the same API version.\nexport const api_version = \"52\";\n\n\n/// Symbols for interfaces implemented in UL4\n\nexport let symbols = {\n\t// Convert an object to a string via UL4s `str()` function\n\tstr: Symbol.for(\"ul4.str\"),\n\t// Return a unambiguous string representation of the object via UL4s `repr()` function\n\trepr: Symbol.for(\"ul4.repr\"),\n\t// Convert an object to a boolean value via UL4s `bool()` function\n\tbool: Symbol.for(\"ul4.bool\"),\n\t// Implementing this interface makes an object callable in UL4\n\tcall: Symbol.for(\"ul4.call\"),\n\t// Implementing this interface makes an object renderable in UL4\n\trender: Symbol.for(\"ul4.render\"),\n\t// Test whether an object is contained in this object via UL4s `in` operator\n\tcontains: Symbol.for(\"ul4.contains\"),\n\t// Compare two objects for equality via UL4s `==` operator\n\teq: Symbol.for(\"ul4.eq\"),\n\t// Compare two objects for inequality via UL4s `!=` operator\n\tne: Symbol.for(\"ul4.ne\"),\n\t// Compare two objects for \"less then\" via UL4s `<` operator\n\tlt: Symbol.for(\"ul4.lt\"),\n\t// Compare two objects for \"less then or equal\" via UL4s `<=` operator\n\tle: Symbol.for(\"ul4.le\"),\n\t// Compare two objects for \"greater then\" via UL4s `>` operator\n\tgt: Symbol.for(\"ul4.gt\"),\n\t// Compare two objects for \"greater then or equal\" via UL4s `>=` operator\n\tge: Symbol.for(\"ul4.ge\"),\n\t// Negate an object via UL4s unary `-` operator\n\tneg: Symbol.for(\"ul4.neg\"),\n\t// Return the absolute value of an object via UL4s `abs()` function\n\tabs: Symbol.for(\"ul4.abs\"),\n\t// Add two objects via UL4s `+` operator (as a method of the left operand)\n\tadd: Symbol.for(\"ul4.add\"),\n\t// Add two objects via UL4s `+` operator (as a method of the right operand)\n\tradd: Symbol.for(\"ul4.radd\"),\n\t// Subtract two objects via UL4s `-` operator (as a method of the left operand)\n\tsub: Symbol.for(\"ul4.sub\"),\n\t// Subtract two objects via UL4s `-` operator (as a method of the right operand)\n\trsub: Symbol.for(\"ul4.rsub\"),\n\t// Multiply two objects via UL4s `*` operator (as a method of the left operand)\n\tmul: Symbol.for(\"ul4.mul\"),\n\t// Multiply two objects via UL4s `*` operator (as a method of the right operand)\n\trmul: Symbol.for(\"ul4.rmul\"),\n\t// Divide two objects via UL4s `/` operator (as a method of the left operand)\n\ttruediv: Symbol.for(\"ul4.truediv\"),\n\t// Divide two objects via UL4s `/` operator (as a method of the right operand)\n\trtruediv: Symbol.for(\"ul4.rtruediv\"),\n\t// Divide two objects via UL4s `//` operator (as a method of the left operand)\n\tfloordiv: Symbol.for(\"ul4.floordiv\"),\n\t// Divide two objects via UL4s `//` operator (as a method of the right operand)\n\trfloordiv: Symbol.for(\"ul4.rfloordiv\"),\n\t// Get an attribute of an object via UL4\n\tgetattr: Symbol.for(\"ul4.getattr\"),\n\t// Set an attribute of an object via UL4\n\tsetattr: Symbol.for(\"ul4.setattr\"),\n\t// Get an item of a container object via UL4s `[]` operator\n\tgetitem: Symbol.for(\"ul4.getitem\"),\n\t// Set an item of a container object via UL4 UL4s `[] =` operator\n\tsetitem: Symbol.for(\"ul4.setitem\"),\n\t// Return the UL4 type of an object\n\ttype: Symbol.for(\"ul4.type\"),\n};\n\n\n// Adds name and signature to a function/method and makes the method callable by UL4\nexport function expose(f, signature, options)\n{\n\toptions = options || {};\n\tif (options.name)\n\t\tf._ul4_name = options.name;\n\t// This is the `_islist` function, inlined here because of order problems.\n\tif (Object.prototype.toString.call(signature) === \"[object Array]\")\n\t\tsignature = new Signature(...signature);\n\tf._ul4_signature = signature;\n\tf._ul4_needsobject = options.needsobject || false;\n\tf._ul4_needscontext = options.needscontext || false;\n\treturn f;\n};\n\n\n///\n/// Base class for all our classes.\n/// This implements the equality comparison operators.\n///\nexport class Proto\n{\n\tconstructor()\n\t{\n\t}\n\n\t// equality comparison of objects defaults to identity comparison\n\t[symbols.eq](other)\n\t{\n\t\treturn this === other;\n\t}\n\n\t// To overwrite equality comparison, you only have to overwrite `[symbols.eq]`,\n\t// `[symbols.ne]` will be synthesized from that\n\t[symbols.ne](other)\n\t{\n\t\treturn !this[symbols.eq](other);\n\t}\n\n\t// For other comparison operators, each method has to be implemented:\n\t// `<` calls `[symbols.lt]`, `<=` calls `[symbols.le]`, `>` calls `[symbols.gt]` and\n\t// `>=` calls `[symbols.ge]`\n\n\t[symbols.bool]()\n\t{\n\t\treturn true;\n\t}\n\n\t// Default `repr` implementation.\n\t[symbols.repr]()\n\t{\n\t\treturn \"<\" + this.constructor.name + \">\";\n\t}\n\n\ttoString()\n\t{\n\t\treturn this[symbols.repr]();\n\t}\n};\n\n\n///\n/// The signature of a callable (i.e. which arguments it takes, their default, etc.)\n///\nexport class Signature extends Proto\n{\n\tconstructor(...params)\n\t{\n\t\tsuper();\n\t\tthis.paramsByPos = [];\n\t\tthis.paramsByName = {};\n\t\tthis.countpos = 0;\n\t\tthis.countposdef = 0;\n\t\tthis.countposkw = 0;\n\t\tthis.countposkwdef = 0;\n\t\tthis.countkw = 0;\n\t\tthis.countkwdef = 0;\n\t\tthis.varpos = null;\n\t\tthis.varkw = null;\n\n\t\tlet state = 0;\n\t\tlet name = null;\n\t\tlet type = null;\n\t\tfor (let value of params)\n\t\t{\n\t\t\tif (state == 0)\n\t\t\t{\n\t\t\t\tname = value;\n\t\t\t\tstate = 1;\n\t\t\t}\n\t\t\telse if (state == 1)\n\t\t\t{\n\t\t\t\ttype = value;\n\t\t\t\tif (type.endsWith(\"=\"))\n\t\t\t\t\tstate = 2;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.add(name, type, null);\n\t\t\t\t\tstate = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.add(name, type, value);\n\t\t\t\tstate = 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Add a parameter\n\tadd(name, type, defaultValue)\n\t{\n\t\tlet pos = this.paramsByPos.length;\n\t\tif (this.varpos !== null)\n\t\t\t++pos;\n\t\tif (this.varkw !== null)\n\t\t\t++pos;\n\t\tlet param = {name: name, pos: pos, type: type, defaultValue: defaultValue};\n\t\tswitch (type)\n\t\t{\n\t\t\tcase \"p\":\n\t\t\t\tif (this.countposdef > 0 || this.countposkwdef > 0 || this.countkwdef > 0)\n\t\t\t\t\tthrow new ParameterError(\"parameter without default after parameter with default\");\n\t\t\t\telse if (this.countposkw > 0 || this.countposkwdef > 0)\n\t\t\t\t\tthrow new ParameterError(\"positional-only parameter after positional/keyword parameter\");\n\t\t\t\telse if (this.countkw > 0 || this.countkwdef > 0)\n\t\t\t\t\tthrow new ParameterError(\"positional-only parameter after keyword-only parameter\");\n\t\t\t\telse if (this.varpos !== null)\n\t\t\t\t\tthrow new ParameterError(\"positional-only parameter after * parameter\");\n\t\t\t\telse if (this.varkw !== null)\n\t\t\t\t\tthrow new ParameterError(\"positional-only parameter after ** parameter\");\n\t\t\t\tthis.paramsByPos.push(param);\n\t\t\t\tthis.paramsByName[name] = param;\n\t\t\t\t++this.countpos;\n\t\t\t\tbreak;\n\t\t\tcase \"p=\":\n\t\t\t\tif (this.countposkw > 0 || this.countposkwdef > 0)\n\t\t\t\t\tthrow new ParameterError(\"positional-only parameter after positional/keyword parameter\");\n\t\t\t\telse if (this.countkw > 0 || this.countkwdef > 0)\n\t\t\t\t\tthrow new ParameterError(\"positional-only parameter after keyword-only parameter\");\n\t\t\t\telse if (this.varpos !== null)\n\t\t\t\t\tthrow new ParameterError(\"positional-only parameter after * parameter\");\n\t\t\t\telse if (this.varkw !== null)\n\t\t\t\t\tthrow new ParameterError(\"positional-only parameter after ** parameter\");\n\t\t\t\tthis.paramsByPos.push(param);\n\t\t\t\tthis.paramsByName[name] = param;\n\t\t\t\t++this.countposdef;\n\t\t\t\tbreak;\n\t\t\tcase \"pk\":\n\t\t\t\tif (this.countposdef > 0 || this.countposkwdef > 0 || this.countkwdef > 0)\n\t\t\t\t\tthrow new ParameterError(\"parameter without default after parameter with default\");\n\t\t\t\telse if (this.countkw > 0 || this.countkwdef > 0)\n\t\t\t\t\tthrow new ParameterError(\"positional/keyword parameter after keyword-only parameter\");\n\t\t\t\telse if (this.varpos !== null)\n\t\t\t\t\tthrow new ParameterError(\"positional/keyword parameter after * parameter\");\n\t\t\t\telse if (this.varkw !== null)\n\t\t\t\t\tthrow new ParameterError(\"positional/keyword parameter after ** parameter\");\n\t\t\t\tthis.paramsByPos.push(param);\n\t\t\t\tthis.paramsByName[name] = param;\n\t\t\t\t++this.countposkw;\n\t\t\t\tbreak;\n\t\t\tcase \"pk=\":\n\t\t\t\tif (this.countkw > 0 || this.countkwdef > 0)\n\t\t\t\t\tthrow new ParameterError(\"positional/keyword parameter after keyword-only parameter\");\n\t\t\t\telse if (this.varpos !== null)\n\t\t\t\t\tthrow new ParameterError(\"positional/keyword parameter after * parameter\");\n\t\t\t\telse if (this.varkw !== null)\n\t\t\t\t\tthrow new ParameterError(\"positional/keyword parameter after ** parameter\");\n\t\t\t\tthis.paramsByPos.push(param);\n\t\t\t\tthis.paramsByName[name] = param;\n\t\t\t\t++this.countposkwdef;\n\t\t\t\tbreak;\n\t\t\tcase \"k\":\n\t\t\t\tif (this.countposdef > 0 || this.countposkwdef > 0 || this.countkwdef > 0)\n\t\t\t\t\tthrow new ParameterError(\"parameter without default after parameter with default\");\n\t\t\t\telse if (this.varpos !== null)\n\t\t\t\t\tthrow new ParameterError(\"keyword-only parameter after * parameter\");\n\t\t\t\telse if (this.varkw !== null)\n\t\t\t\t\tthrow new ParameterError(\"keyword-only parameter after ** parameter\");\n\t\t\t\tthis.paramsByPos.push(param);\n\t\t\t\tthis.paramsByName[name] = param;\n\t\t\t\t++this.countkw;\n\t\t\t\tbreak;\n\t\t\tcase \"k=\":\n\t\t\t\tif (this.varpos !== null)\n\t\t\t\t\tthrow new ParameterError(\"keyword-only parameter after * parameter\");\n\t\t\t\telse if (this.varkw !== null)\n\t\t\t\t\tthrow new ParameterError(\"keyword-only parameter after ** parameter\");\n\t\t\t\tthis.paramsByPos.push(param);\n\t\t\t\tthis.paramsByName[name] = param;\n\t\t\t\t++this.countkwdef;\n\t\t\t\tbreak;\n\t\t\tcase \"*\":\n\t\t\t\tif (this.varpos !== null)\n\t\t\t\t\tthrow new ParameterError(\"* parameter specified twice!\");\n\t\t\t\telse if (this.varkw !== null)\n\t\t\t\t\tthrow new ParameterError(\"* parameter can come after ** parameter!\");\n\t\t\t\tthis.varpos = param;\n\t\t\t\tbreak;\n\t\t\tcase \"**\":\n\t\t\t\tif (this.varkw !== null)\n\t\t\t\t\tthrow new ParameterError(\"** parameter specified twice!\");\n\t\t\t\tthis.varkw = param;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Create the argument array for calling a function with this signature with the arguments available from `args`\n\tbindArray(name, args, kwargs)\n\t{\n\t\tlet decname = name !== null ? name + \"() \" : \"\";\n\n\t\tlet varpos = this.varpos != null ? [] : null;\n\t\tlet varkw = this.varkw != null ? new Map() : null;\n\n\t\tlet count = this.countpos + this.countposdef + this.countposkw + this.countposkwdef + this.countkw + this.countkwdef;\n\t\tlet finalargs = Array(count).fill(null);\n\t\tlet haveValues = Array(count).fill(false);\n\n\t\t// Handle psotional arguments\n\t\tif (args !== null)\n\t\t{\n\t\t\tlet i = 0;\n\t\t\tfor (let arg of args)\n\t\t\t{\n\t\t\t\tlet param = this.paramsByPos[i];\n\t\t\t\tif (param !== undefined && param.type.indexOf(\"p\") >= 0)\n\t\t\t\t{\n\t\t\t\t\tfinalargs[i] = arg;\n\t\t\t\t\thaveValues[i] = true;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (varpos !== null)\n\t\t\t\t\t\tvarpos.push(arg);\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tlet count_nodef = this.countpos + this.countposkw;\n\t\t\t\t\t\tlet count_def = this.countposdef + this.countposkwdef;\n\t\t\t\t\t\tif (count_def == 0)\n\t\t\t\t\t\t\tthrow new ArgumentError(name + \"() takes exactly \" + count_nodef + \" positional argument\" + (count_nodef != 1 ? \"s\" : \"\") + \", \" + args.length + \" given\");\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthrow new ArgumentError(name + \"() takes at most \" + (count_nodef + count_def) + \" positional argument\" + ((count_nodef + count_def) != 1 ? \"s\" : \"\") + \", \" + args.length + \" given\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t++i;\n\t\t\t}\n\t\t}\n\n\t\t// Handle keyword arguments\n\t\tif (kwargs !== null)\n\t\t{\n\t\t\tfor (let [argname, argvalue] of Object.entries(kwargs))\n\t\t\t{\n\t\t\t\tlet param = this.paramsByName[argname];\n\n\t\t\t\tif (param !== undefined && param.type.indexOf(\"k\") >= 0)\n\t\t\t\t{\n\t\t\t\t\tif (haveValues[param.pos])\n\t\t\t\t\t\tthrow new ArgumentError(\"Duplicate keyword argument \" + _repr(argname) + \" for \" + name + \"()\");\n\t\t\t\t\tfinalargs[param.pos] = argvalue;\n\t\t\t\t\thaveValues[param.pos] = true;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (varkw !== null)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (varkw.has(argname))\n\t\t\t\t\t\t\tthrow new ArgumentError(\"Duplicate keyword argument \" + _repr(argname) + \" for \" + name + \"()\");\n\t\t\t\t\t\tvarkw.set(argname, argvalue);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tthrow new ArgumentError(name + \"() doesn't support an argument named \" + _repr(argname));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Fill in default values and check that every parameter has a value\n\t\tlet i = 0;\n\t\tfor (let param of this.paramsByPos)\n\t\t{\n\t\t\tif (!haveValues[i])\n\t\t\t{\n\t\t\t\tif (param.type.endsWith(\"=\"))\n\t\t\t\t{\n\t\t\t\t\tfinalargs[i] = param.defaultValue;\n\t\t\t\t\thaveValues[i] = true;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tthrow new ArgumentError(\"Required \" + name + \"() argument \" + param.name + \" (position \" + param.pos + \") missing\");\n\t\t\t}\n\t\t\t++i;\n\t\t}\n\n\t\t// Set variable parameters\n\t\tif (varpos !== null)\n\t\t\tfinalargs.push(varpos);\n\t\tif (varkw !== null)\n\t\t\tfinalargs.push(varkw);\n\n\t\treturn finalargs;\n\t}\n\n\t// Create the argument object for calling a function with this signature with the arguments available from `args`\n\tbindObject(name, args, kwargs)\n\t{\n\t\targs = this.bindArray(name, args, kwargs);\n\t\tlet argObject = {};\n\t\tlet i = 0;\n\t\tfor (let param of this.paramsByPos)\n\t\t\targObject[param.name] = args[i++];\n\t\tif (this.varpos !== null)\n\t\t\targObject[this.varpos.name] = args[i++];\n\t\tif (this.varkw !== null)\n\t\t\targObject[this.varkw.name] = args[i++];\n\t\treturn argObject;\n\t}\n\n\t[symbols.repr]()\n\t{\n\t\treturn \"<Signature \" + this.toString() + \">\";\n\t}\n\n\t[symbols.str]()\n\t{\n\t\treturn this.toString();\n\t}\n\n\t_appendParam(buffer, lasttype, param)\n\t{\n\t\tlet sep;\n\t\tif (lasttype === null)\n\t\t\tsep = [\"k\", \"k=\"].includes(param.type) ? \"*, \" : \"\";\n\t\telse if ([\"pk\", \"pk=\"].includes(lasttype))\n\t\t\tsep = [\"k\", \"k=\"].includes(param.type) ? \", *, \" : \", \";\n\t\telse if ([\"p\", \"p=\"].includes(lasttype))\n\t\t{\n\t\t\tif ([\"pk\", \"pk=\"].includes(param.type))\n\t\t\t\tsep = \", /, \";\n\t\t\telse if ([\"k\", \"k=\"].includes(param.type))\n\t\t\t\tsep = \", /, *, \";\n\t\t\telse\n\t\t\t\tsep = \", \";\n\t\t}\n\t\telse\n\t\t\tsep = \", \";\n\t\tlasttype = param.type;\n\t\tbuffer.push(sep);\n\t\tif ([\"*\", \"**\"].includes(param.type))\n\t\t\tbuffer.push(param.type);\n\t\tbuffer.push(param.name);\n\t\tif (param.type.endsWith(\"=\"))\n\t\t{\n\t\t\tbuffer.push(\"=\", _repr(param.defaultValue));\n\t\t}\n\t}\n\n\ttoString()\n\t{\n\t\tlet v = [];\n\t\tlet lasttype = null;\n\t\tfor (let param of this.paramsByPos)\n\t\t{\n\t\t\tthis._appendParam(v, lasttype, param);\n\t\t\tlasttype = param.type;\n\t\t}\n\t\tif (this.varpos !== null)\n\t\t{\n\t\t\tthis._appendParam(v, lasttype, this.varpos);\n\t\t\tlasttype = this.varpos.type;\n\t\t}\n\t\tif (this.varkw !== null)\n\t\t{\n\t\t\tthis._appendParam(v, lasttype, this.varkw);\n\t\t\tlasttype = this.varkw.type;\n\t\t}\n\t\treturn \"(\" + v.join(\"\") + \")\";\n\t}\n};\n\n\n///\n/// Base class for type objects of all types\n/// Must be defined first, as it's used by many classes\n///\nexport class Type\n{\n\tconstructor(module, name, doc)\n\t{\n\t\tthis.module = module;\n\t\tthis.name = name;\n\t\tthis.doc = doc;\n\t\tthis._constructor = constructor;\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"__module__\":\n\t\t\t\treturn this.module;\n\t\t\tcase \"__name__\":\n\t\t\t\treturn this.name;\n\t\t\tcase \"__doc__\":\n\t\t\t\treturn this.doc;\n\t\t\tdefault:\n\t\t\t\tthrow new AttributeError(this, attrname);\n\t\t}\n\t}\n\n\t[symbols.repr]()\n\t{\n\t\treturn this.toString();\n\t}\n\n\ttoString()\n\t{\n\t\treturn \"<type \" + this.fullname() + \">\";\n\t}\n\n\tfullname()\n\t{\n\t\tif (this.module === null)\n\t\t\treturn this.name;\n\t\telse\n\t\t\treturn this.module + \".\" + this.name;\n\t}\n\n\tdir()\n\t{\n\t\treturn this.attrs;\n\t}\n\n\tgetattr(obj, attrname)\n\t{\n\t\tif (obj !== null && typeof(obj) === \"object\" && typeof(obj[symbols.getattr]) === \"function\")\n\t\t\treturn obj[symbols.getattr](attrname);\n\t\telse if (this.attrs.has(attrname))\n\t\t{\n\t\t\tlet attr = this[attrname];\n\t\t\tlet realattr = function realattr(...args) {\n\t\t\t\treturn attr.apply(this, [obj, ...args]);\n\t\t\t};\n\t\t\t// Unfortunately we can't set `realattr.name`;\n\t\t\trealattr._ul4_name = attr._ul4_name || attr.name;\n\t\t\trealattr._ul4_signature = attr._ul4_signature;\n\t\t\trealattr._ul4_needsobject = attr._ul4_needsobject;\n\t\t\trealattr._ul4_needscontext = attr._ul4_needscontext;\n\t\t\treturn realattr;\n\t\t}\n\t\telse\n\t\t\tthrow new AttributeError(obj, attrname);\n\t}\n\n\thasattr(obj, attrname)\n\t{\n\t\tif (obj !== null && typeof(obj) === \"object\" && typeof(obj[symbols.getattr]) === \"function\")\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tobj[symbols.getattr](attrname);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (exc instanceof AttributeError && exc.obj === object)\n\t\t\t\t\treturn false;\n\t\t\t\telse\n\t\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\treturn this.attrs.has(attrname);\n\t}\n};\n\nType.prototype.attrs = new Set();\n\n\n///\n/// UL4ON\n///\n\nconst _registry = {};\n\n// Register the constructor function `f` under the name `name` with the UL4ON machinery\nexport function register(name, f)\n{\n\tf.prototype.ul4onname = name;\n\t_registry[name] = f;\n};\n\n// Return a string that contains the object `obj` in the UL4ON serialization format\nexport function dumps(obj, indent=null)\n{\n\tlet encoder = new Encoder(indent);\n\tlet output = [];\n\tencoder.dump(obj, output);\n\treturn output.join(\"\");\n};\n\n// Load an object from the string `dump`.\n// `dump` must contain the object in the UL4ON serialization format\n// `registry` may be null or a dictionary mapping type names to constructor functions\nexport function loads(dump, registry=null)\n{\n\tlet decoder = new Decoder(registry);\n\treturn decoder.loads(dump);\n};\n\nexport class EncoderType extends Type\n{\n\t[symbols.call](indent=null)\n\t{\n\t\treturn new Encoder(indent);\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn obj instanceof Encoder;\n\t}\n};\n\nexpose(EncoderType.prototype, [\"indent\", \"pk=\", null], {name: \"Encoder\"});\n\nlet encodertype = new EncoderType(\"ul4on\", \"Encoder\", \"An UL4ON encoder\");\n\n// Helper class for encoding\nexport class Encoder\n{\n\t// Create a new Encoder object\n\tconstructor(indent=null)\n\t{\n\t\tthis.indent = indent;\n\t\tthis.output = null;\n\t\tthis._level = 0;\n\t\tthis._strings2index = {};\n\t\tthis._objects2index = new Map();\n\t\tthis._backrefs = 0;\n\t}\n\n\t[symbols.type]()\n\t{\n\t\treturn encodertype;\n\t}\n\n\t_line(line, ...args)\n\t{\n\t\tif (this.indent !== null)\n\t\t{\n\t\t\tfor (let i = 0; i < this._level; ++i)\n\t\t\t\tthis.output.push(this.indent);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (this.output.length)\n\t\t\t\tthis.output.push(\" \");\n\t\t}\n\t\tthis.output.push(line);\n\n\t\tif (args.length)\n\t\t{\n\t\t\tlet oldindent = this.indent;\n\t\t\tthis.indent = null;\n\t\t\tfor (let arg of args)\n\t\t\t\tthis.dump(arg);\n\t\t\tthis.indent = oldindent;\n\t\t}\n\n\t\tif (this.indent !== null)\n\t\t\tthis.output.push(\"\\n\");\n\t}\n\n\tdumps(obj)\n\t{\n\t\tlet output = [];\n\t\tthis.dump(obj, output);\n\t\treturn output.join(\"\");\n\t}\n\n\tdump(obj, output=null)\n\t{\n\t\tif (output !== null)\n\t\t{\n\t\t\tthis._level = 0;\n\t\t\tthis.output = output;\n\t\t}\n\t\tif (obj === null)\n\t\t\tthis._line(\"n\");\n\t\telse if (typeof(obj) === \"boolean\")\n\t\t\tthis._line(obj ? \"bT\" : \"bF\");\n\t\telse if (typeof(obj) === \"number\")\n\t\t{\n\t\t\tlet type = (Math.round(obj) == obj) ? \"i\" : \"f\";\n\t\t\tthis._line(type + obj);\n\t\t}\n\t\telse if (typeof(obj) === \"string\")\n\t\t{\n\t\t\tlet index = this._strings2index[obj];\n\t\t\tif (index !== undefined)\n\t\t\t{\n\t\t\t\tthis._line(\"^\" + index);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis._strings2index[obj] = this._backrefs++;\n\t\t\t\tlet dump = _str_repr(obj).replace(\"<\", \"\\\\x3c\");\n\t\t\t\tthis._line(\"S\" + dump);\n\t\t\t}\n\t\t}\n\t\telse if (_iscolor(obj))\n\t\t\tthis._line(\"c\", obj.r(), obj.g(), obj.b(), obj.a());\n\t\telse if (_isdate(obj))\n\t\t\tthis._line(\"x\", obj.year(), obj.month(), obj.day());\n\t\telse if (_isdatetime(obj))\n\t\t\tthis._line(\"z\", obj.getFullYear(), obj.getMonth()+1, obj.getDate(), obj.getHours(), obj.getMinutes(), obj.getSeconds(), obj.getMilliseconds() * 1000);\n\t\telse if (_istimedelta(obj))\n\t\t\tthis._line(\"t\", obj.days(), obj.seconds(), obj.microseconds());\n\t\telse if (_ismonthdelta(obj))\n\t\t\tthis._line(\"m\", obj.months());\n\t\telse if (obj instanceof slice)\n\t\t\tthis._line(\"r\", obj.start, obj.stop);\n\t\telse if (obj.ul4onname && obj.ul4ondump)\n\t\t{\n\t\t\tlet index = this._objects2index.get(obj);\n\t\t\tif (index !== undefined)\n\t\t\t{\n\t\t\t\tthis._line(\"^\" + index);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis._objects2index.set(obj, this._backrefs++);\n\t\t\tif (obj.ul4onid)\n\t\t\t\tthis._line(\"P\", obj.ul4onname, obj.ul4onid);\n\t\t\telse\n\t\t\t\tthis._line(\"O\", obj.ul4onname);\n\t\t\t++this._level;\n\t\t\tobj.ul4ondump(this);\n\t\t\t--this._level;\n\t\t\tthis._line(\")\");\n\t\t}\n\t\telse if (_islist(obj))\n\t\t{\n\t\t\tthis._line(\"l\");\n\t\t\t++this._level;\n\t\t\tfor (let item of obj)\n\t\t\t\tthis.dump(item);\n\t\t\t--this._level;\n\t\t\tthis._line(\"]\");\n\t\t}\n\t\telse if (_ismap(obj))\n\t\t{\n\t\t\tthis._line(\"e\");\n\t\t\t++this._level;\n\t\t\tfor (let [key, value] of obj)\n\t\t\t{\n\t\t\t\tthis.dump(key);\n\t\t\t\tthis.dump(value);\n\t\t\t}\n\t\t\t--this._level;\n\t\t\tthis._line(\"}\");\n\t\t}\n\t\telse if (_isdict(obj))\n\t\t{\n\t\t\tthis._line(\"d\");\n\t\t\t++this._level;\n\t\t\tfor (let key in obj)\n\t\t\t{\n\t\t\t\tthis.dump(key);\n\t\t\t\tthis.dump(obj[key]);\n\t\t\t}\n\t\t\t--this._level;\n\t\t\tthis._line(\"}\");\n\t\t}\n\t\telse if (_isset(obj))\n\t\t{\n\t\t\tthis._line(\"y\");\n\t\t\t++this._level;\n\t\t\tfor (let value of obj)\n\t\t\t\tthis.dump(value);\n\t\t\t--this._level;\n\t\t\tthis._line(\"}\");\n\t\t}\n\t\telse\n\t\t\tthrow new ValueError(\"can't create UL4ON dump of object \" + _repr(obj));\n\t\tif (output !== null)\n\t\t{\n\t\t\tthis.output = null;\n\t\t}\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tlet self = this;\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"dumps\":\n\t\t\t\tlet dumps = this.dumps.bind(this);\n\t\t\t\texpose(dumps, [\"obj\", \"pk\"]);\n\t\t\t\treturn dumps;\n\t\t\tdefault:\n\t\t\t\tthrow new ul4.AttributeError(this, attrname);\n\t\t}\n\t}\n};\n\nexport class DecoderType extends Type\n{\n\t[symbols.call]()\n\t{\n\t\treturn new Decoder();\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn obj instanceof Decoder;\n\t}\n};\n\nexpose(DecoderType.prototype, [], {name: \"Decoder\"});\n\nlet decodertype = new DecoderType(\"ul4on\", \"Decoder\", \"An UL4ON decoder\");\n\n// Helper class for decoding\nexport class Decoder\n{\n\t// Creates a new decoder for reading an UL4ON dump\n\tconstructor(registry)\n\t{\n\t\tthis.input = null;\n\t\tthis.pos = 0;\n\t\tthis.backrefs = [];\n\t\tthis.registry = registry === undefined ? null : registry;\n\t\tthis.persistent_objects = {};\n\t\tthis.stack = null; // Use for informative error messages\n\t}\n\n\t[symbols.type]()\n\t{\n\t\treturn decodertype;\n\t}\n\n\t// Read a character from the buffer\n\treadchar()\n\t{\n\t\tif (this.pos >= this.input.length)\n\t\t\tthrow new ValueError(\"UL4 decoder at EOF\");\n\t\treturn this.input.charAt(this.pos++);\n\t}\n\n\t// Read a character from the buffer (return null on eof)\n\treadcharoreof()\n\t{\n\t\tif (this.pos >= this.input.length)\n\t\t\treturn null;\n\t\treturn this.input.charAt(this.pos++);\n\t}\n\n\t// Read next not-whitespace character from the buffer\n\treadblackchar()\n\t{\n\t\tlet re_white = /\\s/;\n\n\t\tfor (;;)\n\t\t{\n\t\t\tif (this.pos >= this.input.length)\n\t\t\t\tthrow new ValueError(\"UL4 decoder at EOF at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\tlet c = this.input.charAt(this.pos++);\n\t\t\tif (!c.match(re_white))\n\t\t\t\treturn c;\n\t\t}\n\t}\n\n\t// Read `size` characters from the buffer\n\tread(size)\n\t{\n\t\tif (this.pos+size > this.input.length)\n\t\t\tsize = this.input.length-this.pos;\n\t\tlet result = this.input.substring(this.pos, this.pos+size);\n\t\tthis.pos += size;\n\t\treturn result;\n\t}\n\n\t// \"unread\" one character\n\tbackup()\n\t{\n\t\t--this.pos;\n\t}\n\n\t// Read a number from the buffer\n\treadnumber()\n\t{\n\t\tlet re_digits = /[-+0123456789.eE]/, value = \"\";\n\t\tfor (;;)\n\t\t{\n\t\t\tlet c = this.readcharoreof();\n\t\t\tif (c !== null && c.match(re_digits))\n\t\t\t\tvalue += c;\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet result = parseFloat(value);\n\t\t\t\tif (isNaN(result))\n\t\t\t\t\tthrow new ValueError(\"invalid number, got \" + _repr(\"value\") + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t}\n\n\t_beginfakeloading()\n\t{\n\t\tlet oldpos = this.backrefs.length;\n\t\tthis.backrefs.push(null);\n\t\treturn oldpos;\n\t}\n\n\t_endfakeloading(oldpos, value)\n\t{\n\t\tthis.backrefs[oldpos] = value;\n\t}\n\n\t_readescape(escapechar, length)\n\t{\n\t\tlet chars = this.read(length);\n\t\tif (chars.length != length)\n\t\t\tthrow new ValueError(\"broken escape \" + _repr(\"\\\\\" + escapechar + chars) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\tlet codepoint = parseInt(chars, 16);\n\t\tif (isNaN(codepoint))\n\t\t\tthrow new ValueError(\"broken escape \" + _repr(\"\\\\\" + escapechar + chars) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\treturn String.fromCharCode(codepoint);\n\t}\n\n\treset()\n\t{\n\t\tthis.pos = 0;\n\t\tthis.stack = [];\n\t\tthis.backrefs = []\n\t}\n\n\tloads(dump)\n\t{\n\t\treturn this.load(dump);\n\t}\n\n\t// Load the next object from the buffer\n\tload(input=null)\n\t{\n\t\tif (input !== null)\n\t\t{\n\t\t\tthis.input = input;\n\t\t\tthis.pos = 0;\n\t\t\tthis.stack = [];\n\t\t}\n\t\tlet typecode = this.readblackchar();\n\t\tlet result;\n\t\tswitch (typecode)\n\t\t{\n\t\t\tcase \"^\":\n\t\t\t\treturn this.backrefs[this.readnumber()];\n\t\t\tcase \"n\":\n\t\t\tcase \"N\":\n\t\t\t\tif (typecode === \"N\")\n\t\t\t\t\tthis.backrefs.push(null);\n\t\t\t\tresult = null;\n\t\t\t\tbreak;\n\t\t\tcase \"b\":\n\t\t\tcase \"B\":\n\t\t\t\tresult = this.readchar();\n\t\t\t\tif (result === \"T\")\n\t\t\t\t\tresult = true;\n\t\t\t\telse if (result === \"F\")\n\t\t\t\t\tresult = false;\n\t\t\t\telse\n\t\t\t\t\tthrow new ValueError(\"wrong value for boolean, expected 'T' or 'F', got \" + _repr(result) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\tif (typecode === \"B\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tbreak;\n\t\t\tcase \"i\":\n\t\t\tcase \"I\":\n\t\t\tcase \"f\":\n\t\t\tcase \"F\":\n\t\t\t\tresult = this.readnumber();\n\t\t\t\tif (typecode === \"I\" || typecode === \"F\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tbreak;\n\t\t\tcase \"s\":\n\t\t\tcase \"S\":\n\t\t\t\tresult = [];\n\t\t\t\tlet delimiter = this.readblackchar();\n\t\t\t\tfor (;;)\n\t\t\t\t{\n\t\t\t\t\tlet c = this.readchar();\n\t\t\t\t\tif (c == delimiter)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tif (c == \"\\\\\")\n\t\t\t\t\t{\n\t\t\t\t\t\tlet c2 = this.readchar();\n\t\t\t\t\t\tif (c2 == \"\\\\\")\n\t\t\t\t\t\t\tresult.push(\"\\\\\");\n\t\t\t\t\t\telse if (c2 == \"n\")\n\t\t\t\t\t\t\tresult.push(\"\\n\");\n\t\t\t\t\t\telse if (c2 == \"r\")\n\t\t\t\t\t\t\tresult.push(\"\\r\");\n\t\t\t\t\t\telse if (c2 == \"t\")\n\t\t\t\t\t\t\tresult.push(\"\\t\");\n\t\t\t\t\t\telse if (c2 == \"f\")\n\t\t\t\t\t\t\tresult.push(\"\\u000c\");\n\t\t\t\t\t\telse if (c2 == \"b\")\n\t\t\t\t\t\t\tresult.push(\"\\u0008\");\n\t\t\t\t\t\telse if (c2 == \"a\")\n\t\t\t\t\t\t\tresult.push(\"\\u0007\");\n\t\t\t\t\t\telse if (c2 == \"'\")\n\t\t\t\t\t\t\tresult.push(\"'\");\n\t\t\t\t\t\telse if (c2 == '\"')\n\t\t\t\t\t\t\tresult.push('\"');\n\t\t\t\t\t\telse if (c2 == \"x\")\n\t\t\t\t\t\t\tresult.push(this._readescape(\"x\", 2));\n\t\t\t\t\t\telse if (c2 == \"u\")\n\t\t\t\t\t\t\tresult.push(this._readescape(\"u\", 4));\n\t\t\t\t\t\telse if (c2 == \"U\")\n\t\t\t\t\t\t\tresult.push(this._readescape(\"U\", 8));\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tresult.push(\"\\\\\" + c2);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tresult.push(c);\n\t\t\t\t}\n\t\t\t\tresult = result.join(\"\");\n\t\t\t\tif (typecode === \"S\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tbreak;\n\t\t\tcase \"c\":\n\t\t\tcase \"C\":\n\t\t\t\tresult = new Color();\n\t\t\t\tif (typecode === \"C\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tresult._r = this.load();\n\t\t\t\tresult._g = this.load();\n\t\t\t\tresult._b = this.load();\n\t\t\t\tresult._a = this.load();\n\t\t\t\tbreak;\n\t\t\tcase \"x\":\n\t\t\tcase \"X\":\n\t\t\t{\n\t\t\t\tlet year = this.load();\n\t\t\t\tlet month = this.load();\n\t\t\t\tlet day = this.load();\n\t\t\t\tresult = new Date_(year, month, day);\n\t\t\t\tif (typecode === \"X\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"z\":\n\t\t\tcase \"Z\":\n\t\t\t\tresult = new Date();\n\t\t\t\tresult.setFullYear(this.load());\n\t\t\t\tresult.setDate(1);\n\t\t\t\tresult.setMonth(this.load() - 1);\n\t\t\t\tresult.setDate(this.load());\n\t\t\t\tresult.setHours(this.load());\n\t\t\t\tresult.setMinutes(this.load());\n\t\t\t\tresult.setSeconds(this.load());\n\t\t\t\tresult.setMilliseconds(this.load()/1000);\n\t\t\t\tif (typecode === \"Z\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tbreak;\n\t\t\tcase \"t\":\n\t\t\tcase \"T\":\n\t\t\t\tresult = new TimeDelta();\n\t\t\t\tresult._days = this.load();\n\t\t\t\tresult._seconds = this.load();\n\t\t\t\tresult._microseconds = this.load();\n\t\t\t\tif (typecode === \"T\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tbreak;\n\t\t\tcase \"r\":\n\t\t\tcase \"R\":\n\t\t\t\tresult = new slice();\n\t\t\t\tif (typecode === \"R\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tresult.start = this.load();\n\t\t\t\tresult.stop = this.load();\n\t\t\t\tbreak;\n\t\t\tcase \"m\":\n\t\t\tcase \"M\":\n\t\t\t\tresult = new MonthDelta();\n\t\t\t\tif (typecode === \"M\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tresult._months = this.load();\n\t\t\t\tbreak;\n\t\t\tcase \"l\":\n\t\t\tcase \"L\":\n\t\t\t\tthis.stack.push(\"list\");\n\t\t\t\tresult = [];\n\t\t\t\tif (typecode === \"L\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tfor (;;)\n\t\t\t\t{\n\t\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\t\tif (typecode === \"]\")\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tthis.backup();\n\t\t\t\t\tresult.push(this.load());\n\t\t\t\t}\n\t\t\t\tthis.stack.pop();\n\t\t\t\tbreak;\n\t\t\tcase \"d\":\n\t\t\tcase \"D\":\n\t\t\tcase \"e\":\n\t\t\tcase \"E\":\n\t\t\t\tresult = new Map();\n\t\t\t\tthis.stack.push(typecode === \"d\" || typecode === \"D\" ? \"dict\" : \"odict\");\n\t\t\t\tif (typecode === \"D\" || typecode === \"E\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tfor (;;)\n\t\t\t\t{\n\t\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\t\tif (typecode === \"}\")\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tthis.backup();\n\t\t\t\t\tlet key = this.load();\n\t\t\t\t\tlet value = this.load();\n\t\t\t\t\tresult.set(key, value);\n\t\t\t\t}\n\t\t\t\tthis.stack.pop();\n\t\t\t\tbreak;\n\t\t\tcase \"y\":\n\t\t\tcase \"Y\":\n\t\t\t\tthis.stack.push(\"set\");\n\t\t\t\tresult = new Set();\n\t\t\t\tif (typecode === \"Y\")\n\t\t\t\t\tthis.backrefs.push(result);\n\t\t\t\tfor (;;)\n\t\t\t\t{\n\t\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\t\tif (typecode === \"}\")\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tthis.backup();\n\t\t\t\t\tresult.add(this.load());\n\t\t\t\t}\n\t\t\t\tthis.stack.pop();\n\t\t\t\tbreak;\n\t\t\tcase \"o\":\n\t\t\tcase \"O\":\n\t\t\t{\n\t\t\t\tlet oldpos;\n\t\t\t\tif (typecode === \"O\")\n\t\t\t\t\toldpos = this._beginfakeloading();\n\t\t\t\tlet name = this.load();\n\t\t\t\tthis.stack.push(name);\n\t\t\t\tlet constructor;\n\t\t\t\tif (this.registry !== null)\n\t\t\t\t{\n\t\t\t\t\tconstructor = this.registry[name];\n\t\t\t\t\tif (constructor === undefined)\n\t\t\t\t\t\tconstructor = _registry[name];\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tconstructor = _registry[name];\n\t\t\t\tif (constructor === undefined)\n\t\t\t\t\tthrow new ValueError(\"can't load object of type \" + _repr(name) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\tresult = new constructor();\n\t\t\t\tif (typecode === \"O\")\n\t\t\t\t\tthis._endfakeloading(oldpos, result);\n\t\t\t\tresult.ul4onload(this);\n\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\tif (typecode !== \")\")\n\t\t\t\t\tthrow new ValueError(\"object terminator ')' for object of type '\" + name + \"' expected, got \" + _repr(typecode) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\tthis.stack.pop();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase \"p\":\n\t\t\tcase \"P\":\n\t\t\t{\n\t\t\t\tlet oldpos;\n\t\t\t\tif (typecode === \"P\")\n\t\t\t\t\toldpos = this._beginfakeloading();\n\t\t\t\tlet name = this.load();\n\t\t\t\tlet id = this.load();\n\t\t\t\tthis.stack.push(name);\n\t\t\t\tlet key = name + \"=\" + id;\n\t\t\t\tresult = this.persistent_objects[key];\n\t\t\t\tif (result === undefined)\n\t\t\t\t{\n\t\t\t\t\tlet constructor;\n\t\t\t\t\tif (this.registry !== null)\n\t\t\t\t\t{\n\t\t\t\t\t\tconstructor = this.registry[name];\n\t\t\t\t\t\tif (constructor === undefined)\n\t\t\t\t\t\t\tconstructor = _registry[name];\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tconstructor = _registry[name];\n\t\t\t\t\tif (constructor === undefined)\n\t\t\t\t\t\tthrow new ValueError(\"can't load object of type \" + _repr(name) + \" with id \" + _repr(id) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\t\tresult = new constructor(id);\n\t\t\t\t\tthis.persistent_objects[key] = result;\n\t\t\t\t}\n\t\t\t\tif (typecode === \"P\")\n\t\t\t\t\tthis._endfakeloading(oldpos, result);\n\t\t\t\tresult.ul4onload(this);\n\t\t\t\ttypecode = this.readblackchar();\n\t\t\t\tif (typecode !== \")\")\n\t\t\t\t\tthrow new ValueError(\"object terminator ')' for object of type \" + _repr(name) + \" with id \" + _repr(id) + \" expected, got \" + _repr(typecode) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t\t\tthis.stack.pop();\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tthrow new ValueError(\"unknown typecode \" + _repr(typecode) + \" at position \" + this.pos + \" with path \" + this.stack.join(\"/\"));\n\t\t}\n\t\tif (input !== null)\n\t\t{\n\t\t\tthis.input = null;\n\t\t\tthis.pos = 0;\n\t\t\tthis.stack = null;\n\t\t}\n\t\treturn result;\n\t}\n\n\t// Return an iterator for loading the content of a object\n\tloadcontent()\n\t{\n\t\tlet self = this;\n\t\treturn {\n\t\t\tnext: function()\n\t\t\t{\n\t\t\t\tlet typecode = self.readblackchar();\n\t\t\t\t// Always \"unread\" the typecode even at the end\n\t\t\t\t// so that at the end of a call to ul4onload()\n\t\t\t\t// the next input is the \"end of object\" marker\n\t\t\t\t// no matter whether ul4onload() uses loadcontent() or not.\n\t\t\t\tself.backup();\n\t\t\t\tif (typecode == \")\")\n\t\t\t\t\treturn {done: true};\n\t\t\t\telse\n\t\t\t\t\treturn {done: false, value: self.load()};\n\t\t\t}\n\t\t};\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"loads\":\n\t\t\t\tlet loads = this.loads.bind(this);\n\t\t\t\texpose(loads, [\"dump\", \"p\"]);\n\t\t\t\treturn loads;\n\t\t\tdefault:\n\t\t\t\tthrow new ul4.AttributeError(this, attrname);\n\t\t}\n\t}\n};\n\n\n///\n/// UL4\n///\n\n// REs for parsing JSON\nconst _rvalidchars = /^[\\],:{}\\s]*$/;\nconst _rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\nconst _rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\nconst _rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g;\n\n/// Helper functions\n\n// Convert a map to an object\nexport function _map2object(obj)\n{\n\tif (_ismap(obj))\n\t{\n\t\tlet newobj = {};\n\t\tfor (let [key, value] of obj)\n\t\t{\n\t\t\tif (typeof(key) !== \"string\")\n\t\t\t\tthrow new TypeError(\"keys must be strings\");\n\t\t\tnewobj[key] = value;\n\t\t}\n\t\treturn newobj;\n\t}\n\treturn obj;\n};\n\n// Clip a number to the range [0;max]\nexport function _bound(value, upper)\n{\n\tif (value < 0)\n\t\treturn 0;\n\telse if (value > upper)\n\t\treturn upper;\n\telse\n\t\treturn value;\n};\n\n// Create a pretty stacktrace from an exception\nexport function _stacktrace(exc)\n{\n\tlet output = (exc instanceof Exception ? exc.constructor.name + \": \" : \"\") + exc.toString();\n\tif (exc.context)\n\t\toutput = _stacktrace(exc.context) + \"\\n\\n\" + output;\n\treturn output;\n};\n\n// Call a function `f` with UL4 argument handling\nexport function _internal_call(context, f, name, functioncontext, signature, needscontext, needsobject, args, kwargs)\n{\n\tlet finalargs;\n\tif (needsobject)\n\t{\n\t\tif (signature === null)\n\t\t{\n\t\t\tif (args.length)\n\t\t\t\tthrow new ArgumentError(_repr(f) + \" doesn't support positional arguments!\");\n\t\t\tfinalargs = [kwargs];\n\t\t}\n\t\telse\n\t\t\tfinalargs = [signature.bindObject(name, args, kwargs)];\n\t}\n\telse\n\t{\n\t\tif (signature === null)\n\t\t\tthrow new ArgumentError(_repr(f) + \" doesn't support positional arguments!\");\n\t\tfinalargs = signature.bindArray(name, args, kwargs);\n\t}\n\tif (needscontext)\n\t\tfinalargs.unshift(context);\n\treturn f.apply(functioncontext, finalargs);\n};\n\nexport function _function_is_callable(f)\n{\n\tif (!f || f._ul4_signature === undefined || f._ul4_needsobject === undefined || f._ul4_needscontext === undefined)\n\t\treturn false;\n\telse\n\t\treturn true;\n}\n\nexport function _object_is_callable(obj)\n{\n\tif (!_function_is_callable(obj) || typeof(obj[symbols.call]) !== \"function\")\n\t\treturn false;\n\telse\n\t\treturn true;\n}\n\nexport function _object_is_renderable(obj)\n{\n\tif (!_function_is_callable(obj) || typeof(obj[symbols.render]) !== \"function\")\n\t\treturn false;\n\telse\n\t\treturn true;\n}\n\nexport function _callfunction(context, f, args, kwargs)\n{\n\tif (!_function_is_callable(f))\n\t\tthrow new TypeError(_repr(f) + \" is not callable by UL4\");\n\tlet name = f._ul4_name || f.name;\n\treturn _internal_call(context, f, name, null, f._ul4_signature, f._ul4_needscontext, f._ul4_needsobject, args, kwargs);\n};\n\nexport function _callobject(context, obj, args, kwargs)\n{\n\tif (!_object_is_callable(obj))\n\t\tthrow new TypeError(_repr(obj) + \" is not callable by UL4\");\n\treturn _internal_call(context, obj[symbols.call], obj.name, obj, obj._ul4_signature, obj._ul4_needscontext, obj._ul4_needsobject, args, kwargs);\n};\n\nexport function _callrender(context, obj, args, kwargs)\n{\n\tif (!_object_is_renderable(obj))\n\t\tthrow new TypeError(_repr(obj) + \" is not renderable by UL4\");\n\treturn _internal_call(context, obj[symbols.render], obj.name, obj, obj._ul4_signature, obj._ul4_needscontext, obj._ul4_needsobject, args, kwargs);\n};\n\nexport function _call(context, f, args, kwargs)\n{\n\tif (typeof(f) === \"function\")\n\t\treturn _callfunction(context, f, args, kwargs);\n\telse if (f && typeof(f[symbols.call]) === \"function\")\n\t\treturn _callobject(context, f, args, kwargs);\n\telse\n\t\tthrow new TypeError(_type(f).fullname() + \" is not callable\");\n};\n\nexport function _unpackvar(lvalue, value)\n{\n\tif (!_islist(lvalue))\n\t\treturn [[lvalue, value]];\n\telse\n\t{\n\t\tlet newvalue = [];\n\t\tlet iter = _iter(value);\n\n\t\tfor (let i = 0;;++i)\n\t\t{\n\t\t\tlet item = iter.next();\n\n\t\t\tif (item.done)\n\t\t\t{\n\t\t\t\tif (i === lvalue.length)\n\t\t\t\t\tbreak;\n\t\t\t\telse\n\t\t\t\t\tthrow new ValueError(\"need \" + lvalue.length + \" value\" + (lvalue.length === 1 ? \"\" : \"s\") + \" to unpack, got \" + i);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (i < lvalue.length)\n\t\t\t\t\tnewvalue = newvalue.concat(_unpackvar(lvalue[i], item.value));\n\t\t\t\telse\n\t\t\t\t\tthrow new ValueError(\"too many values to unpack (expected \" + lvalue.length + \")\");\n\t\t\t}\n\t\t}\n\t\treturn newvalue;\n\t}\n};\n\nexport function _formatsource(out)\n{\n\tlet finalout = [];\n\tlet level = 0, needlf = false;\n\tfor (let part of out)\n\t{\n\t\tif (typeof(part) === \"number\")\n\t\t{\n\t\t\tlevel += part;\n\t\t\tneedlf = true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (needlf)\n\t\t\t{\n\t\t\t\tfinalout.push(\"\\n\");\n\t\t\t\tfor (let j = 0; j < level; ++j)\n\t\t\t\t\tfinalout.push(\"\\t\");\n\t\t\t\tneedlf = false;\n\t\t\t}\n\t\t\tfinalout.push(part);\n\t\t}\n\t}\n\tif (needlf)\n\t\tfinalout.push(\"\\n\");\n\treturn finalout.join(\"\");\n};\n\n// Return a prefix of a location in source code\nfunction _sourceprefix(source, pos)\n{\n\tlet outerstartpos = pos;\n\tlet innerstartpos = outerstartpos;\n\n\tlet maxprefix = 40;\n\tlet preprefix = \"\\u2026\";\n\twhile (maxprefix > 0)\n\t{\n\t\t// We arrived at the start of the source code\n\t\tif (outerstartpos === 0)\n\t\t{\n\t\t\tpreprefix = \"\";\n\t\t\tbreak;\n\t\t}\n\t\t// We arrived at the start of the line\n\t\tif (source.charAt(outerstartpos-1) === \"\\n\")\n\t\t{\n\t\t\tpreprefix = \"\";\n\t\t\tbreak;\n\t\t}\n\t\t--maxprefix;\n\t\t--outerstartpos;\n\t}\n\treturn preprefix + source.substring(outerstartpos, innerstartpos);\n}\n\n// Return a suffix of a location in source code\nfunction _sourcesuffix(source, pos)\n{\n\tlet outerstoppos = pos;\n\tlet innerstoppos = outerstoppos;\n\n\tlet maxsuffix = 40;\n\tlet postsuffix = \"\\u2026\";\n\twhile (maxsuffix > 0)\n\t{\n\t\t// We arrived at the ed of the source code\n\t\tif (outerstoppos >= source.length)\n\t\t{\n\t\t\tpostsuffix = \"\";\n\t\t\tbreak;\n\t\t}\n\t\t// We arrived at the end of the line\n\t\tif (source.charAt(outerstoppos) === \"\\n\")\n\t\t{\n\t\t\tpostsuffix = \"\";\n\t\t\tbreak;\n\t\t}\n\t\t--maxsuffix;\n\t\t++outerstoppos;\n\t}\n\treturn source.substring(innerstoppos, outerstoppos) + postsuffix;\n}\n\n// Return line and column number of a location in source code\nfunction _lineColFromPos(source, pos)\n{\n\tlet line = 1\n\tlet col = 1;\n\tlet stop = pos;\n\tfor (let i = 0; i < stop; ++i)\n\t{\n\t\tif (source[i] === \"\\n\")\n\t\t{\n\t\t\t++line;\n\t\t\tcol = 1;\n\t\t}\n\t\telse\n\t\t\t++col;\n\t}\n\treturn [line, col];\n}\n\n// Compare `obj1` and `obj2` if they have the same value\nexport function _eq(obj1, obj2)\n{\n\tlet numbertypes = [\"boolean\", \"number\"];\n\n\tif (obj1 && typeof(obj1[symbols.eq]) === \"function\")\n\t\treturn obj1[symbols.eq](obj2);\n\telse if (obj2 && typeof(obj2[symbols.eq]) === \"function\")\n\t\treturn obj2[symbols.eq](obj1);\n\telse if (obj1 === null)\n\t\treturn obj2 === null;\n\telse if (numbertypes.indexOf(typeof(obj1)) != -1)\n\t{\n\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\treturn obj1 == obj2;\n\t\telse\n\t\t\treturn false;\n\t}\n\telse if (typeof(obj1) === \"string\")\n\t{\n\t\tif (typeof(obj2) === \"string\")\n\t\t\treturn obj1 == obj2;\n\t\telse\n\t\t\treturn false;\n\t}\n\telse if (_isdatetime(obj1))\n\t{\n\t\tif (_isdatetime(obj2))\n\t\t\treturn obj1.getTime() == obj2.getTime();\n\t\telse\n\t\t\treturn false;\n\t}\n\telse if (_islist(obj1))\n\t{\n\t\tif (_islist(obj2))\n\t\t{\n\t\t\t// Shortcut, if it's the same object\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn true;\n\t\t\tif (obj1.length != obj2.length)\n\t\t\t\treturn false;\n\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t{\n\t\t\t\tif (!_eq(obj1[i], obj2[i])) // This might lead to infinite recursion and a stackoverflow, but it does in all implementations\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n\telse if (_isobject(obj1))\n\t{\n\t\tif (_isobject(obj2))\n\t\t{\n\t\t\t// Shortcut, if it's the same object\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn true;\n\t\t\t// Test that each attribute of `obj1` can also be found in `obj2` and has the same value\n\t\t\tfor (let key in obj1)\n\t\t\t{\n\t\t\t\tif (obj2.hasOwnProperty(key))\n\t\t\t\t{\n\t\t\t\t\tif (!_eq(obj1[key], obj2[key]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// Test that each attribute of `obj2` is also in `obj1` (the value has been tested before)\n\t\t\tfor (let key in obj2)\n\t\t\t{\n\t\t\t\tif (!obj1.hasOwnProperty(key))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\telse if (_ismap(obj2))\n\t\t{\n\t\t\t// Test that each attribute of `obj1` can also be found in `obj2` and has the same value\n\t\t\tfor (let key in obj1)\n\t\t\t{\n\t\t\t\tif (obj2.has(key))\n\t\t\t\t{\n\t\t\t\t\tif (!_eq(obj1[key], obj2.get(key)))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// Test that each attribute of `obj2` is also in `obj1` (the value has been tested before)\n\t\t\tfor (let [ket, value] of obj2)\n\t\t\t{\n\t\t\t\tif (!obj1.hasOwnProperty(key))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n\telse if (_ismap(obj1))\n\t{\n\t\tif (_isobject(obj2))\n\t\t{\n\t\t\t// Test that each attribute of `obj1` can also be found in `obj2` and has the same value\n\t\t\tfor (let [key, value] of obj1)\n\t\t\t{\n\t\t\t\tif (!obj2.hasOwnProperty(key))\n\t\t\t\t\treturn false;\n\t\t\t\telse if (!_eq(obj1.get(key), obj2[key]))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// Test that each attribute of `obj2` is also in `obj1` (the value has been tested before)\n\t\t\tfor (let key in obj2)\n\t\t\t{\n\t\t\t\tif (!obj1.has(key))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\telse if (_ismap(obj2))\n\t\t{\n\t\t\t// Shortcut, if it's the same object\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn true;\n\t\t\tif (obj1.size != obj2.size)\n\t\t\t\treturn false;\n\t\t\tlet result = true;\n\t\t\t// Test that each attribute of `obj1` can also be found in `obj2` and has the same value\n\t\t\tfor (let [key, value] of obj1)\n\t\t\t{\n\t\t\t\tif (!obj2.has(key))\n\t\t\t\t\tresult = false;\n\t\t\t\telse if (!_eq(obj1.get(key), obj2.get(key)))\n\t\t\t\t\tresult = false;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n\telse if (_isset(obj1))\n\t{\n\t\tif (_isset(obj2))\n\t\t{\n\t\t\t// Shortcut, if it's the same object\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn true;\n\t\t\tif (obj1.size != obj2.size)\n\t\t\t\treturn false;\n\t\t\tlet result = true;\n\t\t\tfor (let value of obj1)\n\t\t\t{\n\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\tresult = false;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n\telse\n\t\treturn obj1 === obj2;\n};\n\n// Compare `obj1` and `obj2` if they don't have the same value\nexport function _ne(obj1, obj2)\n{\n\tif (obj1 && typeof(obj1[symbols.ne]) === \"function\")\n\t\treturn obj1[symbols.ne](obj2);\n\telse if (obj2 && typeof(obj2[symbols.ne]) === \"function\")\n\t\treturn obj2[symbols.ne](obj1);\n\telse\n\t\treturn !_eq(obj1, obj2);\n};\n\nexport function _unorderable(operator, obj1, obj2)\n{\n\tthrow new TypeError(\"unorderable types: \" + _type(obj1).fullname() + \" \" + operator + \" \" + _type(obj2).fullname());\n};\n\n// Return:\n// -1 when `obj1 < obj2`,\n//  0 when `obj1 == obj2`,\n//  1 when `obj1 > obj2`,\n//  null when `obj1` and `obj2` are comparable, but neither of the previous cases holds (only for sets)\n// raise TypeError if objects are uncomparable\n// This the purpose of `_cmp` is to support implementation of <, <=, > and >=\n// and dicts/maps are not comparable with the operator `_cmp` does not support dicts/maps\n\nexport function _cmp(operator, obj1, obj2)\n{\n\tlet numbertypes = [\"boolean\", \"number\"];\n\n\tif (numbertypes.indexOf(typeof(obj1)) != -1)\n\t{\n\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\treturn (obj1 > obj2) - (obj1 < obj2);\n\t}\n\telse if (typeof(obj1) === \"string\")\n\t{\n\t\tif (typeof(obj2) === \"string\")\n\t\t\treturn (obj1 > obj2) - (obj1 < obj2);\n\t}\n\telse if (_isdatetime(obj1))\n\t{\n\t\tif (_isdatetime(obj2))\n\t\t{\n\t\t\tlet v1 = obj1.getTime(), v2 = obj2.getTime();\n\t\t\treturn (v1 > v2) - (v1 < v2);\n\t\t}\n\t}\n\telse if (_islist(obj1))\n\t{\n\t\tif (_islist(obj2))\n\t\t{\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn 0;\n\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t{\n\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\treturn 1;\n\t\t\t\tlet res = _cmp(operator, obj1[i], obj2[i]);\n\t\t\t\tif (res)\n\t\t\t\t\treturn res;\n\t\t\t}\n\t\t\treturn obj2.length > obj1.length ? -1 : 0;\n\t\t}\n\t}\n\telse if (_isset(obj1))\n\t{\n\t\tif (_isset(obj2))\n\t\t{\n\t\t\tlet in1only = false;\n\t\t\tlet in2only = false;\n\n\t\t\tfor (let iter = _iter(obj1);;)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tif (!obj2.has(item.value))\n\t\t\t\t{\n\t\t\t\t\tin1only = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (let iter = _iter(obj2);;)\n\t\t\t{\n\t\t\t\tlet item = iter.next();\n\t\t\t\tif (item.done)\n\t\t\t\t\tbreak;\n\t\t\t\tif (!obj1.has(item.value))\n\t\t\t\t{\n\t\t\t\t\tin2only = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (in1only)\n\t\t\t{\n\t\t\t\tif (in2only)\n\t\t\t\t\treturn null;\n\t\t\t\telse\n\t\t\t\t\treturn 1;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (in2only)\n\t\t\t\t\treturn -1;\n\t\t\t\telse\n\t\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t}\n\treturn _unorderable(operator, obj1, obj2);\n};\n\n// Return whether `obj1 < obj2`\nexport function _lt(obj1, obj2)\n{\n\tlet numbertypes = [\"boolean\", \"number\"];\n\n\tif (obj1 && typeof(obj1[symbols.lt]) === \"function\")\n\t\treturn obj1[symbols.lt](obj2);\n\telse if (numbertypes.indexOf(typeof(obj1)) != -1)\n\t{\n\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\treturn obj1 < obj2;\n\t}\n\telse if (typeof(obj1) === \"string\")\n\t{\n\t\tif (typeof(obj2) === \"string\")\n\t\t\treturn obj1 < obj2;\n\t}\n\telse if (_isdatetime(obj1))\n\t{\n\t\tif (_isdatetime(obj2))\n\t\t\treturn obj1.getTime() < obj2.getTime();\n\t}\n\telse if (_islist(obj1))\n\t{\n\t\tif (_islist(obj2))\n\t\t{\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn false;\n\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t{\n\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\treturn false;\n\t\t\t\tlet eq = _eq(obj1[i], obj2[i]);\n\t\t\t\tif (!eq)\n\t\t\t\t\treturn _lt(obj1[i], obj2[i]);\n\t\t\t}\n\t\t\treturn obj1.length < obj2.length;\n\t\t}\n\t}\n\t// FIXME: Set comparison\n\telse if (_isset(obj1))\n\t{\n\t\tif (_isset(obj2))\n\t\t{\n\t\t\tfor (let key in obj1)\n\t\t\t{\n\t\t\t\tif (!obj2.has(obj1[key]))\n\t\t\t\t\tin1only = true;\n\t\t\t}\n\t\t\tfor (let key in obj2)\n\t\t\t{\n\t\t\t\tif (!obj1.has(obj2[key]))\n\t\t\t\t\tin2only = true;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\t_unorderable(operator, obj1, obj2);\n\n\t\tif (in1only)\n\t\t{\n\t\t\tif (in2only)\n\t\t\t\treturn null;\n\t\t\telse\n\t\t\t\treturn 1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (in2only)\n\t\t\t\treturn -1;\n\t\t\telse\n\t\t\t\treturn 0;\n\t\t}\n\t}\n\t_unorderable(\"<\", obj1, obj2);\n};\n\n// Return whether `obj1 <= obj2`\nexport function _le(obj1, obj2)\n{\n\tlet numbertypes = [\"boolean\", \"number\"];\n\n\tif (obj1 && typeof(obj1[symbols.le]) === \"function\")\n\t\treturn obj1[symbols.le](obj2);\n\tif (numbertypes.indexOf(typeof(obj1)) != -1)\n\t{\n\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\treturn obj1 <= obj2;\n\t}\n\telse if (typeof(obj1) === \"string\")\n\t{\n\t\tif (typeof(obj2) === \"string\")\n\t\t\treturn obj1 <= obj2;\n\t}\n\telse if (_isdatetime(obj1))\n\t{\n\t\tif (_isdatetime(obj2))\n\t\t\treturn obj1.getTime() <= obj2.getTime();\n\t}\n\telse if (_islist(obj1))\n\t{\n\t\tif (_islist(obj2))\n\t\t{\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn true;\n\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t{\n\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\treturn false;\n\t\t\t\tlet eq = _eq(obj1[i], obj2[i]);\n\t\t\t\tif (!eq)\n\t\t\t\t\treturn _lt(obj1[i], obj2[i]);\n\t\t\t}\n\t\t\treturn obj1.length <= obj2.length;\n\t\t}\n\t}\n\t// FIXME: Set comparison\n\telse if (_isset(obj1))\n\t{\n\t\tlet in1only = false;\n\t\tlet in2only = false;\n\n\t\tif (_isset(obj2))\n\t\t{\n\t\t\tif (_isset(obj2))\n\t\t\t{\n\t\t\t\tfor (let value of obj1)\n\t\t\t\t{\n\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t}\n\t\t\t\tfor (let value of obj2)\n\t\t\t\t{\n\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\t_unorderable(operator, obj1, obj2);\n\t\t}\n\t\telse\n\t\t\t_unorderable(operator, obj1, obj2);\n\n\t\tif (in1only)\n\t\t{\n\t\t\tif (in2only)\n\t\t\t\treturn null;\n\t\t\telse\n\t\t\t\treturn 1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (in2only)\n\t\t\t\treturn -1;\n\t\t\telse\n\t\t\t\treturn 0;\n\t\t}\n\t}\n\t_unorderable(\"<=\", obj1, obj2);\n};\n\n// Return whether `obj1 > obj2`\nexport function _gt(obj1, obj2)\n{\n\tlet numbertypes = [\"boolean\", \"number\"];\n\n\tif (obj1 && typeof(obj1[symbols.gt]) === \"function\")\n\t\treturn obj1[symbols.gt](obj2);\n\tif (numbertypes.indexOf(typeof(obj1)) != -1)\n\t{\n\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\treturn obj1 > obj2;\n\t}\n\telse if (typeof(obj1) === \"string\")\n\t{\n\t\tif (typeof(obj2) === \"string\")\n\t\t\treturn obj1 > obj2;\n\t}\n\telse if (_isdatetime(obj1))\n\t{\n\t\tif (_isdatetime(obj2))\n\t\t\treturn obj1.getTime() > obj2.getTime();\n\t}\n\telse if (_islist(obj1))\n\t{\n\t\tif (_islist(obj2))\n\t\t{\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn false;\n\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t{\n\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\treturn true;\n\t\t\t\tlet eq = _eq(obj1[i], obj2[i]);\n\t\t\t\tif (!eq)\n\t\t\t\t\treturn _gt(obj1[i], obj2[i]);\n\t\t\t}\n\t\t\treturn obj1.length > obj2.length;\n\t\t}\n\t}\n\t// FIXME: Set comparison\n\telse if (_isset(obj1))\n\t{\n\t\tlet in1only = false;\n\t\tlet in2only = false;\n\n\t\tif (_isset(obj2))\n\t\t{\n\t\t\tif (_isset(obj2))\n\t\t\t{\n\t\t\t\tfor (let value of obj1)\n\t\t\t\t{\n\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t}\n\t\t\t\tfor (let value of obj2)\n\t\t\t\t{\n\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\t_unorderable(operator, obj1, obj2);\n\t\t}\n\t\telse\n\t\t\t_unorderable(operator, obj1, obj2);\n\n\t\tif (in1only)\n\t\t{\n\t\t\tif (in2only)\n\t\t\t\treturn null;\n\t\t\telse\n\t\t\t\treturn 1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (in2only)\n\t\t\t\treturn -1;\n\t\t\telse\n\t\t\t\treturn 0;\n\t\t}\n\t}\n\t_unorderable(\">\", obj1, obj2);\n};\n\n// Return whether `obj1 >= obj2`\nexport function _ge(obj1, obj2)\n{\n\tlet numbertypes = [\"boolean\", \"number\"];\n\n\tif (obj1 && typeof(obj1[symbols.ge]) === \"function\")\n\t\treturn obj1[symbols.ge](obj2);\n\telse if (numbertypes.indexOf(typeof(obj1)) != -1)\n\t{\n\t\tif (numbertypes.indexOf(typeof(obj2)) != -1)\n\t\t\treturn obj1 >= obj2;\n\t}\n\telse if (typeof(obj1) === \"string\")\n\t{\n\t\tif (typeof(obj2) === \"string\")\n\t\t\treturn obj1 >= obj2;\n\t}\n\telse if (_isdatetime(obj1))\n\t{\n\t\tif (_isdatetime(obj2))\n\t\t\treturn obj1.getTime() >= obj2.getTime();\n\t}\n\telse if (_islist(obj1))\n\t{\n\t\tif (_islist(obj2))\n\t\t{\n\t\t\tif (obj1 === obj2)\n\t\t\t\treturn true;\n\t\t\tfor (let i = 0; i < obj1.length; ++i)\n\t\t\t{\n\t\t\t\tif (i >= obj2.length)\n\t\t\t\t\treturn true;\n\t\t\t\tlet eq = _eq(obj1[i], obj2[i]);\n\t\t\t\tif (!eq)\n\t\t\t\t\treturn _gt(obj1[i], obj2[i]);\n\t\t\t}\n\t\t\treturn obj1.length >= obj2.length;\n\t\t}\n\t}\n\t// FIXME: Set comparison\n\telse if (_isset(obj1))\n\t{\n\t\tlet in1only = false;\n\t\tlet in2only = false;\n\n\t\tif (_isset(obj2))\n\t\t{\n\t\t\tif (_isset(obj2))\n\t\t\t{\n\t\t\t\tfor (let value of obj1)\n\t\t\t\t{\n\t\t\t\t\tif (!obj2.has(value))\n\t\t\t\t\t\tin1only = true;\n\t\t\t\t}\n\t\t\t\tfor (let value of obj2)\n\t\t\t\t{\n\t\t\t\t\tif (!obj1.has(value))\n\t\t\t\t\t\tin2only = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\t_unorderable(operator, obj1, obj2);\n\t\t}\n\t\telse\n\t\t\t_unorderable(operator, obj1, obj2);\n\n\t\tif (in1only)\n\t\t{\n\t\t\tif (in2only)\n\t\t\t\treturn null;\n\t\t\telse\n\t\t\t\treturn 1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (in2only)\n\t\t\t\treturn -1;\n\t\t\telse\n\t\t\t\treturn 0;\n\t\t}\n\t}\n\t_unorderable(\">=\", obj1, obj2);\n};\n\n// Return an iterator for `obj`\nexport function _iter(obj)\n{\n\tif (typeof(obj) === \"string\" || _islist(obj))\n\t{\n\t\treturn {\n\t\t\tindex: 0,\n\t\t\tnext: function()\n\t\t\t{\n\t\t\t\tif (this.index < obj.length)\n\t\t\t\t\treturn {value: obj[this.index++], done: false};\n\t\t\t\telse\n\t\t\t\t\treturn {done: true};\n\t\t\t}\n\t\t};\n\t}\n\telse if (_isiter(obj))\n\t\treturn obj;\n\telse if (_ismap(obj))\n\t{\n\t\tlet keys = [];\n\t\tfor (let [key, value] of obj)\n\t\t\tkeys.push(key);\n\t\treturn {\n\t\t\tindex: 0,\n\t\t\tnext: function()\n\t\t\t{\n\t\t\t\tif (this.index >= keys.length)\n\t\t\t\t\treturn {done: true};\n\t\t\t\treturn {value: keys[this.index++], done: false};\n\t\t\t}\n\t\t};\n\t}\n\telse if (_isset(obj))\n\t{\n\t\tlet values = [];\n\t\tfor (let item of obj)\n\t\t\tvalues.push(item);\n\t\treturn {\n\t\t\tindex: 0,\n\t\t\tnext: function()\n\t\t\t{\n\t\t\t\tif (this.index >= values.length)\n\t\t\t\t\treturn {done: true};\n\t\t\t\treturn {value: values[this.index++], done: false};\n\t\t\t}\n\t\t};\n\t}\n\telse if (_isobject(obj))\n\t{\n\t\tlet keys = [];\n\t\tfor (let key in obj)\n\t\t\tkeys.push(key);\n\t\treturn {\n\t\t\tindex: 0,\n\t\t\tnext: function()\n\t\t\t{\n\t\t\t\tif (this.index >= keys.length)\n\t\t\t\t\treturn {done: true};\n\t\t\t\treturn {value: keys[this.index++], done: false};\n\t\t\t}\n\t\t};\n\t}\n\t// Check for an iterator implementation last, as otherwise, we'd get an item iterator for maps\n\telse if (obj !== null && typeof(obj[Symbol.iterator]) === \"function\")\n\t\treturn obj[Symbol.iterator]();\n\tthrow new TypeError(_type(obj).fullname() + \" object is not iterable\");\n};\n\nfunction _str_repr(str, ascii)\n{\n\tlet result = \"\";\n\tlet squote = false, dquote = false;\n\n\tfor (let c of str)\n\t{\n\t\tif (c == '\"')\n\t\t{\n\t\t\tdquote = true;\n\t\t\tif (squote)\n\t\t\t\tbreak;\n\t\t}\n\t\telse if (c == \"'\")\n\t\t{\n\t\t\tsquote = true;\n\t\t\tif (dquote)\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Prefer single quotes: Only use double quotes if the string contains single quotes, but no double quotes\n\tlet quote = (squote && !dquote) ? '\"' : \"'\";\n\n\tfor (let c of str)\n\t{\n\t\tswitch (c)\n\t\t{\n\t\t\tcase '\"':\n\t\t\t\tresult += (quote == c) ? '\\\\\"' : c;\n\t\t\t\tbreak;\n\t\t\tcase \"'\":\n\t\t\t\tresult += (quote == c) ? \"\\\\'\" : c;\n\t\t\t\tbreak;\n\t\t\tcase \"\\\\\":\n\t\t\t\tresult += \"\\\\\\\\\";\n\t\t\t\tbreak;\n\t\t\tcase \"\\t\":\n\t\t\t\tresult += \"\\\\t\";\n\t\t\t\tbreak;\n\t\t\tcase \"\\n\":\n\t\t\t\tresult += \"\\\\n\";\n\t\t\t\tbreak;\n\t\t\tcase \"\\r\":\n\t\t\t\tresult += \"\\\\r\";\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlet code = c.charCodeAt(0);\n\t\t\t\tlet escape;\n\t\t\t\tif (code < 32)\n\t\t\t\t\tescape = 2;\n\t\t\t\telse if (code < 0x7f)\n\t\t\t\t\tescape = 0;\n\t\t\t\telse if (!ascii && !/[\\u007f-\\u00a0\\u00ad\\u0378-\\u0379\\u0380-\\u0383\\u038b\\u038d\\u03a2\\u0530\\u0557-\\u0558\\u0560\\u0588\\u058b-\\u058c\\u0590\\u05c8-\\u05cf\\u05eb-\\u05ef\\u05f5-\\u0605\\u061c-\\u061d\\u06dd\\u070e-\\u070f\\u074b-\\u074c\\u07b2-\\u07bf\\u07fb-\\u07ff\\u082e-\\u082f\\u083f\\u085c-\\u085d\\u085f-\\u089f\\u08b5-\\u08e2\\u0984\\u098d-\\u098e\\u0991-\\u0992\\u09a9\\u09b1\\u09b3-\\u09b5\\u09ba-\\u09bb\\u09c5-\\u09c6\\u09c9-\\u09ca\\u09cf-\\u09d6\\u09d8-\\u09db\\u09de\\u09e4-\\u09e5\\u09fc-\\u0a00\\u0a04\\u0a0b-\\u0a0e\\u0a11-\\u0a12\\u0a29\\u0a31\\u0a34\\u0a37\\u0a3a-\\u0a3b\\u0a3d\\u0a43-\\u0a46\\u0a49-\\u0a4a\\u0a4e-\\u0a50\\u0a52-\\u0a58\\u0a5d\\u0a5f-\\u0a65\\u0a76-\\u0a80\\u0a84\\u0a8e\\u0a92\\u0aa9\\u0ab1\\u0ab4\\u0aba-\\u0abb\\u0ac6\\u0aca\\u0ace-\\u0acf\\u0ad1-\\u0adf\\u0ae4-\\u0ae5\\u0af2-\\u0af8\\u0afa-\\u0b00\\u0b04\\u0b0d-\\u0b0e\\u0b11-\\u0b12\\u0b29\\u0b31\\u0b34\\u0b3a-\\u0b3b\\u0b45-\\u0b46\\u0b49-\\u0b4a\\u0b4e-\\u0b55\\u0b58-\\u0b5b\\u0b5e\\u0b64-\\u0b65\\u0b78-\\u0b81\\u0b84\\u0b8b-\\u0b8d\\u0b91\\u0b96-\\u0b98\\u0b9b\\u0b9d\\u0ba0-\\u0ba2\\u0ba5-\\u0ba7\\u0bab-\\u0bad\\u0bba-\\u0bbd\\u0bc3-\\u0bc5\\u0bc9\\u0bce-\\u0bcf\\u0bd1-\\u0bd6\\u0bd8-\\u0be5\\u0bfb-\\u0bff\\u0c04\\u0c0d\\u0c11\\u0c29\\u0c3a-\\u0c3c\\u0c45\\u0c49\\u0c4e-\\u0c54\\u0c57\\u0c5b-\\u0c5f\\u0c64-\\u0c65\\u0c70-\\u0c77\\u0c80\\u0c84\\u0c8d\\u0c91\\u0ca9\\u0cb4\\u0cba-\\u0cbb\\u0cc5\\u0cc9\\u0cce-\\u0cd4\\u0cd7-\\u0cdd\\u0cdf\\u0ce4-\\u0ce5\\u0cf0\\u0cf3-\\u0d00\\u0d04\\u0d0d\\u0d11\\u0d3b-\\u0d3c\\u0d45\\u0d49\\u0d4f-\\u0d56\\u0d58-\\u0d5e\\u0d64-\\u0d65\\u0d76-\\u0d78\\u0d80-\\u0d81\\u0d84\\u0d97-\\u0d99\\u0db2\\u0dbc\\u0dbe-\\u0dbf\\u0dc7-\\u0dc9\\u0dcb-\\u0dce\\u0dd5\\u0dd7\\u0de0-\\u0de5\\u0df0-\\u0df1\\u0df5-\\u0e00\\u0e3b-\\u0e3e\\u0e5c-\\u0e80\\u0e83\\u0e85-\\u0e86\\u0e89\\u0e8b-\\u0e8c\\u0e8e-\\u0e93\\u0e98\\u0ea0\\u0ea4\\u0ea6\\u0ea8-\\u0ea9\\u0eac\\u0eba\\u0ebe-\\u0ebf\\u0ec5\\u0ec7\\u0ece-\\u0ecf\\u0eda-\\u0edb\\u0ee0-\\u0eff\\u0f48\\u0f6d-\\u0f70\\u0f98\\u0fbd\\u0fcd\\u0fdb-\\u0fff\\u10c6\\u10c8-\\u10cc\\u10ce-\\u10cf\\u1249\\u124e-\\u124f\\u1257\\u1259\\u125e-\\u125f\\u1289\\u128e-\\u128f\\u12b1\\u12b6-\\u12b7\\u12bf\\u12c1\\u12c6-\\u12c7\\u12d7\\u1311\\u1316-\\u1317\\u135b-\\u135c\\u137d-\\u137f\\u139a-\\u139f\\u13f6-\\u13f7\\u13fe-\\u13ff\\u1680\\u169d-\\u169f\\u16f9-\\u16ff\\u170d\\u1715-\\u171f\\u1737-\\u173f\\u1754-\\u175f\\u176d\\u1771\\u1774-\\u177f\\u17de-\\u17df\\u17ea-\\u17ef\\u17fa-\\u17ff\\u180e-\\u180f\\u181a-\\u181f\\u1878-\\u187f\\u18ab-\\u18af\\u18f6-\\u18ff\\u191f\\u192c-\\u192f\\u193c-\\u193f\\u1941-\\u1943\\u196e-\\u196f\\u1975-\\u197f\\u19ac-\\u19af\\u19ca-\\u19cf\\u19db-\\u19dd\\u1a1c-\\u1a1d\\u1a5f\\u1a7d-\\u1a7e\\u1a8a-\\u1a8f\\u1a9a-\\u1a9f\\u1aae-\\u1aaf\\u1abf-\\u1aff\\u1b4c-\\u1b4f\\u1b7d-\\u1b7f\\u1bf4-\\u1bfb\\u1c38-\\u1c3a\\u1c4a-\\u1c4c\\u1c80-\\u1cbf\\u1cc8-\\u1ccf\\u1cf7\\u1cfa-\\u1cff\\u1df6-\\u1dfb\\u1f16-\\u1f17\\u1f1e-\\u1f1f\\u1f46-\\u1f47\\u1f4e-\\u1f4f\\u1f58\\u1f5a\\u1f5c\\u1f5e\\u1f7e-\\u1f7f\\u1fb5\\u1fc5\\u1fd4-\\u1fd5\\u1fdc\\u1ff0-\\u1ff1\\u1ff5\\u1fff-\\u200f\\u2028-\\u202f\\u205f-\\u206f\\u2072-\\u2073\\u208f\\u209d-\\u209f\\u20bf-\\u20cf\\u20f1-\\u20ff\\u218c-\\u218f\\u23fb-\\u23ff\\u2427-\\u243f\\u244b-\\u245f\\u2b74-\\u2b75\\u2b96-\\u2b97\\u2bba-\\u2bbc\\u2bc9\\u2bd2-\\u2beb\\u2bf0-\\u2bff\\u2c2f\\u2c5f\\u2cf4-\\u2cf8\\u2d26\\u2d28-\\u2d2c\\u2d2e-\\u2d2f\\u2d68-\\u2d6e\\u2d71-\\u2d7e\\u2d97-\\u2d9f\\u2da7\\u2daf\\u2db7\\u2dbf\\u2dc7\\u2dcf\\u2dd7\\u2ddf\\u2e43-\\u2e7f\\u2e9a\\u2ef4-\\u2eff\\u2fd6-\\u2fef\\u2ffc-\\u3000\\u3040\\u3097-\\u3098\\u3100-\\u3104\\u312e-\\u3130\\u318f\\u31bb-\\u31bf\\u31e4-\\u31ef\\u321f\\u32ff\\u4db6-\\u4dbf\\u9fd6-\\u9fff\\ua48d-\\ua48f\\ua4c7-\\ua4cf\\ua62c-\\ua63f\\ua6f8-\\ua6ff\\ua7ae-\\ua7af\\ua7b8-\\ua7f6\\ua82c-\\ua82f\\ua83a-\\ua83f\\ua878-\\ua87f\\ua8c5-\\ua8cd\\ua8da-\\ua8df\\ua8fe-\\ua8ff\\ua954-\\ua95e\\ua97d-\\ua97f\\ua9ce\\ua9da-\\ua9dd\\ua9ff\\uaa37-\\uaa3f\\uaa4e-\\uaa4f\\uaa5a-\\uaa5b\\uaac3-\\uaada\\uaaf7-\\uab00\\uab07-\\uab08\\uab0f-\\uab10\\uab17-\\uab1f\\uab27\\uab2f\\uab66-\\uab6f\\uabee-\\uabef\\uabfa-\\uabff\\ud7a4-\\ud7af\\ud7c7-\\ud7ca\\ud7fc-\\uf8ff\\ufa6e-\\ufa6f\\ufada-\\ufaff\\ufb07-\\ufb12\\ufb18-\\ufb1c\\ufb37\\ufb3d\\ufb3f\\ufb42\\ufb45\\ufbc2-\\ufbd2\\ufd40-\\ufd4f\\ufd90-\\ufd91\\ufdc8-\\ufdef\\ufdfe-\\ufdff\\ufe1a-\\ufe1f\\ufe53\\ufe67\\ufe6c-\\ufe6f\\ufe75\\ufefd-\\uff00\\uffbf-\\uffc1\\uffc8-\\uffc9\\uffd0-\\uffd1\\uffd8-\\uffd9\\uffdd-\\uffdf\\uffe7\\uffef-\\ufffb\\ufffe-\\uffff]/.test(c))\n\t\t\t\t\tescape = 0;\n\t\t\t\telse if (code <= 0xff)\n\t\t\t\t\tescape = 2;\n\t\t\t\telse if (code <= 0xffff)\n\t\t\t\t\tescape = 4;\n\t\t\t\telse\n\t\t\t\t\tescape = 8;\n\n\t\t\t\tif (escape === 0)\n\t\t\t\t\tresult += c;\n\t\t\t\telse if (escape === 2)\n\t\t\t\t\tresult += \"\\\\x\" + _lpad(code.toString(16), \"0\", 2);\n\t\t\t\telse if (escape === 4)\n\t\t\t\t\tresult += \"\\\\u\" + _lpad(code.toString(16), \"0\", 4);\n\t\t\t\telse\n\t\t\t\t\tresult += \"\\\\U\" + _lpad(code.toString(16), \"0\", 8);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\treturn quote + result + quote;\n};\n\nfunction _date_repr(obj, ascii)\n{\n\tlet year = obj._date.getFullYear();\n\tlet month = obj._date.getMonth()+1;\n\tlet day = obj._date.getDate();\n\tlet result = \"@(\" + year + \"-\" + _lpad(month.toString(), \"0\", 2) + \"-\" + _lpad(day.toString(), \"0\", 2) + \")\";\n\treturn result;\n};\n\nfunction _datetime_repr(obj, ascii)\n{\n\tlet year = obj.getFullYear();\n\tlet month = obj.getMonth()+1;\n\tlet day = obj.getDate();\n\tlet hour = obj.getHours();\n\tlet minute = obj.getMinutes();\n\tlet second = obj.getSeconds();\n\tlet ms = obj.getMilliseconds();\n\tlet result = \"@(\" + year + \"-\" + _lpad(month.toString(), \"0\", 2) + \"-\" + _lpad(day.toString(), \"0\", 2) + \"T\";\n\n\tif (hour || minute || second || ms)\n\t{\n\t\tresult += _lpad(hour.toString(), \"0\", 2) + \":\" + _lpad(minute.toString(), \"0\", 2);\n\t\tif (second || ms)\n\t\t{\n\t\t\tresult += \":\" + _lpad(second.toString(), \"0\", 2);\n\t\t\tif (ms)\n\t\t\t\tresult += \".\" + _lpad(ms.toString(), \"0\", 3) + \"000\";\n\t\t}\n\t}\n\tresult += \")\";\n\n\treturn result;\n};\n\nfunction _map_repr(obj, ascii)\n{\n\tlet v = [];\n\tv.push(\"{\");\n\n\tlet i = 0;\n\tfor (let [key, value] of obj)\n\t{\n\t\tif (i++)\n\t\t\tv.push(\", \");\n\t\tv.push(_repr_internal(key, ascii), \": \", _repr_internal(value, ascii));\n\t}\n\n\tv.push(\"}\");\n\treturn v.join(\"\");\n};\n\nfunction _list_repr(obj, ascii)\n{\n\tlet v = [];\n\tv.push(\"[\");\n\tlet first = true;\n\tfor (let item of obj)\n\t{\n\t\tif (first)\n\t\t\tfirst = false;\n\t\telse\n\t\t\tv.push(\", \");\n\t\tv.push(_repr_internal(item, ascii));\n\t}\n\tv.push(\"]\");\n\treturn v.join(\"\");\n};\n\nfunction _set_repr(obj, ascii)\n{\n\tlet v = [];\n\tv.push(\"{\");\n\tif (!obj.size)\n\t\tv.push(\"/\");\n\telse\n\t{\n\t\tlet i = 0;\n\t\tfor (let value of obj)\n\t\t{\n\t\t\tif (i++)\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(_repr_internal(value, ascii));\n\t\t}\n\t}\n\tv.push(\"}\");\n\treturn v.join(\"\");\n};\n\nfunction _object_repr(obj, ascii)\n{\n\tlet v = [];\n\tv.push(\"{\");\n\tlet i = 0;\n\tfor (let key in obj)\n\t{\n\t\tif (!obj.hasOwnProperty(key))\n\t\t\tcontinue;\n\t\tif (i++)\n\t\t\tv.push(\", \");\n\t\tv.push(_repr_internal(key, ascii), \": \", _repr_internal(obj[key], ascii));\n\t}\n\tv.push(\"}\");\n\treturn v.join(\"\");\n};\n\nfunction _repr_internal(obj, ascii)\n{\n\tif (obj === null)\n\t\treturn \"None\";\n\telse if (obj === undefined)\n\t\treturn \"<undefined>\";\n\telse if (obj === false)\n\t\treturn \"False\";\n\telse if (obj === true)\n\t\treturn \"True\";\n\telse if (typeof(obj) === \"string\")\n\t\treturn _str_repr(obj, ascii);\n\telse if (typeof(obj) === \"number\")\n\t\treturn \"\" + obj;\n\telse if (typeof(obj) === \"function\")\n\t{\n\t\tif (obj.prototype !== undefined)\n\t\t\treturn \"<class \" + obj.name + \">\";\n\t\tif (obj._ul4_name || obj.name)\n\t\t\treturn \"<function \" + (obj._ul4_name || obj.name) + \">\";\n\t\telse\n\t\t\treturn \"<anonymous function>\";\n\t}\n\telse if (_isdate(obj))\n\t\treturn _date_repr(obj, ascii);\n\telse if (_isdatetime(obj))\n\t\treturn _datetime_repr(obj, ascii);\n\telse if (typeof(obj) === \"object\" && typeof(obj[symbols.repr]) === \"function\")\n\t\treturn obj[symbols.repr]();\n\telse if (_islist(obj))\n\t\treturn _list_repr(obj, ascii);\n\telse if (_ismap(obj))\n\t\treturn _map_repr(obj, ascii);\n\telse if (_isset(obj))\n\t\treturn _set_repr(obj, ascii);\n\telse if (_isobject(obj))\n\t\treturn _object_repr(obj, ascii);\n\treturn \"?\";\n};\n\n// Return a string representation of `obj`: If possible this should be an object literal supported by UL4, otherwise the output should be bracketed with `<` and `>`\nexport function _repr(obj)\n{\n\treturn _repr_internal(obj, false);\n};\n\nexport function _ascii(obj)\n{\n\treturn _repr_internal(obj, true);\n};\n\nfunction _date_str(obj)\n{\n\tlet year = obj._date.getFullYear();\n\tlet month = obj._date.getMonth()+1;\n\tlet day = obj._date.getDate();\n\n\treturn year + \"-\" + _lpad(month.toString(), \"0\", 2) + \"-\" + _lpad(day.toString(), \"0\", 2);\n};\n\nfunction _datetime_str(obj)\n{\n\tlet year = obj.getFullYear();\n\tlet month = obj.getMonth()+1;\n\tlet day = obj.getDate();\n\tlet hour = obj.getHours();\n\tlet minute = obj.getMinutes();\n\tlet second = obj.getSeconds();\n\tlet ms = obj.getMilliseconds();\n\n\tlet result = year + \"-\" + _lpad(month.toString(), \"0\", 2) + \"-\" + _lpad(day.toString(), \"0\", 2) + \" \" + _lpad(hour.toString(), \"0\", 2) + \":\" + _lpad(minute.toString(), \"0\", 2);\n\tif (second || ms)\n\t{\n\t\tresult += \":\" + _lpad(second.toString(), \"0\", 2);\n\t\tif (ms)\n\t\t\tresult += \".\" + _lpad(ms.toString(), \"0\", 3) + \"000\";\n\t}\n\treturn result;\n};\n\n// Convert `obj` to a string\nexport function _str(obj=\"\")\n{\n\treturn strtype[symbols.call](obj);\n}\n\n// Convert `obj` to bool, according to its \"truth value\"\nexport function _bool(obj)\n{\n\treturn booltype[symbols.call](obj);\n};\n\n// Convert `obj` to an integer (if `base` is given `obj` must be a string and `base` is the base for the conversion (default is 10))\nexport function _int(obj=0, base=null)\n{\n\treturn inttype[symbols.call](obj, base);\n};\n\n// Convert `obj` to a float\nexport function _float(obj)\n{\n\treturn floattype[symbols.call](obj);\n};\n\n// Convert `obj` to a list\nexport function _list(obj)\n{\n\treturn listtype[symbols.call](obj);\n};\n\n// Convert `obj` to a set\nexport function _set(obj=[])\n{\n\treturn settype[symbols.call](obj);\n};\n\n// Return the length of `sequence`\nexport function _len(sequence)\n{\n\tif (typeof(sequence) === \"string\" || _islist(sequence))\n\t\treturn sequence.length;\n\telse if (_ismap(sequence) || _isset(sequence))\n\t\treturn sequence.size;\n\telse if (_isobject(sequence))\n\t{\n\t\tlet i = 0;\n\t\tfor (let key in sequence)\n\t\t\t++i;\n\t\treturn i;\n\t}\n\tthrow new TypeError(\"object of type '\" + _type(sequence).fullname() + \"' has no len()\");\n};\n\nexport let constructors2types = new Map();\n\nfunction _maketype(constructor)\n{\n\tlet type = new GenericType(constructor);\n\tconstructors2types.set(constructor, type);\n\treturn type;\n}\n\nexport function _type(obj)\n{\n\tif (obj === null)\n\t\treturn nonetype;\n\telse if (obj === undefined)\n\t\treturn undefinedtype;\n\telse if (typeof(obj[symbols.type]) === \"function\")\n\t\treturn obj[symbols.type]();\n\telse if (_isbool(obj))\n\t\treturn booltype;\n\telse if (_isint(obj))\n\t\treturn inttype;\n\telse if (_isfloat(obj))\n\t\treturn floattype;\n\telse if (_isstr(obj))\n\t\treturn strtype;\n\telse if (_islist(obj))\n\t\treturn listtype;\n\telse if (_isset(obj))\n\t\treturn settype;\n\telse if (_isdict(obj)) // These are both `Map`s and \"foreign\" objects, i.e. ones that don't inherit from `Proto`\n\t\treturn dicttype;\n\telse if (_isdatetime(obj))\n\t\treturn datetimetype;\n\t// Don't use `_isfunction()` here as this would return `true` for templates\n\telse if (typeof(obj) === \"function\")\n\t\treturn functiontype;\n\telse\n\t{\n\t\tlet constructor = obj.constructor;\n\t\tlet type = constructors2types.get(constructor);\n\t\tif (type === undefined)\n\t\t\ttype = _maketype(constructor);\n\t\treturn type;\n\t}\n};\n\n// (this is non-trivial, because it follows the Python semantic of `-5 % 2` being `1`)\nexport function _mod(obj1, obj2)\n{\n\tif (obj1 === null || obj1 === undefined || obj2 === null || obj2 === undefined)\n\t\tthrow new TypeError(_type(obj1).fullname() + \" % \" + _type(obj2).fullname() + \" is not supported\");\n\n\tlet div = Math.floor(obj1 / obj2);\n\tlet mod = obj1 - div * obj2;\n\n\tif (mod !== 0 && ((obj2 < 0 && mod > 0) || (obj2 > 0 && mod < 0)))\n\t{\n\t\tmod += obj2;\n\t\t--div;\n\t}\n\treturn obj1 - div * obj2;\n};\n\n// Return the attribute with the name `attrname` of the object `obj`\n// If `obj` doesn't have such an attribute, return `default_`\nexport function _getattr(obj, attrname, default_=null)\n{\n\ttry\n\t{\n\t\tlet type = _type(obj);\n\t\treturn type.getattr(obj, attrname);\n\t}\n\tcatch (exc)\n\t{\n\t\tif (exc instanceof AttributeError && exc.obj === obj)\n\t\t\treturn default_;\n\t\telse\n\t\t\tthrow exc;\n\t}\n};\n\n// Return whether the object `obj` has an attribute with the name `attrname`\nexport function _hasattr(obj, attrname)\n{\n\treturn _type(obj).hasattr(obj, attrname);\n};\n\n// Return the names of the attributes of the object `obj` as a set.\nexport function _dir(obj)\n{\n\treturn _type(obj).dir();\n};\n\n// Return whether any of the items in `iterable` are true\nexport function _any(iterable)\n{\n\tif (typeof(iterable) === \"string\")\n\t{\n\t\tfor (let c of iterable)\n\t\t{\n\t\t\tif (c !== '\\x00')\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\telse\n\t{\n\t\tfor (let iter = _iter(iterable);;)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\treturn false;\n\t\t\tif (_bool(item.value))\n\t\t\t\treturn true;\n\t\t}\n\t}\n};\n\n// Return whether all of the items in `iterable` are true\nexport function _all(iterable)\n{\n\tif (typeof(iterable) === \"string\")\n\t{\n\t\tfor (let c of iterable)\n\t\t{\n\t\t\tif (c === '\\x00')\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\telse\n\t{\n\t\tfor (let iter = _iter(iterable);;)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\treturn true;\n\t\t\tif (!_bool(item.value))\n\t\t\t\treturn false;\n\t\t}\n\t}\n};\n\n// Check if `obj` is undefined\nexport function _isundefined(obj)\n{\n\treturn obj === undefined;\n};\n\n\n// Check if `obj` is *not* undefined\nexport function _isdefined(obj)\n{\n\treturn obj !== undefined;\n};\n\n// Check if `obj` is `None`\nexport function _isnone(obj)\n{\n\treturn nonetype.instancecheck(obj);\n};\n\n// Check if `obj` is a boolean\nexport function _isbool(obj)\n{\n\treturn booltype.instancecheck(obj);\n};\n\n// Check if `obj` is a int\nexport function _isint(obj)\n{\n\treturn inttype.instancecheck(obj);\n};\n\n// Check if `obj` is a float\nexport function _isfloat(obj)\n{\n\treturn floattype.instancecheck(obj);\n};\n\n// Check if `obj` is a string\nexport function _isstr(obj)\n{\n\treturn strtype.instancecheck(obj);\n};\n\n// Check if `obj` is a datetime\nexport function _isdatetime(obj)\n{\n\treturn datetimetype.instancecheck(obj);\n};\n\nexport function _isdate(obj)\n{\n\treturn datetype.instancecheck(obj);\n};\n\n// Check if `obj` is a color\nexport function _iscolor(obj)\n{\n\treturn colortype.instancecheck(obj);\n};\n\n// Check if `obj` is a timedelta object\nexport function _istimedelta(obj)\n{\n\treturn timedeltatype.instancecheck(obj);\n};\n\n// Check if `obj` is a monthdelta object\nexport function _ismonthdelta(obj)\n{\n\treturn monthdeltatype.instancecheck(obj);\n};\n\n// Check if `obj` is a template (either a normal one or a locally defined)\nexport function _istemplate(obj)\n{\n\treturn obj !== null && (obj instanceof Template) || (obj instanceof TemplateClosure);\n};\n\n// Check if `obj` is a function\nexport function _isfunction(obj)\n{\n\treturn functiontype.instancecheck(obj);\n};\n\n// Check if `obj` is a list\nexport function _islist(obj)\n{\n\treturn listtype.instancecheck(obj);\n};\n\n// Check if `obj` is a set\nexport function _isset(obj)\n{\n\treturn settype.instancecheck(obj);\n};\n\n// Check if `obj` is an exception (at least a UL4 exception)\nexport function _isexception(obj)\n{\n\treturn (obj instanceof Exception);\n};\n\n// Check if `obj` is an iterator\nexport function _isiter(obj)\n{\n\treturn obj !== null && typeof(obj) === \"object\" && typeof(obj.next) === \"function\";\n};\n\n// Check if `obj` is a JS object\nexport function _isobject(obj)\n{\n\treturn dicttype._isobject(obj);\n};\n\n// Check if `obj` is a `Map`\nexport function _ismap(obj)\n{\n\treturn dicttype._ismap(obj);\n};\n\n// Check if `obj` is a dict (i.e. a normal Javascript object or a `Map`)\nexport function _isdict(obj)\n{\n\treturn dicttype.instancecheck(obj);\n};\n\n// Check if `obj` is an instance of `type`\nexport function _isinstance(obj, type)\n{\n\treturn type.instancecheck(obj);\n};\n\n// Repeat string `str` `rep` times\nexport function _str_repeat(str, rep)\n{\n\tlet result = \"\";\n\tfor (; rep>0; --rep)\n\t\tresult += str;\n\treturn result;\n};\n\nexport function _list_repeat(list, rep)\n{\n\tlet result = [];\n\tfor (; rep>0; --rep)\n\t\tfor (let item of list)\n\t\t\tresult.push(item);\n\treturn result;\n};\n\nfunction _str_json(str)\n{\n\tlet result = \"\";\n\tfor (let c of str)\n\t{\n\t\tswitch (c)\n\t\t{\n\t\t\tcase \"\\r\":\n\t\t\t\tresult += \"\\\\r\";\n\t\t\t\tbreak;\n\t\t\tcase \"\\n\":\n\t\t\t\tresult += \"\\\\n\";\n\t\t\t\tbreak;\n\t\t\tcase \"\\t\":\n\t\t\t\tresult += \"\\\\t\";\n\t\t\t\tbreak;\n\t\t\tcase \"\\\\\":\n\t\t\t\tresult += \"\\\\\\\\\";\n\t\t\t\tbreak;\n\t\t\tcase '\"':\n\t\t\t\tresult += '\\\\\"';\n\t\t\t\tbreak;\n\t\t\tcase '<':\n\t\t\t\tresult += '\\\\u003c';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlet code = c.charCodeAt(0);\n\t\t\t\tif (code >= 32 && code < 128)\n\t\t\t\t\tresult += c;\n\t\t\t\telse\n\t\t\t\t\tresult += \"\\\\u\" + _lpad(code.toString(16), \"0\", 4);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\treturn '\"' + result + '\"';\n};\n\n// Encodes `obj` in the Javascript Object Notation (see http://json.org/; with support for dates, colors and templates)\nexport function _asjson(obj)\n{\n\tif (obj === null)\n\t\treturn \"null\";\n\telse if (obj === undefined)\n\t\treturn \"undefined\";\n\telse if (obj === false)\n\t\treturn \"false\";\n\telse if (obj === true)\n\t\treturn \"true\";\n\telse if (typeof(obj) === \"string\")\n\t\treturn _str_json(obj);\n\telse if (typeof(obj) === \"number\")\n\t{\n\t\treturn \"\" + obj;\n\t}\n\telse if (_islist(obj))\n\t{\n\t\tlet v = [];\n\t\tv.push(\"[\");\n\t\tlet first = true;\n\t\tfor (let item of obj)\n\t\t{\n\t\t\tif (first)\n\t\t\t\tfirst = false;\n\t\t\telse\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(_asjson(item));\n\t\t}\n\t\tv.push(\"]\");\n\t\treturn v.join(\"\");\n\t}\n\telse if (_ismap(obj))\n\t{\n\t\tlet v = [];\n\t\tv.push(\"{\");\n\t\tlet first = true;\n\t\tfor (let [key, value] of obj)\n\t\t{\n\t\t\tif (first)\n\t\t\t\tfirst = false;\n\t\t\telse\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(_asjson(key), \": \", _asjson(value));\n\t\t}\n\t\tv.push(\"}\");\n\t\treturn v.join(\"\");\n\t}\n\telse if (_isobject(obj))\n\t{\n\t\tlet v = [];\n\t\tv.push(\"{\");\n\t\tlet first = true;\n\t\tfor (let key in obj)\n\t\t{\n\t\t\tif (first)\n\t\t\t\tfirst = false;\n\t\t\telse\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(_asjson(key), \": \", _asjson(obj[key]));\n\t\t}\n\t\tv.push(\"}\");\n\t\treturn v.join(\"\");\n\t}\n\telse if (_isdate(obj))\n\t{\n\t\treturn \"new ul4.Date_(\" + obj._date.getFullYear() + \", \" + (obj._date.getMonth()+1) + \", \" + obj._date.getDate() + \")\";\n\t}\n\telse if (_isdatetime(obj))\n\t{\n\t\treturn \"new Date(\" + obj.getFullYear() + \", \" + obj.getMonth() + \", \" + obj.getDate() + \", \" + obj.getHours() + \", \" + obj.getMinutes() + \", \" + obj.getSeconds() + \", \" + obj.getMilliseconds() + \")\";\n\t}\n\telse if (_istimedelta(obj))\n\t{\n\t\treturn \"new ul4.TimeDelta(\" + obj._days + \", \" + obj._seconds + \", \" + obj._microseconds + \")\";\n\t}\n\telse if (_ismonthdelta(obj))\n\t{\n\t\treturn \"new ul4.MonthDelta(\" + obj._months + \")\";\n\t}\n\telse if (_iscolor(obj))\n\t{\n\t\treturn \"new ul4.Color(\" + obj._r + \", \" + obj._g + \", \" + obj._b + \", \" + obj._a + \")\";\n\t}\n\telse if (_istemplate(obj))\n\t{\n\t\treturn \"ul4.Template.loads(\" + _repr(obj.dumps()) + \")\";\n\t}\n\tthrow new TypeError(\"asjson() requires a serializable object\");\n};\n\n// Decodes the string `string` from the Javascript Object Notation (see http://json.org/) and returns the resulting object\nexport function _fromjson(string)\n{\n\t// The following is from jQuery's parseJSON function\n\tstring = strtype.strip(string);\n\tif (JSON && JSON.parse)\n\t\treturn JSON.parse(string);\n\tif (_rvalidchars.test(string.replace(_rvalidescape, \"@\").replace(_rvalidtokens, \"]\").replace(_rvalidbraces, \"\")))\n\t\treturn (new Function(\"return \" + string))();\n\tthrow new TypeError(\"invalid JSON\");\n};\n\n// Encodes `obj` in the UL4 Object Notation format\nexport function _asul4on(obj, indent=null)\n{\n\treturn dumps(obj, indent);\n};\n\n// Decodes the string `string` from the UL4 Object Notation format and returns the resulting decoded object\nexport function _fromul4on(string)\n{\n\treturn loads(string);\n};\n\nfunction _format_datetime(obj, fmt, lang)\n{\n\tlet translations = {\n\t\tde: {\n\t\t\tms: [\"Jan\", \"Feb\", \"M\\u00e4r\", \"Apr\", \"Mai\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Okt\", \"Nov\", \"Dez\"],\n\t\t\tml: [\"Januar\", \"Februar\", \"M\\u00e4rz\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Dezember\"],\n\t\t\tws: [\"So\", \"Mo\", \"Di\", \"Mi\", \"Do\", \"Fr\", \"Sa\"],\n\t\t\twl: [\"Sonntag\", \"Montag\", \"Dienstag\", \"Mittwoch\", \"Donnerstag\", \"Freitag\", \"Samstag\"],\n\t\t\txf: \"%d.%m.%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\ten: {\n\t\t\tms: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n\t\t\tml: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n\t\t\tws: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n\t\t\twl: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n\t\t\txf: \"%m/%d/%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %I:%M:%S %p\"\n\t\t},\n\t\tfr: {\n\t\t\tms: [\"janv.\", \"f\\u00e9vr.\", \"mars\", \"avril\", \"mai\", \"juin\", \"juil.\", \"ao\\u00fbt\", \"sept.\", \"oct.\", \"nov.\", \"d\\u00e9c.\"],\n\t\t\tml: [\"janvier\", \"f\\u00e9vrier\", \"mars\", \"avril\", \"mai\", \"juin\", \"juillet\", \"ao\\u00fbt\", \"septembre\", \"octobre\", \"novembre\", \"d\\u00e9cembre\"],\n\t\t\tws: [\"dim.\", \"lun.\", \"mar.\", \"mer.\", \"jeu.\", \"ven.\", \"sam.\"],\n\t\t\twl: [\"dimanche\", \"lundi\", \"mardi\", \"mercredi\", \"jeudi\", \"vendredi\", \"samedi\"],\n\t\t\txf: \"%d/%m/%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tes: {\n\t\t\tms: [\"ene\", \"feb\", \"mar\", \"abr\", \"may\", \"jun\", \"jul\", \"ago\", \"sep\", \"oct\", \"nov\", \"dic\"],\n\t\t\tml: [\"enero\", \"febrero\", \"marzo\", \"abril\", \"mayo\", \"junio\", \"julio\", \"agosto\", \"septiembre\", \"octubre\", \"noviembre\", \"diciembre\"],\n\t\t\tws: [\"dom\", \"lun\", \"mar\", \"mi\\u00e9\", \"jue\", \"vie\", \"s\\u00e1b\"],\n\t\t\twl: [\"domingo\", \"lunes\", \"martes\", \"mi\\u00e9rcoles\", \"jueves\", \"viernes\", \"s\\u00e1bado\"],\n\t\t\txf: \"%d/%m/%y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tit: {\n\t\t\tms: [\"gen\", \"feb\", \"mar\", \"apr\", \"mag\", \"giu\", \"lug\", \"ago\", \"set\", \"ott\", \"nov\", \"dic\"],\n\t\t\tml: [\"gennaio\", \"febbraio\", \"marzo\", \"aprile\", \"maggio\", \"giugno\", \"luglio\", \"agosto\", \"settembre\", \"ottobre\", \"novembre\", \"dicembre\"],\n\t\t\tws: [\"dom\", \"lun\", \"mar\", \"mer\", \"gio\", \"ven\", \"sab\"],\n\t\t\twl: [\"domenica\", \"luned\\u00ec\", \"marted\\u00ec\", \"mercoled\\u00ec\", \"gioved\\u00ec\", \"venerd\\u00ec\", \"sabato\"],\n\t\t\txf: \"%d/%m/%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tda: {\n\t\t\tms: [\"jan\", \"feb\", \"mar\", \"apr\", \"maj\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n\t\t\tml: [\"januar\", \"februar\", \"marts\", \"april\", \"maj\", \"juni\", \"juli\", \"august\", \"september\", \"oktober\", \"november\", \"december\"],\n\t\t\tws: [\"s\\u00f8n\", \"man\", \"tir\", \"ons\", \"tor\", \"fre\", \"l\\u00f8r\"],\n\t\t\twl: [\"s\\u00f8ndag\", \"mandag\", \"tirsdag\", \"onsdag\", \"torsdag\", \"fredag\", \"l\\u00f8rdag\"],\n\t\t\txf: \"%d-%m-%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tsv: {\n\t\t\tms: [\"jan\", \"feb\", \"mar\", \"apr\", \"maj\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n\t\t\tml: [\"januari\", \"februari\", \"mars\", \"april\", \"maj\", \"juni\", \"juli\", \"augusti\", \"september\", \"oktober\", \"november\", \"december\"],\n\t\t\tws: [\"s\\u00f6n\", \"m\\u00e5n\", \"tis\", \"ons\", \"tor\", \"fre\", \"l\\u00f6r\"],\n\t\t\twl: [\"s\\u00f6ndag\", \"m\\u00e5ndag\", \"tisdag\", \"onsdag\", \"torsdag\", \"fredag\", \"l\\u00f6rdag\"],\n\t\t\txf: \"%Y-%m-%d\",\n\t\t\tXf: \"%H.%M.%S\",\n\t\t\tcf: \"%a %d %b %Y %H.%M.%S\"\n\t\t},\n\t\tnl: {\n\t\t\tms: [\"jan\", \"feb\", \"mrt\", \"apr\", \"mei\", \"jun\", \"jul\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n\t\t\tml: [\"januari\", \"februari\", \"maart\", \"april\", \"mei\", \"juni\", \"juli\", \"augustus\", \"september\", \"oktober\", \"november\", \"december\"],\n\t\t\tws: [\"zo\", \"ma\", \"di\", \"wo\", \"do\", \"vr\", \"za\"],\n\t\t\twl: [\"zondag\", \"maandag\", \"dinsdag\", \"woensdag\", \"donderdag\", \"vrijdag\", \"zaterdag\"],\n\t\t\txf: \"%d-%m-%y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tpt: {\n\t\t\tms: [\"Jan\", \"Fev\", \"Mar\", \"Abr\", \"Mai\", \"Jun\", \"Jul\", \"Ago\", \"Set\", \"Out\", \"Nov\", \"Dez\"],\n\t\t\tml: [\"Janeiro\", \"Fevereiro\", \"Mar\\u00e7o\", \"Abril\", \"Maio\", \"Junho\", \"Julho\", \"Agosto\", \"Setembro\", \"Outubro\", \"Novembro\", \"Dezembro\"],\n\t\t\tws: [\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"S\\u00e1b\"],\n\t\t\twl: [\"Domingo\", \"Segunda\", \"Ter\\u00e7a\", \"Quarta\", \"Quinta\", \"Sexta\", \"S\\u00e1bado\"],\n\t\t\txf: \"%d-%m-%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tcs: {\n\t\t\tms: [\"led\", \"\\u00fano\", \"b\\u0159e\", \"dub\", \"kv\\u011b\", \"\\u010den\", \"\\u010dec\", \"srp\", \"z\\u00e1\\u0159\", \"\\u0159\\u00edj\", \"lis\", \"pro\"],\n\t\t\tml: [\"leden\", \"\\u00fanor\", \"b\\u0159ezen\", \"duben\", \"kv\\u011bten\", \"\\u010derven\", \"\\u010dervenec\", \"srpen\", \"z\\u00e1\\u0159\\u00ed\", \"\\u0159\\u00edjen\", \"listopad\", \"prosinec\"],\n\t\t\tws: [\"Ne\", \"Po\", \"\\u00dat\", \"St\", \"\\u010ct\", \"P\\u00e1\", \"So\"],\n\t\t\twl: [\"Ned\\u011ble\", \"Pond\\u011bl\\u00ed\", \"\\u00dater\\u00fd\", \"St\\u0159eda\", \"\\u010ctvrtek\", \"P\\u00e1tek\", \"Sobota\"],\n\t\t\txf: \"%d.%m.%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a\\u00a0%d.\\u00a0%B\\u00a0%Y,\\u00a0%H:%M:%S\"\n\t\t},\n\t\tsk: {\n\t\t\tms: [\"jan\", \"feb\", \"mar\", \"apr\", \"m\\u00e1j\", \"j\\u00fan\", \"j\\u00fal\", \"aug\", \"sep\", \"okt\", \"nov\", \"dec\"],\n\t\t\tml: [\"janu\\u00e1r\", \"febru\\u00e1r\", \"marec\", \"apr\\u00edl\", \"m\\u00e1j\", \"j\\u00fan\", \"j\\u00fal\", \"august\", \"september\", \"okt\\u00f3ber\", \"november\", \"december\"],\n\t\t\tws: [\"Ne\", \"Po\", \"Ut\", \"St\", \"\\u0160t\", \"Pi\", \"So\"],\n\t\t\twl: [\"Nede\\u013ea\", \"Pondelok\", \"Utorok\", \"Streda\", \"\\u0160tvrtok\", \"Piatok\", \"Sobota\"],\n\t\t\txf: \"%d.%m.%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a\\u00a0%d.\\u00a0%B\\u00a0%Y,\\u00a0%H:%M:%S\"\n\t\t},\n\t\tpl: {\n\t\t\tms: [\"sty\", \"lut\", \"mar\", \"kwi\", \"maj\", \"cze\", \"lip\", \"sie\", \"wrz\", \"pa\\u017a\", \"lis\", \"gru\"],\n\t\t\tml: [\"stycze\\u0144\", \"luty\", \"marzec\", \"kwiecie\\u0144\", \"maj\", \"czerwiec\", \"lipiec\", \"sierpie\\u0144\", \"wrzesie\\u0144\", \"pa\\u017adziernik\", \"listopad\", \"grudzie\\u0144\"],\n\t\t\tws: [\"nie\", \"pon\", \"wto\", \"\\u015bro\", \"czw\", \"pi\\u0105\", \"sob\"],\n\t\t\twl: [\"niedziela\", \"poniedzia\\u0142ek\", \"wtorek\", \"\\u015broda\", \"czwartek\", \"pi\\u0105tek\", \"sobota\"],\n\t\t\txf: \"%d.%m.%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a, %d %b %Y, %H:%M:%S\"\n\t\t},\n\t\thr: {\n\t\t\tms: [\"Sij\", \"Vel\", \"O\\u017eu\", \"Tra\", \"Svi\", \"Lip\", \"Srp\", \"Kol\", \"Ruj\", \"Lis\", \"Stu\", \"Pro\"],\n\t\t\tml: [\"Sije\\u010danj\", \"Velja\\u010da\", \"O\\u017eujak\", \"Travanj\", \"Svibanj\", \"Lipanj\", \"Srpanj\", \"Kolovoz\", \"Rujan\", \"Listopad\", \"Studeni\", \"Prosinac\"],\n\t\t\tws: [\"Ned\", \"Pon\", \"Uto\", \"Sri\", \"\\u010cet\", \"Pet\", \"Sub\"],\n\t\t\twl: [\"Nedjelja\", \"Ponedjeljak\", \"Utorak\", \"Srijeda\", \"\\u010cetvrtak\", \"Petak\", \"Subota\"],\n\t\t\txf: \"%d.%m.%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tsr: {\n\t\t\tms: [\"\\u0458\\u0430\\u043d\", \"\\u0444\\u0435\\u0431\", \"\\u043c\\u0430\\u0440\", \"\\u0430\\u043f\\u0440\", \"\\u043c\\u0430\\u0458\", \"\\u0458\\u0443\\u043d\", \"\\u0458\\u0443\\u043b\", \"\\u0430\\u0432\\u0433\", \"\\u0441\\u0435\\u043f\", \"\\u043e\\u043a\\u0442\", \"\\u043d\\u043e\\u0432\", \"\\u0434\\u0435\\u0446\"],\n\t\t\tml: [\"\\u0458\\u0430\\u043d\\u0443\\u0430\\u0440\", \"\\u0444\\u0435\\u0431\\u0440\\u0443\\u0430\\u0440\", \"\\u043c\\u0430\\u0440\\u0442\", \"\\u0430\\u043f\\u0440\\u0438\\u043b\", \"\\u043c\\u0430\\u0458\", \"\\u0458\\u0443\\u043d\", \"\\u0458\\u0443\\u043b\", \"\\u0430\\u0432\\u0433\\u0443\\u0441\\u0442\", \"\\u0441\\u0435\\u043f\\u0442\\u0435\\u043c\\u0431\\u0430\\u0440\", \"\\u043e\\u043a\\u0442\\u043e\\u0431\\u0430\\u0440\", \"\\u043d\\u043e\\u0432\\u0435\\u043c\\u0431\\u0430\\u0440\", \"\\u0434\\u0435\\u0446\\u0435\\u043c\\u0431\\u0430\\u0440\"],\n\t\t\tws: [\"\\u043d\\u0435\\u0434\", \"\\u043f\\u043e\\u043d\", \"\\u0443\\u0442\\u043e\", \"\\u0441\\u0440\\u0435\", \"\\u0447\\u0435\\u0442\", \"\\u043f\\u0435\\u0442\", \"\\u0441\\u0443\\u0431\"],\n\t\t\twl: [\"\\u043d\\u0435\\u0434\\u0435\\u0459\\u0430\", \"\\u043f\\u043e\\u043d\\u0435\\u0434\\u0435\\u0459\\u0430\\u043a\", \"\\u0443\\u0442\\u043e\\u0440\\u0430\\u043a\", \"\\u0441\\u0440\\u0435\\u0434\\u0430\", \"\\u0447\\u0435\\u0442\\u0432\\u0440\\u0442\\u0430\\u043a\", \"\\u043f\\u0435\\u0442\\u0430\\u043a\", \"\\u0441\\u0443\\u0431\\u043e\\u0442\\u0430\"],\n\t\t\txf: \"%d.%m.%Y.\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%A, %d. %B %Y. %H:%M:%S\"\n\t\t},\n\t\tro: {\n\t\t\tms: [\"ian\", \"feb\", \"mar\", \"apr\", \"mai\", \"iun\", \"iul\", \"aug\", \"sep\", \"oct\", \"nov\", \"dec\"],\n\t\t\tml: [\"ianuarie\", \"februarie\", \"martie\", \"aprilie\", \"mai\", \"iunie\", \"iulie\", \"august\", \"septembrie\", \"octombrie\", \"noiembrie\", \"decembrie\"],\n\t\t\tws: [\"Du\", \"Lu\", \"Ma\", \"Mi\", \"Jo\", \"Vi\", \"Sb\"],\n\t\t\twl: [\"duminic\\u0103\", \"luni\", \"mar\\u0163i\", \"miercuri\", \"joi\", \"vineri\", \"s\\u00e2mb\\u0103t\\u0103\"],\n\t\t\txf: \"%d.%m.%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\thu: {\n\t\t\tms: [\"jan\", \"febr\", \"m\\u00e1rc\", \"\\u00e1pr\", \"m\\u00e1j\", \"j\\u00fan\", \"j\\u00fal\", \"aug\", \"szept\", \"okt\", \"nov\", \"dec\"],\n\t\t\tml: [\"janu\\u00e1r\", \"febru\\u00e1r\", \"m\\u00e1rcius\", \"\\u00e1prilis\", \"m\\u00e1jus\", \"j\\u00fanius\", \"j\\u00falius\", \"augusztus\", \"szeptember\", \"okt\\u00f3ber\", \"november\", \"december\"],\n\t\t\tws: [\"v\", \"h\", \"k\", \"sze\", \"cs\", \"p\", \"szo\"],\n\t\t\twl: [\"vas\\u00e1rnap\", \"h\\u00e9tf\\u0151\", \"kedd\", \"szerda\", \"cs\\u00fct\\u00f6rt\\u00f6k\", \"p\\u00e9ntek\", \"szombat\"],\n\t\t\txf: \"%Y-%m-%d\",\n\t\t\tXf: \"%H.%M.%S\",\n\t\t\tcf: \"%Y. %b. %d., %A, %H.%M.%S\"\n\t\t},\n\t\ttr: {\n\t\t\tms: [\"Oca\", \"\\u015eub\", \"Mar\", \"Nis\", \"May\", \"Haz\", \"Tem\", \"A\\u011fu\", \"Eyl\", \"Eki\", \"Kas\", \"Ara\"],\n\t\t\tml: [\"Ocak\", \"\\u015eubat\", \"Mart\", \"Nisan\", \"May\\u0131s\", \"Haziran\", \"Temmuz\", \"A\\u011fustos\", \"Eyl\\u00fcl\", \"Ekim\", \"Kas\\u0131m\", \"Aral\\u0131k\"],\n\t\t\tws: [\"Paz\", \"Pzt\", \"Sal\", \"\\u00c7r\\u015f\", \"Pr\\u015f\", \"Cum\", \"Cts\"],\n\t\t\twl: [\"Pazar\", \"Pazartesi\", \"Sal\\u0131\", \"\\u00c7ar\\u015famba\", \"Per\\u015fembe\", \"Cuma\", \"Cumartesi\"],\n\t\t\txf: \"%d-%m-%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tru: {\n\t\t\tms: [\"\\u042f\\u043d\\u0432\", \"\\u0424\\u0435\\u0432\", \"\\u041c\\u0430\\u0440\", \"\\u0410\\u043f\\u0440\", \"\\u041c\\u0430\\u0439\", \"\\u0418\\u044e\\u043d\", \"\\u0418\\u044e\\u043b\", \"\\u0410\\u0432\\u0433\", \"\\u0421\\u0435\\u043d\", \"\\u041e\\u043a\\u0442\", \"\\u041d\\u043e\\u044f\", \"\\u0414\\u0435\\u043a\"],\n\t\t\tml: [\"\\u042f\\u043d\\u0432\\u0430\\u0440\\u044c\", \"\\u0424\\u0435\\u0432\\u0440\\u0430\\u043b\\u044c\", \"\\u041c\\u0430\\u0440\\u0442\", \"\\u0410\\u043f\\u0440\\u0435\\u043b\\u044c\", \"\\u041c\\u0430\\u0439\", \"\\u0418\\u044e\\u043d\\u044c\", \"\\u0418\\u044e\\u043b\\u044c\", \"\\u0410\\u0432\\u0433\\u0443\\u0441\\u0442\", \"\\u0421\\u0435\\u043d\\u0442\\u044f\\u0431\\u0440\\u044c\", \"\\u041e\\u043a\\u0442\\u044f\\u0431\\u0440\\u044c\", \"\\u041d\\u043e\\u044f\\u0431\\u0440\\u044c\", \"\\u0414\\u0435\\u043a\\u0430\\u0431\\u0440\\u044c\"],\n\t\t\tws: [\"\\u0412\\u0441\\u043a\", \"\\u041f\\u043d\\u0434\", \"\\u0412\\u0442\\u0440\", \"\\u0421\\u0440\\u0434\", \"\\u0427\\u0442\\u0432\", \"\\u041f\\u0442\\u043d\", \"\\u0421\\u0431\\u0442\"],\n\t\t\twl: [\"\\u0412\\u043e\\u0441\\u043a\\u0440\\u0435\\u0441\\u0435\\u043d\\u044c\\u0435\", \"\\u041f\\u043e\\u043d\\u0435\\u0434\\u0435\\u043b\\u044c\\u043d\\u0438\\u043a\", \"\\u0412\\u0442\\u043e\\u0440\\u043d\\u0438\\u043a\", \"\\u0421\\u0440\\u0435\\u0434\\u0430\", \"\\u0427\\u0435\\u0442\\u0432\\u0435\\u0440\\u0433\", \"\\u041f\\u044f\\u0442\\u043d\\u0438\\u0446\\u0430\", \"\\u0421\\u0443\\u0431\\u0431\\u043e\\u0442\\u0430\"],\n\t\t\txf: \"%d.%m.%Y\",\n\t\t\tXf: \"%H:%M:%S\",\n\t\t\tcf: \"%a %d %b %Y %H:%M:%S\"\n\t\t},\n\t\tzh: {\n\t\t\tms: [\" 1\\u6708\", \" 2\\u6708\", \" 3\\u6708\", \" 4\\u6708\", \" 5\\u6708\", \" 6\\u6708\", \" 7\\u6708\", \" 8\\u6708\", \" 9\\u6708\", \"10\\u6708\", \"11\\u6708\", \"12\\u6708\"],\n\t\t\tml: [\"\\u4e00\\u6708\", \"\\u4e8c\\u6708\", \"\\u4e09\\u6708\", \"\\u56db\\u6708\", \"\\u4e94\\u6708\", \"\\u516d\\u6708\", \"\\u4e03\\u6708\", \"\\u516b\\u6708\", \"\\u4e5d\\u6708\", \"\\u5341\\u6708\", \"\\u5341\\u4e00\\u6708\", \"\\u5341\\u4e8c\\u6708\"],\n\t\t\tws: [\"\\u65e5\", \"\\u4e00\", \"\\u4e8c\", \"\\u4e09\", \"\\u56db\", \"\\u4e94\", \"\\u516d\"],\n\t\t\twl: [\"\\u661f\\u671f\\u65e5\", \"\\u661f\\u671f\\u4e00\", \"\\u661f\\u671f\\u4e8c\", \"\\u661f\\u671f\\u4e09\", \"\\u661f\\u671f\\u56db\", \"\\u661f\\u671f\\u4e94\", \"\\u661f\\u671f\\u516d\"],\n\t\t\txf: \"%Y\\u5e74%b%d\\u65e5\",\n\t\t\tXf: \"%H\\u65f6%M\\u5206%S\\u79d2\",\n\t\t\tcf: \"%Y\\u5e74%b%d\\u65e5 %A %H\\u65f6%M\\u5206%S\\u79d2\"\n\t\t},\n\t\tko: {\n\t\t\tms: [\" 1\\uc6d4\", \" 2\\uc6d4\", \" 3\\uc6d4\", \" 4\\uc6d4\", \" 5\\uc6d4\", \" 6\\uc6d4\", \" 7\\uc6d4\", \" 8\\uc6d4\", \" 9\\uc6d4\", \"10\\uc6d4\", \"11\\uc6d4\", \"12\\uc6d4\"],\n\t\t\tml: [\"1\\uc6d4\", \"2\\uc6d4\", \"3\\uc6d4\", \"4\\uc6d4\", \"5\\uc6d4\", \"6\\uc6d4\", \"7\\uc6d4\", \"8\\uc6d4\", \"9\\uc6d4\", \"10\\uc6d4\", \"11\\uc6d4\", \"12\\uc6d4\"],\n\t\t\tws: [\"\\uc77c\", \"\\uc6d4\", \"\\ud654\", \"\\uc218\", \"\\ubaa9\", \"\\uae08\", \"\\ud1a0\"],\n\t\t\twl: [\"\\uc77c\\uc694\\uc77c\", \"\\uc6d4\\uc694\\uc77c\", \"\\ud654\\uc694\\uc77c\", \"\\uc218\\uc694\\uc77c\", \"\\ubaa9\\uc694\\uc77c\", \"\\uae08\\uc694\\uc77c\", \"\\ud1a0\\uc694\\uc77c\"],\n\t\t\txf: \"%Y\\ub144 %B %d\\uc77c\",\n\t\t\tXf: \"%H\\uc2dc %M\\ubd84 %S\\ucd08\",\n\t\t\tcf: \"%Y\\ub144 %B %d\\uc77c (%a) %p %I\\uc2dc %M\\ubd84 %S\\ucd08\"\n\t\t},\n\t\tja: {\n\t\t\tms: [\" 1\\u6708\", \" 2\\u6708\", \" 3\\u6708\", \" 4\\u6708\", \" 5\\u6708\", \" 6\\u6708\", \" 7\\u6708\", \" 8\\u6708\", \" 9\\u6708\", \"10\\u6708\", \"11\\u6708\", \"12\\u6708\"],\n\t\t\tml: [\"1\\u6708\", \"2\\u6708\", \"3\\u6708\", \"4\\u6708\", \"5\\u6708\", \"6\\u6708\", \"7\\u6708\", \"8\\u6708\", \"9\\u6708\", \"10\\u6708\", \"11\\u6708\", \"12\\u6708\"],\n\t\t\tws: [\"\\u65e5\", \"\\u6708\", \"\\u706b\", \"\\u6c34\", \"\\u6728\", \"\\u91d1\", \"\\u571f\"],\n\t\t\twl: [\"\\u65e5\\u66dc\\u65e5\", \"\\u6708\\u66dc\\u65e5\", \"\\u706b\\u66dc\\u65e5\", \"\\u6c34\\u66dc\\u65e5\", \"\\u6728\\u66dc\\u65e5\", \"\\u91d1\\u66dc\\u65e5\", \"\\u571f\\u66dc\\u65e5\"],\n\t\t\txf: \"%Y\\u5e74%B%d\\u65e5\",\n\t\t\tXf: \"%H\\u6642%M\\u5206%S\\u79d2\",\n\t\t\tcf: \"%Y\\u5e74%B%d\\u65e5 %H\\u6642%M\\u5206%S\\u79d2\"\n\t\t}\n\t};\n\n\tlet translation = translations[lang];\n\n\tlet result = [];\n\tlet inspec = false;\n\tfor (let c of fmt)\n\t{\n\t\tif (inspec)\n\t\t{\n\t\t\tswitch (c)\n\t\t\t{\n\t\t\t\tcase \"a\":\n\t\t\t\t\tc = translation.ws[obj.getDay()];\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"A\":\n\t\t\t\t\tc = translation.wl[obj.getDay()];\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"b\":\n\t\t\t\t\tc = translation.ms[obj.getMonth()];\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"B\":\n\t\t\t\t\tc = translation.ml[obj.getMonth()];\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"c\":\n\t\t\t\t\tc = _format(obj, translation.cf, lang);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"d\":\n\t\t\t\t\tc = _lpad(obj.getDate(), \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"f\":\n\t\t\t\t\tc = _lpad(obj.getMilliseconds(), \"0\", 3) + \"000\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"H\":\n\t\t\t\t\tc = _lpad(obj.getHours(), \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"I\":\n\t\t\t\t\tc = _lpad(((obj.getHours()-1) % 12)+1, \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"j\":\n\t\t\t\t\tc = _lpad(datetimetype.yearday(obj), \"0\", 3);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"m\":\n\t\t\t\t\tc = _lpad(obj.getMonth()+1, \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"M\":\n\t\t\t\t\tc = _lpad(obj.getMinutes(), \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"p\":\n\t\t\t\t\tc = obj.getHours() < 12 ? \"AM\" : \"PM\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"S\":\n\t\t\t\t\tc = _lpad(obj.getSeconds(), \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"U\":\n\t\t\t\t\tc = _lpad(_week4format(obj, 6), \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"w\":\n\t\t\t\t\tc = obj.getDay();\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"W\":\n\t\t\t\t\tc = _lpad(_week4format(obj, 0), \"0\", 2);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"x\":\n\t\t\t\t\tc = _format(obj, translation.xf, lang);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"X\":\n\t\t\t\t\tc = _format(obj, translation.Xf, lang);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"y\":\n\t\t\t\t\tc = (obj.getFullYear() % 100).toString();\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"Y\":\n\t\t\t\t\tc = obj.getFullYear().toString();\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"z\":\n\t\t\t\t\t// UTC offset in the form +HHMM or -HHMM\n\t\t\t\t\tc = \"\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"Z\":\n\t\t\t\t\t// Time zone name\n\t\t\t\t\tc = \"\";\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tresult.push(c);\n\t\t\tinspec = false;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (c == \"%\")\n\t\t\t\tinspec = true;\n\t\t\telse\n\t\t\t\tresult.push(c);\n\t\t}\n\t}\n\treturn result.join(\"\");\n};\n\nclass Format\n{\n\tstatic integer_types = ['b', 'c', 'd', 'o', 'x', 'X', 'n'];\n\tstatic float_types = ['e', 'E', 'f', 'F'];\n\n\tconstructor(fmt)\n\t{\n\t\tlet work = fmt;\n\t\t// [[fill]align][sign][#][0][minimumwidth][.precision][type]\n\t\n\t\t// Defaults\n\t\tthis.fill = ' ';\n\t\tthis.align = '>'; // '<', '>', '=' or '^'\n\t\tthis.sign = '-'; // '+', '-' or ' '\n\t\tthis.alternate = false;\n\t\tthis.minimumwidth = 0;\n\t\tthis.precision = 6;\n\t\tthis.type = 'd'; // 'b', 'c', 'd', 'e', 'E', 'f', 'F', 'o', 'x', 'X' or 'n'\n\n\t\t// Determine output type\n\t\tif (/[bcdeEfFoxXn]$/.test(work))\n\t\t{\n\t\t\tthis.type = work.substring(work.length-1);\n\t\t\twork = work.substring(0, work.length-1);\n\t\t}\n\t\n\t\t// extract precision\n\t\tif (/\\.\\d+$/.test(work))\n\t\t{\n\t\t\tlet indexOfLastDot = work.lastIndexOf(\".\")\n\t\t\tthis.precision = Number(work.substring(indexOfLastDot).substring(1))\n\t\t\twork = work.substring(0, indexOfLastDot);\n\t\t}\n\t\n\t\t// Extract minimum width\n\t\tif (/\\d+$/.test(work))\n\t\t{\n\t\t\tlet minimumwidthStr = /\\d+$/.exec(work);\n\t\t\twork = work.replace(/\\d+$/, \"\");\n\t\t\tif (/^0/.test(minimumwidthStr))\n\t\t\t{\n\t\t\t\tthis.align = '=';\n\t\t\t\tthis.fill = '0';\n\t\t\t}\n\t\t\tthis.minimumwidth = parseInt(minimumwidthStr);\n\t\t}\n\t\n\t\t// Alternate form?\n\t\tif (/#$/.test(work))\n\t\t{\n\t\t\tthis.alternate = true;\n\t\t\twork = work.substring(0, work.length-1);\n\t\t}\n\t\n\t\t// Determine sign\n\t\tif (/[+ -]$/.test(work))\n\t\t{\n\t\t\tif (this.type == 'c')\n\t\t\t\tthrow new ValueError(\"sign not allowed for integer format type 'c'\");\n\t\t\t\tthis.sign = work.substring(work.length-1);\n\t\t\twork = work.substring(0, work.length-1);\n\t\t}\n\t\n\t\t// Extract fill and align char\n\t\tif (work.length >= 3)\n\t\t\tthrow new ValueError(\"illegal integer format string \" + _repr(fmt));\n\t\telse if (work.length == 2)\n\t\t{\n\t\t\tif (/[<>=^]$/.test(work))\n\t\t\t{\n\t\t\t\tthis.align = work[1];\n\t\t\t\tthis.fill = work[0];\n\t\t\t}\n\t\t\telse\n\t\t\t\tthrow new ValueError(\"illegal integer format string \" + _repr(fmt));\n\t\t}\n\t\telse if (work.length == 1)\n\t\t{\n\t\t\tif (/^[<>=^]$/.test(work))\n\t\t\t\tthis.align = work;\n\t\t\telse\n\t\t\t\tthrow new ValueError(\"illegal integer format string \" + _repr(fmt));\n\t\t}\n\t}\n\n\tis_integer_type()\n\t{\n\t\treturn Format.integer_types.includes(this.type);\n\t}\n\n\tget_integer_type_or_default()\n\t{\n\t\tif (this.is_integer_type())\n\t\t\treturn this.type;\n\t\telse\n\t\t\treturn 'd';\n\t}\n\n\tis_float_type()\n\t{\n\t\treturn Format.float_types.includes(this.type);\n\t}\n\n\tget_float_type_or_default()\n\t{\n\t\tif (this.is_float_type())\n\t\t\treturn this.type;\n\t\telse\n\t\t\treturn 'f';\n\t}\n};\n\nfunction _format_int(obj, fmt, lang)\n{\n\t// [[fill]align][sign][#][0][minimumwidth][type]\n\n\t// Defaults\n\tlet fill = fmt.fill;\n\tlet align = fmt.align; // '<', '>', '=' or '^'\n\tlet sign = fmt.sign; // '+', '-' or ' '\n\tlet alternate = fmt.alternate;\n\tlet minimumwidth = fmt.minimumwidth;\n\tlet type = fmt.get_integer_type_or_default(); // 'b', 'c', 'd', 'o', 'x', 'X' or 'n'\n\n\t// Basic number formatting\n\tlet neg = obj < 0;\n\n\tif (neg)\n\t\tobj = -obj;\n\n\tlet output;\n\tswitch (type)\n\t{\n\t\tcase 'b':\n\t\t\toutput = obj.toString(2);\n\t\t\tbreak;\n\t\tcase 'c':\n\t\t\tif (neg || obj > 65535)\n\t\t\t\tthrow new ValueError(\"value out of bounds for c format\");\n\t\t\toutput = String.fromCharCode(obj);\n\t\t\tbreak;\n\t\tcase 'd':\n\t\t\toutput = obj.toString();\n\t\t\tbreak;\n\t\tcase 'o':\n\t\t\toutput = obj.toString(8);\n\t\t\tbreak;\n\t\tcase 'x':\n\t\t\toutput = obj.toString(16);\n\t\t\tbreak;\n\t\tcase 'X':\n\t\t\toutput = obj.toString(16).toUpperCase();\n\t\t\tbreak;\n\t\tcase 'n':\n\t\t\t// FIXME: locale formatting\n\t\t\toutput = obj.toString();\n\t\t\tbreak;\n\t}\n\n\t// The rest of the formatting\n\tif (align === '=')\n\t{\n\t\tif (neg || sign !== '-')\n\t\t\t--minimumwidth;\n\t\tif (alternate && (type === 'b' || type === 'o' || type === 'x' || type === 'X'))\n\t\t\tminimumwidth -= 2;\n\n\t\tif (output.length < minimumwidth)\n\t\t\toutput = _str_repeat(fill, minimumwidth-output.length) + output;\n\n\t\tif (alternate && (type === 'b' || type === 'o' || type === 'x' || type === 'X'))\n\t\t\toutput = \"0\" + type + output;\n\n\t\tif (neg)\n\t\t\toutput = \"-\" + output;\n\t\telse if (sign != '-')\n\t\t\toutput = sign + output;\n\t}\n\telse\n\t{\n\t\tif (alternate && (type == 'b' || type == 'o' || type == 'x' || type == 'X'))\n\t\t\toutput = \"0\" + type + output;\n\t\tif (neg)\n\t\t\toutput = \"-\" + output;\n\t\telse if (sign != '-')\n\t\t\toutput = sign + output;\n\t\tif (output.length < minimumwidth)\n\t\t{\n\t\t\tif (align == '<')\n\t\t\t\toutput = output + _str_repeat(fill, minimumwidth-output.length);\n\t\t\telse if (align == '>')\n\t\t\t\toutput = _str_repeat(fill, minimumwidth-output.length) + output;\n\t\t\telse // if (align == '^')\n\t\t\t{\n\t\t\t\tlet pad = minimumwidth - output.length;\n\t\t\t\tlet padBefore = Math.floor(pad/2);\n\t\t\t\tlet padAfter = pad-padBefore;\n\t\t\t\toutput = _str_repeat(fill, padBefore) + output + _str_repeat(fill, padAfter);\n\t\t\t}\n\t\t}\n\t}\n\treturn output;\n};\n\n\nfunction _format_float(obj, fmt, lang)\n{\n\tlet work = fmt;\n\t// [[fill]align][sign][#][0][minimumwidth][.precision][type]\n\n\t// Defaults\n\tlet fill = fmt.fill;\n\tlet align = fmt.align; // '<', '>', '=' or '^'\n\tlet sign = fmt.sign; // '+', '-' or ' '\n\tlet alternate = fmt.alternate;\n\tlet minimumwidth = fmt.minimumwidth;\n\tlet precision = fmt.precision;\n\tlet type = fmt.get_float_type_or_default(); // 'e', 'E', 'f', 'F'\n\n\t// Basic number formatting\n\tlet neg = obj < 0;\n\n\tif (neg)\n\t\tobj = -obj;\n\n\tlet output;\n\tif (type === 'e' || type === 'E')\n\t{\n\t\toutput = obj.toExponential(precision);\n\t\tif (type === 'E')\n\t\t\toutput = output.replace('e', 'E');\n\t}\n\telse\n\t{\n\t\toutput = obj.toFixed(precision);\n\t\tif (precision === 0 && alternate)\n\t\t\toutput += \".\";\n\t}\n\n\t// The rest of the formatting\n\tif (align === '=')\n\t{\n\t\tif (neg || sign !== '-')\n\t\t\t--minimumwidth;\n\n\t\tif (output.length < minimumwidth)\n\t\t\toutput = _str_repeat(fill, minimumwidth-output.length) + output;\n\n\t\tif (neg)\n\t\t\toutput = \"-\" + output;\n\t\telse if (sign != '-')\n\t\t\toutput = sign + output;\n\t}\n\telse\n\t{\n\t\tif (neg)\n\t\t\toutput = \"-\" + output;\n\t\telse if (sign != '-')\n\t\t\toutput = sign + output;\n\t\tif (output.length < minimumwidth)\n\t\t{\n\t\t\tif (align == '<')\n\t\t\t\toutput = output + _str_repeat(fill, minimumwidth-output.length);\n\t\t\telse if (align == '>')\n\t\t\t\toutput = _str_repeat(fill, minimumwidth-output.length) + output;\n\t\t\telse // if (align == '^')\n\t\t\t{\n\t\t\t\tlet pad = minimumwidth - output.length;\n\t\t\t\tlet padBefore = Math.floor(pad/2);\n\t\t\t\tlet padAfter = pad-padBefore;\n\t\t\t\toutput = _str_repeat(fill, padBefore) + output + _str_repeat(fill, padAfter);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ([\"de\", \"fr\", \"it\", \"es\", \"nl\", \"no\", \"pl\", \"ru\", \"sv\"].includes(lang))\n\t\toutput = output.replace(\".\", \",\")\n\n\treturn output;\n};\n\n// Format `obj` using the format string `fmt` in the language `lang`\nexport function _format(obj, fmt, lang)\n{\n\tif (lang === undefined || lang === null)\n\t\tlang = \"en\";\n\telse\n\t{\n\t\tlet translations = {de: null, en: null, fr: null, es: null, it: null, da: null, sv: null, nl: null, pt: null, cs: null, sk: null, pl: null, hr: null, sr: null, ro: null, hu: null, tr: null, ru: null, zh: null, ko: null, ja: null};\n\t\tlang = lang.toLowerCase();\n\t\tif (translations[lang] === undefined)\n\t\t{\n\t\t\tlang = lang.split(/_/)[0];\n\t\t\tif (translations[lang] === undefined)\n\t\t\t\tlang = \"en\";\n\t\t}\n\t}\n\tif (_isdate(obj))\n\t\treturn _format_datetime(obj._date, fmt, lang);\n\tif (_isdatetime(obj))\n\t\treturn _format_datetime(obj, fmt, lang);\n\telse if (typeof(obj) === \"number\")\n\t{\n\t\tlet format = new Format(fmt);\n\t\tif (_isfloat(obj) || format.is_float_type())\n\t\t\treturn _format_float(obj, format, lang);\n\t\telse\n\t\t\treturn _format_int(obj, format, lang);\n\t}\n\telse if (obj === true)\n\t\treturn _format_int(1, new Format(fmt), lang);\n\telse if (obj === false)\n\t\treturn _format_int(0, new Format(fmt), lang);\n};\n\nexport function _lpad(string, pad, len)\n{\n\tif (typeof(string) === \"number\")\n\t\tstring = string.toString();\n\twhile (string.length < len)\n\t\tstring = pad + string;\n\treturn string;\n};\n\nexport function _rpad(string, pad, len)\n{\n\tif (typeof(string) === \"number\")\n\t\tstring = string.toString();\n\twhile (string.length < len)\n\t\tstring = string + pad;\n\treturn string;\n};\n\n\n// Clone an object and extend it\nexport function _extend(baseobj, attrs)\n{\n\treturn Object.assign(Object.create(baseobj), attrs);\n};\n\n\nclass NoneType extends Type\n{\n\tinstancecheck(obj)\n\t{\n\t\treturn obj === null;\n\t}\n};\n\nexport let nonetype = new NoneType(null, \"None\", \"The constant `None`.\");\n\n\nclass UndefinedType extends Type\n{\n\tinstancecheck(obj)\n\t{\n\t\treturn obj === undefined;\n\t}\n};\n\nexport let undefinedtype = new UndefinedType(null, \"undefined\", \"An undefined variable or object attribute.\");\n\n\nclass BoolType extends Type\n{\n\t// Convert `obj` to bool, according to its \"truth value\"\n\t[symbols.call](obj=false)\n\t{\n\t\tif (obj === undefined || obj === null || obj === false || obj === 0 || obj === \"\")\n\t\t\treturn false;\n\t\telse if (typeof(obj) === \"object\" && typeof(obj[symbols.bool]) === \"function\")\n\t\t\treturn obj[symbols.bool]();\n\t\telse if (_islist(obj))\n\t\t\treturn obj.length !== 0;\n\t\telse if (_ismap(obj) || _isset(obj))\n\t\t\treturn obj.size != 0;\n\t\telse if (_isobject(obj))\n\t\t{\n\t\t\tfor (let key in obj)\n\t\t\t{\n\t\t\t\tif (!obj.hasOwnProperty(key))\n\t\t\t\t\tcontinue;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn typeof(obj) === \"boolean\";\n\t}\n};\n\nexpose(BoolType.prototype, [\"obj\", \"p=\", false], {name: \"bool\"});\n\nexport let booltype = new BoolType(null, \"bool\", \"An boolean value\");\n\n\nclass IntType extends Type\n{\n\t// Convert `obj` to an integer (if `base` is given `obj` must be a string and `base` is the base for the conversion (default is 10))\n\t[symbols.call](obj=0, base=null)\n\t{\n\t\tlet result;\n\t\tif (base !== null)\n\t\t{\n\t\t\tif (typeof(obj) !== \"string\" || !_isint(base))\n\t\t\t\tthrow new TypeError(\"int() requires a string and an integer\");\n\t\t\tresult = parseInt(obj, base);\n\t\t\tif (result.toString() == \"NaN\")\n\t\t\t\tthrow new TypeError(\"invalid literal for int()\");\n\t\t\treturn result;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (typeof(obj) === \"string\")\n\t\t\t{\n\t\t\t\tresult = parseInt(obj);\n\t\t\t\tif (result.toString() == \"NaN\")\n\t\t\t\t\tthrow new TypeError(\"invalid literal for int()\");\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\telse if (typeof(obj) === \"number\")\n\t\t\t\treturn Math.floor(obj);\n\t\t\telse if (obj === true)\n\t\t\t\treturn 1;\n\t\t\telse if (obj === false)\n\t\t\t\treturn 0;\n\t\t\tthrow new TypeError(\"int() argument must be a string or a number\");\n\t\t}\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn (typeof(obj) === \"number\") && Math.round(obj) == obj;\n\t}\n};\n\nexpose(IntType.prototype, [\"obj\", \"p=\", 0, \"base\", \"pk=\", null], {name: \"int\"});\n\nexport let inttype = new IntType(null, \"int\", \"An integer\");\n\n\nclass FloatType extends Type\n{\n\t// Convert `obj` to a float\n\t[symbols.call](obj=0.0)\n\t{\n\t\tif (typeof(obj) === \"string\")\n\t\t\treturn parseFloat(obj);\n\t\telse if (typeof(obj) === \"number\")\n\t\t\treturn obj;\n\t\telse if (obj === true)\n\t\t\treturn 1.0;\n\t\telse if (obj === false)\n\t\t\treturn 0.0;\n\t\tthrow new TypeError(\"float() argument must be a string or a number\");\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn (typeof(obj) === \"number\") && Math.round(obj) != obj;\n\t}\n};\n\nexpose(FloatType.prototype, [\"obj\", \"p=\", 0.0], {name: \"float\"});\n\nexport let floattype = new FloatType(null, \"float\", \"A floating point number\");\n\n\nexport class StrType extends Type\n{\n\t[symbols.call](obj=\"\")\n\t{\n\t\tif (obj === undefined)\n\t\t\treturn \"\";\n\t\telse if (obj === null)\n\t\t\treturn \"\";\n\t\telse if (obj === false)\n\t\t\treturn \"False\";\n\t\telse if (obj === true)\n\t\t\treturn \"True\";\n\t\telse if (typeof(obj) === \"string\")\n\t\t\treturn obj;\n\t\telse if (typeof(obj) === \"number\")\n\t\t\treturn obj.toString();\n\t\telse if (_isdate(obj))\n\t\t\treturn _date_str(obj);\n\t\telse if (_isdatetime(obj))\n\t\t\treturn _datetime_str(obj);\n\t\telse if (_islist(obj))\n\t\t\treturn _list_repr(obj);\n\t\telse if (_isset(obj))\n\t\t\treturn _set_repr(obj);\n\t\telse if (_ismap(obj))\n\t\t\treturn _map_repr(obj);\n\t\telse if (typeof(obj) === \"object\" && typeof(obj[symbols.str]) === \"function\")\n\t\t\treturn obj[symbols.str]();\n\t\telse if (typeof(obj) === \"object\" && typeof(obj[symbols.repr]) === \"function\")\n\t\t\treturn obj[symbols.repr]();\n\t\telse if (_isobject(obj))\n\t\t\treturn _object_repr(obj);\n\t\telse\n\t\t\treturn _repr(obj);\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn typeof(obj) === \"string\";\n\t}\n\n\tcount(obj, sub, start=null, end=null)\n\t{\n\t\treturn _count(obj, sub, start, end);\n\t}\n\n\tfind(obj, sub, start=null, end=null)\n\t{\n\t\treturn _find(obj, sub, start, end);\n\t}\n\n\trfind(obj, sub, start=null, end=null)\n\t{\n\t\treturn _rfind(obj, sub, start, end);\n\t}\n\n\treplace(obj, old, new_, count=null)\n\t{\n\t\tif (count === null)\n\t\t\tcount = obj.length;\n\n\t\tlet result = [];\n\t\twhile (obj.length)\n\t\t{\n\t\t\tlet pos = obj.indexOf(old);\n\t\t\tif (pos === -1 || !count--)\n\t\t\t{\n\t\t\t\tresult.push(obj);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tresult.push(obj.substr(0, pos), new_);\n\t\t\tobj = obj.substr(pos + old.length);\n\t\t}\n\t\treturn result.join(\"\");\n\t}\n\n\tstrip(obj, chars=null)\n\t{\n\t\tchars = chars || \" \\r\\n\\t\";\n\t\tif (typeof(chars) !== \"string\")\n\t\t\tthrow new TypeError(\"strip() requires a string argument\");\n\n\t\twhile (obj && chars.indexOf(obj[0]) >= 0)\n\t\t\tobj = obj.substr(1);\n\t\twhile (obj && chars.indexOf(obj[obj.length-1]) >= 0)\n\t\t\tobj = obj.substr(0, obj.length-1);\n\t\treturn obj;\n\t}\n\n\tlstrip(obj, chars=null)\n\t{\n\t\tchars = chars || \" \\r\\n\\t\";\n\t\tif (typeof(chars) !== \"string\")\n\t\t\tthrow new TypeError(\"lstrip() requires a string argument\");\n\n\t\twhile (obj && chars.indexOf(obj[0]) >= 0)\n\t\t\tobj = obj.substr(1);\n\t\treturn obj;\n\t}\n\n\trstrip(obj, chars=null)\n\t{\n\t\tchars = chars || \" \\r\\n\\t\";\n\t\tif (typeof(chars) !== \"string\")\n\t\t\tthrow new TypeError(\"rstrip() requires a string argument\");\n\n\t\twhile (obj && chars.indexOf(obj[obj.length-1]) >= 0)\n\t\t\tobj = obj.substr(0, obj.length-1);\n\t\treturn obj;\n\t}\n\n\tsplit(obj, sep=null, maxsplit=null)\n\t{\n\t\tif (sep !== null && typeof(sep) !== \"string\")\n\t\t\tthrow new TypeError(\"split() requires a string\");\n\n\t\tif (maxsplit === null)\n\t\t{\n\t\t\tlet result = obj.split(sep !== null ? sep : /[ \\n\\r\\t]+/);\n\t\t\tif (sep === null)\n\t\t\t{\n\t\t\t\tif (result.length && !result[0].length)\n\t\t\t\t\tresult.splice(0, 1);\n\t\t\t\tif (result.length && !result[result.length-1].length)\n\t\t\t\t\tresult.splice(-1);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (sep !== null)\n\t\t\t{\n\t\t\t\tlet result = [];\n\t\t\t\twhile (obj.length)\n\t\t\t\t{\n\t\t\t\t\tlet pos = obj.indexOf(sep);\n\t\t\t\t\tif (pos === -1 || !maxsplit--)\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.push(obj);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tresult.push(obj.substr(0, pos));\n\t\t\t\t\tobj = obj.substr(pos + sep.length);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet result = [];\n\t\t\t\twhile (obj.length)\n\t\t\t\t{\n\t\t\t\t\tobj = strtype.lstrip(obj, null);\n\t\t\t\t\tlet part;\n\t\t\t\t\tif (!maxsplit--)\n\t\t\t\t\t\t part = obj; // Take the rest of the string\n\t\t\t\t\telse\n\t\t\t\t\t\tpart = obj.split(/[ \\n\\r\\t]+/, 1)[0];\n\t\t\t\t\tif (part.length)\n\t\t\t\t\t\tresult.push(part);\n\t\t\t\t\tobj = obj.substr(part.length);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t}\n\n\trsplit(obj, sep=null, maxsplit=null)\n\t{\n\t\tif (sep !== null && typeof(sep) !== \"string\")\n\t\t\tthrow new TypeError(\"rsplit() requires a string as second argument\");\n\n\t\tif (maxsplit === null)\n\t\t{\n\t\t\tlet result = obj.split(sep !== null ? sep : /[ \\n\\r\\t]+/);\n\t\t\tif (sep === null)\n\t\t\t{\n\t\t\t\tif (result.length && !result[0].length)\n\t\t\t\t\tresult.splice(0, 1);\n\t\t\t\tif (result.length && !result[result.length-1].length)\n\t\t\t\t\tresult.splice(-1);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (sep !== null)\n\t\t\t{\n\t\t\t\tlet result = [];\n\t\t\t\twhile (obj.length)\n\t\t\t\t{\n\t\t\t\t\tlet pos = obj.lastIndexOf(sep);\n\t\t\t\t\tif (pos === -1 || !maxsplit--)\n\t\t\t\t\t{\n\t\t\t\t\t\tresult.unshift(obj);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tresult.unshift(obj.substr(pos+sep.length));\n\t\t\t\t\tobj = obj.substr(0, pos);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet result = [];\n\t\t\t\twhile (obj.length)\n\t\t\t\t{\n\t\t\t\t\tobj = strtype.rstrip(obj);\n\t\t\t\t\tlet part;\n\t\t\t\t\tif (!maxsplit--)\n\t\t\t\t\t\t part = obj; // Take the rest of the string\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tpart = obj.split(/[ \\n\\r\\t]+/);\n\t\t\t\t\t\tpart = part[part.length-1];\n\t\t\t\t\t}\n\t\t\t\t\tif (part.length)\n\t\t\t\t\t\tresult.unshift(part);\n\t\t\t\t\tobj = obj.substr(0, obj.length-part.length);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t}\n\n\tsplitlines(obj, keepends=false)\n\t{\n\t\tlet pos = 0;\n\t\tlet startpos;\n\t\tlet lookingAtLineEnd = function lookingAtLineEnd()\n\t\t{\n\t\t\tlet c = obj[pos];\n\t\t\tif (c === '\\n' || c == '\\u000B' || c == '\\u000C' || c == '\\u001C' || c == '\\u001D' || c == '\\u001E' || c == '\\u0085' || c == '\\u2028' || c == '\\u2029')\n\t\t\t\treturn 1;\n\t\t\tif (c === '\\r')\n\t\t\t{\n\t\t\t\tif (pos == length-1)\n\t\t\t\t\treturn 1;\n\t\t\t\tif (obj[pos+1] === '\\n')\n\t\t\t\t\treturn 2;\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn 0;\n\t\t};\n\n\t\tlet result = [], length = obj.length;\n\n\t\tfor (pos = 0, startpos = 0;;)\n\t\t{\n\t\t\tif (pos >= length)\n\t\t\t{\n\t\t\t\tif (startpos != pos)\n\t\t\t\t\tresult.push(obj.substring(startpos));\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\tlet lineendlen = lookingAtLineEnd();\n\t\t\tif (!lineendlen)\n\t\t\t\t++pos;\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet endpos = pos + (keepends ? lineendlen : 0);\n\t\t\t\tresult.push(obj.substring(startpos, endpos));\n\t\t\t\tpos += lineendlen;\n\t\t\t\tstartpos = pos;\n\t\t\t}\n\t\t}\n\t}\n\n\tlower(obj)\n\t{\n\t\treturn obj.toLowerCase();\n\t}\n\n\tupper(obj)\n\t{\n\t\treturn obj.toUpperCase();\n\t}\n\n\tcapitalize(obj)\n\t{\n\t\tif (obj.length)\n\t\t\tobj = obj[0].toUpperCase() + obj.slice(1).toLowerCase();\n\t\treturn obj;\n\t}\n\n\tjoin(obj, iterable)\n\t{\n\t\tlet resultlist = [];\n\t\tfor (let iter = _iter(iterable);;)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\tbreak;\n\t\t\tresultlist.push(item.value);\n\t\t}\n\t\treturn resultlist.join(obj);\n\t}\n\n\tstartswith(obj, prefix)\n\t{\n\t\tif (typeof(prefix) === \"string\")\n\t\t\treturn obj.substr(0, prefix.length) === prefix;\n\t\telse if (_islist(prefix))\n\t\t{\n\t\t\tfor (let singlepre of prefix)\n\t\t\t{\n\t\t\t\tif (obj.substr(0, singlepre.length) === singlepre)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\telse\n\t\t\tthrow new TypeError(\"startswith() argument must be string\");\n\t}\n\n\tendswith(obj, suffix)\n\t{\n\t\tif (typeof(suffix) === \"string\")\n\t\t\treturn obj.substr(obj.length-suffix.length) === suffix;\n\t\telse if (_islist(suffix))\n\t\t{\n\t\t\tfor (let singlesuf of suffix)\n\t\t\t{\n\t\t\t\tif (obj.substr(obj.length-singlesuf.length) === singlesuf)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\telse\n\t\t\tthrow new TypeError(\"endswith() argument must be string or list of strings\");\n\t}\n};\n\nStrType.prototype.attrs = new Set([\n\t\"split\",\n\t\"rsplit\",\n\t\"splitlines\",\n\t\"strip\",\n\t\"lstrip\",\n\t\"rstrip\",\n\t\"upper\",\n\t\"lower\",\n\t\"capitalize\",\n\t\"startswith\",\n\t\"endswith\",\n\t\"replace\",\n\t\"count\",\n\t\"find\",\n\t\"rfind\",\n\t\"join\"\n]);\n\nexpose(StrType.prototype.count, [\"sub\", \"p\", \"start\", \"p=\", null, \"end\", \"p=\", null]);\nexpose(StrType.prototype.find, [\"sub\", \"p\", \"start\", \"p=\", null, \"end\", \"p=\", null]);\nexpose(StrType.prototype.rfind, [\"sub\", \"p\", \"start\", \"p=\", null, \"end\", \"p=\", null]);\nexpose(StrType.prototype.replace, [\"old\", \"p\", \"new\", \"p\", \"count\", \"p=\", null]);\nexpose(StrType.prototype.strip, [\"chars\", \"p=\", null]);\nexpose(StrType.prototype.lstrip, [\"chars\", \"p=\", null]);\nexpose(StrType.prototype.rstrip, [\"chars\", \"p=\", null]);\nexpose(StrType.prototype.split, [\"sep\", \"pk=\", null, \"maxsplit\", \"pk=\", null]);\nexpose(StrType.prototype.rsplit, [\"sep\", \"pk=\", null, \"maxsplit\", \"pk=\", null]);\nexpose(StrType.prototype.splitlines, [\"keepends\", \"pk=\", false]);\nexpose(StrType.prototype.lower, []);\nexpose(StrType.prototype.upper, []);\nexpose(StrType.prototype.capitalize, []);\nexpose(StrType.prototype.join, [\"iterable\", \"p\"]);\nexpose(StrType.prototype.startswith, [\"prefix\", \"p\"]);\nexpose(StrType.prototype.endswith, [\"suffix\", \"p\"]);\nexpose(StrType.prototype, [\"obj\", \"p=\", \"\"], {name: \"str\"});\n\nexport let strtype = new StrType(null, \"str\", \"A string.\");\n\n\nexport class ListType extends Type\n{\n\t// Convert `obj` to a list\n\t[symbols.call](obj)\n\t{\n\t\tlet iter = _iter(obj);\n\n\t\tlet result = [];\n\t\tfor (;;)\n\t\t{\n\t\t\tlet value = iter.next();\n\t\t\tif (value.done)\n\t\t\t\treturn result;\n\t\t\tresult.push(value.value);\n\t\t}\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn Object.prototype.toString.call(obj) === \"[object Array]\";\n\t}\n\n\tappend(obj, items)\n\t{\n\t\tfor (let item of items)\n\t\t\tobj.push(item);\n\t\treturn null;\n\t}\n\n\tinsert(obj, pos, items)\n\t{\n\t\tif (pos < 0)\n\t\t\tpos += obj.length;\n\n\t\tfor (let item of items)\n\t\t\tobj.splice(pos++, 0, item);\n\t\treturn null;\n\t}\n\n\tpop(obj, pos)\n\t{\n\t\tif (pos < 0)\n\t\t\tpos += obj.length;\n\n\t\tlet result = obj[pos];\n\t\tobj.splice(pos, 1);\n\t\treturn result;\n\t}\n\n\tcount(obj, sub, start=null, end=null)\n\t{\n\t\treturn _count(obj, sub, start, end);\n\t}\n\n\tfind(obj, sub, start=null, end=null)\n\t{\n\t\treturn _find(obj, sub, start, end);\n\t}\n\n\trfind(obj, sub, start=null, end=null)\n\t{\n\t\treturn _rfind(obj, sub, start, end);\n\t}\n};\n\nListType.prototype.attrs = new Set([\n\t\"append\",\n\t\"insert\",\n\t\"pop\",\n\t\"count\",\n\t\"find\",\n\t\"rfind\"\n]);\n\nexpose(ListType.prototype.append, [\"items\", \"*\"]);\nexpose(ListType.prototype.insert, [\"pos\", \"p\", \"items\", \"*\"]);\nexpose(ListType.prototype.pop, [\"pos\", \"p=\", -1]);\nexpose(ListType.prototype.count, [\"sub\", \"p\", \"start\", \"p=\", null, \"end\", \"p=\", null]);\nexpose(ListType.prototype.find, [\"sub\", \"p\", \"start\", \"p=\", null, \"end\", \"p=\", null]);\nexpose(ListType.prototype.rfind, [\"sub\", \"p\", \"start\", \"p=\", null, \"end\", \"p=\", null]);\nexpose(ListType.prototype, [\"iterable\", \"p=\", []], {name: \"list\"});\n\nexport let listtype = new ListType(null, \"list\", \"A list.\");\n\n\nclass DictType extends Type\n{\n\t[symbols.call](args, kwargs)\n\t{\n\t\tlet result = new Map();\n\t\tthis.update(result, args, kwargs);\n\t\treturn result;\n\t}\n\n\t_ismap(obj)\n\t{\n\t\treturn obj !== null && typeof(obj) === \"object\" && typeof(obj.__proto__) === \"object\" && obj.__proto__ === Map.prototype;\n\t}\n\n\t_isobject(obj)\n\t{\n\t\treturn Object.prototype.toString.call(obj) === \"[object Object]\" && !(obj instanceof Proto);\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn dicttype._ismap(obj) || dicttype._isobject(obj);\n\t}\n\n\tgetattr(obj, attrname)\n\t{\n\t\tif (_ismap(obj))\n\t\t{\n\t\t\tif (this.attrs.has(attrname))\n\t\t\t{\n\t\t\t\tlet attr = this[attrname];\n\t\t\t\tlet realattr = function realattr(...args) {\n\t\t\t\t\treturn attr.apply(this, [obj, ...args]);\n\t\t\t\t};\n\t\t\t\t// Unfortunately we can't set `realattr.name`;\n\t\t\t\trealattr._ul4_name = attr._ul4_name || attr.name;\n\t\t\t\trealattr._ul4_signature = attr._ul4_signature;\n\t\t\t\trealattr._ul4_needsobject = attr._ul4_needsobject;\n\t\t\t\trealattr._ul4_needscontext = attr._ul4_needscontext;\n\t\t\t\treturn realattr;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn obj.get(attrname);\n\t\t}\n\t\telse\n\t\t{\n\t\tlet result;\n\t\tif (obj && typeof(obj[symbols.getattr]) === \"function\") // test this before the generic object test\n\t\t\tresult = obj[symbols.getattr](attrname);\n\t\telse\n\t\t\tresult = obj[attrname];\n\t\tif (typeof(result) !== \"function\")\n\t\t\treturn result;\n\t\tlet realresult = function(...args) {\n\t\t\t// We can use `apply` here, as we know that `obj` is a real object.\n\t\t\treturn result.apply(obj, args);\n\t\t};\n\t\trealresult._ul4_name = result._ul4_name || result.name;\n\t\trealresult._ul4_signature = result._ul4_signature;\n\t\trealresult._ul4_needsobject = result._ul4_needsobject;\n\t\trealresult._ul4_needscontext = result._ul4_needscontext;\n\t\treturn realresult;\n\t\t}\n\t}\n\n\tget(obj, key, default_=null)\n\t{\n\t\tif (_ismap(obj))\n\t\t{\n\t\t\tif (obj.has(key))\n\t\t\t\treturn obj.get(key);\n\t\t\treturn default_;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlet result = obj[key];\n\t\t\tif (result === undefined && !obj.hasOwnProperty(key))\n\t\t\t\treturn default_;\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tkeys(obj)\n\t{\n\t\tlet result = [];\n\t\tif (_ismap(obj))\n\t\t{\n\t\t\tfor (let [key, value] of obj)\n\t\t\t\tresult.push(key);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (let key in obj)\n\t\t\t\tresult.push(key);\n\t\t}\n\t\treturn _iter(result);\n\t}\n\n\titems(obj)\n\t{\n\t\tlet result = [];\n\t\tif (_ismap(obj))\n\t\t{\n\t\t\tfor (let [key, value] of obj)\n\t\t\t\tresult.push([key, value]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (let key in obj)\n\t\t\t\tresult.push([key, obj[key]]);\n\t\t}\n\t\treturn _iter(result);\n\t}\n\n\tvalues(obj)\n\t{\n\t\tlet result = [];\n\t\tif (_ismap(obj))\n\t\t{\n\t\t\tfor (let [key, value] of obj)\n\t\t\t\tresult.push(value);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (let key in obj)\n\t\t\t\tresult.push(obj[key]);\n\t\t}\n\t\treturn _iter(result);\n\t}\n\n\t_set(obj, key, value)\n\t{\n\t\tif (_ismap(obj))\n\t\t\tobj.set(key, value);\n\t\telse\n\t\t\tobj[key] = value;\n\t}\n\n\tupdate(obj, others, kwargs)\n\t{\n\t\tfor (let other of others)\n\t\t{\n\t\t\tif (_ismap(other))\n\t\t\t{\n\t\t\t\tfor (let [key, value] of other)\n\t\t\t\t\tdicttype._set(obj, key, value);\n\t\t\t}\n\t\t\telse if (_isobject(other))\n\t\t\t{\n\t\t\t\tfor (let key in other)\n\t\t\t\t\tdicttype._set(obj, key, other[key]);\n\t\t\t}\n\t\t\telse if (_islist(other))\n\t\t\t{\n\t\t\t\tfor (let item of other)\n\t\t\t\t{\n\t\t\t\t\tif (!_islist(item) || (item.length != 2))\n\t\t\t\t\t\tthrow new TypeError(\"update() requires a dict or a list of (key, value) pairs\");\n\t\t\t\t\tdicttype._set(obj, item[0], item[1]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\tthrow new TypeError(\"update() requires a dict or a list of (key, value) pairs\");\n\t\t}\n\t\tfor (let [key, value] of kwargs)\n\t\t\tdicttype._set(obj, key, value);\n\t\treturn null;\n\t}\n\n\tclear(obj)\n\t{\n\t\tif (_ismap(obj))\n\t\t\tobj.clear();\n\t\telse\n\t\t{\n\t\t\tfor (let key in obj)\n\t\t\t\tdelete obj[key];\n\t\t}\n\t\treturn null;\n\t}\n\n\tpop(obj, key, default_=Object)\n\t{\n\t\tif (_ismap(obj))\n\t\t{\n\t\t\tif (obj.has(key))\n\t\t\t{\n\t\t\t\tlet result = obj.get(key);\n\t\t\t\tobj.delete(key);\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (let [key, value] of Object.entries(obj))\n\t\t\t{\n\t\t\t\tdelete obj[key];\n\t\t\t\treturn value;\n\t\t\t}\n\t\t}\n\t\tif (default_ === Object)\n\t\t\tthrow new KeyError(obj, key);\n\t\telse\n\t\t\treturn default_;\n\t}\n};\n\nDictType.prototype.attrs = new Set([\"get\", \"keys\", \"items\", \"values\", \"update\", \"clear\", \"pop\"]);\n\nexpose(DictType.prototype, [\"args\", \"*\", \"kwargs\", \"**\"], {name: \"dict\"});\n\nexpose(DictType.prototype.get, [\"key\", \"p\", \"default\", \"p=\", null]);\nexpose(DictType.prototype.keys, []);\nexpose(DictType.prototype.items, []);\nexpose(DictType.prototype.values, []);\nexpose(DictType.prototype.update, [\"others\", \"*\", \"kwargs\", \"**\"]);\nexpose(DictType.prototype.clear, []);\nexpose(DictType.prototype.pop, [\"key\", \"p\", \"default\", \"p=\", Object]);\n\nexport let dicttype = new DictType(null, \"dict\", \"An object that maps keys to values.\");\n\n\nexport class SetType extends Type\n{\n\t// Convert `obj` to a set\n\t[symbols.call](obj=[])\n\t{\n\t\tlet iter = _iter(obj);\n\n\t\tlet result = new Set();\n\t\tfor (;;)\n\t\t{\n\t\t\tlet value = iter.next();\n\t\t\tif (value.done)\n\t\t\t\treturn result;\n\t\t\tresult.add(value.value);\n\t\t}\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn Object.prototype.toString.call(obj) === \"[object Set]\";\n\t}\n\n\tadd(obj, items)\n\t{\n\t\tfor (let item of items)\n\t\t\tobj.add(item);\n\t}\n\n\tclear(obj)\n\t{\n\t\tobj.clear();\n\t\treturn null;\n\t}\n};\n\nSetType.prototype.attrs = new Set([\"add\", \"clear\"]);\n\nexpose(SetType.prototype.add, [\"items\", \"*\"]);\nexpose(SetType.prototype.clear, []);\nexpose(SetType.prototype, [\"iterable\", \"p=\", []], {name: \"set\"});\n\nexport let settype = new SetType(null, \"set\", \"A set.\");\n\n\nexport class DateType extends Type\n{\n\t// Return a `Date` object from the arguments passed in\n\t[symbols.call](year, month, day)\n\t{\n\t\treturn new Date_(year, month, day);\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn (obj instanceof Date_);\n\t}\n\n\tweekday(obj)\n\t{\n\t\treturn datetimetype.weekday(obj._date);\n\t}\n\n\tcalendar(obj, firstweekday=0, mindaysinfirstweek=4)\n\t{\n\t\treturn datetimetype.calendar(obj._date, firstweekday, mindaysinfirstweek);\n\t}\n\n\tweek(obj, firstweekday=0, mindaysinfirstweek=4)\n\t{\n\t\treturn datetimetype.calendar(obj._date, firstweekday, mindaysinfirstweek)[1];\n\t}\n\n\tday(obj)\n\t{\n\t\treturn obj._date.getDate();\n\t}\n\n\tmonth(obj)\n\t{\n\t\treturn obj._date.getMonth()+1;\n\t}\n\n\tyear(obj)\n\t{\n\t\treturn obj._date.getFullYear();\n\t}\n\n\tdate(obj)\n\t{\n\t\treturn obj;\n\t}\n\n\tmimeformat(obj)\n\t{\n\t\tlet weekdayname = [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"];\n\t\tlet monthname = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\t\tlet d = obj._date;\n\n\t\treturn weekdayname[datetimetype.weekday(d)] + \", \" + _lpad(d.getDate(), \"0\", 2) + \" \" + monthname[d.getMonth()] + \" \" + d.getFullYear();\n\t}\n\n\tisoformat(obj)\n\t{\n\t\tlet d = obj._date;\n\t\treturn d.getFullYear() + \"-\" + _lpad((d.getMonth()+1).toString(), \"0\", 2) + \"-\" + _lpad(d.getDate().toString(), \"0\", 2);\n\t}\n\n\tyearday(obj)\n\t{\n\t\treturn datetimetype.yearday(obj._date);\n\t}\n};\n\nDateType.prototype.attrs = new Set([\n\t\"weekday\",\n\t\"week\",\n\t\"calendar\",\n\t\"day\",\n\t\"month\",\n\t\"year\",\n\t\"date\",\n\t\"mimeformat\",\n\t\"isoformat\",\n\t\"yearday\"\n]);\n\nexpose(DateType.prototype.weekday, []);\nexpose(DateType.prototype.calendar, [\"firstweekday\", \"pk=\", 0, \"mindaysinfirstweek\", \"pk=\", 4]);\nexpose(DateType.prototype.week, [\"firstweekday\", \"pk=\", 0, \"mindaysinfirstweek\", \"pk=\", 4]);\nexpose(DateType.prototype.day, []);\nexpose(DateType.prototype.month, []);\nexpose(DateType.prototype.year, []);\nexpose(DateType.prototype.date, []);\nexpose(DateType.prototype.mimeformat, []);\nexpose(DateType.prototype.isoformat, []);\nexpose(DateType.prototype.yearday, []);\nexpose(DateType.prototype, [\"year\", \"pk\", \"month\", \"pk\", \"day\", \"pk\"], {name: \"date\"});\n\nexport let datetype = new DateType(null, \"date\", \"A date\");\n\n\nexport class DateTimeType extends Type\n{\n\t[symbols.call](year, month, day, hour=0, minute=0, second=0, microsecond=0)\n\t{\n\t\treturn new Date(year, month-1, day, hour, minute, second, microsecond/1000);\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn Object.prototype.toString.call(obj) == \"[object Date]\";\n\t}\n\n\tweekday(obj)\n\t{\n\t\tlet d = obj.getDay();\n\t\treturn d ? d-1 : 6;\n\t}\n\n\tcalendar(obj, firstweekday=0, mindaysinfirstweek=4)\n\t{\n\t\t// Normalize parameters\n\t\tfirstweekday = _mod(firstweekday, 7);\n\t\tif (mindaysinfirstweek < 1)\n\t\t\tmindaysinfirstweek = 1;\n\t\telse if (mindaysinfirstweek > 7)\n\t\t\tmindaysinfirstweek = 7;\n\n\t\t// `obj` might be in the first week of the next year, or last week of\n\t\t// the previous year, so we might have to try those too.\n\t\tfor (let offset = +1; offset >= -1; --offset)\n\t\t{\n\t\t\tlet year = obj.getFullYear() + offset;\n\t\t\t// `refdate` will always be in week 1\n\t\t\tlet refDate = new Date(year, 0, mindaysinfirstweek);\n\t\t\t// Go back to the start of `refdate`s week (i.e. day 1 of week 1)\n\t\t\tlet weekDayDiff = _mod(this.weekday(refDate) - firstweekday, 7);\n\t\t\tlet weekStartYear = refDate.getFullYear();\n\t\t\tlet weekStartMonth = refDate.getMonth();\n\t\t\tlet weekStartDay = refDate.getDate() - weekDayDiff;\n\t\t\tlet weekStart = new Date(weekStartYear, weekStartMonth, weekStartDay);\n\t\t\t// Is our date `obj` at or after day 1 of week 1?\n\t\t\tif (obj.getTime() >= weekStart.getTime())\n\t\t\t{\n\t\t\t\tlet diff = SubAST.prototype._do(obj, weekStart);\n\t\t\t\t// Add 1, because the first week is week 1, not week 0\n\t\t\t\tlet week = Math.floor(diff.days()/7) + 1;\n\t\t\t\treturn [year, week, this.weekday(obj)];\n\t\t\t}\n\t\t}\n\t}\n\n\tweek(obj, firstweekday=0, mindaysinfirstweek=4)\n\t{\n\t\treturn this.calendar(obj, firstweekday, mindaysinfirstweek)[1];\n\t}\n\n\tday(obj)\n\t{\n\t\treturn obj.getDate();\n\t}\n\n\tmonth(obj)\n\t{\n\t\treturn obj.getMonth()+1;\n\t}\n\n\tyear(obj)\n\t{\n\t\treturn obj.getFullYear();\n\t}\n\n\thour(obj)\n\t{\n\t\treturn obj.getHours();\n\t}\n\n\tminute(obj)\n\t{\n\t\treturn obj.getMinutes();\n\t}\n\n\tsecond(obj)\n\t{\n\t\treturn obj.getSeconds();\n\t}\n\n\tmicrosecond(obj)\n\t{\n\t\treturn obj.getMilliseconds() * 1000;\n\t}\n\n\tdate(obj)\n\t{\n\t\treturn new Date_(datetimetype.year(obj), datetimetype.month(obj), datetimetype.day(obj));\n\t}\n\n\tmimeformat(obj)\n\t{\n\t\tlet weekdayname = [\"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"];\n\t\tlet monthname = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n\t\treturn weekdayname[datetimetype.weekday(obj)] + \", \" + _lpad(obj.getDate(), \"0\", 2) + \" \" + monthname[obj.getMonth()] + \" \" + obj.getFullYear() + \" \" + _lpad(obj.getHours(), \"0\", 2) + \":\" + _lpad(obj.getMinutes(), \"0\", 2) + \":\" + _lpad(obj.getSeconds(), \"0\", 2) + \" GMT\";\n\t}\n\n\tisoformat(obj)\n\t{\n\t\tlet year = obj.getFullYear();\n\t\tlet month = obj.getMonth()+1;\n\t\tlet day = obj.getDate();\n\t\tlet hour = obj.getHours();\n\t\tlet minute = obj.getMinutes();\n\t\tlet second = obj.getSeconds();\n\t\tlet ms = obj.getMilliseconds();\n\t\tlet result = year + \"-\" + _lpad(month.toString(), \"0\", 2) + \"-\" + _lpad(day.toString(), \"0\", 2) + \"T\" + _lpad(hour.toString(), \"0\", 2) + \":\" + _lpad(minute.toString(), \"0\", 2) + \":\" + _lpad(second.toString(), \"0\", 2);\n\t\tif (ms)\n\t\t\tresult += \".\" + _lpad(ms.toString(), \"0\", 3) + \"000\";\n\t\treturn result;\n\t}\n\n\tyearday(obj)\n\t{\n\t\tlet leap = _isleap(obj) ? 1 : 0;\n\t\tlet day = obj.getDate();\n\t\tswitch (obj.getMonth())\n\t\t{\n\t\t\tcase 0:\n\t\t\t\treturn day;\n\t\t\tcase 1:\n\t\t\t\treturn 31 + day;\n\t\t\tcase 2:\n\t\t\t\treturn 31 + 28 + leap + day;\n\t\t\tcase 3:\n\t\t\t\treturn 31 + 28 + leap + 31 + day;\n\t\t\tcase 4:\n\t\t\t\treturn 31 + 28 + leap + 31 + 30 + day;\n\t\t\tcase 5:\n\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + day;\n\t\t\tcase 6:\n\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + day;\n\t\t\tcase 7:\n\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + day;\n\t\t\tcase 8:\n\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + 31 + day;\n\t\t\tcase 9:\n\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + 31 + 30 + day;\n\t\t\tcase 10:\n\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + 31 + 30 + 31 + day;\n\t\t\tcase 11:\n\t\t\t\treturn 31 + 28 + leap + 31 + 30 + 31 + 30 + 31 + 31 + 30 + 31 + 30 + day;\n\t\t}\n\t}\n\n\ttimestamp(obj)\n\t{\n\t\treturn obj.getTime() / 1000.0;\n\t}\n};\n\nDateTimeType.prototype.attrs = new Set([\n\t\"weekday\",\n\t\"week\",\n\t\"calendar\",\n\t\"day\",\n\t\"month\",\n\t\"year\",\n\t\"hour\",\n\t\"minute\",\n\t\"second\",\n\t\"microsecond\",\n\t\"date\",\n\t\"mimeformat\",\n\t\"isoformat\",\n\t\"yearday\",\n\t\"timestamp\"\n]);\n\nexpose(DateTimeType.prototype.weekday, []);\nexpose(DateTimeType.prototype.calendar, [\"firstweekday\", \"pk=\", 0, \"mindaysinfirstweek\", \"pk=\", 4]);\nexpose(DateTimeType.prototype.week, [\"firstweekday\", \"pk=\", 0, \"mindaysinfirstweek\", \"pk=\", 4]);\nexpose(DateTimeType.prototype.day, []);\nexpose(DateTimeType.prototype.month, []);\nexpose(DateTimeType.prototype.year, []);\nexpose(DateTimeType.prototype.hour, []);\nexpose(DateTimeType.prototype.minute, []);\nexpose(DateTimeType.prototype.second, []);\nexpose(DateTimeType.prototype.microsecond, []);\nexpose(DateTimeType.prototype.date, []);\nexpose(DateTimeType.prototype.mimeformat, []);\nexpose(DateTimeType.prototype.isoformat, []);\nexpose(DateTimeType.prototype.yearday, []);\nexpose(DateTimeType.prototype.timestamp, []);\nexpose(DateTimeType.prototype, [\"year\", \"pk\", \"month\", \"pk\", \"day\", \"pk\", \"hour\", \"pk=\", 0, \"minute\", \"pk=\", 0, \"second\", \"pk=\", 0, \"microsecond\", \"pk=\", 0], {name: \"datetime\"});\n\nexport let datetimetype = new DateTimeType(null, \"datetime\", \"A datetime\");\n\n\nexport class FunctionType extends Type\n{\n\tinstancecheck(obj)\n\t{\n\t\treturn typeof(obj) === \"function\" || _istemplate(obj);\n\t}\n};\n\nexport let functiontype = new FunctionType(null, \"function\", \"A callable function\");\n\n\nexport class GenericType extends Type\n{\n\tconstructor(constructor)\n\t{\n\t\tsuper(constructor.classmodule || null, constructor.classname || constructor.name, constructor.classdoc || null);\n\t\tthis._constructor = constructor;\n\t}\n\n\tgetattr(obj, attrname)\n\t{\n\t\tif (typeof(obj[symbols.getattr]) === \"function\")\n\t\t\treturn obj[symbols.getattr](attrname);\n\t\telse\n\t\t\tthrow new AttributeError(obj, attrname);\n\t}\n\n\thasattr(obj, attrname)\n\t{\n\t\tif (typeof(obj[symbols.getattr]) === \"function\")\n\t\t{\n\t\t\ttry\n\t\t\t{\n\t\t\t\tobj[symbols.getattr](attrname);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (exc instanceof AttributeError && exc.obj === object)\n\t\t\t\t\treturn false;\n\t\t\t\telse\n\t\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\treturn false;\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn obj instanceof this._constructor;\n\t}\n}\n\n\nexport class StringStream\n{\n\tconstructor()\n\t{\n\t\tthis._output = [];\n\t}\n\n\twrite(str)\n\t{\n\t\tthis._output.push(str);\n\t}\n\n\ttoString()\n\t{\n\t\treturn this._output.join(\"\");\n\t}\n};\n\n\nexport class NullStream\n{\n\tconstructor()\n\t{\n\t}\n\n\twrite(str)\n\t{\n\t}\n\n\ttoString()\n\t{\n\t\treturn \"\";\n\t}\n};\n\n\nexport class XMLEscapeStream\n{\n\tconstructor(stream)\n\t{\n\t\tthis._stream = stream;\n\t}\n\n\twrite(str)\n\t{\n\t\tthis._stream.write(_xmlescape(str));\n\t}\n\n\ttoString()\n\t{\n\t\treturn this._stream.toString();\n\t}\n};\n\n\nexport class Context\n{\n\tconstructor(vars=null, globals=null)\n\t{\n\t\tthis.vars = vars || {};\n\t\tthis.globals = _extend(builtins, globals || {});\n\t\tthis.indents = [];\n\t\tthis.escapes = [];\n\t\tthis._output = new StringStream();\n\t}\n\n\t/* Return a clone of the `Context`, but with a fresh empty `vars` objects that inherits from the previous one.\n\t * This is used by the various comprehensions to avoid leaking loop variables.\n\t */\n\tinheritvars()\n\t{\n\t\tlet context = Object.create(this);\n\t\tcontext.vars = Object.create(this.vars);\n\t\treturn context;\n\t}\n\n\t/* Return a clone of the `Context` with one additional indentation (this is used by `RenderAST`) */\n\twithindent(indent)\n\t{\n\t\tlet context = Object.create(this);\n\t\tif (indent !== null)\n\t\t{\n\t\t\tcontext.indents = this.indents.slice();\n\t\t\tcontext.indents.push(indent);\n\t\t}\n\t\treturn context;\n\t}\n\n\t/* Return a clone of the `Context` with the output buffer replaced (this is used by `renders` to collect the output in a separate buffer) */\n\treplaceoutput()\n\t{\n\t\tlet context = Object.create(this);\n\t\tcontext._output = new StringStream();\n\t\treturn context;\n\t}\n\n\treplacevars(vars)\n\t{\n\t\tlet context = Object.create(this);\n\t\tcontext.vars = vars;\n\t\treturn context;\n\t}\n\n\twrite(value)\n\t{\n\t\tthis._output.write(value);\n\t}\n\n\tgetoutput()\n\t{\n\t\treturn this._output.toString();\n\t}\n\n\tget(name)\n\t{\n\t\tlet result = this.vars[name];\n\t\tif (result === undefined)\n\t\t\tresult = this.globals[name];\n\t\treturn result;\n\t}\n\n\tset(name, value)\n\t{\n\t\tthis.vars[name] = value;\n\t}\n};\n\n/// Exceptions\n\n// Note that extending `Error` doesn't work, so we do it the \"clasr\" way\nexport function Exception(message, fileName, lineNumber)\n{\n\tlet instance = new Error(message, fileName, lineNumber);\n\tif (Object.setPrototypeOf)\n\t\tObject.setPrototypeOf(instance, Object.getPrototypeOf(this));\n\telse\n\t\tinstance.__proto__ = this;\n\tinstance.context = null;\n\treturn instance;\n};\n\nException.prototype = Object.create(Error.prototype, {\n\tconstructor: {\n\t\tvalue: Error,\n\t\tenumerable: false,\n\t\twritable: true,\n\t\tconfigurable: true\n\t}\n});\n\nif (Object.setPrototypeOf)\n\tObject.setPrototypeOf(Exception, Error);\nelse\n\tException.__proto__ = Error;\n\nException.prototype[symbols.getattr] = function getattr(attrname)\n{\n\tswitch (attrname)\n\t{\n\t\tcase \"context\":\n\t\t\treturn this.context;\n\t\tdefault:\n\t\t\tthrow new AttributeError(this, attrname);\n\t}\n};\n\n// Exceptions used internally by UL4 for flow control\nexport class InternalException extends Exception\n{\n};\n\n// Control flow exceptions\nexport class ReturnException extends InternalException\n{\n\tconstructor(result)\n\t{\n\t\tsuper(\"return\");\n\t\tthis.result = result;\n\t}\n};\n\nexport class BreakException extends InternalException\n{\n\tconstructor()\n\t{\n\t\tsuper(\"break\");\n\t}\n};\n\nexport class ContinueException extends InternalException\n{\n\tconstructor()\n\t{\n\t\tsuper(\"continue\");\n\t}\n};\n\n// Real exceptions raised by various parts of UL4\nexport class SyntaxError extends Exception\n{\n};\n\nexport class LValueRequiredError extends SyntaxError\n{\n\tconstructor()\n\t{\n\t\tsuper(\"lvalue required\");\n\t}\n};\n\nexport class TypeError extends Exception\n{\n};\n\nexport class ValueError extends Exception\n{\n};\n\nexport class ArgumentError extends Exception\n{\n};\n\nexport class ParameterError extends Exception\n{\n};\n\nexport class NotSubscriptableError extends Exception\n{\n\tconstructor(obj)\n\t{\n\t\tsuper(\"Object of type \" + _type(obj).fullname() + \" is not subscriptable\");\n\t\tthis.obj = obj;\n\t}\n\n\ttoString()\n\t{\n\t\treturn \"Object of type \" + _type(this.obj).fullname() + \" is not subscriptable\";\n\t}\n};\n\nexport class ZeroDivisionError extends Exception\n{\n\tconstructor()\n\t{\n\t\tsuper(\"division by zero\");\n\t}\n};\n\nexport class IndexError extends Exception\n{\n\tconstructor(obj, index)\n\t{\n\t\tsuper(\"index \" + _repr(index) + \" out of range\");\n\t\tthis.obj = obj;\n\t\tthis.index = index;\n\t}\n\n\ttoString()\n\t{\n\t\treturn \"index \" + this.index + \" out of range for \" + _type(this.obj).fullname();\n\t}\n};\n\nexport class AttributeError extends Exception\n{\n\tconstructor(obj, attrname)\n\t{\n\t\tsuper(\"object of type \" + _type(obj).fullname() + \" has no attribute \" + _repr(attrname));\n\t\tthis.obj = obj;\n\t\tthis.attrname = attrname;\n\t}\n};\n\nexport class KeyError extends Exception\n{\n\tconstructor(obj, key)\n\t{\n\t\tsuper(\"key \"  + _repr(key) + \" not found in object of type \" + _type(obj).fullname());\n\t\tthis.obj = obj;\n\t\tthis.key = key;\n\t}\n};\n\nexport class NotImplementedError extends Exception\n{\n};\n\n/// Exception that wraps other exceptions while they bubble up the stack\nexport class LocationError extends Exception\n{\n\tconstructor(location)\n\t{\n\t\tsuper(\"nested exception in \" + _repr(location));\n\t\tthis.location = location;\n\t}\n\n\t_templateprefix()\n\t{\n\t\tlet template = this.location.template;\n\t\tlet out = [];\n\t\tif (template.parenttemplate !== null)\n\t\t\tout.push(\"in local template \");\n\t\telse\n\t\t\tout.push(\"in template \");\n\t\tlet first = true;\n\t\twhile (template != null)\n\t\t{\n\t\t\tif (first)\n\t\t\t\tfirst = false;\n\t\t\telse\n\t\t\t\tout.push(\" in \");\n\t\t\tout.push(template.name ? _repr(template.name) : \"(unnamed)\");\n\t\t\ttemplate = template.parenttemplate;\n\t\t}\n\t\treturn out.join(\"\");\n\t}\n\n\ttoString()\n\t{\n\t\tlet template = this.location.template;\n\t\tlet templateprefix = this._templateprefix();\n\n\t\tlet prefix = this.location.startsourceprefix;\n\t\tlet code = this.location.startsource;\n\t\tlet suffix = this.location.startsourcesuffix;\n\t\tprefix = _repr(prefix).slice(1, -1);\n\t\tcode = _repr(code).slice(1, -1);\n\t\tsuffix = _repr(suffix).slice(1, -1);\n\n\t\tlet text = prefix + code + suffix;\n\t\tlet underline = _str_repeat(\"\\u00a0\", prefix.length) + _str_repeat(\"~\", code.length);\n\n\t\tlet pos = \"offset \" + this.location.pos.start + \":\" + this.location.pos.stop + \"; line \" + this.location.startline + \"; col \" + this.location.startcol;\n\n\t\tlet message = templateprefix + \": \" + pos + \"\\n\" + text + \"\\n\" + underline;\n\t\treturn message;\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"context\":\n\t\t\t\treturn this.context;\n\t\t\tcase \"location\":\n\t\t\t\treturn this.location;\n\t\t\tdefault:\n\t\t\t\tthrow new AttributeError(this, attrname);\n\t\t}\n\t}\n};\n\n/// Classes for the syntax tree\nexport class AST extends Proto\n{\n\tstatic classmodule = \"ul4\";\n\tstatic classdoc = \"Base class for all UL4 syntax tree nodes.\";\n\n\tconstructor(template, startposstart, startposstop, stopposstart=-1, stopposstop=-1)\n\t{\n\t\tsuper();\n\t\tthis.template = template;\n\t\tthis.startposstart = startposstart;\n\t\tthis.startposstop = startposstop;\n\t\tthis._startline = null;\n\t\tthis._startcol = null;\n\t\tthis.stopposstart = stopposstart;\n\t\tthis.stopposstop = stopposstop;\n\t\tthis._stopline = null;\n\t\tthis._stopcol = null;\n\t}\n\n\tget startline()\n\t{\n\t\tif (this._startline === null)\n\t\t\t[this._startline, this._startcol] = _lineColFromPos(this.template._source, this.startposstart);\n\t\treturn this._startline;\n\t}\n\n\tget startcol()\n\t{\n\t\tif (this._startcol === null)\n\t\t\t[this._startline, this._startcol] = _lineColFromPos(this.template._source, this.startposstart);\n\t\treturn this._startcol;\n\t}\n\n\tget startsource()\n\t{\n\t\treturn this.template._source.slice(this.startposstart, this.startposstop);\n\t}\n\n\tget startsourceprefix()\n\t{\n\t\treturn _sourceprefix(this.template._source, this.startposstart);\n\t}\n\n\tget startsourcesuffix()\n\t{\n\t\treturn _sourcesuffix(this.template._source, this.startposstop);\n\t}\n\n\tget fullsource()\n\t{\n\t\treturn this.template._source;\n\t}\n\n\tget startpos()\n\t{\n\t\treturn new slice(this.startposstart, this.startposstop);\n\t}\n\n\tget stoppos()\n\t{\n\t\treturn this.stopposstart == -1 ? null : new slice(this.stopposstart, this.stopposstop);\n\t}\n\n\tget pos()\n\t{\n\t\treturn new slice(this.startposstart, this.stopposstop === -1 ? this.startposstop : this.stopposstop);\n\t}\n\n\tget source()\n\t{\n\t\treturn this.template._source.slice(this.startposstart, this.stopposstop === -1 ? this.startposstop : this.stopposstop);\n\t}\n\n\tget sourceprefix()\n\t{\n\t\treturn _sourceprefix(this.template._source, this.startposstart);\n\t}\n\n\tget sourcesuffix()\n\t{\n\t\treturn _sourcesuffix(this.template._source, this.stopposstop === -1 ? this.startposstop : this.stopposstop);\n\t}\n\n\tget stopline()\n\t{\n\t\tif (this._stopline === null)\n\t\t\t[this._stopline, this._stopcol] = _lineColFromPos(this.template._source, this.stopposstop);\n\t\treturn this._stopline;\n\t}\n\n\tget stopcol()\n\t{\n\t\tif (this._stopcol === null)\n\t\t\t[this._stopline, this._stopcol] = _lineColFromPos(this.template._source, this.stopposstop);\n\t\treturn this._stopcol;\n\t}\n\n\tget stopsource()\n\t{\n\t\treturn this.stoppos != null ? this.template._source.slice(this.stopposstart, this.stopposstop) : null;\n\t}\n\n\tget stopsourceprefix()\n\t{\n\t\treturn this.stoppos != null ? _sourceprefix(this.template._source, this.stopposstart) : null;\n\t}\n\n\tget stopsourcesuffix()\n\t{\n\t\treturn this.stoppos != null ? _sourcesuffix(this.template._source, this.stopposstop) : null;\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tif (\n\t\t\tattrname === \"type\" ||\n\t\t\tattrname === \"startpos\" ||\n\t\t\tattrname === \"startline\" ||\n\t\t\tattrname === \"startcol\" ||\n\t\t\tattrname === \"startsource\" ||\n\t\t\tattrname === \"startsourceprefix\" ||\n\t\t\tattrname === \"startsourcesuffix\" ||\n\t\t\tattrname === \"pos\" ||\n\t\t\tattrname === \"source\" ||\n\t\t\tattrname === \"sourceprefix\" ||\n\t\t\tattrname === \"sourcesuffix\" ||\n\t\t\tattrname === \"fullsource\"\n\t\t)\n\t\t\treturn this[attrname];\n\t\telse if (this._ul4onattrs.indexOf(attrname) >= 0)\n\t\t\treturn this[attrname];\n\t\tthrow new AttributeError(this, attrname);\n\t}\n\n\t[symbols.setitem](attrname, value)\n\t{\n\t\tthrow new TypeError(\"object is immutable\");\n\t}\n\n\t[symbols.str]()\n\t{\n\t\tlet out = [];\n\t\tthis._str(out);\n\t\treturn _formatsource(out);\n\t}\n\n\t[symbols.repr]()\n\t{\n\t\tlet out = [];\n\t\tthis._repr(out);\n\t\treturn _formatsource(out);\n\t}\n\n\t_decorate_exception(exc)\n\t{\n\t\twhile (exc.context !== undefined && exc.context !== null)\n\t\t\texc = exc.context;\n\t\texc.context = new LocationError(this);\n\t}\n\n\t_handle_eval(context)\n\t{\n\t\ttry\n\t\t{\n\t\t\treturn this._eval(context);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (!exc.context)\n\t\t\t\tthis._decorate_exception(exc);\n\t\t\tthrow exc;\n\t\t}\n\t}\n\n\t_handle_eval_set(context, value)\n\t{\n\t\ttry\n\t\t{\n\t\t\treturn this._eval_set(context, value);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (!(exc instanceof LocationError))\n\t\t\t\tthis._decorate_exception(exc);\n\t\t\tthrow exc;\n\t\t}\n\t}\n\n\t_eval_set(context, value)\n\t{\n\t\tthrow new LValueRequiredError();\n\t}\n\n\t_handle_eval_modify(context, operator, value)\n\t{\n\t\ttry\n\t\t{\n\t\t\treturn this._eval_modify(context, operator, value);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (!(exc instanceof LocationError))\n\t\t\t\tthis._decorate_exception(exc);\n\t\t\tthrow exc;\n\t\t}\n\t}\n\n\t_eval_modify(context, operator, value)\n\t{\n\t\tthrow new LValueRequiredError();\n\t}\n\n\t_repr(out)\n\t{\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(this.source.replace(/\\r?\\n/g, ' '));\n\t}\n\n\tul4ondump(encoder)\n\t{\n\t\tfor (let attrname of this._ul4onattrs)\n\t\t\tencoder.dump(this[attrname]);\n\t}\n\n\tul4onload(decoder)\n\t{\n\t\tfor (let attrname of this._ul4onattrs)\n\t\t\tthis[attrname] = decoder.load();\n\t}\n};\n\n// used in ul4ondump/ul4ondump to automatically dump these attributes\nAST.prototype._ul4onattrs = [\"template\", \"startposstart\", \"startposstop\"];\n\nexport class TextAST extends AST\n{\n\tstatic classdoc = \"AST node for literal text (i.e. the stuff between tags).\";\n\n\tconstructor(template, posstart, posstop, text)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.text = text;\n\t}\n\n\t_eval(context)\n\t{\n\t\tcontext.write(this.text);\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"text \", _repr(this.text));\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" \", _repr(this.text), \">\");\n\t}\n};\n\nTextAST.prototype._ul4onattrs = AST.prototype._ul4onattrs.concat([\"text\"]);\n\nexport class IndentAST extends TextAST\n{\n\tstatic classdoc = \"AST node for literal text that is an indentation at the start of the line.\";\n\n\t_eval(context)\n\t{\n\t\tfor (let indent of context.indents)\n\t\t\tcontext.write(indent);\n\t\tcontext.write(this.text);\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"indent \", _repr(this.text));\n\t}\n};\n\nexport class LineEndAST extends TextAST\n{\n\tstatic classdoc = \"AST node for literal text that is the end of a line.\";\n\n\t_str(out)\n\t{\n\t\tout.push(\"lineend \", _repr(this.text));\n\t}\n};\n\nexport class CodeAST extends AST\n{\n\tstatic classdoc = \"The base class of all AST nodes that are not literal text.\";\n};\n\nexport class ConstAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for a constant value.\";\n\n\tconstructor(template, posstart, posstop, value)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.value = value;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" \", _repr(this.value), \">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\treturn this.value;\n\t}\n};\n\nConstAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"value\"]);\n\nexport class ItemArgBase extends CodeAST\n{\n\t_handle_eval_list(context, result)\n\t{\n\t\ttry\n\t\t{\n\t\t\treturn this._eval_list(context, result);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (!(exc instanceof InternalException) && !(exc instanceof LocationError))\n\t\t\t\tthis._decorate_exception(exc);\n\t\t\tthrow exc;\n\t\t}\n\t}\n\n\t_handle_eval_set(context, result)\n\t{\n\t\ttry\n\t\t{\n\t\t\treturn this._eval_set(context, result);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (!(exc instanceof InternalException) && !(exc instanceof LocationError))\n\t\t\t\tthis._decorate_exception(exc);\n\t\t\tthrow exc;\n\t\t}\n\t}\n\n\t_handle_eval_dict(context, result)\n\t{\n\t\ttry\n\t\t{\n\t\t\treturn this._eval_dict(context, result);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (!(exc instanceof InternalException) && !(exc instanceof LocationError))\n\t\t\t\tthis._decorate_exception(exc);\n\t\t\tthrow exc;\n\t\t}\n\t}\n\n\t_handle_eval_call(context, args, kwargs)\n\t{\n\t\ttry\n\t\t{\n\t\t\treturn this._eval_call(context, args, kwargs);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (!(exc instanceof InternalException) && !(exc instanceof LocationError))\n\t\t\t\tthis._decorate_exception(exc);\n\t\t\tthrow exc;\n\t\t}\n\t}\n};\n\nexport class SeqItemAST extends ItemArgBase\n{\n\tstatic classdoc = \"AST node for an item in a list/set \\\"literal\\\" (e.g. ``{x, y}`` or ``[x, y]``)\";\n\n\tconstructor(template, posstart, posstop, value)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.value = value;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" value=\", _repr(this.value), \">\");\n\t}\n\n\t_eval_list(context, result)\n\t{\n\t\tlet value = this.value._handle_eval(context);\n\t\tresult.push(value);\n\t}\n\n\t_eval_set(context, result)\n\t{\n\t\tlet value = this.value._handle_eval(context);\n\t\tresult.add(value);\n\t}\n};\n\nSeqItemAST.prototype._ul4onattrs = ItemArgBase.prototype._ul4onattrs.concat([\"value\"]);\n\nexport class UnpackSeqItemAST extends ItemArgBase\n{\n\tstatic classdoc = \"AST node for an ``*`` unpacking expression in a list/set \\\"literal\\\"\\n(e.g. the ``y`` in ``{x, *y}`` or ``[x, *y]``)\";\n\n\tconstructor(template, posstart, posstop, value)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.value = value;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" value=\", _repr(this.value), \">\");\n\t}\n\n\t_eval_list(context, result)\n\t{\n\t\tlet value = this.value._handle_eval(context);\n\t\tfor (let iter = _iter(value);;)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\tbreak;\n\t\t\tresult.push(item.value);\n\t\t}\n\t}\n\n\t_eval_set(context, result)\n\t{\n\t\tlet value = this.value._handle_eval(context);\n\t\tfor (let iter = _iter(value);;)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\tbreak;\n\t\t\tresult.add(item.value);\n\t\t}\n\t}\n};\n\nUnpackSeqItemAST.prototype._ul4onattrs = ItemArgBase.prototype._ul4onattrs.concat([\"value\"]);\n\nexport class DictItemAST extends ItemArgBase\n{\n\tstatic classdoc = \"AST node for a dictionary entry in a dict expression (:class:`DictAST`).\";\n\n\tconstructor(template, posstart, posstop, key, value)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.key = key;\n\t\tthis.value = value;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\n\t\t\t\"<\",\n\t\t\tthis.constructor.name,\n\t\t\t\" key=\",\n\t\t\t_repr(this.key),\n\t\t\t\" value=\",\n\t\t\t_repr(this.value),\n\t\t\t\">\"\n\t\t);\n\t}\n\n\t_eval_dict(context, result)\n\t{\n\t\tlet key = this.key._handle_eval(context);\n\t\tlet value = this.value._handle_eval(context);\n\t\tresult.set(key, value);\n\t}\n};\n\nDictItemAST.prototype._ul4onattrs = ItemArgBase.prototype._ul4onattrs.concat([\"key\", \"value\"]);\n\nexport class UnpackDictItemAST extends ItemArgBase\n{\n\tstatic classdoc = \"AST node for ``**`` unpacking expressions in dict \\\"literal\\\"\\n(e.g. the ``**u`` in ``{k: v, **u}``).\";\n\n\tconstructor(template, posstart, posstop, item)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.item = item;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" item=\", _repr(this.item), \">\");\n\t}\n\n\t_eval_dict(context, result)\n\t{\n\t\tlet item = this.item._handle_eval(context);\n\t\tif (_isiter(item))\n\t\t{\n\t\t\tfor (;;)\n\t\t\t{\n\t\t\t\tlet subitem = item.next();\n\t\t\t\tif (subitem.done)\n\t\t\t\t\tbreak;\n\t\t\t\tif (!_islist(subitem.value) || subitem.value.length != 2)\n\t\t\t\t\tthrow new ArgumentError(\"** requires an iterable of (key, value) pairs\");\n\t\t\t\tresult.set(subitem.value[0], subitem.value[1]);\n\t\t\t}\n\t\t}\n\t\telse if (_islist(item))\n\t\t{\n\t\t\tfor (let subitem of item)\n\t\t\t{\n\t\t\t\tif (!_islist(subitem) || subitem.length != 2)\n\t\t\t\t\tthrow new ArgumentError(\"** requires a list of (key, value) pairs\");\n\t\t\t\tresult.set(subitem[0], subitem[1]);\n\t\t\t}\n\t\t}\n\t\telse if (_ismap(item))\n\t\t{\n\t\t\tfor (let [key, value] of item)\n\t\t\t\tresult.set(key, value);\n\t\t}\n\t\telse if (_isobject(item))\n\t\t{\n\t\t\tfor (let key in item)\n\t\t\t\tresult.set(key, item[key]);\n\t\t}\n\t}\n};\n\nUnpackDictItemAST.prototype._ul4onattrs = ItemArgBase.prototype._ul4onattrs.concat([\"item\"]);\n\nexport class PositionalArgumentAST extends ItemArgBase\n{\n\tstatic classdoc = \"AST node for a positional argument. (e.g. the ``x`` in ``f(x)``).\";\n\n\tconstructor(template, posstart, posstop, value)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.value = value;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" value=\", _repr(this.value), \">\");\n\t}\n\n\t_eval_call(context, args, kwargs)\n\t{\n\t\tlet value = this.value._handle_eval(context);\n\t\targs.push(value);\n\t}\n};\n\nPositionalArgumentAST.prototype._ul4onattrs = ItemArgBase.prototype._ul4onattrs.concat([\"value\"]);\n\nexport class KeywordArgumentAST extends ItemArgBase\n{\n\tstatic classdoc = \"AST node for a keyword argument in a :class:`CallAST` (e.g. the ``x=y``\\nin the function call ``f(x=y)``).\";\n\n\tconstructor(template, posstart, posstop, name, value)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.name = name;\n\t\tthis.value = value;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\n\t\t\t\"<\",\n\t\t\tthis.constructor.name,\n\t\t\t\" name=\",\n\t\t\t_repr(this.name),\n\t\t\t\" value=\",\n\t\t\t_repr(this.value),\n\t\t\t\">\"\n\t\t);\n\t}\n\n\t_eval_call(context, args, kwargs)\n\t{\n\t\tif (kwargs.hasOwnProperty(this.name))\n\t\t\tthrow new ArgumentError(\"duplicate keyword argument \" + this.name);\n\t\tlet value = this.value._handle_eval(context);\n\t\tkwargs[this.name] = value;\n\t}\n};\n\nKeywordArgumentAST.prototype._ul4onattrs = ItemArgBase.prototype._ul4onattrs.concat([\"name\", \"value\"]);\n\nexport class UnpackListArgumentAST extends ItemArgBase\n{\n\tstatic classdoc = \"AST node for an ``*`` unpacking expressions in a :class:`CallAST`\\n(e.g. the ``*x`` in ``f(*x)``).\";\n\n\tconstructor(template, posstart, posstop, item)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.item = item;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" item=\", _repr(this.item), \">\");\n\t}\n\n\t_eval_call(context, args, kwargs)\n\t{\n\t\tlet item = this.item._handle_eval(context);\n\t\targs.push(...item);\n\t}\n};\n\nUnpackListArgumentAST.prototype._ul4onattrs = ItemArgBase.prototype._ul4onattrs.concat([\"item\"]);\n\nexport class UnpackDictArgumentAST extends ItemArgBase\n{\n\tstatic classdoc = \"AST node for an ``**`` unpacking expressions in a :class:`CallAST`\\n(e.g. the ``**x`` in ``f(**x)``).\";\n\n\tconstructor(template, posstart, posstop, item)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.item = item;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" item=\", _repr(this.item), \">\");\n\t}\n\n\t_eval_call(context, args, kwargs)\n\t{\n\t\tlet item = this.item._handle_eval(context);\n\t\tif (_islist(item))\n\t\t{\n\t\t\tfor (let subitem of item)\n\t\t\t{\n\t\t\t\tif (!_islist(subitem) || subitem.length != 2)\n\t\t\t\t\tthrow new ArgumentError(\"** requires a list of (key, value) pairs\");\n\t\t\t\tlet [key, value] = subitem;\n\t\t\t\tif (kwargs.hasOwnProperty(key))\n\t\t\t\t\tthrow new ArgumentError(\"duplicate keyword argument \" + key);\n\t\t\t\tkwargs[key] = value;\n\t\t\t}\n\t\t}\n\t\telse if (_ismap(item))\n\t\t{\n\t\t\tfor (let [key, value] of item)\n\t\t\t{\n\t\t\t\tif (kwargs.hasOwnProperty(key))\n\t\t\t\t\tthrow new ArgumentError(\"duplicate keyword argument \" + key);\n\t\t\t\tkwargs[key] = value;\n\t\t\t}\n\t\t}\n\t\telse if (_isobject(item))\n\t\t{\n\t\t\tfor (let key in item)\n\t\t\t{\n\t\t\t\tif (kwargs.hasOwnProperty(key))\n\t\t\t\t\tthrow new ArgumentError(\"duplicate keyword argument \" + key);\n\t\t\t\tkwargs[key] = item[key];\n\t\t\t}\n\t\t}\n\t}\n};\n\nUnpackDictArgumentAST.prototype._ul4onattrs = ItemArgBase.prototype._ul4onattrs.concat([\"item\"]);\n\nexport class ListAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for creating a list object (e.g. ``[x, y, *z]``).\";\n\n\tconstructor(template, posstart, posstop)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.items = [];\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name);\n\t\tfor (let item of this.items)\n\t\t{\n\t\t\tout.push(\" \");\n\t\t\titem._repr(out);\n\t\t}\n\t\tout.push(\">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet result = [];\n\t\tfor (let item of this.items)\n\t\t\titem._handle_eval_list(context, result);\n\t\treturn result;\n\t}\n};\n\nListAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"items\"]);\n\nexport class ListComprehensionAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for a list comprehension (e.g. ``[v for (a, b) in w if c]``.\";\n\n\tconstructor(template, posstart, posstop, item, varname, container, condition)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.item = item;\n\t\tthis.varname = varname;\n\t\tthis.container = container;\n\t\tthis.condition = condition;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" item=\");\n\t\tthis.item._repr(out);\n\t\tout.push(\" varname=\", _repr(this.varname), \" container=\");\n\t\tthis.container._repr(out);\n\t\tif (this.condition !== null)\n\t\t{\n\t\t\tout.push(\" condition=\");\n\t\t\tthis.condition._repr(out);\n\t\t}\n\t\tout.push(\">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet container = this.container._handle_eval(context);\n\n\t\tlet localcontext = context.inheritvars();\n\n\t\tlet result = [];\n\t\tfor (let iter = _iter(container);;)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\tbreak;\n\t\t\tlet varitems = _unpackvar(this.varname, item.value);\n\t\t\tfor (let [lvalue, value] of varitems)\n\t\t\t\tlvalue._handle_eval_set(localcontext, value);\n\t\t\tif (this.condition === null || _bool(this.condition._handle_eval(localcontext)))\n\t\t\t\tresult.push(this.item._handle_eval(localcontext));\n\t\t}\n\t\treturn result;\n\t}\n};\n\nListComprehensionAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"item\", \"varname\", \"container\", \"condition\"]);\n\nexport class SetAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for creating a set object (e.g. ``{x, y, *z}``.\";\n\n\tconstructor(template, posstart, posstop)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.items = [];\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name);\n\t\tfor (let item of this.items)\n\t\t{\n\t\t\tout.push(\" \");\n\t\t\titem._repr(out);\n\t\t}\n\t\tout.push(\">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet result = new Set();\n\n\t\tfor (let item of this.items)\n\t\t\titem._handle_eval_set(context, result);\n\n\t\treturn result;\n\t}\n};\n\nSetAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"items\"]);\n\nexport class SetComprehensionAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for a set comprehension (e.g. ``{v for (a, b) in w if c}``.\";\n\n\tconstructor(template, posstart, posstop, item, varname, container, condition)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.item = item;\n\t\tthis.varname = varname;\n\t\tthis.container = container;\n\t\tthis.condition = condition;\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"item\":\n\t\t\t\treturn this.item;\n\t\t\tcase \"varname\":\n\t\t\t\treturn this.varname;\n\t\t\tcase \"container\":\n\t\t\t\treturn this.container;\n\t\t\tcase \"condition\":\n\t\t\t\treturn this.condition;\n\t\t\tdefault:\n\t\t\t\treturn super[symbols.getattr](attrname);\n\t\t}\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" item=\");\n\t\tthis.item._repr(out);\n\t\tout.push(\" varname=\");\n\t\tthis.varname._repr(out);\n\t\tout.push(\" container=\");\n\t\tthis.container._repr(out);\n\t\tif (this.condition !== null)\n\t\t{\n\t\t\tout.push(\" condition=\");\n\t\t\tthis.condition._repr(out);\n\t\t}\n\t\tout.push(\">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet container = this.container._handle_eval(context);\n\n\t\tlet localcontext = context.inheritvars();\n\n\t\tlet result = new Set();\n\t\tfor (let iter = _iter(container);;)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\tbreak;\n\t\t\tlet varitems = _unpackvar(this.varname, item.value);\n\t\t\tfor (let [lvalue, value] of varitems)\n\t\t\t\tlvalue._handle_eval_set(localcontext, value);\n\t\t\tif (this.condition === null || _bool(this.condition._handle_eval(localcontext)))\n\t\t\t\tresult.add(this.item._handle_eval(localcontext));\n\t\t}\n\n\t\treturn result;\n\t}\n};\n\nSetComprehensionAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"item\", \"varname\", \"container\", \"condition\"]);\n\nexport class DictAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for creating a dict object (e.g. `{k: v, **u}`.\";\n\n\tconstructor(template, posstart, posstop)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.items = [];\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"items\":\n\t\t\t\treturn this.items;\n\t\t\tdefault:\n\t\t\t\treturn super[symbols.getattr](attrname);\n\t\t}\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name);\n\t\tfor (let item of this.items)\n\t\t{\n\t\t\tout.push(\" \");\n\t\t\titem._repr(out);\n\t\t}\n\t\tout.push(\">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet result = new Map();\n\t\tfor (let item of this.items)\n\t\t\titem._handle_eval_dict(context, result);\n\t\treturn result;\n\t}\n};\n\nDictAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"items\"]);\n\nexport class DictComprehensionAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for a dictionary comprehension (e.g. ``{k: v for (a, b) in w if c}``.\";\n\n\tconstructor(template, posstart, posstop, key, value, varname, container, condition)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.key = key;\n\t\tthis.value = value;\n\t\tthis.varname = varname;\n\t\tthis.container = container;\n\t\tthis.condition = condition;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" key=\");\n\t\tthis.key._repr(out);\n\t\tout.push(\" value=\");\n\t\tthis.value._repr(out);\n\t\tout.push(\" varname=\");\n\t\tthis.varname._repr(out);\n\t\tout.push(\" container=\");\n\t\tthis.container._repr(out);\n\t\tif (this.condition !== null)\n\t\t{\n\t\t\tout.push(\" condition=\");\n\t\t\tthis.condition._repr(out);\n\t\t}\n\t\tout.push(\">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet container = this.container._handle_eval(context);\n\n\t\tlet localcontext = context.inheritvars();\n\n\t\tlet result = new Map();\n\n\t\tfor (let iter = _iter(container);;)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\tbreak;\n\t\t\tlet varitems = _unpackvar(this.varname, item.value);\n\t\t\tfor (let [lvalue, value] of varitems)\n\t\t\t\tlvalue._handle_eval_set(localcontext, value);\n\t\t\tif (this.condition === null || _bool(this.condition._handle_eval(localcontext)))\n\t\t\t{\n\t\t\t\tlet key = this.key._handle_eval(localcontext);\n\t\t\t\tlet value = this.value._handle_eval(localcontext);\n\t\t\t\tresult.set(key, value);\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n};\n\nDictComprehensionAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"key\", \"value\", \"varname\", \"container\", \"condition\"]);\n\nexport class GeneratorExpressionAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for a generator expression (e.g. ``(x for (a, b) in w if c)``).\";\n\n\tconstructor(template, posstart, posstop, item, varname, container, condition)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.item = item;\n\t\tthis.varname = varname;\n\t\tthis.container = container;\n\t\tthis.condition = condition;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" item=\");\n\t\tthis.item._repr(out);\n\t\tout.push(\" varname=\");\n\t\tthis.varname._repr(out);\n\t\tout.push(\" container=\");\n\t\tthis.container._repr(out);\n\t\tif (this.condition !== null)\n\t\t{\n\t\t\tout.push(\" condition=\");\n\t\t\tthis.condition._repr(out);\n\t\t}\n\t\tout.push(\">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet container = this.container._handle_eval(context);\n\t\tlet iter = _iter(container);\n\n\t\tlet localcontext = context.inheritvars();\n\n\t\tlet self = this;\n\n\t\tlet result = {\n\t\t\tnext: function(){\n\t\t\t\twhile (true)\n\t\t\t\t{\n\t\t\t\t\tlet item = iter.next();\n\t\t\t\t\tif (item.done)\n\t\t\t\t\t\treturn item;\n\t\t\t\t\tlet varitems = _unpackvar(self.varname, item.value);\n\t\t\t\t\tfor (let [lvalue, value] of varitems)\n\t\t\t\t\t\tlvalue._handle_eval_set(localcontext, value);\n\t\t\t\t\tif (self.condition === null || _bool(self.condition._handle_eval(localcontext)))\n\t\t\t\t\t{\n\t\t\t\t\t\tlet value = self.item._handle_eval(localcontext);\n\t\t\t\t\t\treturn {value: value, done: false};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\treturn result;\n\t}\n};\n\nGeneratorExpressionAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"item\", \"varname\", \"container\", \"condition\"]);\n\nexport class VarAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for getting a variable.\";\n\n\tconstructor(template, posstart, posstop, name)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.name = name;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" name=\", _repr(this.name), \">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\treturn this._get(context, this.name);\n\t}\n\n\t_eval_set(context, value)\n\t{\n\t\tthis._set(context, this.name, value);\n\t}\n\n\t_eval_modify(context, operator, value)\n\t{\n\t\tthis._modify(context, operator, this.name, value);\n\t}\n\n\t_get(context, name)\n\t{\n\t\treturn context.get(name);\n\t}\n\n\t_set(context, name, value)\n\t{\n\t\tcontext.set(name, value);\n\t}\n\n\t_modify(context, operator, name, value)\n\t{\n\t\tlet newvalue = operator._ido(context.get(name), value);\n\t\tcontext.set(name, newvalue);\n\t}\n};\n\nVarAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"name\"]);\n\nexport class UnaryAST extends CodeAST\n{\n\tstatic classdoc = \"Base class for all AST nodes implementing unary expressions\\n(i.e. operators with one operand).\";\n\n\tconstructor(template, posstart, posstop, obj)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.obj = obj;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" obj=\");\n\t\tthis.obj._repr(out);\n\t\tout.push(\">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet obj = this.obj._handle_eval(context);\n\t\treturn this._do(obj);\n\t}\n};\n\nUnaryAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"obj\"]);\n\n// Negation\nexport class NegAST extends UnaryAST\n{\n\tstatic classdoc = \"AST node for a unary negation expression (e.g. ``-x``).\";\n\n\t_do(obj)\n\t{\n\t\tif (obj !== null && typeof(obj[symbols.neg]) === \"function\")\n\t\t\treturn obj[symbols.neg]();\n\t\treturn -obj;\n\t}\n};\n\n// Bitwise not\nexport class BitNotAST extends UnaryAST\n{\n\tstatic classdoc = \"AST node for a bitwise unary \\\"not\\\" expression that returns its operand\\nwith its bits inverted (e.g. ``~x``).\";\n\n\t_do(obj)\n\t{\n\t\treturn -obj-1;\n\t}\n};\n\n// Not\nexport class NotAST extends UnaryAST\n{\n\tstatic classdoc = \"AST node for a unary \\\"not\\\" expression (e.g. ``not x``).\";\n\n\t_do(obj)\n\t{\n\t\treturn !_bool(obj);\n\t}\n};\n\n// If expression\nexport class IfAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for the ternary inline ``if/else`` operator (e.g. ``x if y else z``).\";\n\n\tconstructor(template, posstart, posstop, objif, objcond, objelse)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.objif = objif;\n\t\tthis.objcond = objcond;\n\t\tthis.objelse = objelse;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\n\t\t\t\"<\",\n\t\t\tthis.constructor.name,\n\t\t\t+1,\n\t\t\t\"objif=\"\n\t\t);\n\t\tthis.objif._repr(out);\n\t\tout.push(0, \"objcond=\");\n\t\tthis.objcond._repr(out);\n\t\tout.push(0, \"objelse=\");\n\t\tthis.objelse._repr(out);\n\t\tout.push(-1, \">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet result;\n\t\tlet condvalue = this.objcond._handle_eval(context);\n\t\tif (_bool(condvalue))\n\t\t\tresult = this.objif._handle_eval(context);\n\t\telse\n\t\t\tresult = this.objelse._handle_eval(context);\n\t\treturn result;\n\t}\n};\n\nIfAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"objif\", \"objcond\", \"objelse\"]);\n\nexport class ReturnAST extends UnaryAST\n{\n\tstatic classdoc = \"AST node for a ``<?return?>`` tag (e.g. ``<?return x?>``).\";\n\n\t_eval(context)\n\t{\n\t\tlet result = this.obj._handle_eval(context);\n\t\tthrow new ReturnException(result);\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"return \");\n\t\tthis.obj._str(out);\n\t}\n};\n\nexport class PrintAST extends UnaryAST\n{\n\tstatic classdoc = \"AST node for a ``<?print?>`` tag (e.g. ``<?print x?>``).\";\n\n\t_eval(context)\n\t{\n\t\tlet obj = this.obj._handle_eval(context);\n\t\tlet output = _str(obj);\n\t\tcontext.write(output);\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"print \");\n\t\tthis.obj._str(out);\n\t}\n};\n\nexport class PrintXAST extends UnaryAST\n{\n\tstatic classdoc = \"AST node for a ``<?printx?>`` tag (e.g. ``<?printx x?>``).\";\n\n\t_eval(context)\n\t{\n\t\tlet obj = this.obj._handle_eval(context);\n\t\tlet output = _xmlescape(obj);\n\t\tcontext.write(output);\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"printx \");\n\t\tthis.obj._str(out);\n\t}\n};\n\nexport class BinaryAST extends CodeAST\n{\n\tstatic classdoc = \"Base class for all UL4 AST nodes implementing binary expressions\\n(i.e. operators with two operands).\";\n\n\tconstructor(template, posstart, posstop, obj1, obj2)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.obj1 = obj1;\n\t\tthis.obj2 = obj2;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" obj1=\");\n\t\tthis.obj1._repr(out);\n\t\tout.push(\" obj2=\");\n\t\tthis.obj2._repr(out);\n\t\tout.push(\">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet obj1 = this.obj1._handle_eval(context);\n\t\tlet obj2 = this.obj2._handle_eval(context);\n\t\treturn this._do(obj1, obj2);\n\t}\n};\n\nBinaryAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"obj1\", \"obj2\"]);\n\n// Item access and assignment (`x[y]`): dict[key], list[index], string[index], color[index]\nexport class ItemAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for subscripting expression (e.g. ``x[y]``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tlet result = this._get(obj1, obj2);\n\t\treturn result;\n\t}\n\n\t_eval_set(context, value)\n\t{\n\t\tlet obj1 = this.obj1._handle_eval(context);\n\t\tlet obj2 = this.obj2._handle_eval(context);\n\t\tthis._set(obj1, obj2, value);\n\t}\n\n\t_eval_modify(context, operator, value)\n\t{\n\t\tlet obj1 = this.obj1._handle_eval(context);\n\t\tlet obj2 = this.obj2._handle_eval(context);\n\t\tthis._modify(operator, obj1, obj2, value);\n\t}\n\n\t_get(container, key)\n\t{\n\t\tif (typeof(container) === \"string\" || _islist(container))\n\t\t{\n\t\t\tif (key instanceof slice)\n\t\t\t{\n\t\t\t\tlet start = key.start, stop = key.stop;\n\t\t\t\tif (start === undefined || start === null)\n\t\t\t\t\tstart = 0;\n\t\t\t\tif (stop === undefined || stop === null)\n\t\t\t\t\tstop = container.length;\n\t\t\t\treturn container.slice(start, stop);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet orgkey = key;\n\t\t\t\tif (key < 0)\n\t\t\t\t\tkey += container.length;\n\t\t\t\tif (key < 0 || key >= container.length)\n\t\t\t\t\tthrow new IndexError(container, orgkey);\n\t\t\t\treturn container[key];\n\t\t\t}\n\t\t}\n\t\telse if (container && typeof(container[symbols.getitem]) === \"function\") // objects without `_getitem__` don't support item access\n\t\t\treturn container[symbols.getitem](key);\n\t\telse if (_ismap(container))\n\t\t\treturn container.get(key);\n\t\telse if (_isobject(container))\n\t\t\treturn container[key];\n\t\telse\n\t\t\tthrow new TypeError(_type(container).fullname() + \" object is not subscriptable\");\n\t}\n\n\t_set(container, key, value)\n\t{\n\t\tif (_islist(container))\n\t\t{\n\t\t\tif (key instanceof slice)\n\t\t\t{\n\t\t\t\tlet start = key.start, stop = key.stop;\n\t\t\t\tif (start === null)\n\t\t\t\t\tstart = 0;\n\t\t\t\telse if (start < 0)\n\t\t\t\t\tstart += container.length;\n\t\t\t\tif (start < 0)\n\t\t\t\t\tstart = 0;\n\t\t\t\telse if (start > container.length)\n\t\t\t\t\tstart = container.length;\n\t\t\t\tif (stop === null)\n\t\t\t\t\tstop = container.length;\n\t\t\t\telse if (stop < 0)\n\t\t\t\t\tstop += container.length;\n\t\t\t\tif (stop < 0)\n\t\t\t\t\tstop = 0;\n\t\t\t\telse if (stop > container.length)\n\t\t\t\t\tstop = container.length;\n\t\t\t\tif (stop < start)\n\t\t\t\t\tstop = start;\n\t\t\t\tcontainer.splice(start, stop-start); // Remove old element\n\t\t\t\tfor (let iter = _iter(value);;)\n\t\t\t\t{\n\t\t\t\t\tlet item = iter.next();\n\t\t\t\t\tif (item.done)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcontainer.splice(start++, 0, item.value);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet orgkey = key;\n\t\t\t\tif (key < 0)\n\t\t\t\t\tkey += container.length;\n\t\t\t\tif (key < 0 || key >= container.length)\n\t\t\t\t\tthrow new IndexError(container, orgkey);\n\t\t\t\tcontainer[key] = value;\n\t\t\t}\n\t\t}\n\t\telse if (container && typeof(container[symbols.setitem]) === \"function\") // test this before the generic object test\n\t\t\tcontainer[symbols.setitem](key, value);\n\t\telse if (_ismap(container))\n\t\t\tcontainer.set(key, value);\n\t\telse if (_isobject(container))\n\t\t\tcontainer[key] = value;\n\t\telse\n\t\t\tthrow new NotSubscriptableError(container);\n\t}\n\n\t_modify(operator, container, key, value)\n\t{\n\t\tthis._set(container, key, operator._ido(this._get(container, key), value));\n\t}\n};\n\n// Identifty test operator (`x is y`)\nexport class IsAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a binary ``is`` comparison expression (e.g. ``x is y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\treturn obj1 === obj2;\n\t}\n};\n\n// Inverted identity test operator (`x is not y`)\nexport class IsNotAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a binary ``is not`` comparison expression (e.g. ``x is not y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\treturn obj1 !== obj2;\n\t}\n};\n\n// Comparison operator (`x == y`)\nexport class EQAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for the binary equality comparison (e.g. ``x == y``.\";\n\n\t_do(obj1, obj2)\n\t{\n\t\treturn _eq(obj1, obj2);\n\t}\n};\n\n// Comparison operator (`x != y`)\nexport class NEAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a binary inequality comparison (e.g. ``x != y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\treturn _ne(obj1, obj2);\n\t}\n};\n\n// Comparison operator (`x < y`)\nexport class LTAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for the binary \\\"less than\\\" comparison (e.g. ``x < y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\treturn _lt(obj1, obj2);\n\t}\n};\n\n// Comparison operator (`x <= y`)\nexport class LEAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for the binary \\\"less than or equal\\\" comparison (e.g. ``x <= y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\treturn _le(obj1, obj2);\n\t}\n};\n\n// Comparison operator (`x > y`)\nexport class GTAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for the binary \\\"greater than\\\" comparison (e.g. ``x > y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\treturn _gt(obj1, obj2);\n\t}\n};\n\n// Comparison operator (`x >= y`)\nexport class GEAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for the binary \\\"greater than or equal\\\" comparison (e.g. ``x >= y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\treturn _ge(obj1, obj2);\n\t}\n};\n\n// Containment test (`x in y`): string in string, obj in list, key in dict, value in rgb\nexport class ContainsAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for the binary containment testing operator (e.g. ``x in y``).\";\n\n\t_do(obj, container)\n\t{\n\t\tif (typeof(obj) === \"string\" && typeof(container) === \"string\")\n\t\t{\n\t\t\treturn container.indexOf(obj) !== -1;\n\t\t}\n\t\telse if (_islist(container))\n\t\t{\n\t\t\treturn container.indexOf(obj) !== -1;\n\t\t}\n\t\telse if (container && typeof(container[symbols.contains]) === \"function\") // test this before the generic object test\n\t\t\treturn container[symbols.contains](obj);\n\t\telse if (_ismap(container) || _isset(container))\n\t\t\treturn container.has(obj);\n\t\telse if (_isobject(container))\n\t\t{\n\t\t\tfor (let key in container)\n\t\t\t{\n\t\t\t\tif (key === obj)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\telse if (_iscolor(container))\n\t\t{\n\t\t\treturn container._r === obj || container._g === obj || container._b === obj || container._a === obj;\n\t\t}\n\t\tthrow new TypeError(_type(container).fullname() + \" object is not iterable\");\n\t}\n};\n\n// Inverted containment test (`x not in y`)\nexport class NotContainsAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for an inverted containment testing expression (e.g. ``x not in y``).\";\n\n\t_do(obj, container)\n\t{\n\t\treturn !ContainsAST.prototype._do(obj, container);\n\t}\n};\n\n// Addition (`x + y`): num + num, string + string\nexport class AddAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a binary addition expression (e.g. ``x + y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tif (obj1 && typeof(obj1[symbols.add]) === \"function\")\n\t\t\treturn obj1[symbols.add](obj2);\n\t\telse if (obj2 && typeof(obj2[symbols.radd]) === \"function\")\n\t\t\treturn obj2[symbols.radd](obj1);\n\t\tif (obj1 === null || obj1 === undefined || obj2 === null || obj2 === undefined)\n\t\t\tthrow new TypeError(_type(obj1).fullname() + \" + \" + _type(obj2).fullname() + \" is not supported\");\n\t\tif (_islist(obj1) && _islist(obj2))\n\t\t\treturn [...obj1, ...obj2];\n\t\telse\n\t\t\treturn obj1 + obj2;\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\tif (_islist(obj1) && _islist(obj2))\n\t\t{\n\t\t\tlisttype.append(obj1, obj2);\n\t\t\treturn obj1;\n\t\t}\n\t\telse\n\t\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n// Substraction (`x - y`): num - num\nexport class SubAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for the binary subtraction expression (e.g. ``x - y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tif (obj1 && typeof(obj1[symbols.sub]) === \"function\")\n\t\t\treturn obj1[symbols.sub](obj2);\n\t\telse if (obj2 && typeof(obj2[symbols.rsub]) === \"function\")\n\t\t\treturn obj2[symbols.rsub](obj1);\n\t\telse if (_isdate(obj1) && _isdate(obj2))\n\t\t\treturn this._date_sub(obj1, obj2);\n\t\telse if (_isdatetime(obj1) && _isdatetime(obj2))\n\t\t\treturn this._datetime_sub(obj1, obj2);\n\t\tif (obj1 === null || obj1 === undefined || obj2 === null || obj2 === undefined)\n\t\t\tthrow new TypeError(_type(obj1).fullname() + \" - \" + _type(obj2).fullname() + \" is not supported\");\n\t\treturn obj1 - obj2;\n\t}\n\n\t_date_sub(obj1, obj2)\n\t{\n\t\treturn this._datetime_sub(obj1._date, obj2._date);\n\t}\n\n\t_datetime_sub(obj1, obj2)\n\t{\n\t\tlet swap = (obj2 > obj1);\n\n\t\tif (swap)\n\t\t{\n\t\t\tlet t = obj1;\n\t\t\tobj1 = obj2;\n\t\t\tobj2 = t;\n\t\t}\n\t\t// From now on obj1 is > than obj2\n\n\t\tlet year1 = obj1.getFullYear();\n\t\tlet yearday1 = datetimetype.yearday(obj1);\n\t\tlet year2 = obj2.getFullYear();\n\t\tlet yearday2 = datetimetype.yearday(obj2);\n\n\t\tlet diffdays = 0;\n\n\t\twhile (year1 > year2)\n\t\t{\n\t\t\tdiffdays += datetype.yearday(_date(year2, 12, 31));\n\t\t\t++year2;\n\t\t}\n\t\tdiffdays += yearday1 - yearday2;\n\n\t\tlet hours1 = obj1.getHours();\n\t\tlet minutes1 = obj1.getMinutes();\n\t\tlet seconds1 = obj1.getSeconds();\n\t\tlet hours2 = obj2.getHours();\n\t\tlet minutes2 = obj2.getMinutes();\n\t\tlet seconds2 = obj2.getSeconds();\n\n\t\tlet diffseconds = (seconds1 - seconds2) + 60 * ((minutes1 - minutes2) + 60 * (hours1 - hours2));\n\n\t\tlet diffmilliseconds = obj1.getMilliseconds() - obj2.getMilliseconds();\n\n\t\tif (swap)\n\t\t{\n\t\t\tdiffdays = -diffdays;\n\t\t\tdiffseconds = -diffseconds;\n\t\t\tdiffmilliseconds = -diffmilliseconds;\n\t\t}\n\t\treturn new TimeDelta(diffdays, diffseconds, 1000*diffmilliseconds);\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n\n// Multiplication (`x * y`): num * num, int * str, str * int, int * list, list * int\nexport class MulAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for the binary multiplication expression (e.g. ``x * y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tif (obj1 && typeof(obj1[symbols.mul]) === \"function\")\n\t\t\treturn obj1[symbols.mul](obj2);\n\t\telse if (obj2 && typeof(obj2[symbols.rmul]) === \"function\")\n\t\t\treturn obj2[symbols.rmul](obj1);\n\t\tif (obj1 === null || obj1 === undefined || obj2 === null || obj2 === undefined)\n\t\t\tthrow new TypeError(obj1 + \" * \" + obj2 + \" not supported\");\n\t\telse if (_isint(obj1) || _isbool(obj1))\n\t\t{\n\t\t\tif (typeof(obj2) === \"string\")\n\t\t\t{\n\t\t\t\tif (obj1 < 0)\n\t\t\t\t\tthrow new ValueError(\"repetition counter must be positive\");\n\t\t\t\treturn _str_repeat(obj2, obj1);\n\t\t\t}\n\t\t\telse if (_islist(obj2))\n\t\t\t{\n\t\t\t\tif (obj1 < 0)\n\t\t\t\t\tthrow new ValueError(\"repetition counter must be positive\");\n\t\t\t\treturn _list_repeat(obj2, obj1);\n\t\t\t}\n\t\t}\n\t\telse if (_isint(obj2) || _isbool(obj2))\n\t\t{\n\t\t\tif (typeof(obj1) === \"string\")\n\t\t\t{\n\t\t\t\tif (obj2 < 0)\n\t\t\t\t\tthrow new ValueError(\"repetition counter must be positive\");\n\t\t\t\treturn _str_repeat(obj1, obj2);\n\t\t\t}\n\t\t\telse if (_islist(obj1))\n\t\t\t{\n\t\t\t\tif (obj2 < 0)\n\t\t\t\t\tthrow new ValueError(\"repetition counter must be positive\");\n\t\t\t\treturn _list_repeat(obj1, obj2);\n\t\t\t}\n\t\t}\n\t\treturn obj1 * obj2;\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\tif (_islist(obj1) && _isint(obj2))\n\t\t{\n\t\t\tif (obj2 > 0)\n\t\t\t{\n\t\t\t\tlet i = 0;\n\t\t\t\tlet targetsize = obj1.length * obj2;\n\t\t\t\twhile (obj1.length < targetsize)\n\t\t\t\t\tobj1.push(obj1[i++]);\n\t\t\t}\n\t\t\telse\n\t\t\t\tobj1.splice(0, obj1.length);\n\t\t\treturn obj1;\n\t\t}\n\t\telse\n\t\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n// Truncating division (`x // y`)\nexport class FloorDivAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a binary truncating division expression (e.g. ``x // y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tif (obj1 && typeof(obj1[symbols.floordiv]) === \"function\")\n\t\t\treturn obj1[symbols.floordiv](obj2);\n\t\telse if (obj2 && typeof(obj2[symbols.rfloordiv]) === \"function\")\n\t\t\treturn obj2[symbols.rfloordiv](obj1);\n\t\tif (obj1 === null || obj1 === undefined || obj2 === null || obj2 === undefined)\n\t\t\tthrow new TypeError(_type(obj1).fullname() + \" // \" + _type(obj2).fullname() + \" not supported\");\n\t\telse if ((typeof(obj1) === \"number\" || typeof(obj1) === \"boolean\") && (typeof(obj2) === \"number\" || typeof(obj2) === \"boolean\") && obj2 == 0)\n\t\t\tthrow new ZeroDivisionError();\n\t\treturn Math.floor(obj1 / obj2);\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n// \"Real\" division (`x / y`)\nexport class TrueDivAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a binary true division expression (e.g. ``x / y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tif (obj1 && typeof(obj1[symbols.truediv]) === \"function\")\n\t\t\treturn obj1[symbols.truediv](obj2);\n\t\telse if (obj2 && typeof(obj2[symbols.rtruediv]) === \"function\")\n\t\t\treturn obj2[symbols.rtruediv](obj1);\n\t\tif (obj1 === null || obj1 === undefined || obj2 === null || obj2 === undefined)\n\t\t\tthrow new TypeError(_type(obj1).fullname() + \" / \" + _type(obj2).fullname() + \" not supported\");\n\t\telse if ((typeof(obj1) === \"number\" || typeof(obj1) === \"boolean\") && (typeof(obj2) === \"number\" || typeof(obj2) === \"boolean\") && obj2 == 0)\n\t\t\tthrow new ZeroDivisionError();\n\t\treturn obj1 / obj2;\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n// Modulo (`x % y`)\nexport class ModAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a binary modulo expression (e.g. ``x % y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\treturn _mod(obj1, obj2);\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n// Bitwise left shift (`x << y`)\nexport class ShiftLeftAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a bitwise left shift expression (e.g. ``x << y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tif (obj2 === false)\n\t\t\tobj2 = 0;\n\t\telse if (obj2 === true)\n\t\t\tobj2 = 1;\n\t\tif (obj2 < 0)\n\t\t\treturn ShiftRightAST.prototype._do(obj1, -obj2);\n\t\tif (obj1 === false)\n\t\t\tobj1 = 0;\n\t\telse if (obj1 === true)\n\t\t\tobj1 = 1;\n\t\twhile (obj2--)\n\t\t\tobj1 *= 2;\n\t\treturn obj1;\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n// Bitwise right shift (`x >> y`)\nexport class ShiftRightAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a bitwise right shift expression (e.g. ``x >> y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tif (obj2 === false)\n\t\t\tobj2 = 0;\n\t\telse if (obj2 === true)\n\t\t\tobj2 = 1;\n\t\tif (obj2 < 0)\n\t\t\treturn ShiftLeftAST.prototype._do(obj1, -obj2);\n\t\tif (obj1 === false)\n\t\t\tobj1 = 0;\n\t\telse if (obj1 === true)\n\t\t\tobj1 = 1;\n\t\twhile (obj2--)\n\t\t\tobj1 /= 2;\n\t\treturn Math.floor(obj1);\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n// Bitwise and (`x & y`)\nexport class BitAndAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a binary bitwise \\\"and\\\" expression (e.g ``x & y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tif (obj2 === false)\n\t\t\tobj2 = 0;\n\t\telse if (obj2 === true)\n\t\t\tobj2 = 1;\n\t\treturn obj1 & obj2;\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n// Bitwise exclusive or (`x ^ y`)\nexport class BitXOrAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for the binary bitwise \\\"exclusive or\\\" expression (e.g. ``x ^ y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tif (obj2 === false)\n\t\t\tobj2 = 0;\n\t\telse if (obj2 === true)\n\t\t\tobj2 = 1;\n\t\treturn obj1 ^ obj2;\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n// Bitwise or (`x | y`)\nexport class BitOrAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a binary bitwise \\\"or\\\" expression (e.g. ``x | y``).\";\n\n\t_do(obj1, obj2)\n\t{\n\t\tif (obj2 === false)\n\t\t\tobj2 = 0;\n\t\telse if (obj2 === true)\n\t\t\tobj2 = 1;\n\t\treturn obj1 | obj2;\n\t}\n\n\t_ido(obj1, obj2)\n\t{\n\t\treturn this._do(obj1, obj2);\n\t}\n};\n\n// Boolean logical and (`x and y`)\nexport class AndAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for the binary \\\"and\\\" expression (i.e. ``x and y``).\";\n\n\t_eval(context)\n\t{\n\t\tlet obj1 = this.obj1._handle_eval(context);\n\t\tif (!_bool(obj1))\n\t\t\treturn obj1;\n\t\tlet obj2 = this.obj2._handle_eval(context);\n\t\treturn obj2;\n\t}\n};\n\n// Boolean logical or (`x or y`)\nexport class OrAST extends BinaryAST\n{\n\tstatic classdoc = \"AST node for a binary \\\"or\\\" expression (e.g. ``x or y``).\";\n\n\t_eval(context)\n\t{\n\t\tlet obj1 = this.obj1._handle_eval(context);\n\t\tif (_bool(obj1))\n\t\t\treturn obj1;\n\t\tlet obj2 = this.obj2._handle_eval(context);\n\t\treturn obj2;\n\t}\n};\n\n// Attribute access (`x.y`)\nexport class AttrAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for an expression that gets or sets an attribute of an object.\\n(e.g. ``x.y``).\";\n\n\tconstructor(template, posstart, posstop, obj, attrname)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.obj = obj;\n\t\tthis.attrname = attrname;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" obj=\");\n\t\tthis.obj._repr(out);\n\t\tout.push(\" attrname=\", _repr(this.attrname), \">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet obj = this.obj._handle_eval(context);\n\t\tlet result = this._get(obj, this.attrname);\n\t\treturn result;\n\t}\n\n\t_eval_set(context, value)\n\t{\n\t\tlet obj = this.obj._handle_eval(context);\n\t\tthis._set(obj, this.attrname, value);\n\t}\n\n\t_eval_modify(context, operator, value)\n\t{\n\t\tlet obj = this.obj._handle_eval(context);\n\t\tthis._modify(operator, obj, this.attrname, value);\n\t}\n\n\t_get(object, attrname)\n\t{\n\t\tlet type = _type(object);\n\t\ttry\n\t\t{\n\t\t\treturn type.getattr(object, attrname);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (exc instanceof AttributeError && exc.obj === object)\n\t\t\t\treturn undefined;\n\t\t\telse\n\t\t\t\tthrow exc;\n\t\t}\n\t}\n\n\t_set(object, attrname, value)\n\t{\n\t\tif (typeof(object) === \"object\" && typeof(object[symbols.setattr]) === \"function\")\n\t\t\tobject[symbols.setattr](attrname, value);\n\t\telse if (_ismap(object))\n\t\t\tobject.set(attrname, value);\n\t\telse if (_isobject(object))\n\t\t\tobject[attrname] = value;\n\t\telse\n\t\t\tthrow new TypeError(_type(object).fullname() + \" object has no writable attributes\");\n\t}\n\n\t_modify(operator, object, attrname, value)\n\t{\n\t\tlet oldvalue = this._get(object, attrname);\n\t\tlet newvalue = operator._ido(oldvalue, value);\n\t\tthis._set(object, attrname, newvalue);\n\t}\n};\n\nAttrAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"obj\", \"attrname\"]);\n\n// Function call (`x(y, z)`)\nexport class CallAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for calling an object (e.g. ``f(x, y)``).\";\n\n\tconstructor(template, posstart, posstop, obj, args)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.obj = obj;\n\t\tthis.args = args;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" obj=\");\n\t\tthis.obj._repr(out);\n\t\tfor (let arg of this.args)\n\t\t{\n\t\t\tout.push(\" \");\n\t\t\targ._repr(out);\n\t\t}\n\t\tout.push(\">\");\n\t}\n\n\t_makeargs(context)\n\t{\n\t\tlet args = [], kwargs = {};\n\t\tfor (let arg of this.args)\n\t\t\targ._handle_eval_call(context, args, kwargs);\n\t\treturn [args, kwargs];\n\t}\n\n\t_handle_eval(context)\n\t{\n\t\ttry\n\t\t{\n\t\t\treturn this._eval(context);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tthis._decorate_exception(exc);\n\t\t\tthrow exc;\n\t\t}\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet obj = this.obj._handle_eval(context);\n\t\tlet [args, kwargs] = this._makeargs(context);\n\t\tlet result = _call(context, obj, args, kwargs);\n\t\treturn result;\n\t}\n};\n\nCallAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"obj\", \"args\"]);\n\n\nexport class RenderAST extends CallAST\n{\n\tstatic classdoc = \"AST node for rendering a template (e.g. ``<?render t(x)?>``.\";\n\n\tconstructor(template, posstart, posstop, obj, args)\n\t{\n\t\tsuper(template, posstart, posstop, obj, args);\n\t\tthis.indent = null;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name);\n\t\tif (this.indent !== null)\n\t\t\tout.push(\" indent=\", _repr(this.indent.text));\n\t\tout.push(\" obj=\");\n\t\tthis.obj._repr(out);\n\t\tout.push(0);\n\t\tfor (let arg of this.args)\n\t\t{\n\t\t\tout.push(\" \");\n\t\t\targ._repr(out);\n\t\t\tout.push(0);\n\t\t}\n\t\tout.push(-1, \">\");\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"render \", this.source.replace(/\\r?\\n/g, ' '));\n\t\tif (this.indent !== null)\n\t\t{\n\t\t\tout.push(\" with indent \", _repr(this.indent.text));\n\t\t}\n\t}\n\n\t_render_object(context, obj, args, kwargs)\n\t{\n\t\treturn _callrender(context, obj, args, kwargs);\n\t}\n\n\t_renderx_object(context, obj, args, kwargs)\n\t{\n\t\tlet result = null;\n\t\tlet oldstream = context._output;\n\t\ttry\n\t\t{\n\t\t\tcontext._output = new XMLEscapeStream(oldstream);\n\t\t\tresult = _callrender(context, obj, args, kwargs);\n\t\t}\n\t\tfinally\n\t\t{\n\t\t\tcontext._output = oldstream;\n\t\t}\n\t\treturn result;\n\t}\n\n\t_real_render_object(context, obj, args, kwargs)\n\t{\n\t\tthis._render_object(context, obj, args, kwargs);\n\t}\n\n\t_print_object(context, obj, args, kwargs)\n\t{\n\t\tlet output = _str(obj);\n\t\tcontext.write(output);\n\t}\n\n\t_printx_object(context, obj)\n\t{\n\t\tlet output = _xmlescape(obj);\n\t\tcontext.write(output);\n\t}\n\n\t_dont_print_object(context, obj)\n\t{\n\t\tthrow new TypeError(_repr(obj) + \" is not renderable by UL4\");\n\t}\n\n\t_real_print_object(context, obj)\n\t{\n\t\tthis._dont_print_object(context, obj);\n\t}\n\n\t_handle_eval(context)\n\t{\n\t\tlet localcontext = context.withindent(this.indent !== null ? this.indent.text : null);\n\t\tlet obj = this.obj._handle_eval(localcontext);\n\t\t// If the object turns out to not be renderable we nonetheless evaluate the arguments\n\t\tlet [args, kwargs] = this._makeargs(localcontext);\n\t\tthis._handle_additional_arguments(localcontext, args, kwargs);\n\n\t\ttry\n\t\t{\n\t\t\tif (_object_is_renderable(obj))\n\t\t\t{\n\t\t\t\tthis._real_render_object(localcontext, obj, args, kwargs);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis._real_print_object(localcontext, obj);\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tthis._decorate_exception(exc);\n\t\t\tthrow exc;\n\t\t}\n\t}\n\n\t_handle_additional_arguments(context, args)\n\t{\n\t}\n};\n\nRenderAST.prototype._ul4onattrs = CallAST.prototype._ul4onattrs.concat([\"indent\"]);\n\n\nexport class RenderXAST extends RenderAST\n{\n\tstatic classdoc = \"AST node for rendering a template and XML-escaping the output\\n(e.g. ``<?renderx t(x)?>``.\";\n\n\t_real_render_object(context, obj, args, kwargs)\n\t{\n\t\tthis._renderx_object(context, obj, args, kwargs);\n\t}\n};\n\n\nexport class RenderOrPrintAST extends RenderAST\n{\n\tstatic classdoc = \"AST node for rendering a template or printing an object.\";\n\n\t_real_print_object(context, obj)\n\t{\n\t\tthis._print_object(context, obj);\n\t}\n};\n\n\nexport class RenderOrPrintXAST extends RenderAST\n{\n\tstatic classdoc = \"AST node for rendering a template or printing an object\\n(e.g. ``<?render_or_printx t(x)?>``.\";\n\n\t_real_print_object(context, obj)\n\t{\n\t\tthis._printx_object(context, obj);\n\t}\n};\n\n\nexport class RenderXOrPrintAST extends RenderAST\n{\n\tstatic classdoc = \"AST node for rendering a template or printing an object\\n(e.g. ``<?renderx_or_print t(x)?>``.\";\n\n\t_real_render_object(context, obj, args, kwargs)\n\t{\n\t\tthis._renderx_object(context, obj, args, kwargs);\n\t}\n\n\t_real_print_object(context, obj)\n\t{\n\t\tthis._print_object(context, obj);\n\t}\n};\n\n\nexport class RenderXOrPrintXAST extends RenderAST\n{\n\tstatic classdoc = \"AST node for rendering a template or printing an object\\n(e.g. ``<?renderx_or_printx t(x)?>``.\";\n\n\t_real_render_object(context, obj, args, kwargs)\n\t{\n\t\tthis._renderx_object(context, obj, args, kwargs);\n\t}\n\n\t_real_print_object(context, obj)\n\t{\n\t\tthis._printx_object(context, obj);\n\t}\n};\n\n\nexport class RenderBlockAST extends RenderAST\n{\n\tstatic classdoc = \"AST node for rendering a template via a ``<?renderblock?>`` block and\\npassing the content of the block as one additional keyword argument named\\n``content``.\";\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, +1, \"obj=\");\n\t\tthis.obj._repr(out);\n\t\tfor (let arg of this.args)\n\t\t{\n\t\t\tout.push(0);\n\t\t\targ._repr(out);\n\t\t}\n\t\tout.push(0, \"content=\");\n\t\tthis.content._repr(out);\n\t\tout.push(-1, \">\");\n\t}\n\n\t_handle_additional_arguments(context, args, kwargs)\n\t{\n\t\tif (kwargs.hasOwnProperty(\"content\"))\n\t\t\tthrow new ArgumentError(\"duplicate keyword argument content\");\n\t\tlet closure = new TemplateClosure(this.content, this.content.signature, context.vars);\n\t\tkwargs.content = closure;\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tif (\n\t\t\tattrname === \"stoppos\" ||\n\t\t\tattrname === \"stopsource\" ||\n\t\t\tattrname === \"stopsourceprefix\" ||\n\t\t\tattrname === \"stopsourcesuffix\"\n\t\t)\n\t\t\treturn this[attrname];\n\t\telse\n\t\t\treturn super[symbols.getattr](attrname);\n\t}\n};\n\nRenderBlockAST.prototype._ul4onattrs = RenderAST.prototype._ul4onattrs.concat([\"stopposstart\", \"stopposstop\", \"content\"]);\n\n\nexport class RenderBlocksAST extends RenderAST\n{\n\tstatic classdoc = \"AST node for rendering a template and passing additional arguments via\\nnested variable definitions, e.g.::\";\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, +1, \"obj=\");\n\t\tthis.obj._repr(out);\n\t\tfor (let arg of this.args)\n\t\t{\n\t\t\tout.push(0);\n\t\t\targ._repr(out);\n\t\t}\n\t\tfor (let item of this.content)\n\t\t{\n\t\t\tout.push(0);\n\t\t\titem._repr(out);\n\t\t}\n\t\tout.push(-1, \">\");\n\t}\n\n\t_handle_additional_arguments(context, args, kwargs)\n\t{\n\t\tlet localcontext = context.inheritvars();\n\t\tBlockAST.prototype._eval.call(this, localcontext);\n\n\t\tfor (let key in localcontext.vars)\n\t\t{\n\t\t\tif (localcontext.vars.hasOwnProperty(key))\n\t\t\t{\n\t\t\t\tif (key in kwargs)\n\t\t\t\t\tthrow new ArgumentError(\"duplicate keyword argument \" + key);\n\t\t\t\tkwargs[key] = localcontext.get(key);\n\t\t\t}\n\t\t}\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tif (\n\t\t\tattrname === \"stoppos\" ||\n\t\t\tattrname === \"stopsource\" ||\n\t\t\tattrname === \"stopsourceprefix\" ||\n\t\t\tattrname === \"stopsourcesuffix\"\n\t\t)\n\t\t\treturn this[attrname];\n\t\telse\n\t\t\treturn super[symbols.getattr](attrname);\n\t}\n};\n\nRenderBlocksAST.prototype._ul4onattrs = RenderAST.prototype._ul4onattrs.concat([\"stopposstart\", \"stopposstop\", \"content\"]);\n\n\n// Slice object\nexport class slice extends Proto\n{\n\tconstructor(start, stop)\n\t{\n\t\tsuper();\n\t\tthis.start = start;\n\t\tthis.stop = stop;\n\t}\n\n\t[symbols.type]()\n\t{\n\t\treturn this.type;\n\t}\n\n\tof(string)\n\t{\n\t\tlet start = this.start || 0;\n\t\tlet stop = this.stop === null ? string.length : this.stop;\n\t\treturn string.slice(start, stop);\n\t}\n\n\t[symbols.repr]()\n\t{\n\t\treturn \"slice(\" + _repr(this.start) + \", \" + _repr(this.stop) + \", None)\";\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"start\":\n\t\t\t\treturn this.start;\n\t\t\tcase \"stop\":\n\t\t\t\treturn this.stop;\n\t\t\tdefault:\n\t\t\t\tthrow new AttributeError(this, attrname);\n\t\t}\n\t}\n};\n\nslice.prototype.type = new Type(null, \"slice\", \"A slice specification.\");\n\n\n// List/String slice (`x[y:z]`)\nexport class SliceAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for creating a slice object (used in ``obj[index1:index2]``).\";\n\n\tconstructor(template, posstart, posstop, index1, index2)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.index1 = index1;\n\t\tthis.index2 = index2;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name);\n\t\tif (this.index1 !== null)\n\t\t{\n\t\t\tout.push(\" index1=\");\n\t\t\tthis.index1._repr(out);\n\t\t}\n\t\tif (this.index2 !== null)\n\t\t{\n\t\t\tout.push(\" index2=\");\n\t\t\tthis.index2._repr(out);\n\t\t}\n\t\tout.push(\">\");\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet index1 = this.index1 !== null ? this.index1._handle_eval(context) : null;\n\t\tlet index2 = this.index2 !== null ? this.index2._handle_eval(context) : null;\n\t\treturn new slice(index1, index2);\n\t}\n};\n\nSliceAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"index1\", \"index2\"]);\n\nexport class ChangeVarAST extends CodeAST\n{\n\tstatic classdoc = \"Base class for all AST nodes that are assignment operators, i.e. that\\nset or modify a variable/attribute or item.\";\n\n\tconstructor(template, posstart, posstop, lvalue, value)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.lvalue = lvalue;\n\t\tthis.value = value;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\n\t\t\t\"<\",\n\t\t\tthis.constructor.name,\n\t\t\t\" lvalue=\",\n\t\t\t_repr(this.lvalue),\n\t\t\t\" value=\"\n\t\t);\n\t\tthis.value._repr(out);\n\t\tout.push(\">\");\n\t}\n};\n\nChangeVarAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"lvalue\", \"value\"]);\n\nexport class SetVarAST extends ChangeVarAST\n{\n\tstatic classdoc = \"AST node for setting a variable, attribute or item to a value (e.g.\\n``x = y``).\";\n\n\t_eval(context)\n\t{\n\t\tlet value = this.value._handle_eval(context);\n\t\tlet items = _unpackvar(this.lvalue, value);\n\t\tfor (let [lvalue, value] of items)\n\t\t\tlvalue._handle_eval_set(context, value);\n\t}\n};\n\nexport class ModifyVarAST extends ChangeVarAST\n{\n\t_eval(context)\n\t{\n\t\tlet value = this.value._handle_eval(context);\n\t\tlet items = _unpackvar(this.lvalue, value);\n\t\tfor (let [lvalue, value] of items)\n\t\t\tlvalue._handle_eval_modify(context, this._operator, value);\n\t}\n};\n\nexport class AddVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for an augmented assignment expression that adds a value to a\\nvariable (e.g. ``x += y``).\";\n};\n\nAddVarAST.prototype._operator = AddAST.prototype;\n\nexport class SubVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for an augmented assignment expression that subtracts a value from\\na variable/attribute/item. (e.g. ``x -= y``).\";\n};\n\nSubVarAST.prototype._operator = SubAST.prototype;\n\nexport class MulVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for an augmented assignment expression that assigns the result\\nof a multiplication to its left operand. (e.g. ``x *= y``).\";\n};\n\nMulVarAST.prototype._operator = MulAST.prototype;\n\nexport class TrueDivVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for an augmented assignment expression that assigns the result\\nof a truncation division to its left operand. (e.g. ``x //= y``).\";\n};\n\nTrueDivVarAST.prototype._operator = TrueDivAST.prototype;\n\nexport class FloorDivVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for augmented assignment expression that divides a variable by a\\nvalue, truncating to an integer value (e.g. ``x //= y``).\";\n};\n\nFloorDivVarAST.prototype._operator = FloorDivAST.prototype;\n\nexport class ModVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for an augmented assignment expression that assigns the result\\nof a modulo expression to its left operand. (e.g. ``x %= y``).\";\n};\n\nModVarAST.prototype._operator = ModAST.prototype;\n\nexport class ShiftLeftVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for an augmented assignment expression that assigns the result\\nof a \\\"shift left\\\" expression to its left operand. (e.g. ``x <<= y``).\";\n};\n\nShiftLeftVarAST.prototype._operator = ShiftLeftAST.prototype;\n\nexport class ShiftRightVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for an augmented assignment expression that assigns the result\\nof a \\\"shift right\\\" expression to its left operand. (e.g. ``x >>= y``).\";\n};\n\nShiftRightVarAST.prototype._operator = ShiftRightAST.prototype;\n\nexport class BitAndVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for an augmented assignment expression that assigns the result\\nof a binary bitwise \\\"and\\\" expression to its left operand.\\n(e.g. ``x &= y``).\";\n};\n\nBitAndVarAST.prototype._operator = BitAndAST.prototype;\n\nexport class BitXOrVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for an augmented assignment expression that assigns the result\\nof a binary bitwise \\\"exclusive or\\\" expression to its left operand.\\n(e.g. ``x ^= y``).\";\n};\n\nBitXOrVarAST.prototype._operator = BitXOrAST.prototype;\n\nexport class BitOrVarAST extends ModifyVarAST\n{\n\tstatic classdoc = \"AST node for an augmented assignment expression that assigns the result\\nof a binary bitwise \\\"or\\\" expression to its left operand.\\n(e.g. ``x |= y``).\";\n};\n\nBitOrVarAST.prototype._operator = BitOrAST.prototype;\n\nexport class BlockAST extends CodeAST\n{\n\tstatic classdoc = \"Base class for all AST nodes that are blocks.\";\n\n\tconstructor(template, startposstart, startposstop, stopposstart, stopposstop)\n\t{\n\t\tsuper(template, startposstart, startposstop, stopposstart, stopposstop);\n\t\tthis.content = [];\n\t}\n\n\t_eval(context)\n\t{\n\t\tfor (let item of this.content)\n\t\t\titem._handle_eval(context);\n\t}\n\n\t_str(out)\n\t{\n\t\tif (this.content.length)\n\t\t{\n\t\t\tfor (let item of this.content)\n\t\t\t{\n\t\t\t\titem._str(out);\n\t\t\t\tout.push(0);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tout.push(\"pass\", 0);\n\t\t}\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tif (\n\t\t\tattrname === \"stoppos\" ||\n\t\t\tattrname === \"stopsource\" ||\n\t\t\tattrname === \"stopsourceprefix\" ||\n\t\t\tattrname === \"stopsourcesuffix\"\n\t\t)\n\t\t\treturn this[attrname];\n\t\telse\n\t\t\treturn super[symbols.getattr](attrname);\n\t}\n};\n\nBlockAST.prototype._ul4onattrs = CodeAST.prototype._ul4onattrs.concat([\"stopposstart\", \"stopposstop\", \"content\"]);\n\nexport class ForBlockAST extends BlockAST\n{\n\tstatic classdoc = \"AST node for a ``<?for?>`` loop.\";\n\n\tconstructor(template, posstart, posstop, varname, container)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.varname = varname;\n\t\tthis.container = container;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\n\t\t\t\"<\",\n\t\t\tthis.constructor.name,\n\t\t\t\" varname=\",\n\t\t\t_repr(this.varname),\n\t\t\t\" container=\"\n\t\t);\n\t\tthis.container._repr(out);\n\t\tout.push(\">\");\n\t}\n\n\t_str_varname(out, varname)\n\t{\n\t\tif (_islist(varname))\n\t\t{\n\t\t\tout.push(\"(\");\n\t\t\tlet first = truel\n\t\t\tfor (let subname of varname)\n\t\t\t{\n\t\t\t\tif (first)\n\t\t\t\t\tfirst = false;\n\t\t\t\telse\n\t\t\t\t\tout.push(\", \");\n\t\t\t\tthis._str_varname(out, subname);\n\t\t\t}\n\t\t\tif (varname.length == 1)\n\t\t\t\tout.push(\",\");\n\t\t\tout.push(\")\");\n\t\t}\n\t\telse\n\t\t\tvarname._str(out);\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet container = this.container._handle_eval(context);\n\n\t\tfor (let iter = _iter(container);;)\n\t\t{\n\t\t\tlet value = iter.next();\n\t\t\tif (value.done)\n\t\t\t\tbreak;\n\t\t\tlet varitems = _unpackvar(this.varname, value.value);\n\t\t\tfor (let [lvalue, value] of varitems)\n\t\t\t\tlvalue._handle_eval_set(context, value);\n\t\t\ttry\n\t\t\t{\n\t\t\t\t// We can't call _handle_eval() here, as this would in turn call\n\t\t\t\t// this function again, leading to infinite recursion. But we\n\t\t\t\t// don't have to, as wrapping the original exception in `Error`\n\t\t\t\t// has already been done by the lower levels.\n\t\t\t\tsuper._eval(context);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (exc instanceof BreakException)\n\t\t\t\t\tbreak;\n\t\t\t\telse if (exc instanceof ContinueException)\n\t\t\t\t\t;\n\t\t\t\telse\n\t\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"for \");\n\t\tthis._str_varname(out, this.varname);\n\t\tout.push(\" in \");\n\t\tthis.container._str(out);\n\t\tout.push(\":\", +1);\n\t\tBlockAST.prototype._str.call(this, out);\n\t\tout.push(-1);\n\t}\n};\n\nForBlockAST.prototype._ul4onattrs = BlockAST.prototype._ul4onattrs.concat([\"varname\", \"container\"]);\n\nexport class WhileBlockAST extends BlockAST\n{\n\tstatic classdoc = \"AST node for a ``<?while?>`` loop.\";\n\n\tconstructor(template, posstart, posstop, condition)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.condition = condition;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" condition=\");\n\t\tthis.condition._repr(out);\n\t\tout.push(\">\");\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"while \");\n\t\tthis.condition._repr(out);\n\t\tout.push(\":\", +1);\n\t\tBlockAST.prototype._str.call(this, out);\n\t\tout.push(-1);\n\t}\n\n\t_eval(context)\n\t{\n\t\twhile (true)\n\t\t{\n\t\t\tlet cond = this.condition._handle_eval(context);\n\t\t\tif (!_bool(cond))\n\t\t\t\tbreak;\n\t\t\ttry\n\t\t\t{\n\t\t\t\t// We can't call _handle_eval() here, as this would in turn call\n\t\t\t\t// this function again, leading to infinite recursion. But we\n\t\t\t\t// don't have to, as wrapping the original exception in `Error`\n\t\t\t\t// has already been done by the lower levels.\n\t\t\t\tsuper._eval(context);\n\t\t\t}\n\t\t\tcatch (exc)\n\t\t\t{\n\t\t\t\tif (exc instanceof BreakException)\n\t\t\t\t\tbreak;\n\t\t\t\telse if (exc instanceof ContinueException)\n\t\t\t\t\t;\n\t\t\t\telse\n\t\t\t\t\tthrow exc;\n\t\t\t}\n\t\t}\n\t}\n};\n\nWhileBlockAST.prototype._ul4onattrs = BlockAST.prototype._ul4onattrs.concat([\"condition\"]);\n\nexport class BreakAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for a ``<?break?>`` tag inside a ``<?for?>`` loop.\";\n\n\t_eval(context)\n\t{\n\t\tthrow new BreakException();\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"break\", 0);\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \">\");\n\t}\n};\n\nexport class ContinueAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for a ``<?continue?>`` tag inside a ``<?for?>`` block.\";\n\n\t_eval(context)\n\t{\n\t\tthrow new ContinueException();\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"continue\", 0);\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \">\");\n\t}\n};\n\nexport class ConditionalBlocksAST extends BlockAST\n{\n\tstatic classdoc = \"AST node for a conditional ``<?if?>/<?elif?>/<?else?>`` block.\";\n\n\t_eval(context)\n\t{\n\t\tfor (let block of this.content)\n\t\t{\n\t\t\tlet execute = block._execute(context);\n\t\t\tif (execute)\n\t\t\t{\n\t\t\t\tblock._handle_eval(context);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport class ConditionalBlockAST extends  BlockAST\n{\n\tconstructor(template, posstart, posstop, condition)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.condition = condition;\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" condition=\");\n\t\tthis.condition._repr(out);\n\t\tout.push(\">\");\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(this._strname, \" \");\n\t\tthis.condition._str(out);\n\t\tout.push(\":\", +1);\n\t\tBlockAST.prototype._str.call(this, out);\n\t\tout.push(-1);\n\t}\n\n\t_execute(context)\n\t{\n\t\tlet cond = this.condition._handle_eval(context);\n\t\tlet result = _bool(cond);\n\t\treturn result;\n\t}\n};\n\nConditionalBlockAST.prototype._ul4onattrs = BlockAST.prototype._ul4onattrs.concat([\"condition\"]);\n\nexport class IfBlockAST extends ConditionalBlockAST\n{\n\tstatic classdoc = \"AST node for an ``<?if?>`` block in an ``<?if?>/<?elif?>/<?else?>`` block.\";\n};\n\nIfBlockAST.prototype._strname = \"if\";\n\nexport class ElIfBlockAST extends ConditionalBlockAST\n{\n\tstatic classdoc = \"AST node for an ``<?elif?>`` block.\";\n};\n\nElIfBlockAST.prototype._strname = \"else if\";\n\nexport class ElseBlockAST extends BlockAST\n{\n\tstatic classdoc = \"AST node for an ``<?else?>`` block.\";\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \">\");\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\"else:\", +1);\n\t\tBlockAST.prototype._str.call(this, out);\n\t\tout.push(-1);\n\t}\n\n\t_execute(context)\n\t{\n\t\treturn true;\n\t}\n};\n\n\nexport class Template extends BlockAST\n{\n\tstatic classdoc = \"An UL4 template\";\n\n\tconstructor(template, posstart, posstop, source, name, namespace, whitespace, signature)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis._source = source;\n\t\tthis.name = name;\n\t\tthis.namespace = namespace;\n\t\tthis.whitespace = whitespace;\n\t\tthis.docposstart = -1;\n\t\tthis.docposstop = -1;\n\t\tthis.signature = signature;\n\t\tthis._asts = null;\n\t\tthis._ul4_signature = signature;\n\t\tthis.parenttemplate = null;\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tlet self = this;\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"content\":\n\t\t\t\treturn this.content;\n\t\t\tcase \"source\":\n\t\t\t\treturn this.source;\n\t\t\tcase \"name\":\n\t\t\t\treturn this.name;\n\t\t\tcase \"namespace\":\n\t\t\t\treturn this.namespace;\n\t\t\tcase \"fullname\":\n\t\t\t\treturn this.fullname;\n\t\t\tcase \"whitespace\":\n\t\t\t\treturn this.whitespace;\n\t\t\tcase \"doc\":\n\t\t\t\treturn this.doc();\n\t\t\tcase \"signature\":\n\t\t\t\treturn this.signature;\n\t\t\tcase \"parenttemplate\":\n\t\t\t\treturn this.parenttemplate;\n\t\t\tcase \"render\":\n\t\t\t\tlet render = function render(context, vars){ self._renderbound(context, vars); };\n\t\t\t\texpose(render, this.signature, {needscontext: true, needsobject: true});\n\t\t\t\treturn render;\n\t\t\tcase \"renders\":\n\t\t\t\tlet renders = function renders(context, vars){ return self._rendersbound(context, vars); };\n\t\t\t\texpose(renders, this.signature, {needscontext: true, needsobject: true});\n\t\t\t\treturn renders;\n\t\t\tdefault:\n\t\t\t\treturn super[symbols.getattr](attrname);\n\t\t}\n\t}\n\n\tul4ondump(encoder)\n\t{\n\t\tlet signature;\n\t\tencoder.dump(api_version);\n\t\tencoder.dump(this.name);\n\t\tencoder.dump(this.namespace);\n\t\tencoder.dump(this._source);\n\t\tencoder.dump(this.whitespace);\n\t\tencoder.dump(this.docposstart);\n\t\tencoder.dump(this.docposstop);\n\t\tencoder.dump(this.parenttemplate);\n\t\tif (this.signature === null || this.signature instanceof SignatureAST)\n\t\t\tsignature = this.signature;\n\t\telse\n\t\t{\n\t\t\tsignature = [];\n\t\t\tfor (let param of this.signature.params)\n\t\t\t{\n\t\t\t\tsignature.push(param.name, param.type);\n\t\t\t\tif (param.type.endsWith(\"=\"))\n\t\t\t\t\tsignature.push(param.defaultValue);\n\t\t\t}\n\t\t}\n\t\tencoder.dump(signature);\n\t\tsuper.ul4ondump(encoder);\n\t}\n\n\tul4onload(decoder)\n\t{\n\t\tlet loaded_api_version = decoder.load();\n\t\tlet signature;\n\n\t\tif (loaded_api_version === null)\n\t\t\tthrow new ValueError(\"UL4ON doesn't support templates in 'source' format in Javascript implementation\");\n\n\t\tif (loaded_api_version !== api_version)\n\t\t\tthrow new ValueError(\"Invalid UL4 version, expected \" + api_version + \", got \" + loaded_api_version);\n\n\t\tthis.name = decoder.load();\n\t\tthis.namespace = decoder.load();\n\t\tthis._source = decoder.load();\n\t\tthis.whitespace = decoder.load();\n\t\tthis.docposstart = decoder.load();\n\t\tthis.docposstop = decoder.load();\n\t\tthis.parenttemplate = decoder.load();\n\t\tsignature = decoder.load();\n\t\tif (_islist(signature))\n\t\t\tsignature = new Signature(...signature);\n\t\tthis.signature = signature;\n\t\tthis._ul4_signature = signature;\n\t\tsuper.ul4onload(decoder);\n\t}\n\n\tget fullname()\n\t{\n\t\tif (this.name == null)\n\t\t\treturn null;\n\t\treturn this.namespace != null ? this.namespace + \".\" + this.name : this.name;\n\t}\n\n\tloads(string)\n\t{\n\t\treturn loads(string);\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet signature = null;\n\t\tif (this.signature !== null)\n\t\t\tsignature = this.signature._handle_eval(context);\n\t\tlet closure = new TemplateClosure(this, signature, context.vars);\n\t\tcontext.set(this.name, closure);\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name);\n\t\tif (this.name !== null)\n\t\t\tout.push(\" fullname=\", this.fullname);\n\t\tout.push(\" whitespace=\", _repr(this.whitespace), \">\");\n\t}\n\n\t_str(out)\n\t{\n\t\tout.push(\n\t\t\t\"def \",\n\t\t\tthis.fullname || \"unnamed\",\n\t\t\t\":\",\n\t\t\t+1\n\t\t);\n\t\tBlockAST.prototype._str.call(this, out);\n\t\tout.push(-1);\n\t}\n\n\t_renderbound(context, vars)\n\t{\n\t\tlet localcontext = context.replacevars(vars);\n\t\ttry\n\t\t{\n\t\t\tBlockAST.prototype._eval.call(this, localcontext);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (!(exc instanceof ReturnException))\n\t\t\t\tthrow exc;\n\t\t}\n\t}\n\n\t[symbols.render](context, vars)\n\t{\n\t\tthis._renderbound(context, vars);\n\t}\n\n\trender(context, vars)\n\t{\n\t\tthis._renderbound(context, vars);\n\t}\n\n\t_rendersbound(context, vars)\n\t{\n\t\tlet localcontext = context.replaceoutput();\n\t\tthis._renderbound(localcontext, vars);\n\t\treturn localcontext.getoutput();\n\t}\n\n\trenders(vars=null, globals=null)\n\t{\n\t\tlet context = new Context({}, globals);\n\t\tvars = vars || {};\n\t\tif (this.signature !== null)\n\t\t\tvars = this.signature.bindObject(this.name, [], vars);\n\t\treturn this._rendersbound(context, vars);\n\t}\n\n\tdoc()\n\t{\n\t\treturn this.docposstart !== -1 ? this._source.slice(this.docposstart, this.docposstop) : null;\n\t}\n\n\t_callbound(context, vars)\n\t{\n\t\tlet localcontext = context.replacevars(vars);\n\t\tlocalcontext._output = new NullStream();\n\t\ttry\n\t\t{\n\t\t\tBlockAST.prototype._eval.call(this, localcontext);\n\t\t}\n\t\tcatch (exc)\n\t\t{\n\t\t\tif (exc instanceof ReturnException)\n\t\t\t\treturn exc.result;\n\t\t\telse\n\t\t\t\tthrow exc;\n\t\t}\n\t\treturn null;\n\t}\n\n\tcall(vars=null, globals=null)\n\t{\n\t\tlet context = new Context({}, globals);\n\t\tvars = vars || {};\n\t\tif (this.signature !== null)\n\t\t\tvars = this.signature.bindObject(this.name, [], vars);\n\t\treturn this._callbound(context, vars);\n\t}\n\n\t[symbols.call](context, vars)\n\t{\n\t\treturn this._callbound(context, vars);\n\t}\n\n\tul4type()\n\t{\n\t\treturn \"template\";\n\t}\n};\n\nTemplate.prototype._ul4_needsobject = true;\nTemplate.prototype._ul4_needscontext = true;\n\nexport class SignatureAST extends CodeAST\n{\n\tstatic classdoc = \"AST node for the signature of a locally defined subtemplate.\";\n\n\tconstructor(template, posstart, posstop)\n\t{\n\t\tsuper(template, posstart, posstop);\n\t\tthis.params = [];\n\t}\n\n\tul4ondump(encoder)\n\t{\n\t\tsuper.ul4ondump(encoder);\n\n\t\tlet dump = [];\n\n\t\tfor (let param of this.params)\n\t\t{\n\t\t\tdump.push(param[0], param[1]);\n\t\t\tif (param[1].endsWith(\"=\"))\n\t\t\t\tdump.push(param[2]);\n\t\t}\n\t\tencoder.dump(dump);\n\t}\n\n\tul4onload(decoder)\n\t{\n\t\tsuper.ul4onload(decoder);\n\t\tlet dump = decoder.load();\n\t\tthis.params = [];\n\t\tlet name;\n\t\tlet type;\n\t\tlet state = 0;\n\t\tfor (let param of dump)\n\t\t{\n\t\t\tif (state == 0)\n\t\t\t{\n\t\t\t\tname = param;\n\t\t\t\tstate = 1;\n\t\t\t}\n\t\t\telse if (state == 1)\n\t\t\t{\n\t\t\t\ttype = param;\n\t\t\t\tif (type.endsWith(\"=\"))\n\t\t\t\t\tstate = 2;\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.params.push({name: name, type: type, defaultValue: null});\n\t\t\t\t\tstate = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.params.push({name: name, type: type, defaultValue: param});\n\t\t\t\tstate = 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t_eval(context)\n\t{\n\t\tlet args = [];\n\t\tfor (let param of this.params)\n\t\t{\n\t\t\targs.push(param.name, param.type);\n\t\t\tif (param.type.endsWith(\"=\"))\n\t\t\t\targs.push(param.defaultValue._handle_eval(context));\n\t\t}\n\t\treturn new Signature(...args);\n\t}\n\n\t_repr(out)\n\t{\n\t\tout.push(\"<\", this.constructor.name, \" params=\");\n\t\tthis.params._repr(out);\n\t\tout.push(\">\");\n\t}\n};\n\nexport class TemplateClosure extends Proto\n{\n\tstatic classmodule = \"ul4\";\n\tstatic classdoc = \"A locally defined UL4 template\";\n\n\tconstructor(template, signature, vars)\n\t{\n\t\tsuper();\n\t\tthis.template = template;\n\t\tthis.signature = signature;\n\t\tthis.vars = vars;\n\t\tthis._ul4_signature = signature;\n\t\t// Copy over the required attribute from the template\n\t\tthis.name = template.name;\n\t\tthis.namespace = template.namespace;\n\t\tthis.tag = template.tag;\n\t\tthis.endtag = template.endtag;\n\t\tthis._source = template._source;\n\t\tthis.docpos = template.docpos;\n\t\tthis.content = template.content;\n\t}\n\n\t[symbols.render](context, vars)\n\t{\n\t\tthis.template._renderbound(context, _extend(this.vars, vars));\n\t}\n\n\trender(context, vars)\n\t{\n\t\tthis.template._renderbound(context, _extend(this.vars, vars));\n\t}\n\n\t[symbols.call](context, vars)\n\t{\n\t\treturn this.template._callbound(context, _extend(this.vars, vars));\n\t}\n\n\t_renderbound(context, vars)\n\t{\n\t\tthis.template._renderbound(context, _extend(this.vars, vars));\n\t}\n\n\t_rendersbound(context, vars)\n\t{\n\t\treturn this.template._rendersbound(context, _extend(this.vars, vars));\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tlet self = this;\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"render\":\n\t\t\t\tlet render = function render(context, vars){ self._renderbound(context, vars); };\n\t\t\t\texpose(render, this.signature, {needscontext: true, needsobject: true});\n\t\t\t\treturn render;\n\t\t\tcase \"renders\":\n\t\t\t\tlet renders = function renders(context, vars){ return self._rendersbound(context, vars); };\n\t\t\t\texpose(renders, this.signature, {needscontext: true, needsobject: true});\n\t\t\t\treturn renders;\n\t\t\tcase \"signature\":\n\t\t\t\treturn this.signature;\n\t\t\tdefault:\n\t\t\t\treturn this.template[symbols.getattr](attrname);\n\t\t}\n\t}\n\n\tul4type()\n\t{\n\t\treturn \"template\";\n\t}\n};\n\nTemplateClosure.prototype._ul4_needsobject = true;\nTemplateClosure.prototype._ul4_needscontext = true;\n\n// Create a color object from the red, green, blue and alpha values\n// `r`, `g`, `b` and `b`\nexport function _rgb(r, g, b, a)\n{\n\treturn new Color(255*r, 255*g, 255*b, 255*a);\n};\n\n// Convert `obj` to a string and escape the characters `&`, `<`, `>`,\n// `'` and `\"` with their XML character/entity reference\nexport function _xmlescape(obj)\n{\n\tobj = _str(obj);\n\tobj = obj.replace(/&/g, \"&amp;\");\n\tobj = obj.replace(/</g, \"&lt;\");\n\tobj = obj.replace(/>/g, \"&gt;\");\n\tobj = obj.replace(/'/g, \"&#39;\");\n\tobj = obj.replace(/\"/g, \"&quot;\");\n\treturn obj;\n};\n\n// Convert `obj` to a string suitable for output into a CSV file\nexport function _csv(obj)\n{\n\tif (obj === null)\n\t\treturn \"\";\n\telse if (typeof(obj) !== \"string\")\n\t\tobj = _repr(obj);\n\tif (obj.indexOf(\",\") !== -1 || obj.indexOf('\"') !== -1 || obj.indexOf(\"\\n\") !== -1)\n\t\tobj = '\"' + obj.replace(/\"/g, '\"\"') + '\"';\n\treturn obj;\n};\n\n// Return a string containing one character with the codepoint `i`\nexport function _chr(i)\n{\n\tif (typeof(i) !== \"number\")\n\t\tthrow new TypeError(\"chr() requires an int\");\n\treturn String.fromCharCode(i);\n};\n\n// Return the codepoint for the one and only character in the string `c`\nexport function _ord(c)\n{\n\tif (typeof(c) !== \"string\" || c.length != 1)\n\t\tthrow new TypeError(\"ord() requires a string of length 1\");\n\treturn c.charCodeAt(0);\n};\n\n// Convert an integer to a hexadecimal string\nexport function _hex(number)\n{\n\tif (typeof(number) !== \"number\")\n\t\tthrow new TypeError(\"hex() requires an int\");\n\tif (number < 0)\n\t\treturn \"-0x\" + number.toString(16).substr(1);\n\telse\n\t\treturn \"0x\" + number.toString(16);\n};\n\n// Convert an integer to a octal string\nexport function _oct(number)\n{\n\tif (typeof(number) !== \"number\")\n\t\tthrow new TypeError(\"oct() requires an int\");\n\tif (number < 0)\n\t\treturn \"-0o\" + number.toString(8).substr(1);\n\telse\n\t\treturn \"0o\" + number.toString(8);\n};\n\n// Convert an integer to a binary string\nexport function _bin(number)\n{\n\tif (typeof(number) !== \"number\")\n\t\tthrow new TypeError(\"bin() requires an int\");\n\tif (number < 0)\n\t\treturn \"-0b\" + number.toString(2).substr(1);\n\telse\n\t\treturn \"0b\" + number.toString(2);\n};\n\n// Return the minimum value\nexport function _min(context, defaultValue=Object, key=null, args=[])\n{\n\tif (args.length == 0)\n\t\tthrow new ArgumentError(\"min() requires at least 1 argument, 0 given\");\n\telse if (args.length == 1)\n\t\targs = args[0];\n\tlet iter = _iter(args);\n\tlet result;\n\tlet minvalue;\n\tlet first = true;\n\twhile (true)\n\t{\n\t\tlet item = iter.next();\n\t\tif (item.done)\n\t\t{\n\t\t\tif (first)\n\t\t\t{\n\t\t\t\tif (defaultValue === Object)\n\t\t\t\t\tthrow new ValueError(\"min() argument is an empty sequence!\");\n\t\t\t\treturn defaultValue;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\tlet testvalue = item.value;\n\t\tif (key !== null)\n\t\t\ttestvalue = _call(context, key, [testvalue], {});\n\t\tif (first || (testvalue < minvalue))\n\t\t{\n\t\t\tresult = item.value;\n\t\t\tminvalue = testvalue;\n\t\t}\n\t\tfirst = false;\n\t}\n};\n\n// Return the maximum value\nexport function _max(context, defaultValue=Object, key=null, args=[])\n{\n\tif (args.length == 0)\n\t\tthrow new ArgumentError(\"max() requires at least 1 argument, 0 given\");\n\telse if (args.length == 1)\n\t\targs = args[0];\n\tlet iter = _iter(args);\n\tlet result;\n\tlet minvalue;\n\tlet first = true;\n\twhile (true)\n\t{\n\t\tlet item = iter.next();\n\t\tif (item.done)\n\t\t{\n\t\t\tif (first)\n\t\t\t{\n\t\t\t\tif (defaultValue === Object)\n\t\t\t\t\tthrow new ValueError(\"max() argument is an empty sequence!\");\n\t\t\t\treturn defaultValue;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\tlet testvalue = item.value;\n\t\tif (key !== null)\n\t\t\ttestvalue = _call(context, key, [testvalue], {});\n\t\tif (first || (testvalue > minvalue))\n\t\t{\n\t\t\tresult = item.value;\n\t\t\tminvalue = testvalue;\n\t\t}\n\t\tfirst = false;\n\t}\n};\n\n// Return the of the values from the iterable starting with `start` (default `0`)\nexport function _sum(iterable, start=0)\n{\n\tfor (let iter = _iter(iterable);;)\n\t{\n\t\tlet item = iter.next();\n\t\tif (item.done)\n\t\t\tbreak;\n\t\tstart += item.value;\n\t}\n\treturn start;\n};\n\n// Return the first value produced by iterating through `iterable`\n// (defaulting to `defaultValue` if the iterator is empty)\nexport function _first(iterable, defaultValue=null)\n{\n\tlet item = _iter(iterable).next();\n\treturn item.done ? defaultValue : item.value;\n};\n\n// Return the last value produced by iterating through `iterable`\n// (defaulting to `defaultValue` if the iterator is empty)\nexport function _last(iterable, defaultValue=null)\n{\n\tlet value = defaultValue;\n\n\tfor (let iter = _iter(iterable);;)\n\t{\n\t\tlet item = iter.next();\n\t\tif (item.done)\n\t\t\tbreak;\n\t\tvalue = item.value;\n\t}\n\treturn value;\n};\n\n// Return a sorted version of `iterable`\nexport function _sorted(context, iterable, key=null, reverse=false)\n{\n\tif (key === null)\n\t{\n\t\t// FIXME: stability\n\t\tlet cmp = reverse ? function cmp(a, b)\n\t\t{\n\t\t\treturn -_cmp(\"<=>\", a, b);\n\t\t} : function cmp(a, b)\n\t\t{\n\t\t\treturn _cmp(\"<=>\", a, b);\n\t\t};\n\t\tlet result = _list(iterable);\n\t\tresult.sort(cmp);\n\t\treturn result;\n\t}\n\telse\n\t{\n\t\tlet sort = [];\n\n\t\tfor (let i = 0, iter = _iter(iterable);;++i)\n\t\t{\n\t\t\tlet item = iter.next();\n\t\t\tif (item.done)\n\t\t\t\tbreak;\n\t\t\tlet keyvalue = _call(context, key, [item.value], {});\n\t\t\t// For a stable sorting we have to use the negative index if\n\t\t\t// reverse sorting is specified\n\t\t\tsort.push([keyvalue, reverse ? -i : i, item.value]);\n\t\t}\n\t\tfunction cmp(s1, s2)\n\t\t{\n\t\t\tlet res = _cmp(\"<=>\", s1[0], s2[0]);\n\t\t\tif (res)\n\t\t\t\treturn reverse ? -res : res;\n\t\t\tres = _cmp(\"<=>\", s1[1], s2[1]);\n\t\t\treturn reverse ? -res : res;\n\t\t};\n\n\t\tsort.sort(cmp);\n\n\t\tlet result = [];\n\t\tfor (let item of sort)\n\t\t\tresult.push(item[2]);\n\t\treturn result;\n\t}\n};\n\n// Return a iterable object iterating from `start` up to (but not including)\n// `stop` with a step size of `step`\nexport function _range(start, stop=Object, step=Object)\n{\n\tif (step === Object)\n\t\tstep = 1;\n\tif (stop === Object)\n\t{\n\t\tstop = start;\n\t\tstart = 0;\n\t}\n\tlet lower, higher;\n\tif (step === 0)\n\t\tthrow new ValueError(\"range() requires a step argument != 0\");\n\telse if (step > 0)\n\t{\n\t\tlower = start;\n\t\thigher = stop;\n\t}\n\telse\n\t{\n\t\tlower = stop;\n\t\thigher = start;\n\t}\n\tlet length = (lower < higher) ? Math.floor((higher - lower - 1)/Math.abs(step)) + 1 : 0;\n\n\treturn {\n\t\tindex: 0,\n\t\tnext: function()\n\t\t{\n\t\t\tif (this.index >= length)\n\t\t\t\treturn {done: true};\n\t\t\treturn {value: start + (this.index++) * step, done: false};\n\t\t}\n\t};\n};\n\n// Return a iterable object returning a slice from the argument\nexport function _slice(iterable, start, stop=Object, step=Object)\n{\n\tif (step === Object)\n\t\tstep = 1;\n\tif (stop === Object)\n\t{\n\t\tstop = start;\n\t\tstart = 0;\n\t}\n\tif (start < 0)\n\t\tthrow new ValueError(\"slice() requires a start argument >= 0\");\n\tif (stop < 0)\n\t\tthrow new ValueError(\"slice() requires a stop argument >= 0\");\n\tif (step <= 0)\n\t\tthrow new ValueError(\"slice() requires a step argument > 0\");\n\n\tlet next = start, count = 0;\n\tlet iter = _iter(iterable);\n\treturn {\n\t\tnext: function() {\n\t\t\tlet result;\n\t\t\twhile (count < next)\n\t\t\t{\n\t\t\t\tresult = iter.next();\n\t\t\t\tif (result.done)\n\t\t\t\t\treturn result;\n\t\t\t\t++count;\n\t\t\t}\n\t\t\tif (stop !== null && count >= stop)\n\t\t\t\treturn {done: true};\n\t\t\tresult = iter.next();\n\t\t\tif (result.done)\n\t\t\t\treturn result;\n\t\t\t++count;\n\t\t\tnext += step;\n\t\t\tif (stop !== null && next > stop)\n\t\t\t\tnext = stop;\n\t\t\treturn result;\n\t\t}\n\t};\n};\n\n// `%` escape unsafe characters in the string `string`\nexport function _urlquote(string)\n{\n\treturn encodeURIComponent(string);\n};\n\n// The inverse function of `urlquote`\nexport function _urlunquote(string)\n{\n\treturn decodeURIComponent(string);\n};\n\n// Return a reverse iterator over `sequence`\nexport function _reversed(sequence)\n{\n\tif (typeof(sequence) !== \"string\" && !_islist(sequence)) // We don't have to materialize strings or lists\n\t\tsequence = _list(sequence);\n\treturn {\n\t\tindex: sequence.length-1,\n\t\tnext: function() {\n\t\t\treturn this.index >= 0 ? {value: sequence[this.index--], done: false} : {done: true};\n\t\t}\n\t};\n};\n\n// Returns a random number in the interval `[0;1[`\nexport function _random()\n{\n\treturn Math.random();\n};\n\n// Return a randomly select item from `range(start, stop, step)`\nexport function _randrange(start, stop=Object, step=Object)\n{\n\tif (step === Object)\n\t\tstep = 1;\n\tif (stop === Object)\n\t{\n\t\tstop = start;\n\t\tstart = 0;\n\t}\n\tlet width = stop-start;\n\n\tlet value = Math.random();\n\n\tlet n;\n\tif (step > 0)\n\t\tn = Math.floor((width + step - 1) / step);\n\telse if (step < 0)\n\t\tn = Math.floor((width + step + 1) / step);\n\telse\n\t\tthrow new ValueError(\"randrange() requires a step argument != 0\");\n\treturn start + step*Math.floor(value * n);\n};\n\n// Return a random item/char from the list/string `sequence`\nexport function _randchoice(sequence)\n{\n\tlet iscolor = _iscolor(sequence);\n\tif (typeof(sequence) !== \"string\" && !_islist(sequence) && !iscolor)\n\t\tthrow new TypeError(\"randchoice() requires a string or list\");\n\tif (iscolor)\n\t\tsequence = _list(sequence);\n\treturn sequence[Math.floor(Math.random() * sequence.length)];\n};\n\n// Round a number `x` to `digits` decimal places (may be negative)\nexport function _round(x, digits=0)\n{\n\tif (digits)\n\t{\n\t\tlet threshold = Math.pow(10, digits);\n\t\treturn Math.round(x*threshold)/threshold;\n\t}\n\telse\n\t\treturn Math.round(x);\n};\n\n// Round a number `x` down to `digits` decimal places (may be negative)\nexport function _floor(x, digits=0)\n{\n\tif (digits)\n\t{\n\t\tlet threshold = Math.pow(10, digits);\n\t\treturn Math.floor(x*threshold)/threshold;\n\t}\n\telse\n\t\treturn Math.floor(x);\n};\n\n// Round a number `x` up to `digits` decimal places (may be negative)\nexport function _ceil(x, digits=0)\n{\n\tif (digits)\n\t{\n\t\tlet threshold = Math.pow(10, digits);\n\t\treturn Math.ceil(x*threshold)/threshold;\n\t}\n\telse\n\t\treturn Math.ceil(x);\n};\n\n// Return a hex-encode MD5 hash of the argument\n// This uses the md5 function from https://github.com/blueimp/JavaScript-MD5\nimport md5 from 'blueimp-md5';\n\nexport function _md5(string)\n{\n\treturn md5(string);\n}\n\nexport function _scrypt(string, salt)\n{\n\tthrow new NotImplementedError(\"scrypt() is not implemented\");\n}\n\nexport function _css(value, defaultValue)\n{\n\tif (value.startsWith(\"#\"))\n\t{\n\t\tif (value.length == 4)\n\t\t{\n\t\t\treturn new Color(\n\t\t\t\t17 * parseInt(value[1], 16),\n\t\t\t\t17 * parseInt(value[2], 16),\n\t\t\t\t17 * parseInt(value[3], 16)\n\t\t\t);\n\t\t}\n\t\telse if (value.length == 5)\n\t\t{\n\t\t\treturn new Color(\n\t\t\t\t17 * parseInt(value[1], 16),\n\t\t\t\t17 * parseInt(value[2], 16),\n\t\t\t\t17 * parseInt(value[3], 16),\n\t\t\t\t17 * parseInt(value[4], 16)\n\t\t\t);\n\t\t}\n\t\telse if (value.length == 7)\n\t\t{\n\t\t\treturn new Color(\n\t\t\t\tparseInt(value.substring(1, 3), 16),\n\t\t\t\tparseInt(value.substring(3, 5), 16),\n\t\t\t\tparseInt(value.substring(5, 7), 16)\n\t\t\t);\n\t\t}\n\t\telse if (value.length == 9)\n\t\t{\n\t\t\treturn new Color(\n\t\t\t\tparseInt(value.substring(1, 3), 16),\n\t\t\t\tparseInt(value.substring(3, 5), 16),\n\t\t\t\tparseInt(value.substring(5, 7), 16),\n\t\t\t\tparseInt(value.substring(7, 9), 16)\n\t\t\t);\n\t\t}\n\t}\n\telse if (value.startsWith(\"rgb(\") && value.endsWith(\")\"))\n\t{\n\t\tlet parts = value.slice(4, -1).split(\",\");\n\t\tif (parts.length == 3)\n\t\t{\n\t\t\tfor (let i = 0; i < 3; ++i)\n\t\t\t{\n\t\t\t\tlet part = parts[i];\n\t\t\t\tif (part.endsWith(\"%\"))\n\t\t\t\t\tparts[i] = parseInt(part.slice(0, -1), \"10\")*255/100;\n\t\t\t\telse\n\t\t\t\t\tparts[i] = parseInt(part, \"10\");\n\t\t\t}\n\t\t\treturn new Color(...parts);\n\t\t}\n\t}\n\telse if (value.startsWith(\"rgba(\") && value.endsWith(\")\"))\n\t{\n\t\tlet parts = value.slice(5, -1).split(\",\");\n\t\tif (parts.length == 4)\n\t\t{\n\t\t\tfor (let i = 0; i < 4; ++i)\n\t\t\t{\n\t\t\t\tlet part = parts[i];\n\t\t\t\tif (part.endsWith(\"%\"))\n\t\t\t\t\tparts[i] = parseInt(part.slice(0, -1), \"10\")*255/100;\n\t\t\t\telse if (i == 3)\n\t\t\t\t\tparts[i] = parseFloat(part)*255;\n\t\t\t\telse\n\t\t\t\t\tparts[i] = parseInt(part, \"10\");\n\t\t\t}\n\t\t\treturn new Color(...parts);\n\t\t}\n\t}\n\telse\n\t{\n\t\tlet color = Color.cssColors[value];\n\t\tif (color !== undefined)\n\t\t\treturn color;\n\t}\n\tif (defaultValue === undefined)\n\t\tthrow new ValueError(\"css() can't interpret \" + _repr(value) + \" as a CSS color value\");\n\telse\n\t\treturn defaultValue;\n}\n\nexport function _mix(values)\n{\n\tlet r = 0.0;\n\tlet g = 0.0;\n\tlet b = 0.0;\n\tlet a = 0.0;\n\tlet weight = 1.0;\n\tlet sumweights = 0.0;\n\n\tfor (let value of values)\n\t{\n\t\tif (value instanceof Color)\n\t\t{\n\t\t\tsumweights += weight;\n\t\t\tr += weight * value._r;\n\t\t\tg += weight * value._g;\n\t\t\tb += weight * value._b;\n\t\t\ta += weight * (255-value._a);\n\t\t}\n\t\telse if (typeof(value) === \"number\")\n\t\t{\n\t\t\tweight = value;\n\t\t}\n\t\telse\n\t\t\tthrow new ArgumentError(\"color.mix() arguments msut be numbers or colors, not \" + _type(value).fullname());\n\t}\n\tif (sumweights == 0.0)\n\t\tthrow new ValueError(\"at least one of the arguments must be a color and at least one of the weights must be >0\");\n\n\treturn new Color(r/sumweights, g/sumweights, b/sumweights, 255-a/sumweights);\n}\n\n// Return an iterator over `[index, item]` lists from the iterable object\n// `iterable`. `index` starts at `start` (defaulting to 0).\nexport function _enumerate(iterable, start=0)\n{\n\treturn {\n\t\titer: _iter(iterable),\n\t\tindex: start,\n\t\tnext: function() {\n\t\t\tlet item = this.iter.next();\n\t\t\treturn item.done ? item : {value: [this.index++, item.value], done: false};\n\t\t}\n\t};\n};\n\n// Return an iterator over `[isfirst, item]` lists from the iterable object\n// `iterable` (`isfirst` is true for the first item, false otherwise).\nexport function _isfirst(iterable)\n{\n\tlet iter = _iter(iterable);\n\tlet isfirst = true;\n\treturn {\n\t\tnext: function() {\n\t\t\tlet item = iter.next();\n\t\t\tlet result = item.done ? item : {value: [isfirst, item.value], done: false};\n\t\t\tisfirst = false;\n\t\t\treturn result;\n\t\t}\n\t};\n};\n\n// Return an iterator over `[islast, item]` lists from the iterable object\n// `iterable` (`islast` is true for the last item, false otherwise).\nexport function _islast(iterable)\n{\n\tlet iter = _iter(iterable);\n\tlet lastitem = iter.next();\n\treturn {\n\t\tnext: function() {\n\t\t\tif (lastitem.done)\n\t\t\t\treturn lastitem;\n\t\t\tlet item = iter.next();\n\t\t\tlet result = {value: [item.done, lastitem.value], done: false};\n\t\t\tlastitem = item;\n\t\t\treturn result;\n\t\t}\n\t};\n};\n\n// Return an iterator over `[isfirst, islast, item]` lists from the iterable\n// object `iterable` (`isfirst` is true for the first item, `islast`\n// is true for the last item. Both are false otherwise).\nexport function _isfirstlast(iterable)\n{\n\tlet iter = _iter(iterable);\n\tlet isfirst = true;\n\tlet lastitem = iter.next();\n\treturn {\n\t\tnext: function() {\n\t\t\tif (lastitem.done)\n\t\t\t\treturn lastitem;\n\t\t\tlet item = iter.next();\n\t\t\tlet result = {value: [isfirst, item.done, lastitem.value], done: false};\n\t\t\tlastitem = item;\n\t\t\tisfirst = false;\n\t\t\treturn result;\n\t\t}\n\t};\n};\n\n// Return an iterator over `[index, isfirst, islast, item]` lists from the\n// iterable object `iterable` (`isfirst` is true for the first item,\n// `islast` is true for the last item. Both are false otherwise).\nexport function _enumfl(iterable, start=0)\n{\n\tlet iter = _iter(iterable);\n\tlet i = start;\n\tlet isfirst = true;\n\tlet lastitem = iter.next();\n\treturn {\n\t\tnext: function() {\n\t\t\tif (lastitem.done)\n\t\t\t\treturn lastitem;\n\t\t\tlet item = iter.next();\n\t\t\tlet result = {value: [i++, isfirst, item.done, lastitem.value], done: false};\n\t\t\tlastitem = item;\n\t\t\tisfirst = false;\n\t\t\treturn result;\n\t\t}\n\t};\n};\n\n// Return an iterator over lists, where the i'th list consists of all i'th\n// items from the arguments (terminating when the shortest argument ends).\nexport function _zip(iterables)\n{\n\tlet result;\n\tif (iterables.length)\n\t{\n\t\tlet iters = [];\n\t\tfor (let iterable of iterables)\n\t\t\titers.push(_iter(iterable));\n\n\t\treturn {\n\t\t\tnext: function() {\n\t\t\t\tlet items = [];\n\t\t\t\tfor (let iter of iters)\n\t\t\t\t{\n\t\t\t\t\tlet item = iter.next();\n\t\t\t\t\tif (item.done)\n\t\t\t\t\t\treturn item;\n\t\t\t\t\titems.push(item.value);\n\t\t\t\t}\n\t\t\t\treturn {value: items, done: false};\n\t\t\t}\n\t\t};\n\t}\n\telse\n\t{\n\t\treturn {\n\t\t\tnext: function() {\n\t\t\t\treturn {done: true};\n\t\t\t}\n\t\t};\n\t}\n};\n\n// Return the absolute value for the number `number`.\nexport function _abs(number)\n{\n\tif (number !== null && typeof(number[symbols.abs]) === \"function\")\n\t\treturn number[symbols.abs]();\n\treturn Math.abs(number);\n};\n\n// Return a `Date` object from the arguments passed in.\nexport function _date(year, month, day)\n{\n\treturn datetype[symbols.call](year, month, day);\n};\n\nexport function _datetime(year, month, day, hour=0, minute=0, second=0, microsecond=0)\n{\n\treturn datetimetype[symbols.call](year, month, day, hour, minute, second, microsecond);\n};\n\n// Return a `TimeDelta` object from the arguments passed in.\nexport function _timedelta(days=0, seconds=0, microseconds=0)\n{\n\treturn TimeDelta.type[symbols.call](days, seconds, microseconds);\n};\n\n// Return a `MonthDelta` object from the arguments passed in.\nexport function _monthdelta(months=0)\n{\n\treturn MonthDelta.type[symbols.call](months);\n};\n\n// Return a `Color` object from the hue, luminescence, saturation and\n// alpha values `h`, `l`, `s` and `a` (i.e. using the HLS color model).\nexport function _hls(h, l, s, a)\n{\n\tlet _v = function _v(m1, m2, hue)\n\t{\n\t\thue = hue % 1.0;\n\t\tif (hue < 1/6)\n\t\t\treturn m1 + (m2-m1)*hue*6.0;\n\t\telse if (hue < 0.5)\n\t\t\treturn m2;\n\t\telse if (hue < 2/3)\n\t\t\treturn m1 + (m2-m1)*(2/3-hue)*6.0;\n\t\treturn m1;\n\t};\n\n\tlet m1, m2;\n\tif (a === undefined)\n\t\ta = 1;\n\tif (s === 0.0)\n\t\treturn _rgb(l, l, l, a);\n\tif (l <= 0.5)\n\t\tm2 = l * (1.0+s);\n\telse\n\t\tm2 = l+s-(l*s);\n\tm1 = 2.0*l - m2;\n\treturn _rgb(_v(m1, m2, h+1/3), _v(m1, m2, h), _v(m1, m2, h-1/3), a);\n};\n\n// Return a `Color` object from the hue, saturation, value and alpha values\n// `h`, `s`, `v` and `a` (i.e. using the HSV color model).\nexport function _hsv(h, s, v, a)\n{\n\tif (s === 0.0)\n\t\treturn _rgb(v, v, v, a);\n\tlet i = Math.floor(h*6.0);\n\tlet f = (h*6.0) - i;\n\tlet p = v*(1.0 - s);\n\tlet q = v*(1.0 - s*f);\n\tlet t = v*(1.0 - s*(1.0-f));\n\tswitch (i%6)\n\t{\n\t\tcase 0:\n\t\t\treturn _rgb(v, t, p, a);\n\t\tcase 1:\n\t\t\treturn _rgb(q, v, p, a);\n\t\tcase 2:\n\t\t\treturn _rgb(p, v, t, a);\n\t\tcase 3:\n\t\t\treturn _rgb(p, q, v, a);\n\t\tcase 4:\n\t\t\treturn _rgb(t, p, v, a);\n\t\tcase 5:\n\t\t\treturn _rgb(v, p, q, a);\n\t}\n};\n\n// Return the item with the key `key` from the dict `container`.\n// If `container` doesn't have this key, return `defaultvalue`.\nexport function _get(container, key, defaultvalue)\n{\n\tif (_ismap(container))\n\t{\n\t\tif (container.has(key))\n\t\t\treturn container.get(key);\n\t\treturn defaultvalue;\n\t}\n\telse if (_isobject(container))\n\t{\n\t\tlet result = container[key];\n\t\tif (result === undefined)\n\t\t\treturn defaultvalue;\n\t\treturn result;\n\t}\n\tthrow new TypeError(\"get() requires a dict\");\n};\n\n// Return a `Date` object for the current time.\nexport function now()\n{\n\treturn new Date();\n};\n\n// Return a `Date` object for the current time in UTC.\nexport function utcnow()\n{\n\tlet now = new Date();\n\t// FIXME: The timezone is wrong for the new `Date` object.\n\treturn new Date(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), now.getUTCHours(), now.getUTCMinutes(), now.getUTCSeconds(), now.getUTCMilliseconds());\n};\n\n// Return an `Date` object for today.\nexport function today()\n{\n\tlet now = new Date();\n\treturn new Date_(now.getFullYear(), now.getMonth()+1, now.getDate());\n};\n\nexport class Module\n{\n\tconstructor(name, doc, content={})\n\t{\n\t\tthis.__name__ = name;\n\t\tthis.__doc__ = doc;\n\t\tfor (let [key, value] of Object.entries(content))\n\t\t\tthis[key] = value;\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tif (this.hasOwnProperty(attrname))\n\t\t\treturn this[attrname];\n\t\tthrow new ul4.AttributeError(this, attrname);\n\t}\n\n\t[symbols.repr]()\n\t{\n\t\treturn \"<module \" + this.__name__ + \">\";\n\t}\n};\n\nfunction _ul4on_loads(dump)\n{\n\treturn loads(dump);\n};\n\nexpose(_ul4on_loads, [\"dump\", \"p\"], {name: \"loads\"});\n\nfunction _ul4on_dumps(obj, indent=null)\n{\n\treturn dumps(obj, indent);\n};\n\nexpose(_ul4on_dumps, [\"obj\", \"p\", \"indent\", \"pk=\", null], {name: \"dumps\"});\n\nfunction isclose(a, b, rel_tol=1e-9, abs_tol=0.0)\n{\n\tif (a === b)\n\t\treturn true;\n\n\tif (a === Infinity || a === -Infinity || b === Infinity || b === -Infinity)\n\t\treturn false;\n\n\tlet diff = Math.abs(b - a);\n\n\tif (diff <= Math.abs(rel_tol * a))\n\t\treturn true;\n\tif (diff <= Math.abs(rel_tol * b))\n\t\treturn true;\n\tif (diff <= abs_tol)\n\t\treturn true;\n\treturn false;\n}\n\nexpose(Math.cos, [\"x\", \"p\"]);\nexpose(Math.sin, [\"x\", \"p\"]);\nexpose(Math.tan, [\"x\", \"p\"]);\nexpose(Math.sqrt, [\"x\", \"p\"]);\nexpose(isclose, [\"a\", \"pk\", \"b\", \"pk\", \"rel_tol\", \"k=\", 1e-9, \"abs_tol\", \"k=\", 0.0]);\n\n\nexport class AttrGetterType extends Type\n{\n\t[symbols.call](attrs)\n\t{\n\t\treturn new AttrGetter(attrs);\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn obj instanceof AttrGetter;\n\t}\n};\n\nexpose(AttrGetterType.prototype, [\"attrs\", \"*\"], {name: \"attrgetter\"});\n\nlet attrgettertype = new AttrGetterType(\"operator\", \"attrgetter\", \"A callable object that fetches the given attribute(s) from its operand.\");\n\nexport class AttrGetter\n{\n\t// Create a new AttrGetter object\n\tconstructor(attrs)\n\t{\n\t\tthis.attrs = attrs;\n\t}\n\n\t[symbols.type]()\n\t{\n\t\treturn attrgettertype;\n\t}\n\n\t_getone(obj, attrnames)\n\t{\n\t\tfor (let attrname of attrnames.split(\".\"))\n\t\t{\n\t\t\tlet type = _type(obj);\n\t\t\tobj = type.getattr(obj, attrname);\n\t\t}\n\t\treturn obj;\n\t}\n\n\t[symbols.call](obj)\n\t{\n\t\tif (this.attrs.length === 1)\n\t\t\treturn this._getone(obj, this.attrs[0])\n\t\telse\n\t\t{\n\t\t\tlet result = [];\n\t\t\tfor (let attrnames of this.attrs)\n\t\t\t\tresult.push(this._getone(obj, attrnames));\n\t\t\treturn result;\n\t\t}\n\t}\n};\n\nexpose(AttrGetter.prototype, [\"obj\", \"p\"], {name: \"attrgetter\"});\n\n\nexport function _attrgetter(attrnames)\n{\n\tfunction getone(obj, dottedname)\n\t{\n\t\tlet result = obj;\n\t\tfor (let name of dottedname.split(\".\"))\n\t\t\tresult = AttrAST.prototype._get(result, name);\n\t\treturn result;\n\t}\n\n\tfunction get(obj)\n\t{\n\t\tif (attrnames.length === 1)\n\t\t\treturn getone(obj, attrnames[0]);\n\t\telse\n\t\t{\n\t\t\tlet result = [];\n\t\t\tfor (let dottedattrname of attrnames)\n\t\t\t\tresult.push(getone(obj, dottedattrname));\n\t\t\treturn result;\n\t\t}\n\t}\n\texpose(get, [\"obj\", \"p\"]);\n\treturn get;\n}\n\nexpose(_attrgetter, [\"attrs\", \"*\"]);\n\nexpose(_repr, [\"obj\", \"p\"], {name: \"repr\"});\nexpose(_ascii, [\"obj\", \"p\"], {name: \"ascii\"});\nexpose(_len, [\"sequence\", \"p\"], {name: \"len\"});\nexpose(_type, [\"obj\", \"p\"], {name: \"type\"});\nexpose(_format, [\"obj\", \"pk\", \"fmt\", \"pk\", \"lang\", \"pk=\", null], {name: \"format\"});\nexpose(_any, [\"iterable\", \"p\"], {name: \"any\"});\nexpose(_all, [\"iterable\", \"p\"], {name: \"all\"});\nexpose(_zip, [\"iterables\", \"*\"], {name: \"zip\"});\nexpose(_getattr, [\"obj\", \"p\", \"attrname\", \"p\", \"default\", \"p=\", null], {name: \"getattr\"});\nexpose(_hasattr, [\"obj\", \"p\", \"attrname\", \"p\"], {name: \"hasattr\"});\nexpose(_dir, [\"obj\", \"p\"], {name: \"dir\"});\nexpose(_isundefined, [\"obj\", \"p\"], {name: \"isundefined\"});\nexpose(_isdefined, [\"obj\", \"p\"], {name: \"isdefined\"});\nexpose(_isnone, [\"obj\", \"p\"], {name: \"isnone\"});\nexpose(_isbool, [\"obj\", \"p\"], {name: \"isbool\"});\nexpose(_isint, [\"obj\", \"p\"], {name: \"isint\"});\nexpose(_isfloat, [\"obj\", \"p\"], {name: \"isfloat\"});\nexpose(_isstr, [\"obj\", \"p\"], {name: \"isstr\"});\nexpose(_isdate, [\"obj\", \"p\"], {name: \"isdate\"});\nexpose(_isdatetime, [\"obj\", \"p\"], {name: \"isdatetime\"});\nexpose(_iscolor, [\"obj\", \"p\"], {name: \"iscolor\"});\nexpose(_istimedelta, [\"obj\", \"p\"], {name: \"istimedelta\"});\nexpose(_ismonthdelta, [\"obj\", \"p\"], {name: \"ismonthdelta\"});\nexpose(_istemplate, [\"obj\", \"p\"], {name: \"istemplate\"});\nexpose(_isfunction, [\"obj\", \"p\"], {name: \"isfunction\"});\nexpose(_islist, [\"obj\", \"p\"], {name: \"islist\"});\nexpose(_isset, [\"obj\", \"p\"], {name: \"isset\"});\nexpose(_isdict, [\"obj\", \"p\"], {name: \"isdict\"});\nexpose(_isexception, [\"obj\", \"p\"], {name: \"isexception\"});\nexpose(_isinstance, [\"obj\", \"p\", \"type\", \"p\"], {name: \"isinstance\"});\nexpose(_asjson, [\"obj\", \"p\"], {name: \"asjson\"});\nexpose(_fromjson, [\"string\", \"p\"], {name: \"fromjson\"});\nexpose(_asul4on, [\"obj\", \"p\", \"indent\", \"pk=\",null], {name: \"asul4on\"});\nexpose(_fromul4on, [\"dump\", \"p\"], {name: \"fromul4on\"});\nexpose(now, []);\nexpose(utcnow, []);\nexpose(today, []);\nexpose(_enumerate, [\"iterable\", \"pk\", \"start\", \"pk=\", 0], {name: \"enumerate\"});\nexpose(_isfirst, [\"iterable\", \"p\"], {name: \"isfirst\"});\nexpose(_islast, [\"iterable\", \"p\"], {name: \"islast\"});\nexpose(_isfirstlast, [\"iterable\", \"p\"], {name: \"isfirstlast\"});\nexpose(_enumfl, [\"iterable\", \"p\", \"start\", \"pk=\", 0], {name: \"enumfl\"});\nexpose(_abs, [\"number\", \"p\"], {name: \"abs\"});\nexpose(_rgb, [\"r\", \"pk\", \"g\", \"pk\", \"b\", \"pk\", \"a\", \"pk=\", 1.0], {name: \"rgb\"});\nexpose(_hls, [\"h\", \"pk\", \"l\", \"pk\", \"s\", \"pk\", \"a\", \"pk=\", 1.0], {name: \"hls\"});\nexpose(_hsv, [\"h\", \"pk\", \"s\", \"pk\", \"v\", \"pk\", \"a\", \"pk=\", 1.0], {name: \"hsv\"});\nexpose(_xmlescape, [\"obj\", \"p\"], {name: \"xmlescape\"});\nexpose(_csv, [\"obj\", \"p\"], {name: \"csv\"});\nexpose(_chr, [\"i\", \"p\"], {name: \"chr\"});\nexpose(_ord, [\"c\", \"p\"], {name: \"ord\"});\nexpose(_hex, [\"number\", \"p\"], {name: \"hex\"});\nexpose(_oct, [\"number\", \"p\"], {name: \"oct\"});\nexpose(_bin, [\"number\", \"p\"], {name: \"bin\"});\nexpose(_min, [\"default\", \"k=\", Object, \"key\", \"k=\", null, \"args\", \"*\"], {name: \"min\", needscontext: true});\nexpose(_max, [\"default\", \"k=\", Object, \"key\", \"k=\", null, \"args\", \"*\"], {name: \"max\", needscontext: true});\nexpose(_sum, [\"iterable\", \"p\", \"start\", \"pk=\", 0], {name: \"sum\"});\nexpose(_first, [\"iterable\", \"p\", \"default\", \"pk=\", null], {name: \"first\"});\nexpose(_last, [\"iterable\", \"p\", \"default\", \"pk=\", null], {name: \"last\"});\nexpose(_sorted, [\"iterable\", \"p\", \"key\", \"pk=\", null, \"reverse\", \"pk=\", false], {name: \"sorted\", needscontext: true});\nexpose(_range, [\"start\", \"p\", \"stop\", \"p=\", Object, \"step\", \"p=\", Object], {name: \"range\"});\nexpose(_slice, [\"iterable\", \"p\", \"start\", \"p\", \"stop\", \"p=\", Object, \"step\", \"p=\", Object], {name: \"slice\"});\nexpose(_urlquote, [\"string\", \"pk\"], {name: \"urlquote\"});\nexpose(_urlunquote, [\"string\", \"pk\"], {name: \"urlunquote\"});\nexpose(_reversed, [\"sequence\", \"p\"], {name: \"reversed\"});\nexpose(_random, [], {name: \"random\"});\nexpose(_randrange, [\"start\", \"p\", \"stop\", \"p=\", Object, \"step\", \"p=\", Object], {name: \"randrange\"});\nexpose(_randchoice, [\"seq\", \"pk\"], {name: \"randchoice\"});\nexpose(_round, [\"x\", \"p\", \"digits\", \"pk=\", 0], {name: \"round\"});\nexpose(_floor, [\"x\", \"p\", \"digits\", \"pk=\", 0], {name: \"floor\"});\nexpose(_ceil, [\"x\", \"p\", \"digits\", \"pk=\", 0], {name: \"ceil\"});\nexpose(_md5, [\"string\", \"p\"], {name: \"md5\"});\nexpose(_scrypt, [\"string\", \"p\", \"salt\", \"pk\"], {name: \"scrypt\"});\nexpose(_css, [\"value\", \"p\", \"default\", \"p=\", undefined], {name: \"css\"});\nexpose(_mix, [\"values\", \"*\"], {name: \"mix\"});\n\n// Functions implementing UL4 methods\nexport function _count(obj, sub, start=null, end=null)\n{\n\tif (start < 0)\n\t\tstart += obj.length;\n\tif (start === null)\n\t\tstart = 0;\n\n\tif (end < 0)\n\t\tend += obj.length;\n\tif (end === null)\n\t\tend = obj.length;\n\n\tlet isstr = _isstr(obj);\n\n\tif (isstr && !sub.length)\n\t{\n\t\tif (end < 0 || start > obj.length || start > end)\n\t\t\treturn 0;\n\t\tlet result = end - start + 1;\n\t\tif (result > obj.length + 1)\n\t\t\tresult = obj.length + 1;\n\t\treturn result;\n\t}\n\n\tstart = _bound(start, obj.length);\n\tend = _bound(end, obj.length);\n\n\tlet count = 0;\n\tif (_islist(obj))\n\t{\n\t\tfor (let i = start; i < end; ++i)\n\t\t{\n\t\t\tif (_eq(obj[i], sub))\n\t\t\t\t++count;\n\t\t}\n\t\treturn count;\n\t}\n\telse // string\n\t{\n\t\tlet lastIndex = start;\n\n\t\tfor (;;)\n\t\t{\n\t\t\tlastIndex = obj.indexOf(sub, lastIndex);\n\t\t\tif (lastIndex == -1)\n\t\t\t\tbreak;\n\t\t\tif (lastIndex + sub.length > end)\n\t\t\t\tbreak;\n\t\t\t++count;\n\t\t\tlastIndex += sub.length;\n\t\t}\n\t\treturn count;\n\t}\n};\n\nexport function _find(obj, sub, start=null, end=null)\n{\n\tif (start < 0)\n\t\tstart += obj.length;\n\tif (start === null)\n\t\tstart = 0;\n\tif (end < 0)\n\t\tend += obj.length;\n\tif (end === null)\n\t\tend = obj.length;\n\tstart = _bound(start, obj.length);\n\tend = _bound(end, obj.length);\n\n\tif (start !== 0 || end !== obj.length)\n\t{\n\t\tif (typeof(obj) === \"string\")\n\t\t\tobj = obj.substring(start, end);\n\t\telse\n\t\t\tobj = obj.slice(start, end);\n\t}\n\tlet result = obj.indexOf(sub);\n\tif (result !== -1)\n\t\tresult += start;\n\treturn result;\n};\n\nexport function _rfind(obj, sub, start=null, end=null)\n{\n\tif (start < 0)\n\t\tstart += obj.length;\n\tif (start === null)\n\t\tstart = 0;\n\tif (end < 0)\n\t\tend += obj.length;\n\tif (end === null)\n\t\tend = obj.length;\n\tstart = _bound(start, obj.length);\n\tend = _bound(end, obj.length);\n\n\tif (start !== 0 || end !== obj.length)\n\t{\n\t\tif (typeof(obj) === \"string\")\n\t\t\tobj = obj.substring(start, end);\n\t\telse\n\t\t\tobj = obj.slice(start, end);\n\t}\n\tlet result = obj.lastIndexOf(sub);\n\tif (result !== -1)\n\t\tresult += start;\n\treturn result;\n};\n\nexport function _week4format(obj, firstweekday=null)\n{\n\tif (firstweekday === null)\n\t\tfirstweekday = 0;\n\telse\n\t\tfirstweekday %= 7;\n\n\tlet yearday = datetimetype.yearday(obj)+6;\n\tlet jan1 = new Date(obj.getFullYear(), 0, 1);\n\tlet jan1weekday = jan1.getDay();\n\tif (--jan1weekday < 0)\n\t\tjan1weekday = 6;\n\n\twhile (jan1weekday != firstweekday)\n\t{\n\t\t--yearday;\n\t\tif (++jan1weekday == 7)\n\t\t\tjan1weekday = 0;\n\t}\n\treturn Math.floor(yearday/7);\n};\n\nexport function _isleap(obj)\n{\n\treturn new Date(obj.getFullYear(), 1, 29).getMonth() === 1;\n};\n\nexport class ColorType extends Type\n{\n\t[symbols.call](r=0, g=0, b=0, a=255)\n\t{\n\t\treturn new Color(r, g, b, a);\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn obj instanceof Color;\n\t}\n};\n\nexpose(ColorType.prototype, [\"r\", \"pk=\", 0, \"g\", \"pk=\", 0, \"b\", \"pk=\", 0, \"a\", \"pk=\", 255], {name: \"color\"});\n\nColorType.prototype.attrs = new Set([\n\t\"a\",\n\t\"abslight\",\n\t\"abslum\",\n\t\"b\",\n\t\"combine\",\n\t\"g\",\n\t\"hls\",\n\t\"hlsa\",\n\t\"hsv\",\n\t\"hsva\",\n\t\"hue\",\n\t\"invert\",\n\t\"light\",\n\t\"lum\",\n\t\"r\",\n\t\"rellight\",\n\t\"rellum\",\n\t\"sat\",\n\t\"witha\",\n\t\"withhue\",\n\t\"withlight\",\n\t\"withlum\",\n\t\"withsat\"\n]);\n\nlet colortype = new ColorType(\"color\", \"Color\", \"An RGBA color (with 8-bit red, green, blue and alpha values).\");\n\nexport class Color extends Proto\n{\n\tconstructor(r=0, g=0, b=0, a=255)\n\t{\n\t\tsuper();\n\t\tthis._r = _bound(_round(r), 255);\n\t\tthis._g = _bound(_round(g), 255);\n\t\tthis._b = _bound(_round(b), 255);\n\t\tthis._a = _bound(_round(a), 255);\n\t}\n\n\t[symbols.type]()\n\t{\n\t\treturn colortype;\n\t}\n\n\t[symbols.repr]()\n\t{\n\t\tlet r = _lpad(this._r.toString(16), \"0\", 2);\n\t\tlet g = _lpad(this._g.toString(16), \"0\", 2);\n\t\tlet b = _lpad(this._b.toString(16), \"0\", 2);\n\t\tlet a = _lpad(this._a.toString(16), \"0\", 2);\n\t\tif (this._a !== 0xff)\n\t\t{\n\t\t\tif (r[0] === r[1] && g[0] === g[1] && b[0] === b[1] && a[0] === a[1])\n\t\t\t\treturn \"#\" + r[0] + g[0] + b[0] + a[0];\n\t\t\telse\n\t\t\t\treturn \"#\" + r + g + b + a;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (r[0] === r[1] && g[0] === g[1] && b[0] === b[1])\n\t\t\t\treturn \"#\" + r[0] + g[0] + b[0];\n\t\t\telse\n\t\t\t\treturn \"#\" + r + g + b;\n\t\t}\n\t}\n\n\t[symbols.str]()\n\t{\n\t\tif (this._a !== 0xff)\n\t\t{\n\t\t\treturn \"rgba(\" + this._r + \", \" + this._g + \", \" + this._b + \", \" + (this._a/255) + \")\";\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlet r = _lpad(this._r.toString(16), \"0\", 2);\n\t\t\tlet g = _lpad(this._g.toString(16), \"0\", 2);\n\t\t\tlet b = _lpad(this._b.toString(16), \"0\", 2);\n\t\t\tif (r[0] === r[1] && g[0] === g[1] && b[0] === b[1])\n\t\t\t\treturn \"#\" + r[0] + g[0] + b[0];\n\t\t\telse\n\t\t\t\treturn \"#\" + r + g + b;\n\t\t}\n\t}\n\n\t[Symbol.iterator]()\n\t{\n\t\treturn {\n\t\t\tobj: this,\n\t\t\tindex: 0,\n\t\t\tnext: function() {\n\t\t\t\tif (this.index == 0)\n\t\t\t\t{\n\t\t\t\t\t++this.index;\n\t\t\t\t\treturn {value: this.obj._r, done: false};\n\t\t\t\t}\n\t\t\t\telse if (this.index == 1)\n\t\t\t\t{\n\t\t\t\t\t++this.index;\n\t\t\t\t\treturn {value: this.obj._g, done: false};\n\t\t\t\t}\n\t\t\t\telse if (this.index == 2)\n\t\t\t\t{\n\t\t\t\t\t++this.index;\n\t\t\t\t\treturn {value: this.obj._b, done: false};\n\t\t\t\t}\n\t\t\t\telse if (this.index == 3)\n\t\t\t\t{\n\t\t\t\t\t++this.index;\n\t\t\t\t\treturn {value: this.obj._a, done: false};\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\treturn {done: true};\n\t\t\t}\n\t\t};\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tlet self = this;\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"r\":\n\t\t\t\tlet r = function r(){ return self._r; };\n\t\t\t\texpose(r, []);\n\t\t\t\treturn r;\n\t\t\tcase \"g\":\n\t\t\t\tlet g = function g(){ return self._g; };\n\t\t\t\texpose(g, []);\n\t\t\t\treturn g;\n\t\t\tcase \"b\":\n\t\t\t\tlet b = function b(){ return self._b; };\n\t\t\t\texpose(b, []);\n\t\t\t\treturn b;\n\t\t\tcase \"a\":\n\t\t\t\tlet a = function a(){ return self._a; };\n\t\t\t\texpose(a, []);\n\t\t\t\treturn a;\n\t\t\tcase \"hue\":\n\t\t\t\treturn expose(this.hue.bind(this), []);\n\t\t\tcase \"light\":\n\t\t\t\treturn expose(this.light.bind(this), []);\n\t\t\tcase \"sat\":\n\t\t\t\treturn expose(this.sat.bind(this), []);\n\t\t\tcase \"lum\":\n\t\t\t\treturn expose(this.lum.bind(this), []);\n\t\t\tcase \"hls\":\n\t\t\t\treturn expose(this.hls.bind(this), []);\n\t\t\tcase \"hlsa\":\n\t\t\t\treturn expose(this.hlsa.bind(this), []);\n\t\t\tcase \"hsv\":\n\t\t\t\treturn expose(this.hsv.bind(this), []);\n\t\t\tcase \"hsva\":\n\t\t\t\treturn expose(this.hsva.bind(this), []);\n\t\t\tcase \"withhue\":\n\t\t\t\treturn expose(this.withhue.bind(this), [\"hue\", \"pk\"]);\n\t\t\tcase \"witha\":\n\t\t\t\treturn expose(this.witha.bind(this), [\"a\", \"pk\"]);\n\t\t\tcase \"withlight\":\n\t\t\t\treturn expose(this.withlight.bind(this), [\"light\", \"pk\"]);\n\t\t\tcase \"abslight\":\n\t\t\t\treturn expose(this.abslight.bind(this), [\"f\", \"pk\"]);\n\t\t\tcase \"rellight\":\n\t\t\t\treturn expose(this.rellight.bind(this), [\"f\", \"pk\"]);\n\t\t\tcase \"withsat\":\n\t\t\t\treturn expose(this.withsat.bind(this), [\"sat\", \"pk\"]);\n\t\t\tcase \"withlum\":\n\t\t\t\treturn expose(this.withlum.bind(this), [\"lum\", \"pk\"]);\n\t\t\tcase \"abslum\":\n\t\t\t\treturn expose(this.abslum.bind(this), [\"f\", \"pk\"]);\n\t\t\tcase \"rellum\":\n\t\t\t\treturn expose(this.rellum.bind(this), [\"f\", \"pk\"]);\n\t\t\tcase \"invert\":\n\t\t\t\treturn expose(this.invert.bind(this), [\"f\", \"pk=\", 1.0]);\n\t\t\tcase \"combine\":\n\t\t\t\treturn expose(this.combine.bind(this), [\"r\", \"pk=\", null, \"g\", \"pk=\", null, \"b\", \"pk=\", null, \"a\", \"pk=\", null]);\n\t\t\tdefault:\n\t\t\t\tthrow new AttributeError(this, attrname);\n\t\t}\n\t}\n\n\t[symbols.getitem](key)\n\t{\n\t\tlet orgkey = key;\n\t\tif (key < 0)\n\t\t\tkey += 4;\n\t\tswitch (key)\n\t\t{\n\t\t\tcase 0:\n\t\t\t\treturn this._r;\n\t\t\tcase 1:\n\t\t\t\treturn this._g;\n\t\t\tcase 2:\n\t\t\t\treturn this._b;\n\t\t\tcase 3:\n\t\t\t\treturn this._a;\n\t\t\tdefault:\n\t\t\t\tthrow new IndexError(this, orgkey);\n\t\t}\n\t}\n\n\t[symbols.eq](other)\n\t{\n\t\tif (other instanceof Color)\n\t\t\treturn this._r == other._r && this._g == other._g && this._b == other._b && this._a == other._a;\n\t\treturn false;\n\t}\n\n\tr()\n\t{\n\t\t\treturn this._r;\n\t}\n\n\tg()\n\t{\n\t\treturn this._g;\n\t}\n\n\tb()\n\t{\n\t\treturn this._b;\n\t}\n\n\ta()\n\t{\n\t\treturn this._a;\n\t}\n\n\thue()\n\t{\n\t\treturn this.hls()[0];\n\t}\n\n\tlight()\n\t{\n\t\treturn this.hls()[1];\n\t}\n\n\tsat()\n\t{\n\t\treturn this.hls()[2];\n\t}\n\n\tlum()\n\t{\n\t\treturn (0.2126 * this._r + 0.7152 * this._g + 0.0722 * this._b)/255;\n\t}\n\n\thls()\n\t{\n\t\tlet r = this._r/255.0;\n\t\tlet g = this._g/255.0;\n\t\tlet b = this._b/255.0;\n\t\tlet maxc = Math.max(r, g, b);\n\t\tlet minc = Math.min(r, g, b);\n\t\tlet h, l, s;\n\t\tlet rc, gc, bc;\n\n\t\tl = (minc+maxc)/2.0;\n\t\tif (minc == maxc)\n\t\t\treturn [0.0, l, 0.0];\n\t\tif (l <= 0.5)\n\t\t\ts = (maxc-minc) / (maxc+minc);\n\t\telse\n\t\t\ts = (maxc-minc) / (2.0-maxc-minc);\n\t\trc = (maxc-r) / (maxc-minc);\n\t\tgc = (maxc-g) / (maxc-minc);\n\t\tbc = (maxc-b) / (maxc-minc);\n\t\tif (r == maxc)\n\t\t\th = bc-gc;\n\t\telse if (g == maxc)\n\t\t\th = 2.0+rc-bc;\n\t\telse\n\t\t\th = 4.0+gc-rc;\n\t\th = (h/6.0) % 1.0;\n\t\treturn [h, l, s];\n\t}\n\n\thlsa()\n\t{\n\t\tlet hls = this.hls();\n\t\treturn hls.concat(this._a/255.0);\n\t}\n\n\thsv()\n\t{\n\t\tlet r = this._r/255.0;\n\t\tlet g = this._g/255.0;\n\t\tlet b = this._b/255.0;\n\t\tlet maxc = Math.max(r, g, b);\n\t\tlet minc = Math.min(r, g, b);\n\t\tlet v = maxc;\n\t\tif (minc == maxc)\n\t\t\treturn [0.0, 0.0, v];\n\t\tlet s = (maxc-minc) / maxc;\n\t\tlet rc = (maxc-r) / (maxc-minc);\n\t\tlet gc = (maxc-g) / (maxc-minc);\n\t\tlet bc = (maxc-b) / (maxc-minc);\n\t\tlet h;\n\t\tif (r == maxc)\n\t\t\th = bc-gc;\n\t\telse if (g == maxc)\n\t\t\th = 2.0+rc-bc;\n\t\telse\n\t\t\th = 4.0+gc-rc;\n\t\th = (h/6.0) % 1.0;\n\t\treturn [h, s, v];\n\t}\n\n\thsva()\n\t{\n\t\tlet hsv = this.hsv();\n\t\treturn hsv.concat(this._a/255.0);\n\t}\n\n\twithhue(hue)\n\t{\n\t\tif (typeof(hue) !== \"number\")\n\t\t\tthrow new TypeError(\"withhue() requires a number\");\n\t\tlet hlsa = this.hlsa();\n\t\treturn _hls(hue, hlsa[1], hlsa[2], hlsa[3]);\n\t}\n\n\twitha(a)\n\t{\n\t\tif (typeof(a) !== \"number\")\n\t\t\tthrow new TypeError(\"witha() requires a number\");\n\t\treturn new Color(this._r, this._g, this._b, a);\n\t}\n\n\t_interpolate(lower, upper, factor)\n\t{\n\t\treturn factor*upper + (1-factor) * lower\n\t}\n\n\twithlight(light)\n\t{\n\t\tif (typeof(light) !== \"number\")\n\t\t\tthrow new TypeError(\"withlight() requires a number\");\n\t\tlet hlsa = this.hlsa();\n\t\treturn _hls(hlsa[0], light, hlsa[2], hlsa[3]);\n\t}\n\n\tabslight(f)\n\t{\n\t\tif (typeof(f) !== \"number\")\n\t\t\tthrow new TypeError(\"abslight() requires a number\");\n\t\tlet hlsa = this.hlsa();\n\t\treturn _hls(hlsa[0], hlsa[1] + f, hlsa[2], hlsa[3]);\n\t}\n\n\trellight(f)\n\t{\n\t\tif (typeof(f) !== \"number\")\n\t\t\tthrow new TypeError(\"rellum() requires a number\");\n\t\tlet hlsa = this.hlsa();\n\t\tlet light = hlsa[1];\n\t\tif (f > 0)\n\t\t\tlight += (1-light)*f;\n\t\telse if (f < 0)\n\t\t\tlight += light*f;\n\t\treturn _hls(hlsa[0], light, hlsa[2], hlsa[3]);\n\t}\n\n\twithsat(sat)\n\t{\n\t\tif (typeof(sat) !== \"number\")\n\t\t\tthrow new TypeError(\"withsat() requires a number\");\n\t\tlet hlsa = this.hlsa();\n\t\treturn _hls(hlsa[0], hlsa[1], sat, hlsa[3]);\n\t}\n\n\twithlum(lum)\n\t{\n\t\tif (typeof(lum) !== \"number\")\n\t\t\tthrow new TypeError(\"withlum() requires a number\");\n\n\t\tlet lum_old = this.lum();\n\t\tif (lum_old == 0.0 || lum_old == 1.0)\n\t\t{\n\t\t\tlet v = lum*255;\n\t\t\treturn new Color(v, v, v, this._a);\n\t\t}\n\t\telse if (lum > lum_old)\n\t\t{\n\t\t\tlet f = (lum-lum_old)/(1-lum_old);\n\t\t\treturn new Color(\n\t\t\t\tthis._interpolate(this._r, 255, f),\n\t\t\t\tthis._interpolate(this._g, 255, f),\n\t\t\t\tthis._interpolate(this._b, 255, f),\n\t\t\t\tthis._a,\n\t\t\t);\n\t\t}\n\t\telse if (lum < lum_old)\n\t\t{\n\t\t\tlet f = lum/lum_old;\n\t\t\treturn new Color(\n\t\t\t\tthis._interpolate(0, this._r, f),\n\t\t\t\tthis._interpolate(0, this._g, f),\n\t\t\t\tthis._interpolate(0, this._b, f),\n\t\t\t\tthis._a,\n\t\t\t)\n\t\t}\n\t\telse\n\t\t\treturn this;\n\t}\n\n\tabslum(f)\n\t{\n\t\tif (typeof(f) !== \"number\")\n\t\t\tthrow new TypeError(\"abslum() requires a number\");\n\t\treturn this.withlum(this.lum() + f);\n\t}\n\n\trellum(f)\n\t{\n\t\tif (typeof(f) !== \"number\")\n\t\t\tthrow new TypeError(\"rellum() requires a number\");\n\t\tlet lum = this.lum();\n\t\tif (f > 0)\n\t\t\tlum += (1-lum)*f;\n\t\telse if (f < 0)\n\t\t\tlum += lum*f;\n\t\treturn this.withlum(lum);\n\t}\n\n\tinvert(f=1.0)\n\t{\n\t\tif (typeof(f) !== \"number\")\n\t\t\tthrow new TypeError(\"invert() requires a number\");\n\t\tlet invf = 1 - f;\n\t\treturn new Color(\n\t\t\tinvf * this._r + f * (255 - this._r),\n\t\t\tinvf * this._g + f * (255 - this._g),\n\t\t\tinvf * this._b + f * (255 - this._b),\n\t\t\tthis._a\n\t\t);\n\t}\n\n\tcombine(r=null, g=null, b=null, a=null)\n\t{\n\t\treturn new Color(\n\t\t\tr != null ? r : this._r,\n\t\t\tg != null ? g : this._g,\n\t\t\tb != null ? b : this._b,\n\t\t\ta != null ? a : this._a\n\t\t);\n\t}\n\n\tul4type()\n\t{\n\t\treturn \"color\";\n\t}\n\n\tstatic maroon = new Color(0x80, 0x00, 0x00);\n\tstatic red = new Color(0xff, 0x00, 0x00);\n\tstatic orange = new Color(0xff, 0xa5, 0x00);\n\tstatic yellow = new Color(0xff, 0xff, 0x00);\n\tstatic olive = new Color(0x80, 0x80, 0x00);\n\tstatic purple = new Color(0x80, 0x00, 0x80);\n\tstatic fuchsia = new Color(0xff, 0x00, 0xff);\n\tstatic white = new Color(0xff, 0xff, 0xff);\n\tstatic lime = new Color(0x00, 0xff, 0x00);\n\tstatic green = new Color(0x00, 0x80, 0x00);\n\tstatic navy = new Color(0x00, 0x00, 0x80);\n\tstatic blue = new Color(0x00, 0x00, 0xff);\n\tstatic aqua = new Color(0x00, 0xff, 0xff);\n\tstatic teal = new Color(0x00, 0x80, 0x80);\n\tstatic black = new Color(0x00, 0x00, 0x00);\n\tstatic silver = new Color(0xc0, 0xc0, 0xc0);\n\tstatic gray = new Color(0x80, 0x80, 0x80);\n\t// Aliases\n\tstatic magenta = Color.purple;\n\tstatic cyan = Color.aqua;\n\n\tstatic cssColors = {\n\t\t\"maroon\": Color.maroon,\n\t\t\"red\": Color.red,\n\t\t\"orange\": Color.orange,\n\t\t\"yellow\": Color.yellow,\n\t\t\"olive\": Color.olive,\n\t\t\"purple\": Color.purple,\n\t\t\"fuchsia\": Color.fuchsia,\n\t\t\"white\": Color.white,\n\t\t\"lime\": Color.lime,\n\t\t\"green\": Color.green,\n\t\t\"navy\": Color.navy,\n\t\t\"blue\": Color.blue,\n\t\t\"aqua\": Color.aqua,\n\t\t\"teal\": Color.teal,\n\t\t\"black\": Color.black,\n\t\t\"silver\": Color.silver,\n\t\t\"gray\": Color.gray,\n\t\t\"magenta\": Color.magenta,\n\t\t\"cyan\": Color.cyan\n\t};\n};\n\nexpose(Color.prototype.r, []);\nexpose(Color.prototype.g, []);\nexpose(Color.prototype.b, []);\nexpose(Color.prototype.a, []);\nexpose(Color.prototype.hue, []);\nexpose(Color.prototype.lum, []);\nexpose(Color.prototype.sat, []);\nexpose(Color.prototype.hls, []);\nexpose(Color.prototype.hlsa, []);\nexpose(Color.prototype.hsv, []);\nexpose(Color.prototype.hsva, []);\nexpose(Color.prototype.withhue, [\"hue\", \"pk\"]);\nexpose(Color.prototype.withlight, [\"light\", \"pk\"]);\nexpose(Color.prototype.abslight, [\"f\", \"pk\"]);\nexpose(Color.prototype.rellight, [\"f\", \"pk\"]);\nexpose(Color.prototype.withsat, [\"sat\", \"pk\"]);\nexpose(Color.prototype.witha, [\"a\", \"pk\"]);\nexpose(Color.prototype.withlum, [\"lum\", \"pk\"]);\nexpose(Color.prototype.abslum, [\"f\", \"pk\"]);\nexpose(Color.prototype.rellum, [\"f\", \"pk\"]);\nexpose(Color.prototype.invert, [\"f\", \"pk=\", 1.0]);\nexpose(Color.prototype.combine, [\"r\", \"pk=\", null, \"g\", \"pk=\", null, \"b\", \"pk=\", null, \"a\", \"pk=\", null]);\n\n\nexport class Date_ extends Proto\n{\n\tconstructor(year, month, day)\n\t{\n\t\tsuper();\n\t\tthis._date = new Date(year, month-1, day);\n\t}\n\n\t[symbols.type]()\n\t{\n\t\treturn datetype;\n\t}\n\n\t[symbols.repr]()\n\t{\n\t\treturn '@(' + this[symbols.str]() + \")\";\n\t}\n\n\t[symbols.str]()\n\t{\n\t\treturn _lpad(this._date.getFullYear(), \"0\", 4) + \"-\" + _lpad(this._date.getMonth()+1, \"0\", 2) + \"-\" + _lpad(this._date.getDate(), \"0\", 2);\n\t}\n\n\t[symbols.eq](other)\n\t{\n\t\tif (other instanceof Date_)\n\t\t\treturn this._date.getTime() === other._date.getTime();\n\t\treturn false;\n\t}\n\n\t[symbols.lt](other)\n\t{\n\t\tif (other instanceof Date_)\n\t\t\treturn this._date < other._date;\n\t\t_unorderable(\"<\", this, other);\n\t}\n\n\t[symbols.le](other)\n\t{\n\t\tif (other instanceof Date_)\n\t\t\treturn this._date <= other._date;\n\t\t_unorderable(\"<=\", this, other);\n\t}\n\n\t[symbols.gt](other)\n\t{\n\t\tif (other instanceof Date_)\n\t\t\treturn this._date > other._date;\n\t\t_unorderable(\">\", this, other);\n\t}\n\n\t[symbols.ge](other)\n\t{\n\t\tif (other instanceof Date_)\n\t\t\treturn this._date >= other._date;\n\t\t_unorderable(\">=\", this, other);\n\t}\n\n\tyear()\n\t{\n\t\treturn this._date.getFullYear();\n\t}\n\n\tmonth()\n\t{\n\t\treturn this._date.getMonth()+1;\n\t}\n\n\tday()\n\t{\n\t\treturn this._date.getDate();\n\t}\n\n\tul4type()\n\t{\n\t\treturn \"date\";\n\t}\n};\n\n\nexport class TimeDeltaType extends Type\n{\n\t[symbols.call](days=0, seconds=0, microseconds=0)\n\t{\n\t\treturn new TimeDelta(days, seconds, microseconds);\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn obj instanceof TimeDelta;\n\t}\n}\n\nexpose(TimeDeltaType.prototype, [\"days\", \"pk=\", 0, \"seconds\", \"pk=\", 0, \"microseconds\", \"pk=\", 0], {name: \"timedelta\"});\n\nexport let timedeltatype = new TimeDeltaType(null, \"timedelta\", \"A time span (days/seconds/microseconds).\");\n\nexport class TimeDelta extends Proto\n{\n\tconstructor(days=0, seconds=0, microseconds=0)\n\t{\n\t\tsuper();\n\t\tlet total_microseconds = Math.floor((days * 86400 + seconds)*1000000 + microseconds);\n\n\t\tmicroseconds = ModAST.prototype._do(total_microseconds, 1000000);\n\t\tlet total_seconds = Math.floor(total_microseconds / 1000000);\n\t\tseconds = ModAST.prototype._do(total_seconds, 86400);\n\t\tdays = Math.floor(total_seconds / 86400);\n\t\tif (seconds < 0)\n\t\t{\n\t\t\tseconds += 86400;\n\t\t\t--days;\n\t\t}\n\n\t\tthis._microseconds = microseconds;\n\t\tthis._seconds = seconds;\n\t\tthis._days = days;\n\t}\n\n\t[symbols.type]()\n\t{\n\t\treturn timedeltatype;\n\t}\n\n\ttotal_seconds()\n\t{\n\t\treturn this._days * 24 * 60 * 60 + this._seconds;\n\t}\n\n\t[symbols.repr]()\n\t{\n\t\tlet v = [], first = true;\n\t\tv.push(\"timedelta(\");\n\t\tif (this._days)\n\t\t{\n\t\t\tv.push(\"days=\" + this._days);\n\t\t\tfirst = false;\n\t\t}\n\t\tif (this._seconds)\n\t\t{\n\t\t\tif (!first)\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(\"seconds=\" + this._seconds);\n\t\t\tfirst = false;\n\t\t}\n\t\tif (this._microseconds)\n\t\t{\n\t\t\tif (!first)\n\t\t\t\tv.push(\", \");\n\t\t\tv.push(\"microseconds=\" + this._microseconds);\n\t\t}\n\t\tv.push(\")\");\n\t\treturn v.join(\"\");\n\t}\n\n\t[symbols.str]()\n\t{\n\t\tlet v = [];\n\t\tif (this._days)\n\t\t{\n\t\t\tv.push(this._days + \" day\");\n\t\t\tif (this._days !== -1 && this._days !== 1)\n\t\t\t\tv.push(\"s\");\n\t\t\tv.push(\", \");\n\t\t}\n\t\tlet seconds = this._seconds % 60;\n\t\tlet minutes = Math.floor(this._seconds / 60);\n\t\tlet hours = Math.floor(minutes / 60);\n\t\tminutes = minutes % 60;\n\n\t\tv.push(\n\t\t\t\"\" + hours,\n\t\t\t\":\",\n\t\t\t_lpad(minutes.toString(), \"0\", 2),\n\t\t\t\":\",\n\t\t\t_lpad(seconds.toString(), \"0\", 2)\n\t\t);\n\t\tif (this._microseconds)\n\t\t\tv.push(\".\", _lpad(this._microseconds.toString(), \"0\", 6));\n\t\treturn v.join(\"\");\n\t}\n\n\t[symbols.bool]()\n\t{\n\t\treturn this._days !== 0 || this._seconds !== 0 || this._microseconds !== 0;\n\t}\n\n\t[symbols.abs]()\n\t{\n\t\treturn this._days < 0 ? new TimeDelta(-this._days, -this._seconds, -this._microseconds) : this;\n\t}\n\n\t[symbols.eq](other)\n\t{\n\t\tif (other instanceof TimeDelta)\n\t\t\treturn (this._days === other._days) && (this._seconds === other._seconds) && (this._microseconds === other._microseconds);\n\t\treturn false;\n\t}\n\n\t[symbols.lt](other)\n\t{\n\t\tif (other instanceof TimeDelta)\n\t\t{\n\t\t\tif (this._days != other._days)\n\t\t\t\treturn this._days < other._days;\n\t\t\tif (this._seconds != other._seconds)\n\t\t\t\treturn this._seconds < other._seconds;\n\t\t\treturn this._microseconds < other._microseconds;\n\t\t}\n\t\t_unorderable(\"<\", this, other);\n\t}\n\n\t[symbols.le](other)\n\t{\n\t\tif (other instanceof TimeDelta)\n\t\t{\n\t\t\tif (this._days != other._days)\n\t\t\t\treturn this._days < other._days;\n\t\t\tif (this._seconds != other._seconds)\n\t\t\t\treturn this._seconds < other._seconds;\n\t\t\treturn this._microseconds <= other._microseconds;\n\t\t}\n\t\t_unorderable(\"<=\", this, other);\n\t}\n\n\t[symbols.gt](other)\n\t{\n\t\tif (other instanceof TimeDelta)\n\t\t{\n\t\t\tif (this._days != other._days)\n\t\t\t\treturn this._days > other._days;\n\t\t\tif (this._seconds != other._seconds)\n\t\t\t\treturn this._seconds > other._seconds;\n\t\t\treturn this._microseconds > other._microseconds;\n\t\t}\n\t\t_unorderable(\">\", this, other);\n\t}\n\n\t[symbols.ge](other)\n\t{\n\t\tif (other instanceof TimeDelta)\n\t\t{\n\t\t\tif (this._days != other._days)\n\t\t\t\treturn this._days > other._days;\n\t\t\tif (this._seconds != other._seconds)\n\t\t\t\treturn this._seconds > other._seconds;\n\t\t\treturn this._microseconds >= other._microseconds;\n\t\t}\n\t\t_unorderable(\">=\", this, other);\n\t}\n\n\t[symbols.neg]()\n\t{\n\t\treturn new TimeDelta(-this._days, -this._seconds, -this._microseconds);\n\t}\n\n\t_adddate(date, days)\n\t{\n\t\tlet year = date._date.getFullYear();\n\t\tlet month = date._date.getMonth();\n\t\tlet day = date._date.getDate() + days;\n\t\treturn new Date(year, month, day);\n\t}\n\n\t_adddatetime(date, days, seconds, microseconds)\n\t{\n\t\tlet year = date.getFullYear();\n\t\tlet month = date.getMonth();\n\t\tlet day = date.getDate() + days;\n\t\tlet hour = date.getHours();\n\t\tlet minute = date.getMinutes();\n\t\tlet second = date.getSeconds() + seconds;\n\t\tlet millisecond = date.getMilliseconds() + microseconds/1000;\n\t\treturn new Date(year, month, day, hour, minute, second, millisecond);\n\t}\n\n\t[symbols.add](other)\n\t{\n\t\tif (other instanceof TimeDelta)\n\t\t\treturn new TimeDelta(this._days + other._days, this._seconds + other._seconds, this._microseconds + other._microseconds);\n\t\telse if (_isdate(other))\n\t\t\treturn this._adddate(other, this._days);\n\t\telse if (_isdatetime(other))\n\t\t\treturn this._adddatetime(other, this._days, this._seconds, this._microseconds);\n\t\tthrow new TypeError(_type(this).fullname() + \" + \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.radd](other)\n\t{\n\t\tif (_isdate(other))\n\t\t\treturn this._adddate(other, this._days);\n\t\telse if (_isdatetime(other))\n\t\t\treturn this._adddatetime(other, this._days, this._seconds, this._microseconds);\n\t\tthrow new TypeError(_type(this).fullname() + \" + \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.sub](other)\n\t{\n\t\tif (other instanceof TimeDelta)\n\t\t\treturn new TimeDelta(this._days - other._days, this._seconds - other._seconds, this._microseconds - other._microseconds);\n\t\tthrow new TypeError(_type(this).fullname() + \" - \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.rsub](other)\n\t{\n\t\tif (_isdate(other))\n\t\t\treturn this._adddate(other, -this._days);\n\t\telse if (_isdatetime(other))\n\t\t\treturn this._adddatetime(other, -this._days, -this._seconds, -this._microseconds);\n\t\tthrow new TypeError(_type(this).fullname() + \" - \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.mul](other)\n\t{\n\t\tif (typeof(other) === \"number\")\n\t\t\treturn new TimeDelta(this._days * other, this._seconds * other, this._microseconds * other);\n\t\tthrow new TypeError(_type(this).fullname() + \" * \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.rmul](other)\n\t{\n\t\tif (typeof(other) === \"number\")\n\t\t\treturn new TimeDelta(this._days * other, this._seconds * other, this._microseconds * other);\n\t\tthrow new TypeError(_type(this).fullname() + \" * \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.truediv](other)\n\t{\n\t\tif (typeof(other) === \"number\" || typeof(other) === \"boolean\")\n\t\t{\n\t\t\tif (other == 0)\n\t\t\t\tthrow new ZeroDivisionError();\n\t\t\treturn new TimeDelta(this._days / other, this._seconds / other, this._microseconds / other);\n\t\t}\n\t\telse if (other instanceof TimeDelta)\n\t\t{\n\t\t\tlet myValue = this._days;\n\t\t\tlet otherValue = other._days;\n\t\t\tlet hasSeconds = this._seconds || other._seconds;\n\t\t\tlet hasMicroseconds = this._microseconds || other._microseconds;\n\t\t\tif (hasSeconds || hasMicroseconds)\n\t\t\t{\n\t\t\t\tmyValue = myValue*86400+this._seconds;\n\t\t\t\totherValue = otherValue*86400 + other._seconds;\n\t\t\t\tif (hasMicroseconds)\n\t\t\t\t{\n\t\t\t\t\tmyValue = myValue * 1000000 + this._microseconds;\n\t\t\t\t\totherValue = otherValue * 1000000 + other._microseconds;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (otherValue == 0)\n\t\t\t\tthrow new ZeroDivisionError();\n\t\t\treturn myValue/otherValue;\n\t\t}\n\t\tthrow new TypeError(_type(this).fullname() + \" / \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.floordiv](other)\n\t{\n\t\tif (typeof(other) === \"number\" || typeof(other) === \"boolean\")\n\t\t{\n\t\t\tif (other == 0)\n\t\t\t\tthrow new ZeroDivisionError();\n\t\t\tif (_isint(other))\n\t\t\t{\n\t\t\t\treturn new TimeDelta(this._days / other, this._seconds / other, this._microseconds / other);\n\t\t\t}\n\t\t}\n\t\telse if (other instanceof TimeDelta)\n\t\t{\n\t\t\tlet result = this[symbols.truediv](other);\n\t\t\treturn Math.floor(result);\n\t\t}\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tlet self = this;\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"days\":\n\t\t\t\tlet days = function days(){ return self._days; };\n\t\t\t\texpose(days, []);\n\t\t\t\treturn days;\n\t\t\tcase \"seconds\":\n\t\t\t\tlet seconds = function seconds(){ return self._seconds; };\n\t\t\t\texpose(seconds, []);\n\t\t\t\treturn seconds;\n\t\t\tcase \"microseconds\":\n\t\t\t\tlet microseconds = function microseconds(){ return self._microseconds; };\n\t\t\t\texpose(microseconds, []);\n\t\t\t\treturn microseconds;\n\t\t\tdefault:\n\t\t\t\tthrow new AttributeError(this, attrname);\n\t\t}\n\t}\n\n\tdays()\n\t{\n\t\treturn this._days;\n\t}\n\n\tseconds()\n\t{\n\t\treturn this._seconds;\n\t}\n\n\tmicroseconds()\n\t{\n\t\treturn this._microseconds;\n\t}\n\n\tul4type()\n\t{\n\t\treturn \"timedelta\";\n\t}\n};\n\n\nexport class MonthDeltaType extends Type\n{\n\t// Return a `MonthDelta` object from the arguments passed in\n\t[symbols.call](months=0)\n\t{\n\t\treturn new MonthDelta(months);\n\t}\n\n\tinstancecheck(obj)\n\t{\n\t\treturn obj instanceof MonthDelta;\n\t}\n}\n\nexport let monthdeltatype = new MonthDeltaType(null, \"monthdelta\", \"A time span of a number of months.\");\n\nexpose(MonthDeltaType.prototype, [\"months\", \"p=\", 0], {name: \"monthdelta\"});\n\nexport class MonthDelta extends Proto\n{\n\tstatic classname = \"monthdelta\";\n\tstatic classdoc = \"A time span of a number of months.\";\n\n\tconstructor(months=0)\n\t{\n\t\tsuper();\n\t\tthis._months = months;\n\t}\n\n\t[symbols.type]()\n\t{\n\t\treturn monthdeltatype;\n\t}\n\n\t[symbols.repr]()\n\t{\n\t\tif (!this._months)\n\t\t\treturn \"monthdelta()\";\n\t\treturn \"monthdelta(\" + this._months + \")\";\n\t}\n\n\t[symbols.str]()\n\t{\n\t\tif (this._months)\n\t\t{\n\t\t\tif (this._months !== -1 && this._months !== 1)\n\t\t\t\treturn this._months + \" months\";\n\t\t\treturn this._months + \" month\";\n\t\t}\n\t\treturn \"0 months\";\n\t}\n\n\ttoString()\n\t{\n\t\treturn this[symbols.str]();\n\t}\n\n\t[symbols.bool]()\n\t{\n\t\treturn this._months !== 0;\n\t}\n\n\t[symbols.abs]()\n\t{\n\t\treturn this._months < 0 ? new MonthDelta(-this._months) : this;\n\t}\n\n\t[symbols.eq](other)\n\t{\n\t\tif (other instanceof MonthDelta)\n\t\t\treturn this._months === other._months;\n\t\treturn false;\n\t}\n\n\t[symbols.lt](other)\n\t{\n\t\tif (other instanceof MonthDelta)\n\t\t\treturn this._months < other._months;\n\t\t_unorderable(\"<\", this, other);\n\t}\n\n\t[symbols.le](other)\n\t{\n\t\tif (other instanceof MonthDelta)\n\t\t\treturn this._months <= other._months;\n\t\t_unorderable(\"<=\", this, other);\n\t}\n\n\t[symbols.gt](other)\n\t{\n\t\tif (other instanceof MonthDelta)\n\t\t\treturn this._months > other._months;\n\t\t_unorderable(\">\", this, other);\n\t}\n\n\t[symbols.ge](other)\n\t{\n\t\tif (other instanceof MonthDelta)\n\t\t\treturn this._months >= other._months;\n\t\t_unorderable(\">=\", this, other);\n\t}\n\n\t[symbols.neg]()\n\t{\n\t\treturn new MonthDelta(-this._months);\n\t}\n\n\t_adddate(date, months)\n\t{\n\t\tlet result = this._adddatetime(date._date, months);\n\t\treturn new Date_(result.getFullYear(), result.getMonth()+1, result.getDate());\n\t}\n\n\t_adddatetime(date, months)\n\t{\n\t\tlet year = date.getFullYear();\n\t\tlet month = date.getMonth() + months;\n\t\tlet day = date.getDate();\n\t\tlet hour = date.getHours();\n\t\tlet minute = date.getMinutes();\n\t\tlet second = date.getSeconds();\n\t\tlet millisecond = date.getMilliseconds();\n\n\t\twhile (true)\n\t\t{\n\t\t\t// As the month might be out of bounds, we have to find out what the real target month is\n\t\t\tlet targetmonth = new Date(year, month, 1, hour, minute, second, millisecond).getMonth();\n\t\t\tlet result = new Date(year, month, day, hour, minute, second, millisecond);\n\t\t\tif (result.getMonth() === targetmonth)\n\t\t\t\treturn result;\n\t\t\t--day;\n\t\t}\n\t}\n\n\t[symbols.add](other)\n\t{\n\t\tif (_ismonthdelta(other))\n\t\t\treturn new MonthDelta(this._months + other._months);\n\t\telse if (_isdate(other))\n\t\t\treturn this._adddate(other, this._months);\n\t\telse if (_isdatetime(other))\n\t\t\treturn this._adddatetime(other, this._months);\n\t\tthrow new ArgumentError(_type(this).fullname() + \" + \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.radd](other)\n\t{\n\t\tif (_isdate(other))\n\t\t\treturn this._adddate(other, this._months);\n\t\telse if (_isdatetime(other))\n\t\t\treturn this._adddatetime(other, this._months);\n\t\tthrow new ArgumentError(_type(this).fullname() + \" + \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.sub](other)\n\t{\n\t\tif (_ismonthdelta(other))\n\t\t\treturn new MonthDelta(this._months - other._months);\n\t\tthrow new ArgumentError(_type(this).fullname() + \" - \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.rsub](other)\n\t{\n\t\tif (_isdate(other))\n\t\t\treturn this._adddate(other, -this._months);\n\t\telse if (_isdatetime(other))\n\t\t\treturn this._adddatetime(other, -this._months);\n\t\tthrow new ArgumentError(_type(this).fullname() + \" - \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.mul](other)\n\t{\n\t\tif (typeof(other) === \"number\" || typeof(other) === \"boolean\")\n\t\t\treturn new MonthDelta(this._months * Math.floor(other));\n\t\tthrow new ArgumentError(_type(this).fullname() + \" * \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.rmul](other)\n\t{\n\t\tif (typeof(other) === \"number\" || typeof(other) === \"boolean\")\n\t\t\treturn new MonthDelta(this._months * Math.floor(other));\n\t\tthrow new ArgumentError(_type(this).fullname() + \" * \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.truediv](other)\n\t{\n\t\tif (_ismonthdelta(other))\n\t\t\treturn this._months / other._months;\n\t\tthrow new ArgumentError(_type(this).fullname() + \" / \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.floordiv](other)\n\t{\n\t\tif (typeof(other) === \"number\" || typeof(other) === \"boolean\")\n\t\t{\n\t\t\tif (other == 0)\n\t\t\t\tthrow new ZeroDivisionError();\n\t\t\tif (_isint(other))\n\t\t\t\treturn new MonthDelta(Math.floor(this._months / other));\n\t\t}\n\t\telse if (_ismonthdelta(other))\n\t\t{\n\t\t\tif (other._months == 0)\n\t\t\t\tthrow new ZeroDivisionError();\n\t\t\treturn Math.floor(this._months / other._months);\n\t\t}\n\t\tthrow new ArgumentError(_type(this).fullname() + \" // \" + _type(other).fullname() + \" not supported\");\n\t}\n\n\t[symbols.getattr](attrname)\n\t{\n\t\tlet self = this;\n\t\tswitch (attrname)\n\t\t{\n\t\t\tcase \"months\":\n\t\t\t\tlet months = function months(){ return self._months; };\n\t\t\t\texpose(months, []);\n\t\t\t\treturn months;\n\t\t\tdefault:\n\t\t\t\tthrow new AttributeError(this, attrname);\n\t\t}\n\t}\n\n\tmonths()\n\t{\n\t\treturn this._months;\n\t}\n};\n\n\nexport const _math = new Module(\n\t\"math\",\n\t\"Math related functions and constants\",\n\t{\n\t\tpi: Math.PI,\n\t\te: Math.E,\n\t\ttau: 2 * Math.PI,\n\t\tcos: Math.cos,\n\t\tsin: Math.sin,\n\t\ttan: Math.tan,\n\t\tsqrt: Math.sqrt,\n\t\tisclose: isclose\n\t}\n);\n\n\nexport const _operator = new Module(\n\t\"operator\",\n\t\"Various operators as functions\",\n\t{\n\t\tattrgetter: attrgettertype\n\t}\n);\n\n\nexport const _ul4 = new Module(\n\t\"ul4\",\n\t\"UL4 - A templating language\",\n\t{\n\t\tAST: _maketype(AST),\n\t\tTextAST: _maketype(TextAST),\n\t\tIndentAST: _maketype(IndentAST),\n\t\tLineEndAST: _maketype(LineEndAST),\n\t\tCodeAST: _maketype(CodeAST),\n\t\tConstAST: _maketype(ConstAST),\n\t\tSeqItemAST: _maketype(SeqItemAST),\n\t\tUnpackSeqItemAST: _maketype(UnpackSeqItemAST),\n\t\tListAST: _maketype(ListAST),\n\t\tListComprehensionAST: _maketype(ListComprehensionAST),\n\t\tSetAST: _maketype(SetAST),\n\t\tSetComprehensionAST: _maketype(SetComprehensionAST),\n\t\tDictItemAST: _maketype(DictItemAST),\n\t\tUnpackDictItemAST: _maketype(UnpackDictItemAST),\n\t\tDictAST: _maketype(DictAST),\n\t\tDictComprehensionAST: _maketype(DictComprehensionAST),\n\t\tGeneratorExpressionAST: _maketype(GeneratorExpressionAST),\n\t\tVarAST: _maketype(VarAST),\n\t\tBlockAST: _maketype(BlockAST),\n\t\tConditionalBlocksAST: _maketype(ConditionalBlocksAST),\n\t\tIfBlockAST: _maketype(IfBlockAST),\n\t\tElIfBlockAST: _maketype(ElIfBlockAST),\n\t\tElseBlockAST: _maketype(ElseBlockAST),\n\t\tForBlockAST: _maketype(ForBlockAST),\n\t\tWhileBlockAST: _maketype(WhileBlockAST),\n\t\tBreakAST: _maketype(BreakAST),\n\t\tContinueAST: _maketype(ContinueAST),\n\t\tAttrAST: _maketype(AttrAST),\n\t\tSliceAST: _maketype(SliceAST),\n\t\tUnaryAST: _maketype(UnaryAST),\n\t\tNotAST: _maketype(NotAST),\n\t\tIfAST: _maketype(IfAST),\n\t\tNegAST: _maketype(NegAST),\n\t\tBitNotAST: _maketype(BitNotAST),\n\t\tPrintAST: _maketype(PrintAST),\n\t\tPrintXAST: _maketype(PrintXAST),\n\t\tReturnAST: _maketype(ReturnAST),\n\t\tBinaryAST: _maketype(BinaryAST),\n\t\tItemAST: _maketype(ItemAST),\n\t\tShiftLeftAST: _maketype(ShiftLeftAST),\n\t\tShiftRightAST: _maketype(ShiftRightAST),\n\t\tBitAndAST: _maketype(BitAndAST),\n\t\tBitXOrAST: _maketype(BitXOrAST),\n\t\tBitOrAST: _maketype(BitOrAST),\n\t\tIsAST: _maketype(IsAST),\n\t\tIsNotAST: _maketype(IsNotAST),\n\t\tEQAST: _maketype(EQAST),\n\t\tNEAST: _maketype(NEAST),\n\t\tLTAST: _maketype(LTAST),\n\t\tLEAST: _maketype(LEAST),\n\t\tGTAST: _maketype(GTAST),\n\t\tGEAST: _maketype(GEAST),\n\t\tContainsAST: _maketype(ContainsAST),\n\t\tNotContainsAST: _maketype(NotContainsAST),\n\t\tAddAST: _maketype(AddAST),\n\t\tSubAST: _maketype(SubAST),\n\t\tMulAST: _maketype(MulAST),\n\t\tFloorDivAST: _maketype(FloorDivAST),\n\t\tTrueDivAST: _maketype(TrueDivAST),\n\t\tOrAST: _maketype(OrAST),\n\t\tAndAST: _maketype(AndAST),\n\t\tModAST: _maketype(ModAST),\n\t\tChangeVarAST: _maketype(ChangeVarAST),\n\t\tSetVarAST: _maketype(SetVarAST),\n\t\tAddVarAST: _maketype(AddVarAST),\n\t\tSubVarAST: _maketype(SubVarAST),\n\t\tMulVarAST: _maketype(MulVarAST),\n\t\tFloorDivVarAST: _maketype(FloorDivVarAST),\n\t\tTrueDivVarAST: _maketype(TrueDivVarAST),\n\t\tModVarAST: _maketype(ModVarAST),\n\t\tShiftLeftVarAST: _maketype(ShiftLeftVarAST),\n\t\tShiftRightVarAST: _maketype(ShiftRightVarAST),\n\t\tBitAndVarAST: _maketype(BitAndVarAST),\n\t\tBitXOrVarAST: _maketype(BitXOrVarAST),\n\t\tBitOrVarAST: _maketype(BitOrVarAST),\n\t\tPositionalArgumentAST: _maketype(PositionalArgumentAST),\n\t\tKeywordArgumentAST: _maketype(KeywordArgumentAST),\n\t\tUnpackListArgumentAST: _maketype(UnpackListArgumentAST),\n\t\tUnpackDictArgumentAST: _maketype(UnpackDictArgumentAST),\n\t\tCallAST: _maketype(CallAST),\n\t\tRenderAST: _maketype(RenderAST),\n\t\tRenderXAST: _maketype(RenderXAST),\n\t\tRenderOrPrintAST: _maketype(RenderOrPrintAST),\n\t\tRenderOrPrintXAST: _maketype(RenderOrPrintXAST),\n\t\tRenderXOrPrintAST: _maketype(RenderXOrPrintAST),\n\t\tRenderXOrPrintXAST: _maketype(RenderXOrPrintXAST),\n\t\tRenderBlockAST: _maketype(RenderBlockAST),\n\t\tRenderBlocksAST: _maketype(RenderBlocksAST),\n\t\tSignatureAST: _maketype(SignatureAST),\n\t\tTemplate: _maketype(Template),\n\t\tTemplateClosure: _maketype(TemplateClosure),\n\t}\n);\n\n\nexport const _ul4on = new Module(\n\t\"ul4on\",\n\t\"Object serialization\",\n\t{\n\t\tloads: _ul4on_loads,\n\t\tdumps: _ul4on_dumps,\n\t\tEncoder: encodertype,\n\t\tDecoder: decodertype\n\t}\n);\n\n\nexport const _color = new Module(\n\t\"color\",\n\t\"Types and functions for handling RGBA colors\",\n\t{\n\t\tColor: colortype,\n\t\tcss: _css,\n\t\tmix: _mix\n\t}\n);\n\n\nexport let builtins = {\n\trepr: _repr,\n\tascii: _ascii,\n\tstr: strtype,\n\tint: inttype,\n\tfloat: floattype,\n\tlist: listtype,\n\tset: settype,\n\tdict: dicttype,\n\tbool: booltype,\n\tlen: _len,\n\ttype: _type,\n\tformat: _format,\n\tany: _any,\n\tall: _all,\n\tzip: _zip,\n\tgetattr: _getattr,\n\thasattr: _hasattr,\n\tdir: _dir,\n\tisundefined: _isundefined,\n\tisdefined: _isdefined,\n\tisnone: _isnone,\n\tisbool: _isbool,\n\tisint: _isint,\n\tisfloat: _isfloat,\n\tisstr: _isstr,\n\tisdate: _isdate,\n\tisdatetime: _isdatetime,\n\tiscolor: _iscolor,\n\tistimedelta: _istimedelta,\n\tismonthdelta: _ismonthdelta,\n\tistemplate: _istemplate,\n\tisfunction: _isfunction,\n\tislist: _islist,\n\tisset: _isset,\n\tisdict: _isdict,\n\tisexception: _isexception,\n\tisinstance: _isinstance,\n\tasjson: _asjson,\n\tfromjson: _fromjson,\n\tasul4on: _asul4on,\n\tfromul4on: _fromul4on,\n\tnow: now,\n\tutcnow: utcnow,\n\ttoday: today,\n\tenumerate: _enumerate,\n\tisfirst: _isfirst,\n\tislast: _islast,\n\tisfirstlast: _isfirstlast,\n\tenumfl: _enumfl,\n\tabs: _abs,\n\tdate: datetype,\n\tdatetime: datetimetype,\n\ttimedelta: timedeltatype,\n\tmonthdelta: monthdeltatype,\n\trgb: _rgb,\n\thls: _hls,\n\thsv: _hsv,\n\txmlescape: _xmlescape,\n\tcsv: _csv,\n\tchr: _chr,\n\tord: _ord,\n\thex: _hex,\n\toct: _oct,\n\tbin: _bin,\n\tmin: _min,\n\tmax: _max,\n\tsum: _sum,\n\tfirst: _first,\n\tlast: _last,\n\tsorted: _sorted,\n\trange: _range,\n\tslice: _slice,\n\turlquote: _urlquote,\n\turlunquote: _urlunquote,\n\treversed: _reversed,\n\trandom: _random,\n\trandrange: _randrange,\n\trandchoice: _randchoice,\n\tround: _round,\n\tfloor: _floor,\n\tceil: _ceil,\n\tmd5: _md5,\n\tscrypt: _scrypt,\n\tul4on: _ul4on,\n\tul4: _ul4,\n\tmath: _math,\n\toperator: _operator,\n\tcolor: _color\n};\n\n\nconst constructors = [\n\t[TextAST, \"text\"],\n\t[IndentAST, \"indent\"],\n\t[LineEndAST, \"lineend\"],\n\t[ConstAST, \"const\"],\n\t[SeqItemAST, \"seqitem\"],\n\t[UnpackSeqItemAST, \"unpackseqitem\"],\n\t[DictItemAST, \"dictitem\"],\n\t[UnpackDictItemAST, \"unpackdictitem\"],\n\t[PositionalArgumentAST, \"posarg\"],\n\t[KeywordArgumentAST, \"keywordarg\"],\n\t[UnpackListArgumentAST, \"unpacklistarg\"],\n\t[UnpackDictArgumentAST, \"unpackdictarg\"],\n\t[ListAST, \"list\"],\n\t[ListComprehensionAST, \"listcomp\"],\n\t[DictAST, \"dict\"],\n\t[DictComprehensionAST, \"dictcomp\"],\n\t[SetAST, \"set\"],\n\t[SetComprehensionAST, \"setcomp\"],\n\t[GeneratorExpressionAST, \"genexpr\"],\n\t[VarAST, \"var\"],\n\t[NotAST, \"not\"],\n\t[NegAST, \"neg\"],\n\t[BitNotAST, \"bitnot\"],\n\t[IfAST, \"if\"],\n\t[ReturnAST, \"return\"],\n\t[PrintAST, \"print\"],\n\t[PrintXAST, \"printx\"],\n\t[ItemAST, \"item\"],\n\t[IsAST, \"is\"],\n\t[IsNotAST, \"isnot\"],\n\t[EQAST, \"eq\"],\n\t[NEAST, \"ne\"],\n\t[LTAST, \"lt\"],\n\t[LEAST, \"le\"],\n\t[GTAST, \"gt\"],\n\t[GEAST, \"ge\"],\n\t[NotContainsAST, \"notcontains\"],\n\t[ContainsAST, \"contains\"],\n\t[AddAST, \"add\"],\n\t[SubAST, \"sub\"],\n\t[MulAST, \"mul\"],\n\t[FloorDivAST, \"floordiv\"],\n\t[TrueDivAST, \"truediv\"],\n\t[ModAST, \"mod\"],\n\t[ShiftLeftAST, \"shiftleft\"],\n\t[ShiftRightAST, \"shiftright\"],\n\t[BitAndAST, \"bitand\"],\n\t[BitXOrAST, \"bitxor\"],\n\t[BitOrAST, \"bitor\"],\n\t[AndAST, \"and\"],\n\t[OrAST, \"or\"],\n\t[SliceAST, \"slice\"],\n\t[AttrAST, \"attr\"],\n\t[CallAST, \"call\"],\n\t[RenderAST, \"render\"],\n\t[RenderXAST, \"renderx\"],\n\t[RenderOrPrintAST, \"render_or_print\"],\n\t[RenderOrPrintXAST, \"render_or_printx\"],\n\t[RenderXOrPrintAST, \"renderx_or_print\"],\n\t[RenderXOrPrintXAST, \"renderx_or_printx\"],\n\t[RenderBlockAST, \"renderblock\"],\n\t[RenderBlocksAST, \"renderblocks\"],\n\t[SetVarAST, \"setvar\"],\n\t[AddVarAST, \"addvar\"],\n\t[SubVarAST, \"subvar\"],\n\t[MulVarAST, \"mulvar\"],\n\t[TrueDivVarAST, \"truedivvar\"],\n\t[FloorDivVarAST, \"floordivvar\"],\n\t[ModVarAST, \"modvar\"],\n\t[ShiftLeftVarAST, \"shiftleftvar\"],\n\t[ShiftRightVarAST, \"shiftrightvar\"],\n\t[BitAndVarAST, \"bitandvar\"],\n\t[BitXOrVarAST, \"bitxorvar\"],\n\t[BitOrVarAST, \"bitorvar\"],\n\t[ForBlockAST, \"forblock\"],\n\t[WhileBlockAST, \"whileblock\"],\n\t[BreakAST, \"break\"],\n\t[ContinueAST, \"continue\"],\n\t[ConditionalBlocksAST, \"condblock\"],\n\t[IfBlockAST, \"ifblock\"],\n\t[ElIfBlockAST, \"elifblock\"],\n\t[ElseBlockAST, \"elseblock\"],\n\t[SignatureAST, \"signature\"],\n\t[Template, \"template\"],\n];\n\nfor (let [constructor, name] of constructors)\n{\n\tconstructor.prototype.type = name;\n\tregister(\"de.livinglogic.ul4.\" + name, constructor);\n}\n\n// Report an exception `exc` originating from an UL4 on the browser console.\nexport function report_exc(exc)\n{\n\tlet original_exc = exc;\n\tif (console && console.error)\n\t{\n\t\tlet errors = [];\n\t\tfor (;;)\n\t\t{\n\t\t\terrors.unshift(exc);\n\t\t\tif (exc.context !== undefined && exc.context !== null)\n\t\t\t\texc = exc.context;\n\t\t\telse\n\t\t\t\tbreak;\n\t\t}\n\n\t\tlet texts = [];\n\t\tlet args = [];\n\n\t\tfunction text(s)\n\t\t{\n\t\t\ttexts.push(s);\n\t\t}\n\n\t\tfunction css(text, style)\n\t\t{\n\t\t\ttexts.push(\"%c\", text, \"%c\");\n\t\t\targs.push(style, \"\");\n\t\t}\n\n\t\tfunction em(s)\n\t\t{\n\t\t\tcss(s, \"font-weight: bold\");\n\t\t}\n\n\t\tfunction focus(s)\n\t\t{\n\t\t\tcss(s, \"border-bottom: 2px solid #b22\");\n\t\t}\n\n\t\tfor (let exc of errors)\n\t\t{\n\t\t\tif (texts.length)\n\t\t\t\ttext(\"\\n\\n\");\n\n\t\t\tif (exc instanceof ul4.LocationError)\n\t\t\t{\n\t\t\t\tlet template = exc.location.template;\n\t\t\t\tif (template.parenttemplate !== null)\n\t\t\t\t\ttext(\"in local template \");\n\t\t\t\telse\n\t\t\t\t\ttext(\"in template \");\n\t\t\t\tlet first = true;\n\t\t\t\twhile (template != null)\n\t\t\t\t{\n\t\t\t\t\tif (first)\n\t\t\t\t\t\tfirst = false;\n\t\t\t\t\telse\n\t\t\t\t\t\ttext(\" in \");\n\t\t\t\t\tem(template.name ? _repr(template.name) : \"(unnamed)\");\n\t\t\t\t\ttemplate = template.parenttemplate;\n\t\t\t\t}\n\t\t\t\ttext(\" offset \");\n\t\t\t\tem(exc.location.pos.start + \"\");\n\t\t\t\ttext(\":\");\n\t\t\t\tem(exc.location.pos.stop + \"\");\n\t\t\t\ttext(\"; line \");\n\t\t\t\tem(exc.location.startline + \"\");\n\t\t\t\ttext(\"; column \");\n\t\t\t\tem(exc.location.startcol + \"\");\n\t\t\t\ttext(\"\\n\");\n\t\t\t\ttext(exc.location.startsourceprefix);\n\t\t\t\tfocus(exc.location.startsource);\n\t\t\t\ttext(exc.location.startsourcesuffix);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tem(exc.constructor.name);\n\t\t\t\ttext(\": \");\n\t\t\t\ttext(exc.message);\n\t\t\t}\n\t\t}\n\t\tconsole.error(texts.join(\"\"), ...args);\n\t}\n};"],"names":["$","safeAdd","x","y","lsw","md5cmn","q","a","b","s","t","bitRotateLeft","num","cnt","md5ff","c","d","md5gg","md5hh","md5ii","binlMD5","len","i","olda","oldb","oldc","oldd","length","binl2rstr","input","output","length32","String","fromCharCode","rstr2binl","undefined","length8","charCodeAt","rstr2hex","hexTab","charAt","str2rstrUTF8","unescape","encodeURIComponent","rawMD5","rstrMD5","rawHMACMD5","k","rstrHMACMD5","key","data","hash","bkey","ipad","opad","concat","md5","string","raw","hexHMACMD5","hexMD5","module","exports","this","version","packageInfo","api_version","symbols","str","Symbol","repr","bool","call","render","contains","eq","ne","lt","le","gt","ge","neg","abs","add","radd","sub","rsub","mul","rmul","truediv","rtruediv","floordiv","rfloordiv","getattr","setattr","getitem","setitem","type","expose","f","signature","options","name","_ul4_name","Object","prototype","toString","_construct","Signature","_toConsumableArray","_ul4_signature","_ul4_needsobject","needsobject","_ul4_needscontext","needscontext","Proto","_symbols$eq","_symbols$ne","_symbols$bool","_symbols$repr","_classCallCheck","_createClass","value","other","constructor","_Proto","_symbols$repr2","_symbols$str","_inherits","_super","_createSuper","_this","paramsByPos","paramsByName","countpos","countposdef","countposkw","countposkwdef","countkw","countkwdef","varpos","varkw","state","_len2","arguments","params","Array","_key","_i","_params","endsWith","defaultValue","pos","param","ParameterError","push","bindArray","args","kwargs","Map","count","finalargs","fill","haveValues","_step","_iterator","_createForOfIteratorHelper","n","done","arg","indexOf","count_nodef","count_def","ArgumentError","err","e","_i3","_Object$entries","entries","_Object$entries$_i","_slicedToArray","argname","argvalue","_repr","has","set","_step2","_iterator2","bindObject","_step3","argObject","_iterator3","_appendParam","buffer","lasttype","sep","includes","_step4","v","_iterator4","join","Type","_symbols$getattr","_symbols$repr3","doc","_constructor","attrname","AttributeError","fullname","dir","attrs","obj","_typeof","attr","realattr","_len3","_key2","apply","hasattr","exc","object","Set","_registry","register","ul4onname","dumps","Encoder","dump","loads","Decoder","EncoderType","_Type","_symbols$call","_super2","instancecheck","encodertype","_symbols$type","_symbols$getattr2","indent","_level","_strings2index","_objects2index","_backrefs","_line","line","_len4","_key3","oldindent","_step5","_iterator5","Math","round","index","_str_repr","replace","_iscolor","r","g","_isdate","year","month","day","_isdatetime","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","_istimedelta","days","seconds","microseconds","_ismonthdelta","months","slice","start","stop","ul4ondump","get","ul4onid","_islist","_step6","_iterator6","item","_ismap","_step7","_iterator7","_step7$value","_isdict","_isset","ValueError","_step8","_iterator8","bind","ul4","DecoderType","_Type2","_symbols$call2","_super3","decodertype","_symbols$type2","_symbols$getattr3","registry","backrefs","persistent_objects","stack","readchar","readcharoreof","readblackchar","re_white","match","read","size","result","substring","backup","readnumber","re_digits","parseFloat","isNaN","_beginfakeloading","oldpos","_endfakeloading","_readescape","escapechar","chars","codepoint","parseInt","reset","load","typecode","delimiter","c2","Color","_r","_g","_b","_a","Date_","Date","setFullYear","setDate","setMonth","setHours","setMinutes","setSeconds","setMilliseconds","TimeDelta","_days","_seconds","_microseconds","MonthDelta","_months","pop","ul4onload","id","loadcontent","self","next","_rvalidchars","_rvalidescape","_rvalidtokens","_rvalidbraces","_map2object","_step9","newobj","_iterator9","_step9$value","TypeError","_bound","upper","_stacktrace","Exception","context","_internal_call","functioncontext","unshift","_function_is_callable","_object_is_callable","_object_is_renderable","_callfunction","_callobject","_callrender","_call","_type","_unpackvar","lvalue","newvalue","iter","_iter","_formatsource","out","_step10","finalout","level","needlf","_iterator10","part","j","_sourceprefix","source","outerstartpos","innerstartpos","maxprefix","preprefix","_sourcesuffix","outerstoppos","innerstoppos","maxsuffix","postsuffix","_lineColFromPos","col","_eq","obj1","obj2","numbertypes","getTime","_isobject","hasOwnProperty","_step11","_iterator11","_step11$value","_step12","_iterator12","_step12$value","_step13","_iterator13","_step13$value","_step14","_iterator14","_ne","_unorderable","operator","_cmp","v1","v2","res","in1only","in2only","_lt","_le","_step15","_iterator15","_step16","_iterator16","_gt","_step17","_iterator17","_step18","_iterator18","_ge","_step19","_iterator19","_step20","_iterator20","_isiter","_step21","keys","_iterator21","_step21$value","_step22","values","_iterator22","iterator","ascii","_step23","squote","dquote","_iterator23","_step24","quote","_iterator24","code","escape","test","_lpad","_map_repr","_step25","_iterator25","_step25$value","_repr_internal","_list_repr","_step26","first","_iterator26","_set_repr","_step27","_iterator27","_object_repr","_date_repr","_date","_datetime_repr","hour","minute","second","ms","_ascii","_str","strtype","_bool","booltype","_int","base","inttype","_float","floattype","_list","listtype","_set","settype","_len","sequence","constructors2types","_maketype","GenericType","nonetype","undefinedtype","_isbool","_isint","_isfloat","_isstr","dicttype","datetimetype","functiontype","_mod","div","floor","mod","_getattr","default_","_hasattr","_dir","_any","iterable","_step28","_iterator28","_all","_step29","_iterator29","_isundefined","_isdefined","_isnone","datetype","colortype","timedeltatype","monthdeltatype","_istemplate","Template","TemplateClosure","_isfunction","_isexception","_isinstance","_str_repeat","rep","_list_repeat","list","_step30","_iterator30","_asjson","_str_json","_step31","_iterator31","_step32","_iterator32","_step33","_iterator33","_step33$value","_fromjson","strip","JSON","parse","Function","_asul4on","_fromul4on","_format_datetime","fmt","lang","_step34","translation","de","ml","ws","wl","xf","Xf","cf","en","fr","es","it","da","sv","nl","pt","cs","sk","pl","hr","sr","ro","hu","tr","ru","zh","ko","ja","inspec","_iterator34","getDay","_format","yearday","_week4format","Format","work","align","sign","alternate","minimumwidth","precision","indexOfLastDot","lastIndexOf","Number","minimumwidthStr","exec","is_integer_type","integer_types","get_integer_type_or_default","is_float_type","float_types","get_float_type_or_default","_format_int","toUpperCase","pad","padBefore","padAfter","translations","toLowerCase","split","format","_format_float","toExponential","toFixed","_rpad","_extend","baseobj","assign","create","_defineProperty","_Type3","NoneType","_super4","_Type4","UndefinedType","_super5","BoolType","_Type5","_symbols$call3","_super6","IntType","_Type6","_symbols$call4","_super7","FloatType","_Type7","_symbols$call5","_super8","StrType","_Type8","_symbols$call6","_super9","_date_str","_datetime_str","_count","find","_find","rfind","_rfind","old","new_","substr","lstrip","rstrip","maxsplit","splice","rsplit","splitlines","startpos","keepends","lookingAtLineEnd","lineendlen","endpos","lower","capitalize","resultlist","startswith","prefix","_step35","_iterator35","singlepre","endswith","suffix","_step36","_iterator36","singlesuf","ListType","_Type9","_symbols$call7","_super10","append","items","_step37","_iterator37","insert","_step38","_iterator38","DictType","_Type10","_symbols$call8","_super11","update","__proto__","_len5","_key25","realresult","_len6","_key26","_step39","_iterator39","_step39$value","_step40","_iterator40","_step40$value","_step41","_iterator41","_step41$value","others","_step42","_iterator42","_step44","_iterator44","_step44$value","_step45","_iterator45","_step43","_iterator43","_step43$value","clear","_i4","_Object$entries2","_Object$entries2$_i","KeyError","SetType","_Type11","_symbols$call9","_super12","_step46","_iterator46","DateType","_Type12","_symbols$call10","_super13","weekday","calendar","firstweekday","mindaysinfirstweek","week","date","mimeformat","isoformat","DateTimeType","_Type13","_symbols$call11","_super14","offset","refDate","weekDayDiff","weekStartYear","weekStartMonth","weekStartDay","weekStart","diff","SubAST","_do","microsecond","leap","_isleap","timestamp","FunctionType","_Type14","_super15","_Type15","_super16","_this2","classmodule","classname","classdoc","StringStream","_output","write","NullStream","XMLEscapeStream","stream","_stream","_xmlescape","Context","vars","globals","builtins","indents","escapes","inheritvars","withindent","replaceoutput","replacevars","getoutput","message","fileName","lineNumber","instance","Error","setPrototypeOf","getPrototypeOf","enumerable","writable","configurable","InternalException","_Exception","_super17","ReturnException","_InternalException","_super18","_this3","BreakException","_InternalException2","_super19","ContinueException","_InternalException3","_super20","SyntaxError","_Exception2","_super21","LValueRequiredError","_SyntaxError","_super22","_Exception3","_super23","_Exception4","_super24","_Exception5","_super25","_Exception6","_super26","NotSubscriptableError","_Exception7","_super27","_this4","ZeroDivisionError","_Exception8","_super28","IndexError","_Exception9","_super29","_this5","_Exception10","_super30","_this6","_Exception11","_super31","_this7","NotImplementedError","_Exception12","_super32","LocationError","_Exception13","_symbols$getattr4","_super33","location","_this8","_templateprefix","template","parenttemplate","templateprefix","startsourceprefix","startsource","startsourcesuffix","text","underline","startline","startcol","_symbols$getattr5","_symbols$setitem","_symbols$str2","_symbols$repr4","AST","_Proto2","_super34","startposstart","startposstop","_this9","stopposstart","stopposstop","_startline","_startcol","_stopline","_stopcol","_lineColFromPos3","_source","_lineColFromPos5","_lineColFromPos7","_lineColFromPos9","stoppos","_ul4onattrs","_decorate_exception","_handle_eval","_eval","_handle_eval_set","_eval_set","_handle_eval_modify","_eval_modify","encoder","_step47","_iterator47","decoder","_step48","_iterator48","TextAST","_AST","_super35","posstart","posstop","_this10","IndentAST","_TextAST","_super36","_step49","_iterator49","LineEndAST","_TextAST2","_super37","CodeAST","_AST2","_super38","ConstAST","_CodeAST","_super39","_this11","ItemArgBase","_CodeAST2","_super40","_handle_eval_list","_eval_list","_handle_eval_dict","_eval_dict","_handle_eval_call","_eval_call","SeqItemAST","_ItemArgBase","_super41","_this12","UnpackSeqItemAST","_ItemArgBase2","_super42","_this13","DictItemAST","_ItemArgBase3","_super43","_this14","UnpackDictItemAST","_ItemArgBase4","_super44","_this15","subitem","_step50","_iterator50","_step51","_iterator51","_step51$value","PositionalArgumentAST","_ItemArgBase5","_super45","_this16","KeywordArgumentAST","_ItemArgBase6","_super46","_this17","UnpackListArgumentAST","_ItemArgBase7","_super47","_this18","UnpackDictArgumentAST","_ItemArgBase8","_super48","_this19","_step52","_iterator52","_subitem2","_step53","_iterator53","_step53$value","ListAST","_CodeAST3","_super49","_this20","_step54","_iterator54","_step55","_iterator55","ListComprehensionAST","_CodeAST4","_super50","varname","container","condition","_this21","localcontext","_step56","_iterator56","_step56$value","SetAST","_CodeAST5","_super51","_this22","_step57","_iterator57","_step58","_iterator58","_symbols$getattr6","SetComprehensionAST","_CodeAST6","_super52","_this23","_get2","_getPrototypeOf","_step59","_iterator59","_step59$value","_symbols$getattr7","DictAST","_CodeAST7","_super53","_this24","_step60","_iterator60","_step61","_iterator61","DictComprehensionAST","_CodeAST8","_super54","_this25","_step62","_iterator62","_step62$value","GeneratorExpressionAST","_CodeAST9","_super55","_this26","_step63","_iterator63","_step63$value","VarAST","_CodeAST10","_super56","_this27","_get","_modify","_ido","UnaryAST","_CodeAST11","_super57","_this28","NegAST","_UnaryAST","_super58","BitNotAST","_UnaryAST2","_super59","NotAST","_UnaryAST3","_super60","IfAST","_CodeAST12","_super61","objif","objcond","objelse","_this29","ReturnAST","_UnaryAST4","_super62","PrintAST","_UnaryAST5","_super63","PrintXAST","_UnaryAST6","_super64","BinaryAST","_CodeAST13","_super65","_this30","ItemAST","_BinaryAST","_super66","orgkey","IsAST","_BinaryAST2","_super67","IsNotAST","_BinaryAST3","_super68","EQAST","_BinaryAST4","_super69","NEAST","_BinaryAST5","_super70","LTAST","_BinaryAST6","_super71","LEAST","_BinaryAST7","_super72","GTAST","_BinaryAST8","_super73","GEAST","_BinaryAST9","_super74","ContainsAST","_BinaryAST10","_super75","NotContainsAST","_BinaryAST11","_super76","AddAST","_BinaryAST12","_super77","_BinaryAST13","_super78","_date_sub","_datetime_sub","swap","year1","yearday1","year2","yearday2","diffdays","hours1","minutes1","seconds1","hours2","minutes2","diffseconds","diffmilliseconds","MulAST","_BinaryAST14","_super79","targetsize","FloorDivAST","_BinaryAST15","_super80","TrueDivAST","_BinaryAST16","_super81","ModAST","_BinaryAST17","_super82","ShiftLeftAST","_BinaryAST18","_super83","ShiftRightAST","_BinaryAST19","_super84","BitAndAST","_BinaryAST20","_super85","BitXOrAST","_BinaryAST21","_super86","BitOrAST","_BinaryAST22","_super87","AndAST","_BinaryAST23","_super88","OrAST","_BinaryAST24","_super89","AttrAST","_CodeAST14","_super90","_this31","oldvalue","CallAST","_CodeAST15","_super91","_this32","_step64","_iterator64","_makeargs","_step65","_iterator65","_this$_makeargs2","RenderAST","_CallAST","_super92","_this33","_step66","_iterator66","_render_object","_renderx_object","oldstream","_real_render_object","_print_object","_printx_object","_dont_print_object","_real_print_object","_this$_makeargs4","_handle_additional_arguments","RenderXAST","_RenderAST","_super93","RenderOrPrintAST","_RenderAST2","_super94","RenderOrPrintXAST","_RenderAST3","_super95","RenderXOrPrintAST","_RenderAST4","_super96","RenderXOrPrintXAST","_RenderAST5","_super97","_symbols$getattr8","RenderBlockAST","_RenderAST6","_super98","_step67","_iterator67","content","closure","_symbols$getattr9","RenderBlocksAST","_RenderAST7","_super99","_step68","_iterator68","_step69","_iterator69","BlockAST","_Proto3","_symbols$type3","_symbols$repr5","_symbols$getattr10","_super100","_this34","of","SliceAST","_CodeAST16","_super101","index1","index2","_this35","ChangeVarAST","_CodeAST17","_super102","_this36","SetVarAST","_ChangeVarAST","_super103","_step70","_iterator70","_step70$value","ModifyVarAST","_ChangeVarAST2","_super104","_step71","_iterator71","_step71$value","_operator","AddVarAST","_ModifyVarAST","_super105","SubVarAST","_ModifyVarAST2","_super106","MulVarAST","_ModifyVarAST3","_super107","TrueDivVarAST","_ModifyVarAST4","_super108","FloorDivVarAST","_ModifyVarAST5","_super109","ModVarAST","_ModifyVarAST6","_super110","ShiftLeftVarAST","_ModifyVarAST7","_super111","ShiftRightVarAST","_ModifyVarAST8","_super112","BitAndVarAST","_ModifyVarAST9","_super113","BitXOrVarAST","_ModifyVarAST10","_super114","BitOrVarAST","_ModifyVarAST11","_super115","_symbols$getattr11","_CodeAST18","_super116","_this37","_step72","_iterator72","_step73","_iterator73","ForBlockAST","_BlockAST","_super117","_this38","_str_varname","_step74","truel","_iterator74","subname","_step75","_iterator75","_step75$value","WhileBlockAST","_BlockAST2","_super118","_this39","BreakAST","_CodeAST19","_super119","ContinueAST","_CodeAST20","_super120","ConditionalBlocksAST","_BlockAST3","_super121","_step76","_iterator76","block","_execute","ConditionalBlockAST","_BlockAST4","_super122","_this40","_strname","IfBlockAST","_ConditionalBlockAST","_super123","ElIfBlockAST","_ConditionalBlockAST2","_super124","ElseBlockAST","_BlockAST5","_super125","_symbols$getattr12","_symbols$render","_symbols$call12","_BlockAST6","_super126","namespace","whitespace","_this41","docposstart","docposstop","_asts","_renderbound","renders","_rendersbound","SignatureAST","_step77","_iterator77","loaded_api_version","_callbound","ul4type","_CodeAST21","_super127","_this42","_step78","_iterator78","_step79","_iterator79","_step80","_iterator80","_symbols$render2","_symbols$call13","_symbols$getattr13","_Proto4","_super128","_this43","tag","endtag","docpos","_rgb","_csv","_chr","_ord","_hex","number","_oct","_bin","_min","minvalue","testvalue","_max","_sum","_first","_last","_sorted","reverse","cmp","sort","keyvalue","s1","s2","_i5","_sort","_range","higher","step","_slice","_urlquote","_urlunquote","decodeURIComponent","_reversed","_random","random","_randrange","width","_randchoice","iscolor","_round","digits","threshold","pow","_floor","_ceil","ceil","_md5","_scrypt","salt","_css","startsWith","parts","color","cssColors","_mix","_step81","weight","sumweights","_iterator81","_enumerate","_isfirst","isfirst","_islast","lastitem","_isfirstlast","_enumfl","_zip","iterables","_step82","iters","_iterator82","_i7","_iters","_abs","_datetime","_timedelta","_monthdelta","_hls","h","l","m1","m2","_v","hue","_hsv","p","defaultvalue","now","utcnow","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","today","Module","_symbols$getattr14","_symbols$repr6","__name__","__doc__","_i8","_Object$entries3","_Object$entries3$_i","_ul4on_loads","_ul4on_dumps","isclose","rel_tol","abs_tol","Infinity","cos","sin","tan","sqrt","AttrGetterType","_Type16","_symbols$call14","_super129","AttrGetter","attrgettertype","_symbols$type4","_symbols$call15","_getone","attrnames","_step83","_iterator83","_step84","_iterator84","_attrgetter","getone","dottedname","_step85","_iterator85","_step86","_iterator86","dottedattrname","end","lastIndex","jan1weekday","ColorType","_Type17","_symbols$call16","_super130","_symbols$type5","_symbols$repr7","_symbols$str3","_Symbol$iterator","_symbols$getattr15","_symbols$getitem","_symbols$eq2","_Proto5","_super131","_this44","light","sat","lum","hls","hlsa","hsv","hsva","withhue","witha","withlight","abslight","rellight","withsat","withlum","abslum","rellum","invert","combine","rc","gc","bc","maxc","max","minc","min","_interpolate","factor","lum_old","invf","_class93","purple","aqua","maroon","red","orange","yellow","olive","fuchsia","white","lime","green","navy","blue","teal","black","silver","gray","magenta","cyan","_Proto6","_symbols$type6","_symbols$repr8","_symbols$str4","_symbols$eq3","_symbols$lt","_symbols$le","_symbols$gt","_symbols$ge","_super132","_this45","TimeDeltaType","_Type18","_symbols$call17","_super133","_Proto7","_symbols$type7","_symbols$repr9","_symbols$str5","_symbols$bool2","_symbols$abs","_symbols$eq4","_symbols$lt2","_symbols$le2","_symbols$gt2","_symbols$ge2","_symbols$neg","_symbols$add","_symbols$radd","_symbols$sub","_symbols$rsub","_symbols$mul","_symbols$rmul","_symbols$truediv","_symbols$floordiv","_symbols$getattr16","_super134","_this46","total_microseconds","total_seconds","minutes","hours","_adddate","_adddatetime","millisecond","myValue","otherValue","hasSeconds","hasMicroseconds","MonthDeltaType","_Type19","_symbols$call18","_super135","_symbols$type8","_symbols$repr10","_symbols$str6","_symbols$bool3","_symbols$abs2","_symbols$eq5","_symbols$lt3","_symbols$le3","_symbols$gt3","_symbols$ge3","_symbols$neg2","_symbols$add2","_symbols$radd2","_symbols$sub2","_symbols$rsub2","_symbols$mul2","_symbols$rmul2","_symbols$truediv2","_symbols$floordiv2","_symbols$getattr17","_Proto8","_super136","_this47","targetmonth","_math","pi","PI","E","tau","attrgetter","_ul4","_ul4on","_color","css","mix","int","float","dict","any","all","zip","isundefined","isdefined","isnone","isbool","isint","isfloat","isstr","isdate","isdatetime","istimedelta","ismonthdelta","istemplate","isfunction","islist","isset","isdict","isexception","isinstance","asjson","fromjson","asul4on","fromul4on","enumerate","islast","isfirstlast","enumfl","datetime","timedelta","monthdelta","rgb","xmlescape","csv","chr","ord","hex","oct","bin","sum","last","sorted","range","urlquote","urlunquote","reversed","randrange","randchoice","scrypt","ul4on","math","_i9","_constructors","_constructors$_i","report_exc","console","error","_console","texts","style","em","focus","errors","_i10","_errors"],"mappings":"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","x_google_ignoreList":[0]}